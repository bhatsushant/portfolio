var kZ=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var SIe=kZ((Xe,Zs)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oV={exports:{}},kS={},aV={exports:{}},Cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=Symbol.for("react.element"),NZ=Symbol.for("react.portal"),GZ=Symbol.for("react.fragment"),zZ=Symbol.for("react.strict_mode"),HZ=Symbol.for("react.profiler"),VZ=Symbol.for("react.provider"),QZ=Symbol.for("react.context"),WZ=Symbol.for("react.forward_ref"),jZ=Symbol.for("react.suspense"),qZ=Symbol.for("react.memo"),XZ=Symbol.for("react.lazy"),LR=Symbol.iterator;function YZ(t){return t===null||typeof t!="object"?null:(t=LR&&t[LR]||t["@@iterator"],typeof t=="function"?t:null)}var lV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uV=Object.assign,cV={};function yp(t,e,n){this.props=t,this.context=e,this.refs=cV,this.updater=n||lV}yp.prototype.isReactComponent={};yp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fV(){}fV.prototype=yp.prototype;function zT(t,e,n){this.props=t,this.context=e,this.refs=cV,this.updater=n||lV}var HT=zT.prototype=new fV;HT.constructor=zT;uV(HT,yp.prototype);HT.isPureReactComponent=!0;var OR=Array.isArray,hV=Object.prototype.hasOwnProperty,VT={current:null},dV={key:!0,ref:!0,__self:!0,__source:!0};function pV(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hV.call(e,i)&&!dV.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:vA,type:t,key:s,ref:o,props:r,_owner:VT.current}}function KZ(t,e){return{$$typeof:vA,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function QT(t){return typeof t=="object"&&t!==null&&t.$$typeof===vA}function JZ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var FR=/\/+/g;function Cw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JZ(""+t.key):e.toString(36)}function Z5(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vA:case NZ:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Cw(o,0):i,OR(r)?(n="",t!=null&&(n=t.replace(FR,"$&/")+"/"),Z5(r,e,n,"",function(u){return u})):r!=null&&(QT(r)&&(r=KZ(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(FR,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",OR(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Cw(s,a);o+=Z5(s,e,n,l,r)}else if(l=YZ(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Cw(s,a++),o+=Z5(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oy(t,e,n){if(t==null)return t;var i=[],r=0;return Z5(t,i,"","",function(s){return e.call(n,s,r++)}),i}function ZZ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ds={current:null},$5={transition:null},$Z={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:$5,ReactCurrentOwner:VT};Cn.Children={map:oy,forEach:function(t,e,n){oy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oy(t,function(){e++}),e},toArray:function(t){return oy(t,function(e){return e})||[]},only:function(t){if(!QT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Cn.Component=yp;Cn.Fragment=GZ;Cn.Profiler=HZ;Cn.PureComponent=zT;Cn.StrictMode=zZ;Cn.Suspense=jZ;Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$Z;Cn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=uV({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=VT.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hV.call(e,l)&&!dV.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:vA,type:t.type,key:r,ref:s,props:i,_owner:o}};Cn.createContext=function(t){return t={$$typeof:QZ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VZ,_context:t},t.Consumer=t};Cn.createElement=pV;Cn.createFactory=function(t){var e=pV.bind(null,t);return e.type=t,e};Cn.createRef=function(){return{current:null}};Cn.forwardRef=function(t){return{$$typeof:WZ,render:t}};Cn.isValidElement=QT;Cn.lazy=function(t){return{$$typeof:XZ,_payload:{_status:-1,_result:t},_init:ZZ}};Cn.memo=function(t,e){return{$$typeof:qZ,type:t,compare:e===void 0?null:e}};Cn.startTransition=function(t){var e=$5.transition;$5.transition={};try{t()}finally{$5.transition=e}};Cn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Cn.useCallback=function(t,e){return ds.current.useCallback(t,e)};Cn.useContext=function(t){return ds.current.useContext(t)};Cn.useDebugValue=function(){};Cn.useDeferredValue=function(t){return ds.current.useDeferredValue(t)};Cn.useEffect=function(t,e){return ds.current.useEffect(t,e)};Cn.useId=function(){return ds.current.useId()};Cn.useImperativeHandle=function(t,e,n){return ds.current.useImperativeHandle(t,e,n)};Cn.useInsertionEffect=function(t,e){return ds.current.useInsertionEffect(t,e)};Cn.useLayoutEffect=function(t,e){return ds.current.useLayoutEffect(t,e)};Cn.useMemo=function(t,e){return ds.current.useMemo(t,e)};Cn.useReducer=function(t,e,n){return ds.current.useReducer(t,e,n)};Cn.useRef=function(t){return ds.current.useRef(t)};Cn.useState=function(t){return ds.current.useState(t)};Cn.useSyncExternalStore=function(t,e,n){return ds.current.useSyncExternalStore(t,e,n)};Cn.useTransition=function(){return ds.current.useTransition()};Cn.version="18.2.0";aV.exports=Cn;var ee=aV.exports;const Jl=gA(ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$=ee,t$=Symbol.for("react.element"),n$=Symbol.for("react.fragment"),i$=Object.prototype.hasOwnProperty,r$=e$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s$={key:!0,ref:!0,__self:!0,__source:!0};function mV(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)i$.call(e,i)&&!s$.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:t$,type:t,key:s,ref:o,props:r,_owner:r$.current}}kS.Fragment=n$;kS.jsx=mV;kS.jsxs=mV;oV.exports=kS;var Ie=oV.exports,h8={},gV={exports:{}},oo={},vV={exports:{}},AV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,W){var V=k.length;k.push(W);e:for(;0<V;){var G=V-1>>>1,z=k[G];if(0<r(z,W))k[G]=W,k[V]=z,V=G;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var W=k[0],V=k.pop();if(V!==W){k[0]=V;e:for(var G=0,z=k.length,ne=z>>>1;G<ne;){var J=2*(G+1)-1,$=k[J],X=J+1,oe=k[X];if(0>r($,V))X<z&&0>r(oe,$)?(k[G]=oe,k[X]=V,G=X):(k[G]=$,k[J]=V,G=J);else if(X<z&&0>r(oe,V))k[G]=oe,k[X]=V,G=X;else break e}}return W}function r(k,W){var V=k.sortIndex-W.sortIndex;return V!==0?V:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,d=!1,p=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var W=n(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=k)i(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function E(k){if(y=!1,S(k),!p)if(n(l)!==null)p=!0,q(w);else{var W=n(u);W!==null&&K(E,W.startTime-k)}}function w(k,W){p=!1,y&&(y=!1,g(I),I=-1),d=!0;var V=h;try{for(S(W),f=n(l);f!==null&&(!(f.expirationTime>W)||k&&!D());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var z=G(f.expirationTime<=W);W=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&i(l),S(W)}else i(l);f=n(l)}if(f!==null)var ne=!0;else{var J=n(u);J!==null&&K(E,J.startTime-W),ne=!1}return ne}finally{f=null,h=V,d=!1}}var C=!1,b=null,I=-1,M=5,R=-1;function D(){return!(t.unstable_now()-R<M)}function F(){if(b!==null){var k=t.unstable_now();R=k;var W=!0;try{W=b(!0,k)}finally{W?O():(C=!1,b=null)}}else C=!1}var O;if(typeof x=="function")O=function(){x(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=F,O=function(){U.postMessage(null)}}else O=function(){A(F,0)};function q(k){b=k,C||(C=!0,O())}function K(k,W){I=A(function(){k(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,q(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var V=h;h=W;try{return k()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=h;h=k;try{return W()}finally{h=V}},t.unstable_scheduleCallback=function(k,W,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,k={id:c++,callback:W,priorityLevel:k,startTime:V,expirationTime:z,sortIndex:-1},V>G?(k.sortIndex=V,e(u,k),n(l)===null&&k===n(u)&&(y?(g(I),I=-1):y=!0,K(E,V-G))):(k.sortIndex=z,e(l,k),p||d||(p=!0,q(w))),k},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(k){var W=h;return function(){var V=h;h=W;try{return k.apply(this,arguments)}finally{h=V}}}})(AV);vV.exports=AV;var o$=vV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yV=ee,to=o$;function nt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xV=new Set,A3={};function ih(t,e){Wd(t,e),Wd(t+"Capture",e)}function Wd(t,e){for(A3[t]=e,t=0;t<e.length;t++)xV.add(e[t])}var Zl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d8=Object.prototype.hasOwnProperty,a$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UR={},kR={};function l$(t){return d8.call(kR,t)?!0:d8.call(UR,t)?!1:a$.test(t)?kR[t]=!0:(UR[t]=!0,!1)}function u$(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c$(t,e,n,i){if(e===null||typeof e>"u"||u$(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ps(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dr[t]=new ps(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dr[e]=new ps(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dr[t]=new ps(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dr[t]=new ps(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dr[t]=new ps(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dr[t]=new ps(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dr[t]=new ps(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dr[t]=new ps(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dr[t]=new ps(t,5,!1,t.toLowerCase(),null,!1,!1)});var WT=/[\-:]([a-z])/g;function jT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WT,jT);Dr[e]=new ps(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WT,jT);Dr[e]=new ps(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WT,jT);Dr[e]=new ps(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dr[t]=new ps(t,1,!1,t.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dr[t]=new ps(t,1,!1,t.toLowerCase(),null,!0,!0)});function qT(t,e,n,i){var r=Dr.hasOwnProperty(e)?Dr[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c$(e,n,r,i)&&(n=null),i||r===null?l$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var lu=yV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ay=Symbol.for("react.element"),ud=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),XT=Symbol.for("react.strict_mode"),p8=Symbol.for("react.profiler"),SV=Symbol.for("react.provider"),EV=Symbol.for("react.context"),YT=Symbol.for("react.forward_ref"),m8=Symbol.for("react.suspense"),g8=Symbol.for("react.suspense_list"),KT=Symbol.for("react.memo"),Vu=Symbol.for("react.lazy"),wV=Symbol.for("react.offscreen"),NR=Symbol.iterator;function l0(t){return t===null||typeof t!="object"?null:(t=NR&&t[NR]||t["@@iterator"],typeof t=="function"?t:null)}var Ci=Object.assign,bw;function D1(t){if(bw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bw=e&&e[1]||""}return`
`+bw+t}var Tw=!1;function Mw(t,e){if(!t||Tw)return"";Tw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?D1(t):""}function f$(t){switch(t.tag){case 5:return D1(t.type);case 16:return D1("Lazy");case 13:return D1("Suspense");case 19:return D1("SuspenseList");case 0:case 2:case 15:return t=Mw(t.type,!1),t;case 11:return t=Mw(t.type.render,!1),t;case 1:return t=Mw(t.type,!0),t;default:return""}}function v8(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cd:return"Fragment";case ud:return"Portal";case p8:return"Profiler";case XT:return"StrictMode";case m8:return"Suspense";case g8:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EV:return(t.displayName||"Context")+".Consumer";case SV:return(t._context.displayName||"Context")+".Provider";case YT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case KT:return e=t.displayName||null,e!==null?e:v8(t.type)||"Memo";case Vu:e=t._payload,t=t._init;try{return v8(t(e))}catch{}}return null}function h$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v8(e);case 8:return e===XT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _V(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d$(t){var e=_V(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ly(t){t._valueTracker||(t._valueTracker=d$(t))}function CV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=_V(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Px(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function A8(t,e){var n=e.checked;return Ci({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function GR(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=mc(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bV(t,e){e=e.checked,e!=null&&qT(t,"checked",e,!1)}function y8(t,e){bV(t,e);var n=mc(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x8(t,e.type,n):e.hasOwnProperty("defaultValue")&&x8(t,e.type,mc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function x8(t,e,n){(e!=="number"||Px(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var L1=Array.isArray;function Id(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+mc(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function S8(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Ci({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(nt(92));if(L1(n)){if(1<n.length)throw Error(nt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mc(n)}}function TV(t,e){var n=mc(e.value),i=mc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function VR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function MV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E8(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?MV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uy,IV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uy=uy||document.createElement("div"),uy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function y3(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var j1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p$=["Webkit","ms","Moz","O"];Object.keys(j1).forEach(function(t){p$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),j1[e]=j1[t]})});function RV(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||j1.hasOwnProperty(t)&&j1[t]?(""+e).trim():e+"px"}function PV(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=RV(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var m$=Ci({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w8(t,e){if(e){if(m$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(nt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(nt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(nt(62))}}function _8(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C8=null;function JT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b8=null,Rd=null,Pd=null;function QR(t){if(t=xA(t)){if(typeof b8!="function")throw Error(nt(280));var e=t.stateNode;e&&(e=VS(e),b8(t.stateNode,t.type,e))}}function BV(t){Rd?Pd?Pd.push(t):Pd=[t]:Rd=t}function DV(){if(Rd){var t=Rd,e=Pd;if(Pd=Rd=null,QR(t),e)for(t=0;t<e.length;t++)QR(e[t])}}function LV(t,e){return t(e)}function OV(){}var Iw=!1;function FV(t,e,n){if(Iw)return t(e,n);Iw=!0;try{return LV(t,e,n)}finally{Iw=!1,(Rd!==null||Pd!==null)&&(OV(),DV())}}function x3(t,e){var n=t.stateNode;if(n===null)return null;var i=VS(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var T8=!1;if(Zl)try{var u0={};Object.defineProperty(u0,"passive",{get:function(){T8=!0}}),window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{T8=!1}function g$(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var q1=!1,Bx=null,Dx=!1,M8=null,v$={onError:function(t){q1=!0,Bx=t}};function A$(t,e,n,i,r,s,o,a,l){q1=!1,Bx=null,g$.apply(v$,arguments)}function y$(t,e,n,i,r,s,o,a,l){if(A$.apply(this,arguments),q1){if(q1){var u=Bx;q1=!1,Bx=null}else throw Error(nt(198));Dx||(Dx=!0,M8=u)}}function rh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WR(t){if(rh(t)!==t)throw Error(nt(188))}function x$(t){var e=t.alternate;if(!e){if(e=rh(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return WR(r),t;if(s===i)return WR(r),e;s=s.sibling}throw Error(nt(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(nt(189))}}if(n.alternate!==i)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function kV(t){return t=x$(t),t!==null?NV(t):null}function NV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NV(t);if(e!==null)return e;t=t.sibling}return null}var GV=to.unstable_scheduleCallback,jR=to.unstable_cancelCallback,S$=to.unstable_shouldYield,E$=to.unstable_requestPaint,Hi=to.unstable_now,w$=to.unstable_getCurrentPriorityLevel,ZT=to.unstable_ImmediatePriority,zV=to.unstable_UserBlockingPriority,Lx=to.unstable_NormalPriority,_$=to.unstable_LowPriority,HV=to.unstable_IdlePriority,NS=null,$a=null;function C$(t){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(NS,t,void 0,(t.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:M$,b$=Math.log,T$=Math.LN2;function M$(t){return t>>>=0,t===0?32:31-(b$(t)/T$|0)|0}var cy=64,fy=4194304;function O1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ox(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=O1(a):(s&=o,s!==0&&(i=O1(s)))}else o=n&~r,o!==0?i=O1(o):s!==0&&(i=O1(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ua(e),r=1<<n,i|=t[n],e&=~r;return i}function I$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R$(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ua(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=I$(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function I8(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VV(){var t=cy;return cy<<=1,!(cy&4194240)&&(cy=64),t}function Rw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function AA(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ua(e),t[e]=n}function P$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ua(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function $T(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ua(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var qn=0;function QV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WV,eM,jV,qV,XV,R8=!1,hy=[],ic=null,rc=null,sc=null,S3=new Map,E3=new Map,qu=[],B$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qR(t,e){switch(t){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":rc=null;break;case"mouseover":case"mouseout":sc=null;break;case"pointerover":case"pointerout":S3.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":E3.delete(e.pointerId)}}function c0(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=xA(e),e!==null&&eM(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function D$(t,e,n,i,r){switch(e){case"focusin":return ic=c0(ic,t,e,n,i,r),!0;case"dragenter":return rc=c0(rc,t,e,n,i,r),!0;case"mouseover":return sc=c0(sc,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return S3.set(s,c0(S3.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,E3.set(s,c0(E3.get(s)||null,t,e,n,i,r)),!0}return!1}function YV(t){var e=_f(t.target);if(e!==null){var n=rh(e);if(n!==null){if(e=n.tag,e===13){if(e=UV(n),e!==null){t.blockedOn=e,XV(t.priority,function(){jV(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ex(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=P8(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);C8=i,n.target.dispatchEvent(i),C8=null}else return e=xA(n),e!==null&&eM(e),t.blockedOn=n,!1;e.shift()}return!0}function XR(t,e,n){ex(t)&&n.delete(e)}function L$(){R8=!1,ic!==null&&ex(ic)&&(ic=null),rc!==null&&ex(rc)&&(rc=null),sc!==null&&ex(sc)&&(sc=null),S3.forEach(XR),E3.forEach(XR)}function f0(t,e){t.blockedOn===e&&(t.blockedOn=null,R8||(R8=!0,to.unstable_scheduleCallback(to.unstable_NormalPriority,L$)))}function w3(t){function e(r){return f0(r,t)}if(0<hy.length){f0(hy[0],t);for(var n=1;n<hy.length;n++){var i=hy[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ic!==null&&f0(ic,t),rc!==null&&f0(rc,t),sc!==null&&f0(sc,t),S3.forEach(e),E3.forEach(e),n=0;n<qu.length;n++)i=qu[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<qu.length&&(n=qu[0],n.blockedOn===null);)YV(n),n.blockedOn===null&&qu.shift()}var Bd=lu.ReactCurrentBatchConfig,Fx=!0;function O$(t,e,n,i){var r=qn,s=Bd.transition;Bd.transition=null;try{qn=1,tM(t,e,n,i)}finally{qn=r,Bd.transition=s}}function F$(t,e,n,i){var r=qn,s=Bd.transition;Bd.transition=null;try{qn=4,tM(t,e,n,i)}finally{qn=r,Bd.transition=s}}function tM(t,e,n,i){if(Fx){var r=P8(t,e,n,i);if(r===null)Gw(t,e,i,Ux,n),qR(t,i);else if(D$(r,t,e,n,i))i.stopPropagation();else if(qR(t,i),e&4&&-1<B$.indexOf(t)){for(;r!==null;){var s=xA(r);if(s!==null&&WV(s),s=P8(t,e,n,i),s===null&&Gw(t,e,i,Ux,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Gw(t,e,i,null,n)}}var Ux=null;function P8(t,e,n,i){if(Ux=null,t=JT(i),t=_f(t),t!==null)if(e=rh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ux=t,null}function KV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w$()){case ZT:return 1;case zV:return 4;case Lx:case _$:return 16;case HV:return 536870912;default:return 16}default:return 16}}var Yu=null,nM=null,tx=null;function JV(){if(tx)return tx;var t,e=nM,n=e.length,i,r="value"in Yu?Yu.value:Yu.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return tx=r.slice(t,1<i?1-i:void 0)}function nx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dy(){return!0}function YR(){return!1}function ao(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dy:YR,this.isPropagationStopped=YR,this}return Ci(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dy)},persist:function(){},isPersistent:dy}),e}var xp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iM=ao(xp),yA=Ci({},xp,{view:0,detail:0}),U$=ao(yA),Pw,Bw,h0,GS=Ci({},yA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==h0&&(h0&&t.type==="mousemove"?(Pw=t.screenX-h0.screenX,Bw=t.screenY-h0.screenY):Bw=Pw=0,h0=t),Pw)},movementY:function(t){return"movementY"in t?t.movementY:Bw}}),KR=ao(GS),k$=Ci({},GS,{dataTransfer:0}),N$=ao(k$),G$=Ci({},yA,{relatedTarget:0}),Dw=ao(G$),z$=Ci({},xp,{animationName:0,elapsedTime:0,pseudoElement:0}),H$=ao(z$),V$=Ci({},xp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q$=ao(V$),W$=Ci({},xp,{data:0}),JR=ao(W$),j$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X$[t])?!!e[t]:!1}function rM(){return Y$}var K$=Ci({},yA,{key:function(t){if(t.key){var e=j$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rM,charCode:function(t){return t.type==="keypress"?nx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J$=ao(K$),Z$=Ci({},GS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZR=ao(Z$),$$=Ci({},yA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rM}),eee=ao($$),tee=Ci({},xp,{propertyName:0,elapsedTime:0,pseudoElement:0}),nee=ao(tee),iee=Ci({},GS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ree=ao(iee),see=[9,13,27,32],sM=Zl&&"CompositionEvent"in window,X1=null;Zl&&"documentMode"in document&&(X1=document.documentMode);var oee=Zl&&"TextEvent"in window&&!X1,ZV=Zl&&(!sM||X1&&8<X1&&11>=X1),$R=String.fromCharCode(32),eP=!1;function $V(t,e){switch(t){case"keyup":return see.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fd=!1;function aee(t,e){switch(t){case"compositionend":return eQ(e);case"keypress":return e.which!==32?null:(eP=!0,$R);case"textInput":return t=e.data,t===$R&&eP?null:t;default:return null}}function lee(t,e){if(fd)return t==="compositionend"||!sM&&$V(t,e)?(t=JV(),tx=nM=Yu=null,fd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZV&&e.locale!=="ko"?null:e.data;default:return null}}var uee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uee[t.type]:e==="textarea"}function tQ(t,e,n,i){BV(i),e=kx(e,"onChange"),0<e.length&&(n=new iM("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Y1=null,_3=null;function cee(t){hQ(t,0)}function zS(t){var e=pd(t);if(CV(e))return t}function fee(t,e){if(t==="change")return e}var nQ=!1;if(Zl){var Lw;if(Zl){var Ow="oninput"in document;if(!Ow){var nP=document.createElement("div");nP.setAttribute("oninput","return;"),Ow=typeof nP.oninput=="function"}Lw=Ow}else Lw=!1;nQ=Lw&&(!document.documentMode||9<document.documentMode)}function iP(){Y1&&(Y1.detachEvent("onpropertychange",iQ),_3=Y1=null)}function iQ(t){if(t.propertyName==="value"&&zS(_3)){var e=[];tQ(e,_3,t,JT(t)),FV(cee,e)}}function hee(t,e,n){t==="focusin"?(iP(),Y1=e,_3=n,Y1.attachEvent("onpropertychange",iQ)):t==="focusout"&&iP()}function dee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zS(_3)}function pee(t,e){if(t==="click")return zS(e)}function mee(t,e){if(t==="input"||t==="change")return zS(e)}function gee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ma=typeof Object.is=="function"?Object.is:gee;function C3(t,e){if(ma(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d8.call(e,r)||!ma(t[r],e[r]))return!1}return!0}function rP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sP(t,e){var n=rP(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rP(n)}}function rQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sQ(){for(var t=window,e=Px();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Px(t.document)}return e}function oM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vee(t){var e=sQ(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rQ(n.ownerDocument.documentElement,n)){if(i!==null&&oM(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=sP(n,s);var o=sP(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Aee=Zl&&"documentMode"in document&&11>=document.documentMode,hd=null,B8=null,K1=null,D8=!1;function oP(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D8||hd==null||hd!==Px(i)||(i=hd,"selectionStart"in i&&oM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),K1&&C3(K1,i)||(K1=i,i=kx(B8,"onSelect"),0<i.length&&(e=new iM("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=hd)))}function py(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dd={animationend:py("Animation","AnimationEnd"),animationiteration:py("Animation","AnimationIteration"),animationstart:py("Animation","AnimationStart"),transitionend:py("Transition","TransitionEnd")},Fw={},oQ={};Zl&&(oQ=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function HS(t){if(Fw[t])return Fw[t];if(!dd[t])return t;var e=dd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oQ)return Fw[t]=e[n];return t}var aQ=HS("animationend"),lQ=HS("animationiteration"),uQ=HS("animationstart"),cQ=HS("transitionend"),fQ=new Map,aP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _c(t,e){fQ.set(t,e),ih(e,[t])}for(var Uw=0;Uw<aP.length;Uw++){var kw=aP[Uw],yee=kw.toLowerCase(),xee=kw[0].toUpperCase()+kw.slice(1);_c(yee,"on"+xee)}_c(aQ,"onAnimationEnd");_c(lQ,"onAnimationIteration");_c(uQ,"onAnimationStart");_c("dblclick","onDoubleClick");_c("focusin","onFocus");_c("focusout","onBlur");_c(cQ,"onTransitionEnd");Wd("onMouseEnter",["mouseout","mouseover"]);Wd("onMouseLeave",["mouseout","mouseover"]);Wd("onPointerEnter",["pointerout","pointerover"]);Wd("onPointerLeave",["pointerout","pointerover"]);ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var F1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),See=new Set("cancel close invalid load scroll toggle".split(" ").concat(F1));function lP(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,y$(i,e,void 0,t),t.currentTarget=null}function hQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;lP(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;lP(r,a,u),s=l}}}if(Dx)throw t=M8,Dx=!1,M8=null,t}function ai(t,e){var n=e[k8];n===void 0&&(n=e[k8]=new Set);var i=t+"__bubble";n.has(i)||(dQ(e,t,2,!1),n.add(i))}function Nw(t,e,n){var i=0;e&&(i|=4),dQ(n,t,i,e)}var my="_reactListening"+Math.random().toString(36).slice(2);function b3(t){if(!t[my]){t[my]=!0,xV.forEach(function(n){n!=="selectionchange"&&(See.has(n)||Nw(n,!1,t),Nw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[my]||(e[my]=!0,Nw("selectionchange",!1,e))}}function dQ(t,e,n,i){switch(KV(e)){case 1:var r=O$;break;case 4:r=F$;break;default:r=tM}n=r.bind(null,e,n,t),r=void 0,!T8||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Gw(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=_f(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}FV(function(){var u=s,c=JT(n),f=[];e:{var h=fQ.get(t);if(h!==void 0){var d=iM,p=t;switch(t){case"keypress":if(nx(n)===0)break e;case"keydown":case"keyup":d=J$;break;case"focusin":p="focus",d=Dw;break;case"focusout":p="blur",d=Dw;break;case"beforeblur":case"afterblur":d=Dw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=KR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=N$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=eee;break;case aQ:case lQ:case uQ:d=H$;break;case cQ:d=nee;break;case"scroll":d=U$;break;case"wheel":d=ree;break;case"copy":case"cut":case"paste":d=Q$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=ZR}var y=(e&4)!==0,A=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,S;x!==null;){S=x;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,g!==null&&(E=x3(x,g),E!=null&&y.push(T3(x,E,S)))),A)break;x=x.return}0<y.length&&(h=new d(h,p,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==C8&&(p=n.relatedTarget||n.fromElement)&&(_f(p)||p[$l]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?_f(p):null,p!==null&&(A=rh(p),p!==A||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(y=KR,E="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=ZR,E="onPointerLeave",g="onPointerEnter",x="pointer"),A=d==null?h:pd(d),S=p==null?h:pd(p),h=new y(E,x+"leave",d,n,c),h.target=A,h.relatedTarget=S,E=null,_f(c)===u&&(y=new y(g,x+"enter",p,n,c),y.target=S,y.relatedTarget=A,E=y),A=E,d&&p)t:{for(y=d,g=p,x=0,S=y;S;S=Rh(S))x++;for(S=0,E=g;E;E=Rh(E))S++;for(;0<x-S;)y=Rh(y),x--;for(;0<S-x;)g=Rh(g),S--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=Rh(y),g=Rh(g)}y=null}else y=null;d!==null&&uP(f,h,d,y,!1),p!==null&&A!==null&&uP(f,A,p,y,!0)}}e:{if(h=u?pd(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var w=fee;else if(tP(h))if(nQ)w=mee;else{w=dee;var C=hee}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=pee);if(w&&(w=w(t,u))){tQ(f,w,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&x8(h,"number",h.value)}switch(C=u?pd(u):window,t){case"focusin":(tP(C)||C.contentEditable==="true")&&(hd=C,B8=u,K1=null);break;case"focusout":K1=B8=hd=null;break;case"mousedown":D8=!0;break;case"contextmenu":case"mouseup":case"dragend":D8=!1,oP(f,n,c);break;case"selectionchange":if(Aee)break;case"keydown":case"keyup":oP(f,n,c)}var b;if(sM)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else fd?$V(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ZV&&n.locale!=="ko"&&(fd||I!=="onCompositionStart"?I==="onCompositionEnd"&&fd&&(b=JV()):(Yu=c,nM="value"in Yu?Yu.value:Yu.textContent,fd=!0)),C=kx(u,I),0<C.length&&(I=new JR(I,t,null,n,c),f.push({event:I,listeners:C}),b?I.data=b:(b=eQ(n),b!==null&&(I.data=b)))),(b=oee?aee(t,n):lee(t,n))&&(u=kx(u,"onBeforeInput"),0<u.length&&(c=new JR("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}hQ(f,e)})}function T3(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kx(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=x3(t,n),s!=null&&i.unshift(T3(t,s,r)),s=x3(t,e),s!=null&&i.push(T3(t,s,r))),t=t.return}return i}function Rh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uP(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=x3(n,s),l!=null&&o.unshift(T3(n,l,a))):r||(l=x3(n,s),l!=null&&o.push(T3(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Eee=/\r\n?/g,wee=/\u0000|\uFFFD/g;function cP(t){return(typeof t=="string"?t:""+t).replace(Eee,`
`).replace(wee,"")}function gy(t,e,n){if(e=cP(e),cP(t)!==e&&n)throw Error(nt(425))}function Nx(){}var L8=null,O8=null;function F8(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U8=typeof setTimeout=="function"?setTimeout:void 0,_ee=typeof clearTimeout=="function"?clearTimeout:void 0,fP=typeof Promise=="function"?Promise:void 0,Cee=typeof queueMicrotask=="function"?queueMicrotask:typeof fP<"u"?function(t){return fP.resolve(null).then(t).catch(bee)}:U8;function bee(t){setTimeout(function(){throw t})}function zw(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),w3(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);w3(e)}function oc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sp=Math.random().toString(36).slice(2),qa="__reactFiber$"+Sp,M3="__reactProps$"+Sp,$l="__reactContainer$"+Sp,k8="__reactEvents$"+Sp,Tee="__reactListeners$"+Sp,Mee="__reactHandles$"+Sp;function _f(t){var e=t[qa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$l]||n[qa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hP(t);t!==null;){if(n=t[qa])return n;t=hP(t)}return e}t=n,n=t.parentNode}return null}function xA(t){return t=t[qa]||t[$l],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function VS(t){return t[M3]||null}var N8=[],md=-1;function Cc(t){return{current:t}}function fi(t){0>md||(t.current=N8[md],N8[md]=null,md--)}function ii(t,e){md++,N8[md]=t.current,t.current=e}var gc={},Xr=Cc(gc),Is=Cc(!1),Qf=gc;function jd(t,e){var n=t.type.contextTypes;if(!n)return gc;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Rs(t){return t=t.childContextTypes,t!=null}function Gx(){fi(Is),fi(Xr)}function dP(t,e,n){if(Xr.current!==gc)throw Error(nt(168));ii(Xr,e),ii(Is,n)}function pQ(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(nt(108,h$(t)||"Unknown",r));return Ci({},n,i)}function zx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gc,Qf=Xr.current,ii(Xr,t),ii(Is,Is.current),!0}function pP(t,e,n){var i=t.stateNode;if(!i)throw Error(nt(169));n?(t=pQ(t,e,Qf),i.__reactInternalMemoizedMergedChildContext=t,fi(Is),fi(Xr),ii(Xr,t)):fi(Is),ii(Is,n)}var Gl=null,QS=!1,Hw=!1;function mQ(t){Gl===null?Gl=[t]:Gl.push(t)}function Iee(t){QS=!0,mQ(t)}function bc(){if(!Hw&&Gl!==null){Hw=!0;var t=0,e=qn;try{var n=Gl;for(qn=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Gl=null,QS=!1}catch(r){throw Gl!==null&&(Gl=Gl.slice(t+1)),GV(ZT,bc),r}finally{qn=e,Hw=!1}}return null}var gd=[],vd=0,Hx=null,Vx=0,bo=[],To=0,Wf=null,Hl=1,Vl="";function hf(t,e){gd[vd++]=Vx,gd[vd++]=Hx,Hx=t,Vx=e}function gQ(t,e,n){bo[To++]=Hl,bo[To++]=Vl,bo[To++]=Wf,Wf=t;var i=Hl;t=Vl;var r=32-ua(i)-1;i&=~(1<<r),n+=1;var s=32-ua(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Hl=1<<32-ua(e)+r|n<<r|i,Vl=s+t}else Hl=1<<s|n<<r|i,Vl=t}function aM(t){t.return!==null&&(hf(t,1),gQ(t,1,0))}function lM(t){for(;t===Hx;)Hx=gd[--vd],gd[vd]=null,Vx=gd[--vd],gd[vd]=null;for(;t===Wf;)Wf=bo[--To],bo[To]=null,Vl=bo[--To],bo[To]=null,Hl=bo[--To],bo[To]=null}var $s=null,Js=null,pi=!1,sa=null;function vQ(t,e){var n=Po(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$s=t,Js=oc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$s=t,Js=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wf!==null?{id:Hl,overflow:Vl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Po(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$s=t,Js=null,!0):!1;default:return!1}}function G8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function z8(t){if(pi){var e=Js;if(e){var n=e;if(!mP(t,e)){if(G8(t))throw Error(nt(418));e=oc(n.nextSibling);var i=$s;e&&mP(t,e)?vQ(i,n):(t.flags=t.flags&-4097|2,pi=!1,$s=t)}}else{if(G8(t))throw Error(nt(418));t.flags=t.flags&-4097|2,pi=!1,$s=t}}}function gP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$s=t}function vy(t){if(t!==$s)return!1;if(!pi)return gP(t),pi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F8(t.type,t.memoizedProps)),e&&(e=Js)){if(G8(t))throw AQ(),Error(nt(418));for(;e;)vQ(t,e),e=oc(e.nextSibling)}if(gP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Js=oc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Js=null}}else Js=$s?oc(t.stateNode.nextSibling):null;return!0}function AQ(){for(var t=Js;t;)t=oc(t.nextSibling)}function qd(){Js=$s=null,pi=!1}function uM(t){sa===null?sa=[t]:sa.push(t)}var Ree=lu.ReactCurrentBatchConfig;function na(t,e){if(t&&t.defaultProps){e=Ci({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qx=Cc(null),Wx=null,Ad=null,cM=null;function fM(){cM=Ad=Wx=null}function hM(t){var e=Qx.current;fi(Qx),t._currentValue=e}function H8(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Dd(t,e){Wx=t,cM=Ad=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ts=!0),t.firstContext=null)}function Uo(t){var e=t._currentValue;if(cM!==t)if(t={context:t,memoizedValue:e,next:null},Ad===null){if(Wx===null)throw Error(nt(308));Ad=t,Wx.dependencies={lanes:0,firstContext:t}}else Ad=Ad.next=t;return e}var Cf=null;function dM(t){Cf===null?Cf=[t]:Cf.push(t)}function yQ(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,dM(e)):(n.next=r.next,r.next=n),e.interleaved=n,eu(t,i)}function eu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qu=!1;function pM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ql(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ac(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Fn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,eu(t,n)}return r=i.interleaved,r===null?(e.next=e,dM(i)):(e.next=r.next,r.next=e),i.interleaved=e,eu(t,n)}function ix(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$T(t,n)}}function vP(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jx(t,e,n,i){var r=t.updateQueue;Qu=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,d=a.eventTime;if((i&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(h=e,d=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(d,f,h):p,h==null)break e;f=Ci({},f,h);break e;case 2:Qu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(c===null&&(l=f),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qf|=o,t.lanes=o,t.memoizedState=f}}function AP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(nt(191,r));r.call(i)}}}var SQ=new yV.Component().refs;function V8(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ci({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var WS={isMounted:function(t){return(t=t._reactInternals)?rh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=fs(),r=uc(t),s=ql(i,r);s.payload=e,n!=null&&(s.callback=n),e=ac(t,s,r),e!==null&&(ca(e,t,r,i),ix(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=fs(),r=uc(t),s=ql(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ac(t,s,r),e!==null&&(ca(e,t,r,i),ix(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fs(),i=uc(t),r=ql(n,i);r.tag=2,e!=null&&(r.callback=e),e=ac(t,r,i),e!==null&&(ca(e,t,i,n),ix(e,t,i))}};function yP(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!C3(n,i)||!C3(r,s):!0}function EQ(t,e,n){var i=!1,r=gc,s=e.contextType;return typeof s=="object"&&s!==null?s=Uo(s):(r=Rs(e)?Qf:Xr.current,i=e.contextTypes,s=(i=i!=null)?jd(t,r):gc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=WS,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function xP(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&WS.enqueueReplaceState(e,e.state,null)}function Q8(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=SQ,pM(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Uo(s):(s=Rs(e)?Qf:Xr.current,r.context=jd(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(V8(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&WS.enqueueReplaceState(r,r.state,null),jx(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function d0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nt(309));var i=n.stateNode}if(!i)throw Error(nt(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===SQ&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(nt(284));if(!n._owner)throw Error(nt(290,t))}return t}function Ay(t,e){throw t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function SP(t){var e=t._init;return e(t._payload)}function wQ(t){function e(g,x){if(t){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=cc(g,x),g.index=0,g.sibling=null,g}function s(g,x,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,x,S,E){return x===null||x.tag!==6?(x=Yw(S,g.mode,E),x.return=g,x):(x=r(x,S),x.return=g,x)}function l(g,x,S,E){var w=S.type;return w===cd?c(g,x,S.props.children,E,S.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vu&&SP(w)===x.type)?(E=r(x,S.props),E.ref=d0(g,x,S),E.return=g,E):(E=ux(S.type,S.key,S.props,null,g.mode,E),E.ref=d0(g,x,S),E.return=g,E)}function u(g,x,S,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Kw(S,g.mode,E),x.return=g,x):(x=r(x,S.children||[]),x.return=g,x)}function c(g,x,S,E,w){return x===null||x.tag!==7?(x=Uf(S,g.mode,E,w),x.return=g,x):(x=r(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yw(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ay:return S=ux(x.type,x.key,x.props,null,g.mode,S),S.ref=d0(g,null,x),S.return=g,S;case ud:return x=Kw(x,g.mode,S),x.return=g,x;case Vu:var E=x._init;return f(g,E(x._payload),S)}if(L1(x)||l0(x))return x=Uf(x,g.mode,S,null),x.return=g,x;Ay(g,x)}return null}function h(g,x,S,E){var w=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return w!==null?null:a(g,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ay:return S.key===w?l(g,x,S,E):null;case ud:return S.key===w?u(g,x,S,E):null;case Vu:return w=S._init,h(g,x,w(S._payload),E)}if(L1(S)||l0(S))return w!==null?null:c(g,x,S,E,null);Ay(g,S)}return null}function d(g,x,S,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(S)||null,a(x,g,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ay:return g=g.get(E.key===null?S:E.key)||null,l(x,g,E,w);case ud:return g=g.get(E.key===null?S:E.key)||null,u(x,g,E,w);case Vu:var C=E._init;return d(g,x,S,C(E._payload),w)}if(L1(E)||l0(E))return g=g.get(S)||null,c(x,g,E,w,null);Ay(x,E)}return null}function p(g,x,S,E){for(var w=null,C=null,b=x,I=x=0,M=null;b!==null&&I<S.length;I++){b.index>I?(M=b,b=null):M=b.sibling;var R=h(g,b,S[I],E);if(R===null){b===null&&(b=M);break}t&&b&&R.alternate===null&&e(g,b),x=s(R,x,I),C===null?w=R:C.sibling=R,C=R,b=M}if(I===S.length)return n(g,b),pi&&hf(g,I),w;if(b===null){for(;I<S.length;I++)b=f(g,S[I],E),b!==null&&(x=s(b,x,I),C===null?w=b:C.sibling=b,C=b);return pi&&hf(g,I),w}for(b=i(g,b);I<S.length;I++)M=d(b,g,I,S[I],E),M!==null&&(t&&M.alternate!==null&&b.delete(M.key===null?I:M.key),x=s(M,x,I),C===null?w=M:C.sibling=M,C=M);return t&&b.forEach(function(D){return e(g,D)}),pi&&hf(g,I),w}function y(g,x,S,E){var w=l0(S);if(typeof w!="function")throw Error(nt(150));if(S=w.call(S),S==null)throw Error(nt(151));for(var C=w=null,b=x,I=x=0,M=null,R=S.next();b!==null&&!R.done;I++,R=S.next()){b.index>I?(M=b,b=null):M=b.sibling;var D=h(g,b,R.value,E);if(D===null){b===null&&(b=M);break}t&&b&&D.alternate===null&&e(g,b),x=s(D,x,I),C===null?w=D:C.sibling=D,C=D,b=M}if(R.done)return n(g,b),pi&&hf(g,I),w;if(b===null){for(;!R.done;I++,R=S.next())R=f(g,R.value,E),R!==null&&(x=s(R,x,I),C===null?w=R:C.sibling=R,C=R);return pi&&hf(g,I),w}for(b=i(g,b);!R.done;I++,R=S.next())R=d(b,g,I,R.value,E),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?I:R.key),x=s(R,x,I),C===null?w=R:C.sibling=R,C=R);return t&&b.forEach(function(F){return e(g,F)}),pi&&hf(g,I),w}function A(g,x,S,E){if(typeof S=="object"&&S!==null&&S.type===cd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ay:e:{for(var w=S.key,C=x;C!==null;){if(C.key===w){if(w=S.type,w===cd){if(C.tag===7){n(g,C.sibling),x=r(C,S.props.children),x.return=g,g=x;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vu&&SP(w)===C.type){n(g,C.sibling),x=r(C,S.props),x.ref=d0(g,C,S),x.return=g,g=x;break e}n(g,C);break}else e(g,C);C=C.sibling}S.type===cd?(x=Uf(S.props.children,g.mode,E,S.key),x.return=g,g=x):(E=ux(S.type,S.key,S.props,null,g.mode,E),E.ref=d0(g,x,S),E.return=g,g=E)}return o(g);case ud:e:{for(C=S.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(g,x.sibling),x=r(x,S.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else e(g,x);x=x.sibling}x=Kw(S,g.mode,E),x.return=g,g=x}return o(g);case Vu:return C=S._init,A(g,x,C(S._payload),E)}if(L1(S))return p(g,x,S,E);if(l0(S))return y(g,x,S,E);Ay(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(g,x.sibling),x=r(x,S),x.return=g,g=x):(n(g,x),x=Yw(S,g.mode,E),x.return=g,g=x),o(g)):n(g,x)}return A}var Xd=wQ(!0),_Q=wQ(!1),SA={},el=Cc(SA),I3=Cc(SA),R3=Cc(SA);function bf(t){if(t===SA)throw Error(nt(174));return t}function mM(t,e){switch(ii(R3,e),ii(I3,t),ii(el,SA),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E8(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=E8(e,t)}fi(el),ii(el,e)}function Yd(){fi(el),fi(I3),fi(R3)}function CQ(t){bf(R3.current);var e=bf(el.current),n=E8(e,t.type);e!==n&&(ii(I3,t),ii(el,n))}function gM(t){I3.current===t&&(fi(el),fi(I3))}var Si=Cc(0);function qx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vw=[];function vM(){for(var t=0;t<Vw.length;t++)Vw[t]._workInProgressVersionPrimary=null;Vw.length=0}var rx=lu.ReactCurrentDispatcher,Qw=lu.ReactCurrentBatchConfig,jf=0,wi=null,tr=null,Ar=null,Xx=!1,J1=!1,P3=0,Pee=0;function Hr(){throw Error(nt(321))}function AM(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ma(t[n],e[n]))return!1;return!0}function yM(t,e,n,i,r,s){if(jf=s,wi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rx.current=t===null||t.memoizedState===null?Oee:Fee,t=n(i,r),J1){s=0;do{if(J1=!1,P3=0,25<=s)throw Error(nt(301));s+=1,Ar=tr=null,e.updateQueue=null,rx.current=Uee,t=n(i,r)}while(J1)}if(rx.current=Yx,e=tr!==null&&tr.next!==null,jf=0,Ar=tr=wi=null,Xx=!1,e)throw Error(nt(300));return t}function xM(){var t=P3!==0;return P3=0,t}function Qa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?wi.memoizedState=Ar=t:Ar=Ar.next=t,Ar}function ko(){if(tr===null){var t=wi.alternate;t=t!==null?t.memoizedState:null}else t=tr.next;var e=Ar===null?wi.memoizedState:Ar.next;if(e!==null)Ar=e,tr=t;else{if(t===null)throw Error(nt(310));tr=t,t={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Ar===null?wi.memoizedState=Ar=t:Ar=Ar.next=t}return Ar}function B3(t,e){return typeof e=="function"?e(t):e}function Ww(t){var e=ko(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var i=tr,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((jf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,wi.lanes|=c,qf|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,ma(i,e.memoizedState)||(Ts=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,wi.lanes|=s,qf|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jw(t){var e=ko(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);ma(s,e.memoizedState)||(Ts=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function bQ(){}function TQ(t,e){var n=wi,i=ko(),r=e(),s=!ma(i.memoizedState,r);if(s&&(i.memoizedState=r,Ts=!0),i=i.queue,SM(RQ.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ar!==null&&Ar.memoizedState.tag&1){if(n.flags|=2048,D3(9,IQ.bind(null,n,i,r,e),void 0,null),Er===null)throw Error(nt(349));jf&30||MQ(n,e,r)}return r}function MQ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wi.updateQueue,e===null?(e={lastEffect:null,stores:null},wi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IQ(t,e,n,i){e.value=n,e.getSnapshot=i,PQ(e)&&BQ(t)}function RQ(t,e,n){return n(function(){PQ(e)&&BQ(t)})}function PQ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ma(t,n)}catch{return!0}}function BQ(t){var e=eu(t,1);e!==null&&ca(e,t,1,-1)}function EP(t){var e=Qa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:B3,lastRenderedState:t},e.queue=t,t=t.dispatch=Lee.bind(null,wi,t),[e.memoizedState,t]}function D3(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=wi.updateQueue,e===null?(e={lastEffect:null,stores:null},wi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function DQ(){return ko().memoizedState}function sx(t,e,n,i){var r=Qa();wi.flags|=t,r.memoizedState=D3(1|e,n,void 0,i===void 0?null:i)}function jS(t,e,n,i){var r=ko();i=i===void 0?null:i;var s=void 0;if(tr!==null){var o=tr.memoizedState;if(s=o.destroy,i!==null&&AM(i,o.deps)){r.memoizedState=D3(e,n,s,i);return}}wi.flags|=t,r.memoizedState=D3(1|e,n,s,i)}function wP(t,e){return sx(8390656,8,t,e)}function SM(t,e){return jS(2048,8,t,e)}function LQ(t,e){return jS(4,2,t,e)}function OQ(t,e){return jS(4,4,t,e)}function FQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UQ(t,e,n){return n=n!=null?n.concat([t]):null,jS(4,4,FQ.bind(null,e,t),n)}function EM(){}function kQ(t,e){var n=ko();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&AM(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function NQ(t,e){var n=ko();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&AM(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function GQ(t,e,n){return jf&21?(ma(n,e)||(n=VV(),wi.lanes|=n,qf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ts=!0),t.memoizedState=n)}function Bee(t,e){var n=qn;qn=n!==0&&4>n?n:4,t(!0);var i=Qw.transition;Qw.transition={};try{t(!1),e()}finally{qn=n,Qw.transition=i}}function zQ(){return ko().memoizedState}function Dee(t,e,n){var i=uc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},HQ(t))VQ(e,n);else if(n=yQ(t,e,n,i),n!==null){var r=fs();ca(n,t,i,r),QQ(n,e,i)}}function Lee(t,e,n){var i=uc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(HQ(t))VQ(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ma(a,o)){var l=e.interleaved;l===null?(r.next=r,dM(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=yQ(t,e,r,i),n!==null&&(r=fs(),ca(n,t,i,r),QQ(n,e,i))}}function HQ(t){var e=t.alternate;return t===wi||e!==null&&e===wi}function VQ(t,e){J1=Xx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QQ(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$T(t,n)}}var Yx={readContext:Uo,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},Oee={readContext:Uo,useCallback:function(t,e){return Qa().memoizedState=[t,e===void 0?null:e],t},useContext:Uo,useEffect:wP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sx(4194308,4,FQ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sx(4194308,4,t,e)},useInsertionEffect:function(t,e){return sx(4,2,t,e)},useMemo:function(t,e){var n=Qa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Qa();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Dee.bind(null,wi,t),[i.memoizedState,t]},useRef:function(t){var e=Qa();return t={current:t},e.memoizedState=t},useState:EP,useDebugValue:EM,useDeferredValue:function(t){return Qa().memoizedState=t},useTransition:function(){var t=EP(!1),e=t[0];return t=Bee.bind(null,t[1]),Qa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=wi,r=Qa();if(pi){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),Er===null)throw Error(nt(349));jf&30||MQ(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,wP(RQ.bind(null,i,s,t),[t]),i.flags|=2048,D3(9,IQ.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Qa(),e=Er.identifierPrefix;if(pi){var n=Vl,i=Hl;n=(i&~(1<<32-ua(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=P3++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pee++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fee={readContext:Uo,useCallback:kQ,useContext:Uo,useEffect:SM,useImperativeHandle:UQ,useInsertionEffect:LQ,useLayoutEffect:OQ,useMemo:NQ,useReducer:Ww,useRef:DQ,useState:function(){return Ww(B3)},useDebugValue:EM,useDeferredValue:function(t){var e=ko();return GQ(e,tr.memoizedState,t)},useTransition:function(){var t=Ww(B3)[0],e=ko().memoizedState;return[t,e]},useMutableSource:bQ,useSyncExternalStore:TQ,useId:zQ,unstable_isNewReconciler:!1},Uee={readContext:Uo,useCallback:kQ,useContext:Uo,useEffect:SM,useImperativeHandle:UQ,useInsertionEffect:LQ,useLayoutEffect:OQ,useMemo:NQ,useReducer:jw,useRef:DQ,useState:function(){return jw(B3)},useDebugValue:EM,useDeferredValue:function(t){var e=ko();return tr===null?e.memoizedState=t:GQ(e,tr.memoizedState,t)},useTransition:function(){var t=jw(B3)[0],e=ko().memoizedState;return[t,e]},useMutableSource:bQ,useSyncExternalStore:TQ,useId:zQ,unstable_isNewReconciler:!1};function Kd(t,e){try{var n="",i=e;do n+=f$(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function qw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function W8(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kee=typeof WeakMap=="function"?WeakMap:Map;function WQ(t,e,n){n=ql(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Jx||(Jx=!0,tb=i),W8(t,e)},n}function jQ(t,e,n){n=ql(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){W8(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){W8(t,e),typeof i!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _P(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new kee;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Zee.bind(null,t,e,n),e.then(t,t))}function CP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bP(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ql(-1,1),e.tag=2,ac(n,e,1))),n.lanes|=1),t)}var Nee=lu.ReactCurrentOwner,Ts=!1;function us(t,e,n,i){e.child=t===null?_Q(e,null,n,i):Xd(e,t.child,n,i)}function TP(t,e,n,i,r){n=n.render;var s=e.ref;return Dd(e,r),i=yM(t,e,n,i,s,r),n=xM(),t!==null&&!Ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,tu(t,e,r)):(pi&&n&&aM(e),e.flags|=1,us(t,e,i,r),e.child)}function MP(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!RM(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qQ(t,e,s,i,r)):(t=ux(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:C3,n(o,i)&&t.ref===e.ref)return tu(t,e,r)}return e.flags|=1,t=cc(s,i),t.ref=e.ref,t.return=e,e.child=t}function qQ(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(C3(s,i)&&t.ref===e.ref)if(Ts=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ts=!0);else return e.lanes=t.lanes,tu(t,e,r)}return j8(t,e,n,i,r)}function XQ(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ii(xd,Ys),Ys|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ii(xd,Ys),Ys|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ii(xd,Ys),Ys|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ii(xd,Ys),Ys|=i;return us(t,e,r,n),e.child}function YQ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function j8(t,e,n,i,r){var s=Rs(n)?Qf:Xr.current;return s=jd(e,s),Dd(e,r),n=yM(t,e,n,i,s,r),i=xM(),t!==null&&!Ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,tu(t,e,r)):(pi&&i&&aM(e),e.flags|=1,us(t,e,n,r),e.child)}function IP(t,e,n,i,r){if(Rs(n)){var s=!0;zx(e)}else s=!1;if(Dd(e,r),e.stateNode===null)ox(t,e),EQ(e,n,i),Q8(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Uo(u):(u=Rs(n)?Qf:Xr.current,u=jd(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&xP(e,o,i,u),Qu=!1;var h=e.memoizedState;o.state=h,jx(e,i,o,r),l=e.memoizedState,a!==i||h!==l||Is.current||Qu?(typeof c=="function"&&(V8(e,n,c,i),l=e.memoizedState),(a=Qu||yP(e,n,a,i,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,xQ(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:na(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Uo(l):(l=Rs(n)?Qf:Xr.current,l=jd(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&xP(e,o,i,l),Qu=!1,h=e.memoizedState,o.state=h,jx(e,i,o,r);var p=e.memoizedState;a!==f||h!==p||Is.current||Qu?(typeof d=="function"&&(V8(e,n,d,i),p=e.memoizedState),(u=Qu||yP(e,n,u,i,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return q8(t,e,n,i,s,r)}function q8(t,e,n,i,r,s){YQ(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&pP(e,n,!1),tu(t,e,s);i=e.stateNode,Nee.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Xd(e,t.child,null,s),e.child=Xd(e,null,a,s)):us(t,e,a,s),e.memoizedState=i.state,r&&pP(e,n,!0),e.child}function KQ(t){var e=t.stateNode;e.pendingContext?dP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dP(t,e.context,!1),mM(t,e.containerInfo)}function RP(t,e,n,i,r){return qd(),uM(r),e.flags|=256,us(t,e,n,i),e.child}var X8={dehydrated:null,treeContext:null,retryLane:0};function Y8(t){return{baseLanes:t,cachePool:null,transitions:null}}function JQ(t,e,n){var i=e.pendingProps,r=Si.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ii(Si,r&1),t===null)return z8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=YS(o,i,0,null),t=Uf(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Y8(n),e.memoizedState=X8,t):wM(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Gee(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=cc(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=cc(a,s):(s=Uf(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Y8(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=X8,i}return s=t.child,t=s.sibling,i=cc(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function wM(t,e){return e=YS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yy(t,e,n,i){return i!==null&&uM(i),Xd(e,t.child,null,n),t=wM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gee(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=qw(Error(nt(422))),yy(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=YS({mode:"visible",children:i.children},r,0,null),s=Uf(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Xd(e,t.child,null,o),e.child.memoizedState=Y8(o),e.memoizedState=X8,s);if(!(e.mode&1))return yy(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(nt(419)),i=qw(s,i,void 0),yy(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ts||a){if(i=Er,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,eu(t,r),ca(i,t,r,-1))}return IM(),i=qw(Error(nt(421))),yy(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=$ee.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Js=oc(r.nextSibling),$s=e,pi=!0,sa=null,t!==null&&(bo[To++]=Hl,bo[To++]=Vl,bo[To++]=Wf,Hl=t.id,Vl=t.overflow,Wf=e),e=wM(e,i.children),e.flags|=4096,e)}function PP(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),H8(t.return,e,n)}function Xw(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function ZQ(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(us(t,e,i.children,n),i=Si.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PP(t,n,e);else if(t.tag===19)PP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ii(Si,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qx(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Xw(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qx(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Xw(e,!0,n,null,s);break;case"together":Xw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ox(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=cc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zee(t,e,n){switch(e.tag){case 3:KQ(e),qd();break;case 5:CQ(e);break;case 1:Rs(e.type)&&zx(e);break;case 4:mM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ii(Qx,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ii(Si,Si.current&1),e.flags|=128,null):n&e.child.childLanes?JQ(t,e,n):(ii(Si,Si.current&1),t=tu(t,e,n),t!==null?t.sibling:null);ii(Si,Si.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return ZQ(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ii(Si,Si.current),i)break;return null;case 22:case 23:return e.lanes=0,XQ(t,e,n)}return tu(t,e,n)}var $Q,K8,eW,tW;$Q=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};K8=function(){};eW=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,bf(el.current);var s=null;switch(n){case"input":r=A8(t,r),i=A8(t,i),s=[];break;case"select":r=Ci({},r,{value:void 0}),i=Ci({},i,{value:void 0}),s=[];break;case"textarea":r=S8(t,r),i=S8(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Nx)}w8(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(A3.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(A3.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ai("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tW=function(t,e,n,i){n!==i&&(e.flags|=4)};function p0(t,e){if(!pi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Hee(t,e,n){var i=e.pendingProps;switch(lM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(e),null;case 1:return Rs(e.type)&&Gx(),Vr(e),null;case 3:return i=e.stateNode,Yd(),fi(Is),fi(Xr),vM(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(vy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sa!==null&&(rb(sa),sa=null))),K8(t,e),Vr(e),null;case 5:gM(e);var r=bf(R3.current);if(n=e.type,t!==null&&e.stateNode!=null)eW(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(nt(166));return Vr(e),null}if(t=bf(el.current),vy(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[qa]=e,i[M3]=s,t=(e.mode&1)!==0,n){case"dialog":ai("cancel",i),ai("close",i);break;case"iframe":case"object":case"embed":ai("load",i);break;case"video":case"audio":for(r=0;r<F1.length;r++)ai(F1[r],i);break;case"source":ai("error",i);break;case"img":case"image":case"link":ai("error",i),ai("load",i);break;case"details":ai("toggle",i);break;case"input":GR(i,s),ai("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ai("invalid",i);break;case"textarea":HR(i,s),ai("invalid",i)}w8(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&gy(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gy(i.textContent,a,t),r=["children",""+a]):A3.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ai("scroll",i)}switch(n){case"input":ly(i),zR(i,s,!0);break;case"textarea":ly(i),VR(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Nx)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=MV(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[qa]=e,t[M3]=i,$Q(t,e,!1,!1),e.stateNode=t;e:{switch(o=_8(n,i),n){case"dialog":ai("cancel",t),ai("close",t),r=i;break;case"iframe":case"object":case"embed":ai("load",t),r=i;break;case"video":case"audio":for(r=0;r<F1.length;r++)ai(F1[r],t);r=i;break;case"source":ai("error",t),r=i;break;case"img":case"image":case"link":ai("error",t),ai("load",t),r=i;break;case"details":ai("toggle",t),r=i;break;case"input":GR(t,i),r=A8(t,i),ai("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ci({},i,{value:void 0}),ai("invalid",t);break;case"textarea":HR(t,i),r=S8(t,i),ai("invalid",t);break;default:r=i}w8(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?PV(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IV(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&y3(t,l):typeof l=="number"&&y3(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(A3.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ai("scroll",t):l!=null&&qT(t,s,l,o))}switch(n){case"input":ly(t),zR(t,i,!1);break;case"textarea":ly(t),VR(t);break;case"option":i.value!=null&&t.setAttribute("value",""+mc(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Id(t,!!i.multiple,s,!1):i.defaultValue!=null&&Id(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Nx)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vr(e),null;case 6:if(t&&e.stateNode!=null)tW(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(nt(166));if(n=bf(R3.current),bf(el.current),vy(e)){if(i=e.stateNode,n=e.memoizedProps,i[qa]=e,(s=i.nodeValue!==n)&&(t=$s,t!==null))switch(t.tag){case 3:gy(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gy(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[qa]=e,e.stateNode=i}return Vr(e),null;case 13:if(fi(Si),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pi&&Js!==null&&e.mode&1&&!(e.flags&128))AQ(),qd(),e.flags|=98560,s=!1;else if(s=vy(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(nt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(nt(317));s[qa]=e}else qd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vr(e),s=!1}else sa!==null&&(rb(sa),sa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Si.current&1?rr===0&&(rr=3):IM())),e.updateQueue!==null&&(e.flags|=4),Vr(e),null);case 4:return Yd(),K8(t,e),t===null&&b3(e.stateNode.containerInfo),Vr(e),null;case 10:return hM(e.type._context),Vr(e),null;case 17:return Rs(e.type)&&Gx(),Vr(e),null;case 19:if(fi(Si),s=e.memoizedState,s===null)return Vr(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)p0(s,!1);else{if(rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qx(t),o!==null){for(e.flags|=128,p0(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ii(Si,Si.current&1|2),e.child}t=t.sibling}s.tail!==null&&Hi()>Jd&&(e.flags|=128,i=!0,p0(s,!1),e.lanes=4194304)}else{if(!i)if(t=qx(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),p0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pi)return Vr(e),null}else 2*Hi()-s.renderingStartTime>Jd&&n!==1073741824&&(e.flags|=128,i=!0,p0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Hi(),e.sibling=null,n=Si.current,ii(Si,i?n&1|2:n&1),e):(Vr(e),null);case 22:case 23:return MM(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ys&1073741824&&(Vr(e),e.subtreeFlags&6&&(e.flags|=8192)):Vr(e),null;case 24:return null;case 25:return null}throw Error(nt(156,e.tag))}function Vee(t,e){switch(lM(e),e.tag){case 1:return Rs(e.type)&&Gx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yd(),fi(Is),fi(Xr),vM(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gM(e),null;case 13:if(fi(Si),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));qd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fi(Si),null;case 4:return Yd(),null;case 10:return hM(e.type._context),null;case 22:case 23:return MM(),null;case 24:return null;default:return null}}var xy=!1,qr=!1,Qee=typeof WeakSet=="function"?WeakSet:Set,St=null;function yd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ri(t,e,i)}else n.current=null}function J8(t,e,n){try{n()}catch(i){Ri(t,e,i)}}var BP=!1;function Wee(t,e){if(L8=Fx,t=sQ(),oM(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++u===r&&(a=o),h===s&&++c===i&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(O8={focusedElem:t,selectionRange:n},Fx=!1,St=e;St!==null;)if(e=St,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,St=t;else for(;St!==null;){e=St;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,A=p.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:na(e.type,y),A);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(E){Ri(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}return p=BP,BP=!1,p}function Z1(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&J8(e,n,s)}r=r.next}while(r!==i)}}function qS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Z8(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nW(t){var e=t.alternate;e!==null&&(t.alternate=null,nW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qa],delete e[M3],delete e[k8],delete e[Tee],delete e[Mee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iW(t){return t.tag===5||t.tag===3||t.tag===4}function DP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $8(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nx));else if(i!==4&&(t=t.child,t!==null))for($8(t,e,n),t=t.sibling;t!==null;)$8(t,e,n),t=t.sibling}function eb(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(eb(t,e,n),t=t.sibling;t!==null;)eb(t,e,n),t=t.sibling}var Pr=null,ra=!1;function bu(t,e,n){for(n=n.child;n!==null;)rW(t,e,n),n=n.sibling}function rW(t,e,n){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(NS,n)}catch{}switch(n.tag){case 5:qr||yd(n,e);case 6:var i=Pr,r=ra;Pr=null,bu(t,e,n),Pr=i,ra=r,Pr!==null&&(ra?(t=Pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(ra?(t=Pr,n=n.stateNode,t.nodeType===8?zw(t.parentNode,n):t.nodeType===1&&zw(t,n),w3(t)):zw(Pr,n.stateNode));break;case 4:i=Pr,r=ra,Pr=n.stateNode.containerInfo,ra=!0,bu(t,e,n),Pr=i,ra=r;break;case 0:case 11:case 14:case 15:if(!qr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&J8(n,e,o),r=r.next}while(r!==i)}bu(t,e,n);break;case 1:if(!qr&&(yd(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ri(n,e,a)}bu(t,e,n);break;case 21:bu(t,e,n);break;case 22:n.mode&1?(qr=(i=qr)||n.memoizedState!==null,bu(t,e,n),qr=i):bu(t,e,n);break;default:bu(t,e,n)}}function LP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qee),e.forEach(function(i){var r=ete.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Yo(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pr=a.stateNode,ra=!1;break e;case 3:Pr=a.stateNode.containerInfo,ra=!0;break e;case 4:Pr=a.stateNode.containerInfo,ra=!0;break e}a=a.return}if(Pr===null)throw Error(nt(160));rW(s,o,r),Pr=null,ra=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ri(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sW(e,t),e=e.sibling}function sW(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yo(e,t),Na(t),i&4){try{Z1(3,t,t.return),qS(3,t)}catch(y){Ri(t,t.return,y)}try{Z1(5,t,t.return)}catch(y){Ri(t,t.return,y)}}break;case 1:Yo(e,t),Na(t),i&512&&n!==null&&yd(n,n.return);break;case 5:if(Yo(e,t),Na(t),i&512&&n!==null&&yd(n,n.return),t.flags&32){var r=t.stateNode;try{y3(r,"")}catch(y){Ri(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bV(r,s),_8(a,o);var u=_8(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?PV(r,f):c==="dangerouslySetInnerHTML"?IV(r,f):c==="children"?y3(r,f):qT(r,c,f,u)}switch(a){case"input":y8(r,s);break;case"textarea":TV(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Id(r,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Id(r,!!s.multiple,s.defaultValue,!0):Id(r,!!s.multiple,s.multiple?[]:"",!1))}r[M3]=s}catch(y){Ri(t,t.return,y)}}break;case 6:if(Yo(e,t),Na(t),i&4){if(t.stateNode===null)throw Error(nt(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Ri(t,t.return,y)}}break;case 3:if(Yo(e,t),Na(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{w3(e.containerInfo)}catch(y){Ri(t,t.return,y)}break;case 4:Yo(e,t),Na(t);break;case 13:Yo(e,t),Na(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(bM=Hi())),i&4&&LP(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(qr=(u=qr)||c,Yo(e,t),qr=u):Yo(e,t),Na(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(St=t,c=t.child;c!==null;){for(f=St=c;St!==null;){switch(h=St,d=h.child,h.tag){case 0:case 11:case 14:case 15:Z1(4,h,h.return);break;case 1:yd(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Ri(i,n,y)}}break;case 5:yd(h,h.return);break;case 22:if(h.memoizedState!==null){FP(f);continue}}d!==null?(d.return=h,St=d):FP(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{r=f.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=RV("display",o))}catch(y){Ri(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ri(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yo(e,t),Na(t),i&4&&LP(t);break;case 21:break;default:Yo(e,t),Na(t)}}function Na(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iW(n)){var i=n;break e}n=n.return}throw Error(nt(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(y3(r,""),i.flags&=-33);var s=DP(t);eb(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=DP(t);$8(t,a,o);break;default:throw Error(nt(161))}}catch(l){Ri(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jee(t,e,n){St=t,oW(t)}function oW(t,e,n){for(var i=(t.mode&1)!==0;St!==null;){var r=St,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||xy;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||qr;a=xy;var u=qr;if(xy=o,(qr=l)&&!u)for(St=r;St!==null;)o=St,l=o.child,o.tag===22&&o.memoizedState!==null?UP(r):l!==null?(l.return=o,St=l):UP(r);for(;s!==null;)St=s,oW(s),s=s.sibling;St=r,xy=a,qr=u}OP(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,St=s):OP(t)}}function OP(t){for(;St!==null;){var e=St;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qr||qS(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!qr)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&AP(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&w3(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}qr||e.flags&512&&Z8(e)}catch(h){Ri(e,e.return,h)}}if(e===t){St=null;break}if(n=e.sibling,n!==null){n.return=e.return,St=n;break}St=e.return}}function FP(t){for(;St!==null;){var e=St;if(e===t){St=null;break}var n=e.sibling;if(n!==null){n.return=e.return,St=n;break}St=e.return}}function UP(t){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qS(4,e)}catch(l){Ri(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ri(e,r,l)}}var s=e.return;try{Z8(e)}catch(l){Ri(e,s,l)}break;case 5:var o=e.return;try{Z8(e)}catch(l){Ri(e,o,l)}}}catch(l){Ri(e,e.return,l)}if(e===t){St=null;break}var a=e.sibling;if(a!==null){a.return=e.return,St=a;break}St=e.return}}var qee=Math.ceil,Kx=lu.ReactCurrentDispatcher,_M=lu.ReactCurrentOwner,Bo=lu.ReactCurrentBatchConfig,Fn=0,Er=null,Xi=null,Br=0,Ys=0,xd=Cc(0),rr=0,L3=null,qf=0,XS=0,CM=0,$1=null,_s=null,bM=0,Jd=1/0,Nl=null,Jx=!1,tb=null,lc=null,Sy=!1,Ku=null,Zx=0,e3=0,nb=null,ax=-1,lx=0;function fs(){return Fn&6?Hi():ax!==-1?ax:ax=Hi()}function uc(t){return t.mode&1?Fn&2&&Br!==0?Br&-Br:Ree.transition!==null?(lx===0&&(lx=VV()),lx):(t=qn,t!==0||(t=window.event,t=t===void 0?16:KV(t.type)),t):1}function ca(t,e,n,i){if(50<e3)throw e3=0,nb=null,Error(nt(185));AA(t,n,i),(!(Fn&2)||t!==Er)&&(t===Er&&(!(Fn&2)&&(XS|=n),rr===4&&Xu(t,Br)),Ps(t,i),n===1&&Fn===0&&!(e.mode&1)&&(Jd=Hi()+500,QS&&bc()))}function Ps(t,e){var n=t.callbackNode;R$(t,e);var i=Ox(t,t===Er?Br:0);if(i===0)n!==null&&jR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&jR(n),e===1)t.tag===0?Iee(kP.bind(null,t)):mQ(kP.bind(null,t)),Cee(function(){!(Fn&6)&&bc()}),n=null;else{switch(QV(i)){case 1:n=ZT;break;case 4:n=zV;break;case 16:n=Lx;break;case 536870912:n=HV;break;default:n=Lx}n=pW(n,aW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aW(t,e){if(ax=-1,lx=0,Fn&6)throw Error(nt(327));var n=t.callbackNode;if(Ld()&&t.callbackNode!==n)return null;var i=Ox(t,t===Er?Br:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=$x(t,i);else{e=i;var r=Fn;Fn|=2;var s=uW();(Er!==t||Br!==e)&&(Nl=null,Jd=Hi()+500,Ff(t,e));do try{Kee();break}catch(a){lW(t,a)}while(1);fM(),Kx.current=s,Fn=r,Xi!==null?e=0:(Er=null,Br=0,e=rr)}if(e!==0){if(e===2&&(r=I8(t),r!==0&&(i=r,e=ib(t,r))),e===1)throw n=L3,Ff(t,0),Xu(t,i),Ps(t,Hi()),n;if(e===6)Xu(t,i);else{if(r=t.current.alternate,!(i&30)&&!Xee(r)&&(e=$x(t,i),e===2&&(s=I8(t),s!==0&&(i=s,e=ib(t,s))),e===1))throw n=L3,Ff(t,0),Xu(t,i),Ps(t,Hi()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(nt(345));case 2:df(t,_s,Nl);break;case 3:if(Xu(t,i),(i&130023424)===i&&(e=bM+500-Hi(),10<e)){if(Ox(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){fs(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=U8(df.bind(null,t,_s,Nl),e);break}df(t,_s,Nl);break;case 4:if(Xu(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-ua(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Hi()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qee(i/1960))-i,10<i){t.timeoutHandle=U8(df.bind(null,t,_s,Nl),i);break}df(t,_s,Nl);break;case 5:df(t,_s,Nl);break;default:throw Error(nt(329))}}}return Ps(t,Hi()),t.callbackNode===n?aW.bind(null,t):null}function ib(t,e){var n=$1;return t.current.memoizedState.isDehydrated&&(Ff(t,e).flags|=256),t=$x(t,e),t!==2&&(e=_s,_s=n,e!==null&&rb(e)),t}function rb(t){_s===null?_s=t:_s.push.apply(_s,t)}function Xee(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ma(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xu(t,e){for(e&=~CM,e&=~XS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ua(e),i=1<<n;t[n]=-1,e&=~i}}function kP(t){if(Fn&6)throw Error(nt(327));Ld();var e=Ox(t,0);if(!(e&1))return Ps(t,Hi()),null;var n=$x(t,e);if(t.tag!==0&&n===2){var i=I8(t);i!==0&&(e=i,n=ib(t,i))}if(n===1)throw n=L3,Ff(t,0),Xu(t,e),Ps(t,Hi()),n;if(n===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,df(t,_s,Nl),Ps(t,Hi()),null}function TM(t,e){var n=Fn;Fn|=1;try{return t(e)}finally{Fn=n,Fn===0&&(Jd=Hi()+500,QS&&bc())}}function Xf(t){Ku!==null&&Ku.tag===0&&!(Fn&6)&&Ld();var e=Fn;Fn|=1;var n=Bo.transition,i=qn;try{if(Bo.transition=null,qn=1,t)return t()}finally{qn=i,Bo.transition=n,Fn=e,!(Fn&6)&&bc()}}function MM(){Ys=xd.current,fi(xd)}function Ff(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_ee(n)),Xi!==null)for(n=Xi.return;n!==null;){var i=n;switch(lM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Gx();break;case 3:Yd(),fi(Is),fi(Xr),vM();break;case 5:gM(i);break;case 4:Yd();break;case 13:fi(Si);break;case 19:fi(Si);break;case 10:hM(i.type._context);break;case 22:case 23:MM()}n=n.return}if(Er=t,Xi=t=cc(t.current,null),Br=Ys=e,rr=0,L3=null,CM=XS=qf=0,_s=$1=null,Cf!==null){for(e=0;e<Cf.length;e++)if(n=Cf[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Cf=null}return t}function lW(t,e){do{var n=Xi;try{if(fM(),rx.current=Yx,Xx){for(var i=wi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xx=!1}if(jf=0,Ar=tr=wi=null,J1=!1,P3=0,_M.current=null,n===null||n.return===null){rr=1,L3=e,Xi=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=CP(o);if(d!==null){d.flags&=-257,bP(d,o,a,s,e),d.mode&1&&_P(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){_P(s,u,e),IM();break e}l=Error(nt(426))}}else if(pi&&a.mode&1){var A=CP(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),bP(A,o,a,s,e),uM(Kd(l,a));break e}}s=l=Kd(l,a),rr!==4&&(rr=2),$1===null?$1=[s]:$1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=WQ(s,l,e);vP(s,g);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(lc===null||!lc.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=jQ(s,a,e);vP(s,E);break e}}s=s.return}while(s!==null)}fW(n)}catch(w){e=w,Xi===n&&n!==null&&(Xi=n=n.return);continue}break}while(1)}function uW(){var t=Kx.current;return Kx.current=Yx,t===null?Yx:t}function IM(){(rr===0||rr===3||rr===2)&&(rr=4),Er===null||!(qf&268435455)&&!(XS&268435455)||Xu(Er,Br)}function $x(t,e){var n=Fn;Fn|=2;var i=uW();(Er!==t||Br!==e)&&(Nl=null,Ff(t,e));do try{Yee();break}catch(r){lW(t,r)}while(1);if(fM(),Fn=n,Kx.current=i,Xi!==null)throw Error(nt(261));return Er=null,Br=0,rr}function Yee(){for(;Xi!==null;)cW(Xi)}function Kee(){for(;Xi!==null&&!S$();)cW(Xi)}function cW(t){var e=dW(t.alternate,t,Ys);t.memoizedProps=t.pendingProps,e===null?fW(t):Xi=e,_M.current=null}function fW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vee(n,e),n!==null){n.flags&=32767,Xi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rr=6,Xi=null;return}}else if(n=Hee(n,e,Ys),n!==null){Xi=n;return}if(e=e.sibling,e!==null){Xi=e;return}Xi=e=t}while(e!==null);rr===0&&(rr=5)}function df(t,e,n){var i=qn,r=Bo.transition;try{Bo.transition=null,qn=1,Jee(t,e,n,i)}finally{Bo.transition=r,qn=i}return null}function Jee(t,e,n,i){do Ld();while(Ku!==null);if(Fn&6)throw Error(nt(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(P$(t,s),t===Er&&(Xi=Er=null,Br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sy||(Sy=!0,pW(Lx,function(){return Ld(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bo.transition,Bo.transition=null;var o=qn;qn=1;var a=Fn;Fn|=4,_M.current=null,Wee(t,n),sW(n,t),vee(O8),Fx=!!L8,O8=L8=null,t.current=n,jee(n),E$(),Fn=a,qn=o,Bo.transition=s}else t.current=n;if(Sy&&(Sy=!1,Ku=t,Zx=r),s=t.pendingLanes,s===0&&(lc=null),C$(n.stateNode),Ps(t,Hi()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Jx)throw Jx=!1,t=tb,tb=null,t;return Zx&1&&t.tag!==0&&Ld(),s=t.pendingLanes,s&1?t===nb?e3++:(e3=0,nb=t):e3=0,bc(),null}function Ld(){if(Ku!==null){var t=QV(Zx),e=Bo.transition,n=qn;try{if(Bo.transition=null,qn=16>t?16:t,Ku===null)var i=!1;else{if(t=Ku,Ku=null,Zx=0,Fn&6)throw Error(nt(331));var r=Fn;for(Fn|=4,St=t.current;St!==null;){var s=St,o=s.child;if(St.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(St=u;St!==null;){var c=St;switch(c.tag){case 0:case 11:case 15:Z1(8,c,s)}var f=c.child;if(f!==null)f.return=c,St=f;else for(;St!==null;){c=St;var h=c.sibling,d=c.return;if(nW(c),c===u){St=null;break}if(h!==null){h.return=d,St=h;break}St=d}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}St=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,St=o;else e:for(;St!==null;){if(s=St,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Z1(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,St=g;break e}St=s.return}}var x=t.current;for(St=x;St!==null;){o=St;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,St=S;else e:for(o=x;St!==null;){if(a=St,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qS(9,a)}}catch(w){Ri(a,a.return,w)}if(a===o){St=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,St=E;break e}St=a.return}}if(Fn=r,bc(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(NS,t)}catch{}i=!0}return i}finally{qn=n,Bo.transition=e}}return!1}function NP(t,e,n){e=Kd(n,e),e=WQ(t,e,1),t=ac(t,e,1),e=fs(),t!==null&&(AA(t,1,e),Ps(t,e))}function Ri(t,e,n){if(t.tag===3)NP(t,t,n);else for(;e!==null;){if(e.tag===3){NP(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(lc===null||!lc.has(i))){t=Kd(n,t),t=jQ(e,t,1),e=ac(e,t,1),t=fs(),e!==null&&(AA(e,1,t),Ps(e,t));break}}e=e.return}}function Zee(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=fs(),t.pingedLanes|=t.suspendedLanes&n,Er===t&&(Br&n)===n&&(rr===4||rr===3&&(Br&130023424)===Br&&500>Hi()-bM?Ff(t,0):CM|=n),Ps(t,e)}function hW(t,e){e===0&&(t.mode&1?(e=fy,fy<<=1,!(fy&130023424)&&(fy=4194304)):e=1);var n=fs();t=eu(t,e),t!==null&&(AA(t,e,n),Ps(t,n))}function $ee(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hW(t,n)}function ete(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(nt(314))}i!==null&&i.delete(e),hW(t,n)}var dW;dW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Is.current)Ts=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ts=!1,zee(t,e,n);Ts=!!(t.flags&131072)}else Ts=!1,pi&&e.flags&1048576&&gQ(e,Vx,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ox(t,e),t=e.pendingProps;var r=jd(e,Xr.current);Dd(e,n),r=yM(null,e,i,t,r,n);var s=xM();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rs(i)?(s=!0,zx(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,pM(e),r.updater=WS,e.stateNode=r,r._reactInternals=e,Q8(e,i,t,n),e=q8(null,e,i,!0,s,n)):(e.tag=0,pi&&s&&aM(e),us(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ox(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=nte(i),t=na(i,t),r){case 0:e=j8(null,e,i,t,n);break e;case 1:e=IP(null,e,i,t,n);break e;case 11:e=TP(null,e,i,t,n);break e;case 14:e=MP(null,e,i,na(i.type,t),n);break e}throw Error(nt(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),j8(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),IP(t,e,i,r,n);case 3:e:{if(KQ(e),t===null)throw Error(nt(387));i=e.pendingProps,s=e.memoizedState,r=s.element,xQ(t,e),jx(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Kd(Error(nt(423)),e),e=RP(t,e,i,n,r);break e}else if(i!==r){r=Kd(Error(nt(424)),e),e=RP(t,e,i,n,r);break e}else for(Js=oc(e.stateNode.containerInfo.firstChild),$s=e,pi=!0,sa=null,n=_Q(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qd(),i===r){e=tu(t,e,n);break e}us(t,e,i,n)}e=e.child}return e;case 5:return CQ(e),t===null&&z8(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,F8(i,r)?o=null:s!==null&&F8(i,s)&&(e.flags|=32),YQ(t,e),us(t,e,o,n),e.child;case 6:return t===null&&z8(e),null;case 13:return JQ(t,e,n);case 4:return mM(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Xd(e,null,i,n):us(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),TP(t,e,i,r,n);case 7:return us(t,e,e.pendingProps,n),e.child;case 8:return us(t,e,e.pendingProps.children,n),e.child;case 12:return us(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ii(Qx,i._currentValue),i._currentValue=o,s!==null)if(ma(s.value,o)){if(s.children===r.children&&!Is.current){e=tu(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ql(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),H8(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(nt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),H8(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}us(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Dd(e,n),r=Uo(r),i=i(r),e.flags|=1,us(t,e,i,n),e.child;case 14:return i=e.type,r=na(i,e.pendingProps),r=na(i.type,r),MP(t,e,i,r,n);case 15:return qQ(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),ox(t,e),e.tag=1,Rs(i)?(t=!0,zx(e)):t=!1,Dd(e,n),EQ(e,i,r),Q8(e,i,r,n),q8(null,e,i,!0,t,n);case 19:return ZQ(t,e,n);case 22:return XQ(t,e,n)}throw Error(nt(156,e.tag))};function pW(t,e){return GV(t,e)}function tte(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(t,e,n,i){return new tte(t,e,n,i)}function RM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nte(t){if(typeof t=="function")return RM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===YT)return 11;if(t===KT)return 14}return 2}function cc(t,e){var n=t.alternate;return n===null?(n=Po(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ux(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")RM(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cd:return Uf(n.children,r,s,e);case XT:o=8,r|=8;break;case p8:return t=Po(12,n,e,r|2),t.elementType=p8,t.lanes=s,t;case m8:return t=Po(13,n,e,r),t.elementType=m8,t.lanes=s,t;case g8:return t=Po(19,n,e,r),t.elementType=g8,t.lanes=s,t;case wV:return YS(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SV:o=10;break e;case EV:o=9;break e;case YT:o=11;break e;case KT:o=14;break e;case Vu:o=16,i=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return e=Po(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Uf(t,e,n,i){return t=Po(7,t,i,e),t.lanes=n,t}function YS(t,e,n,i){return t=Po(22,t,i,e),t.elementType=wV,t.lanes=n,t.stateNode={isHidden:!1},t}function Yw(t,e,n){return t=Po(6,t,null,e),t.lanes=n,t}function Kw(t,e,n){return e=Po(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ite(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rw(0),this.expirationTimes=Rw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rw(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function PM(t,e,n,i,r,s,o,a,l){return t=new ite(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Po(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pM(s),t}function rte(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ud,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function mW(t){if(!t)return gc;t=t._reactInternals;e:{if(rh(t)!==t||t.tag!==1)throw Error(nt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(nt(171))}if(t.tag===1){var n=t.type;if(Rs(n))return pQ(t,n,e)}return e}function gW(t,e,n,i,r,s,o,a,l){return t=PM(n,i,!0,t,r,s,o,a,l),t.context=mW(null),n=t.current,i=fs(),r=uc(n),s=ql(i,r),s.callback=e??null,ac(n,s,r),t.current.lanes=r,AA(t,r,i),Ps(t,i),t}function KS(t,e,n,i){var r=e.current,s=fs(),o=uc(r);return n=mW(n),e.context===null?e.context=n:e.pendingContext=n,e=ql(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ac(r,e,o),t!==null&&(ca(t,r,o,s),ix(t,r,o)),o}function eS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function BM(t,e){GP(t,e),(t=t.alternate)&&GP(t,e)}function ste(){return null}var vW=typeof reportError=="function"?reportError:function(t){console.error(t)};function DM(t){this._internalRoot=t}JS.prototype.render=DM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));KS(t,e,null,null)};JS.prototype.unmount=DM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xf(function(){KS(null,t,null,null)}),e[$l]=null}};function JS(t){this._internalRoot=t}JS.prototype.unstable_scheduleHydration=function(t){if(t){var e=qV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qu.length&&e!==0&&e<qu[n].priority;n++);qu.splice(n,0,t),n===0&&YV(t)}};function LM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ZS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zP(){}function ote(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=eS(o);s.call(u)}}var o=gW(e,i,t,0,null,!1,!1,"",zP);return t._reactRootContainer=o,t[$l]=o.current,b3(t.nodeType===8?t.parentNode:t),Xf(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=eS(l);a.call(u)}}var l=PM(t,0,!1,null,null,!1,!1,"",zP);return t._reactRootContainer=l,t[$l]=l.current,b3(t.nodeType===8?t.parentNode:t),Xf(function(){KS(e,l,n,i)}),l}function $S(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=eS(o);a.call(l)}}KS(e,o,t,r)}else o=ote(n,e,t,r,i);return eS(o)}WV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=O1(e.pendingLanes);n!==0&&($T(e,n|1),Ps(e,Hi()),!(Fn&6)&&(Jd=Hi()+500,bc()))}break;case 13:Xf(function(){var i=eu(t,1);if(i!==null){var r=fs();ca(i,t,1,r)}}),BM(t,1)}};eM=function(t){if(t.tag===13){var e=eu(t,134217728);if(e!==null){var n=fs();ca(e,t,134217728,n)}BM(t,134217728)}};jV=function(t){if(t.tag===13){var e=uc(t),n=eu(t,e);if(n!==null){var i=fs();ca(n,t,e,i)}BM(t,e)}};qV=function(){return qn};XV=function(t,e){var n=qn;try{return qn=t,e()}finally{qn=n}};b8=function(t,e,n){switch(e){case"input":if(y8(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=VS(i);if(!r)throw Error(nt(90));CV(i),y8(i,r)}}}break;case"textarea":TV(t,n);break;case"select":e=n.value,e!=null&&Id(t,!!n.multiple,e,!1)}};LV=TM;OV=Xf;var ate={usingClientEntryPoint:!1,Events:[xA,pd,VS,BV,DV,TM]},m0={findFiberByHostInstance:_f,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lte={bundleType:m0.bundleType,version:m0.version,rendererPackageName:m0.rendererPackageName,rendererConfig:m0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kV(t),t===null?null:t.stateNode},findFiberByHostInstance:m0.findFiberByHostInstance||ste,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ey.isDisabled&&Ey.supportsFiber)try{NS=Ey.inject(lte),$a=Ey}catch{}}oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ate;oo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LM(e))throw Error(nt(200));return rte(t,e,null,n)};oo.createRoot=function(t,e){if(!LM(t))throw Error(nt(299));var n=!1,i="",r=vW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=PM(t,1,!1,null,null,n,!1,i,r),t[$l]=e.current,b3(t.nodeType===8?t.parentNode:t),new DM(e)};oo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=kV(e),t=t===null?null:t.stateNode,t};oo.flushSync=function(t){return Xf(t)};oo.hydrate=function(t,e,n){if(!ZS(e))throw Error(nt(200));return $S(null,t,e,!0,n)};oo.hydrateRoot=function(t,e,n){if(!LM(t))throw Error(nt(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=vW;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gW(e,null,t,1,n??null,r,!1,s,o),t[$l]=e.current,b3(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new JS(e)};oo.render=function(t,e,n){if(!ZS(e))throw Error(nt(200));return $S(null,t,e,!1,n)};oo.unmountComponentAtNode=function(t){if(!ZS(t))throw Error(nt(40));return t._reactRootContainer?(Xf(function(){$S(null,null,t,!1,function(){t._reactRootContainer=null,t[$l]=null})}),!0):!1};oo.unstable_batchedUpdates=TM;oo.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ZS(n))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return $S(t,e,n,!1,i)};oo.version="18.2.0-next-9e3b772b8-20220608";function AW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AW)}catch(t){console.error(t)}}AW(),gV.exports=oo;var yW=gV.exports,HP=yW;h8.createRoot=HP.createRoot,h8.hydrateRoot=HP.hydrateRoot;var xW={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r=typeof Symbol=="function"&&Symbol.for,OM=_r?Symbol.for("react.element"):60103,FM=_r?Symbol.for("react.portal"):60106,e6=_r?Symbol.for("react.fragment"):60107,t6=_r?Symbol.for("react.strict_mode"):60108,n6=_r?Symbol.for("react.profiler"):60114,i6=_r?Symbol.for("react.provider"):60109,r6=_r?Symbol.for("react.context"):60110,UM=_r?Symbol.for("react.async_mode"):60111,s6=_r?Symbol.for("react.concurrent_mode"):60111,o6=_r?Symbol.for("react.forward_ref"):60112,a6=_r?Symbol.for("react.suspense"):60113,ute=_r?Symbol.for("react.suspense_list"):60120,l6=_r?Symbol.for("react.memo"):60115,u6=_r?Symbol.for("react.lazy"):60116,cte=_r?Symbol.for("react.block"):60121,fte=_r?Symbol.for("react.fundamental"):60117,hte=_r?Symbol.for("react.responder"):60118,dte=_r?Symbol.for("react.scope"):60119;function lo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OM:switch(t=t.type,t){case UM:case s6:case e6:case n6:case t6:case a6:return t;default:switch(t=t&&t.$$typeof,t){case r6:case o6:case u6:case l6:case i6:return t;default:return e}}case FM:return e}}}function SW(t){return lo(t)===s6}Xn.AsyncMode=UM;Xn.ConcurrentMode=s6;Xn.ContextConsumer=r6;Xn.ContextProvider=i6;Xn.Element=OM;Xn.ForwardRef=o6;Xn.Fragment=e6;Xn.Lazy=u6;Xn.Memo=l6;Xn.Portal=FM;Xn.Profiler=n6;Xn.StrictMode=t6;Xn.Suspense=a6;Xn.isAsyncMode=function(t){return SW(t)||lo(t)===UM};Xn.isConcurrentMode=SW;Xn.isContextConsumer=function(t){return lo(t)===r6};Xn.isContextProvider=function(t){return lo(t)===i6};Xn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OM};Xn.isForwardRef=function(t){return lo(t)===o6};Xn.isFragment=function(t){return lo(t)===e6};Xn.isLazy=function(t){return lo(t)===u6};Xn.isMemo=function(t){return lo(t)===l6};Xn.isPortal=function(t){return lo(t)===FM};Xn.isProfiler=function(t){return lo(t)===n6};Xn.isStrictMode=function(t){return lo(t)===t6};Xn.isSuspense=function(t){return lo(t)===a6};Xn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===e6||t===s6||t===n6||t===t6||t===a6||t===ute||typeof t=="object"&&t!==null&&(t.$$typeof===u6||t.$$typeof===l6||t.$$typeof===i6||t.$$typeof===r6||t.$$typeof===o6||t.$$typeof===fte||t.$$typeof===hte||t.$$typeof===dte||t.$$typeof===cte)};Xn.typeOf=lo;xW.exports=Xn;var kM=xW.exports;function pte(t){function e(z,ne,J,$,X){for(var oe=0,ie=0,_e=0,Re=0,pe,Y,me=0,ge=0,de,Se=de=pe=0,Qe=0,xe=0,ke=0,Ne=0,De=J.length,tt=De-1,te,H="",fe="",je="",Ue="",Pe;Qe<De;){if(Y=J.charCodeAt(Qe),Qe===tt&&ie+Re+_e+oe!==0&&(ie!==0&&(Y=ie===47?10:47),Re=_e=oe=0,De++,tt++),ie+Re+_e+oe===0){if(Qe===tt&&(0<xe&&(H=H.replace(h,"")),0<H.trim().length)){switch(Y){case 32:case 9:case 59:case 13:case 10:break;default:H+=J.charAt(Qe)}Y=59}switch(Y){case 123:for(H=H.trim(),pe=H.charCodeAt(0),de=1,Ne=++Qe;Qe<De;){switch(Y=J.charCodeAt(Qe)){case 123:de++;break;case 125:de--;break;case 47:switch(Y=J.charCodeAt(Qe+1)){case 42:case 47:e:{for(Se=Qe+1;Se<tt;++Se)switch(J.charCodeAt(Se)){case 47:if(Y===42&&J.charCodeAt(Se-1)===42&&Qe+2!==Se){Qe=Se+1;break e}break;case 10:if(Y===47){Qe=Se+1;break e}}Qe=Se}}break;case 91:Y++;case 40:Y++;case 34:case 39:for(;Qe++<tt&&J.charCodeAt(Qe)!==Y;);}if(de===0)break;Qe++}switch(de=J.substring(Ne,Qe),pe===0&&(pe=(H=H.replace(f,"").trim()).charCodeAt(0)),pe){case 64:switch(0<xe&&(H=H.replace(h,"")),Y=H.charCodeAt(1),Y){case 100:case 109:case 115:case 45:xe=ne;break;default:xe=q}if(de=e(ne,xe,de,Y,X+1),Ne=de.length,0<k&&(xe=n(q,H,ke),Pe=a(3,de,xe,ne,O,F,Ne,Y,X,$),H=xe.join(""),Pe!==void 0&&(Ne=(de=Pe.trim()).length)===0&&(Y=0,de="")),0<Ne)switch(Y){case 115:H=H.replace(C,o);case 100:case 109:case 45:de=H+"{"+de+"}";break;case 107:H=H.replace(x,"$1 $2"),de=H+"{"+de+"}",de=U===1||U===2&&s("@"+de,3)?"@-webkit-"+de+"@"+de:"@"+de;break;default:de=H+de,$===112&&(de=(fe+=de,""))}else de="";break;default:de=e(ne,n(ne,H,ke),de,$,X+1)}je+=de,de=ke=xe=Se=pe=0,H="",Y=J.charCodeAt(++Qe);break;case 125:case 59:if(H=(0<xe?H.replace(h,""):H).trim(),1<(Ne=H.length))switch(Se===0&&(pe=H.charCodeAt(0),pe===45||96<pe&&123>pe)&&(Ne=(H=H.replace(" ",":")).length),0<k&&(Pe=a(1,H,ne,z,O,F,fe.length,$,X,$))!==void 0&&(Ne=(H=Pe.trim()).length)===0&&(H="\0\0"),pe=H.charCodeAt(0),Y=H.charCodeAt(1),pe){case 0:break;case 64:if(Y===105||Y===99){Ue+=H+J.charAt(Qe);break}default:H.charCodeAt(Ne-1)!==58&&(fe+=r(H,pe,Y,H.charCodeAt(2)))}ke=xe=Se=pe=0,H="",Y=J.charCodeAt(++Qe)}}switch(Y){case 13:case 10:ie===47?ie=0:1+pe===0&&$!==107&&0<H.length&&(xe=1,H+="\0"),0<k*V&&a(0,H,ne,z,O,F,fe.length,$,X,$),F=1,O++;break;case 59:case 125:if(ie+Re+_e+oe===0){F++;break}default:switch(F++,te=J.charAt(Qe),Y){case 9:case 32:if(Re+oe+ie===0)switch(me){case 44:case 58:case 9:case 32:te="";break;default:Y!==32&&(te=" ")}break;case 0:te="\\0";break;case 12:te="\\f";break;case 11:te="\\v";break;case 38:Re+ie+oe===0&&(xe=ke=1,te="\f"+te);break;case 108:if(Re+ie+oe+L===0&&0<Se)switch(Qe-Se){case 2:me===112&&J.charCodeAt(Qe-3)===58&&(L=me);case 8:ge===111&&(L=ge)}break;case 58:Re+ie+oe===0&&(Se=Qe);break;case 44:ie+_e+Re+oe===0&&(xe=1,te+="\r");break;case 34:case 39:ie===0&&(Re=Re===Y?0:Re===0?Y:Re);break;case 91:Re+ie+_e===0&&oe++;break;case 93:Re+ie+_e===0&&oe--;break;case 41:Re+ie+oe===0&&_e--;break;case 40:if(Re+ie+oe===0){if(pe===0)switch(2*me+3*ge){case 533:break;default:pe=1}_e++}break;case 64:ie+_e+Re+oe+Se+de===0&&(de=1);break;case 42:case 47:if(!(0<Re+oe+_e))switch(ie){case 0:switch(2*Y+3*J.charCodeAt(Qe+1)){case 235:ie=47;break;case 220:Ne=Qe,ie=42}break;case 42:Y===47&&me===42&&Ne+2!==Qe&&(J.charCodeAt(Ne+2)===33&&(fe+=J.substring(Ne,Qe+1)),te="",ie=0)}}ie===0&&(H+=te)}ge=me,me=Y,Qe++}if(Ne=fe.length,0<Ne){if(xe=ne,0<k&&(Pe=a(2,fe,xe,z,O,F,Ne,$,X,$),Pe!==void 0&&(fe=Pe).length===0))return Ue+fe+je;if(fe=xe.join(",")+"{"+fe+"}",U*L!==0){switch(U!==2||s(fe,2)||(L=0),L){case 111:fe=fe.replace(E,":-moz-$1")+fe;break;case 112:fe=fe.replace(S,"::-webkit-input-$1")+fe.replace(S,"::-moz-$1")+fe.replace(S,":-ms-input-$1")+fe}L=0}}return Ue+fe+je}function n(z,ne,J){var $=ne.trim().split(A);ne=$;var X=$.length,oe=z.length;switch(oe){case 0:case 1:var ie=0;for(z=oe===0?"":z[0]+" ";ie<X;++ie)ne[ie]=i(z,ne[ie],J).trim();break;default:var _e=ie=0;for(ne=[];ie<X;++ie)for(var Re=0;Re<oe;++Re)ne[_e++]=i(z[Re]+" ",$[ie],J).trim()}return ne}function i(z,ne,J){var $=ne.charCodeAt(0);switch(33>$&&($=(ne=ne.trim()).charCodeAt(0)),$){case 38:return ne.replace(g,"$1"+z.trim());case 58:return z.trim()+ne.replace(g,"$1"+z.trim());default:if(0<1*J&&0<ne.indexOf("\f"))return ne.replace(g,(z.charCodeAt(0)===58?"":"$1")+z.trim())}return z+ne}function r(z,ne,J,$){var X=z+";",oe=2*ne+3*J+4*$;if(oe===944){z=X.indexOf(":",9)+1;var ie=X.substring(z,X.length-1).trim();return ie=X.substring(0,z).trim()+ie+";",U===1||U===2&&s(ie,1)?"-webkit-"+ie+ie:ie}if(U===0||U===2&&!s(X,1))return X;switch(oe){case 1015:return X.charCodeAt(10)===97?"-webkit-"+X+X:X;case 951:return X.charCodeAt(3)===116?"-webkit-"+X+X:X;case 963:return X.charCodeAt(5)===110?"-webkit-"+X+X:X;case 1009:if(X.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+X+X;case 978:return"-webkit-"+X+"-moz-"+X+X;case 1019:case 983:return"-webkit-"+X+"-moz-"+X+"-ms-"+X+X;case 883:if(X.charCodeAt(8)===45)return"-webkit-"+X+X;if(0<X.indexOf("image-set(",11))return X.replace(D,"$1-webkit-$2")+X;break;case 932:if(X.charCodeAt(4)===45)switch(X.charCodeAt(5)){case 103:return"-webkit-box-"+X.replace("-grow","")+"-webkit-"+X+"-ms-"+X.replace("grow","positive")+X;case 115:return"-webkit-"+X+"-ms-"+X.replace("shrink","negative")+X;case 98:return"-webkit-"+X+"-ms-"+X.replace("basis","preferred-size")+X}return"-webkit-"+X+"-ms-"+X+X;case 964:return"-webkit-"+X+"-ms-flex-"+X+X;case 1023:if(X.charCodeAt(8)!==99)break;return ie=X.substring(X.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ie+"-webkit-"+X+"-ms-flex-pack"+ie+X;case 1005:return p.test(X)?X.replace(d,":-webkit-")+X.replace(d,":-moz-")+X:X;case 1e3:switch(ie=X.substring(13).trim(),ne=ie.indexOf("-")+1,ie.charCodeAt(0)+ie.charCodeAt(ne)){case 226:ie=X.replace(w,"tb");break;case 232:ie=X.replace(w,"tb-rl");break;case 220:ie=X.replace(w,"lr");break;default:return X}return"-webkit-"+X+"-ms-"+ie+X;case 1017:if(X.indexOf("sticky",9)===-1)break;case 975:switch(ne=(X=z).length-10,ie=(X.charCodeAt(ne)===33?X.substring(0,ne):X).substring(z.indexOf(":",7)+1).trim(),oe=ie.charCodeAt(0)+(ie.charCodeAt(7)|0)){case 203:if(111>ie.charCodeAt(8))break;case 115:X=X.replace(ie,"-webkit-"+ie)+";"+X;break;case 207:case 102:X=X.replace(ie,"-webkit-"+(102<oe?"inline-":"")+"box")+";"+X.replace(ie,"-webkit-"+ie)+";"+X.replace(ie,"-ms-"+ie+"box")+";"+X}return X+";";case 938:if(X.charCodeAt(5)===45)switch(X.charCodeAt(6)){case 105:return ie=X.replace("-items",""),"-webkit-"+X+"-webkit-box-"+ie+"-ms-flex-"+ie+X;case 115:return"-webkit-"+X+"-ms-flex-item-"+X.replace(I,"")+X;default:return"-webkit-"+X+"-ms-flex-line-pack"+X.replace("align-content","").replace(I,"")+X}break;case 973:case 989:if(X.charCodeAt(3)!==45||X.charCodeAt(4)===122)break;case 931:case 953:if(R.test(z)===!0)return(ie=z.substring(z.indexOf(":")+1)).charCodeAt(0)===115?r(z.replace("stretch","fill-available"),ne,J,$).replace(":fill-available",":stretch"):X.replace(ie,"-webkit-"+ie)+X.replace(ie,"-moz-"+ie.replace("fill-",""))+X;break;case 962:if(X="-webkit-"+X+(X.charCodeAt(5)===102?"-ms-"+X:"")+X,J+$===211&&X.charCodeAt(13)===105&&0<X.indexOf("transform",10))return X.substring(0,X.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+X}return X}function s(z,ne){var J=z.indexOf(ne===1?":":"{"),$=z.substring(0,ne!==3?J:10);return J=z.substring(J+1,z.length-1),W(ne!==2?$:$.replace(M,"$1"),J,ne)}function o(z,ne){var J=r(ne,ne.charCodeAt(0),ne.charCodeAt(1),ne.charCodeAt(2));return J!==ne+";"?J.replace(b," or ($1)").substring(4):"("+ne+")"}function a(z,ne,J,$,X,oe,ie,_e,Re,pe){for(var Y=0,me=ne,ge;Y<k;++Y)switch(ge=K[Y].call(c,z,me,J,$,X,oe,ie,_e,Re,pe)){case void 0:case!1:case!0:case null:break;default:me=ge}if(me!==ne)return me}function l(z){switch(z){case void 0:case null:k=K.length=0;break;default:if(typeof z=="function")K[k++]=z;else if(typeof z=="object")for(var ne=0,J=z.length;ne<J;++ne)l(z[ne]);else V=!!z|0}return l}function u(z){return z=z.prefix,z!==void 0&&(W=null,z?typeof z!="function"?U=1:(U=2,W=z):U=0),u}function c(z,ne){var J=z;if(33>J.charCodeAt(0)&&(J=J.trim()),G=J,J=[G],0<k){var $=a(-1,ne,J,J,O,F,0,0,0,0);$!==void 0&&typeof $=="string"&&(ne=$)}var X=e(q,J,ne,0,0);return 0<k&&($=a(-2,X,J,J,O,F,X.length,0,0,0),$!==void 0&&(X=$)),G="",L=0,F=O=1,X}var f=/^\0+/g,h=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,y=/([,: ])(transform)/g,A=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,x=/@(k\w+)\s*(\S*)\s*/,S=/::(place)/g,E=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,C=/\(\s*(.*)\s*\)/g,b=/([\s\S]*?);/g,I=/-self|flex-/g,M=/[^]*?(:[rp][el]a[\w-]+)[^]*/,R=/stretch|:\s*\w+\-(?:conte|avail)/,D=/([^-])(image-set\()/,F=1,O=1,L=0,U=1,q=[],K=[],k=0,W=null,V=0,G="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var mte={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function gte(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var vte=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,VP=gte(function(t){return vte.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),NM=kM,Ate={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yte={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xte={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GM={};GM[NM.ForwardRef]=xte;GM[NM.Memo]=EW;function QP(t){return NM.isMemo(t)?EW:GM[t.$$typeof]||Ate}var Ste=Object.defineProperty,Ete=Object.getOwnPropertyNames,WP=Object.getOwnPropertySymbols,wte=Object.getOwnPropertyDescriptor,_te=Object.getPrototypeOf,jP=Object.prototype;function wW(t,e,n){if(typeof e!="string"){if(jP){var i=_te(e);i&&i!==jP&&wW(t,i,n)}var r=Ete(e);WP&&(r=r.concat(WP(e)));for(var s=QP(t),o=QP(e),a=0;a<r.length;++a){var l=r[a];if(!yte[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=wte(e,l);try{Ste(t,l,u)}catch{}}}}return t}var Cte=wW;const bte=gA(Cte);function Ql(){return(Ql=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var qP=function(t,e){for(var n=[t[0]],i=0,r=e.length;i<r;i+=1)n.push(e[i],t[i+1]);return n},sb=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!kM.typeOf(t)},tS=Object.freeze([]),fc=Object.freeze({});function O3(t){return typeof t=="function"}function XP(t){return t.displayName||t.name||"Component"}function zM(t){return t&&typeof t.styledComponentId=="string"}var Zd=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",HM=typeof window<"u"&&"HTMLElement"in window,Tte=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY);function EA(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Mte=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var i=0,r=0;r<n;r++)i+=this.groupSizes[r];return i},e.insertRules=function(n,i){if(n>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,o=s;n>=o;)(o<<=1)<0&&EA(16,""+n);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=i.length;u<c;u++)this.tag.insertRule(l,i[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var i=this.groupSizes[n],r=this.indexOfGroup(n),s=r+i;this.groupSizes[n]=0;for(var o=r;o<s;o++)this.tag.deleteRule(r)}},e.getGroup=function(n){var i="";if(n>=this.length||this.groupSizes[n]===0)return i;for(var r=this.groupSizes[n],s=this.indexOfGroup(n),o=s+r,a=s;a<o;a++)i+=this.tag.getRule(a)+`/*!sc*/
`;return i},t}(),cx=new Map,nS=new Map,t3=1,wy=function(t){if(cx.has(t))return cx.get(t);for(;nS.has(t3);)t3++;var e=t3++;return cx.set(t,e),nS.set(e,t),e},Ite=function(t){return nS.get(t)},Rte=function(t,e){e>=t3&&(t3=e+1),cx.set(t,e),nS.set(e,t)},Pte="style["+Zd+'][data-styled-version="5.3.6"]',Bte=new RegExp("^"+Zd+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Dte=function(t,e,n){for(var i,r=n.split(","),s=0,o=r.length;s<o;s++)(i=r[s])&&t.registerName(e,i)},Lte=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),i=[],r=0,s=n.length;r<s;r++){var o=n[r].trim();if(o){var a=o.match(Bte);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(Rte(u,l),Dte(t,u,a[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(o)}}},Ote=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},_W=function(t){var e=document.head,n=t||e,i=document.createElement("style"),r=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(Zd))return c}}(n),s=r!==void 0?r.nextSibling:null;i.setAttribute(Zd,"active"),i.setAttribute("data-styled-version","5.3.6");var o=Ote();return o&&i.setAttribute("nonce",o),n.insertBefore(i,s),i},Fte=function(){function t(n){var i=this.element=_W(n);i.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===r)return l}EA(17)}(i),this.length=0}var e=t.prototype;return e.insertRule=function(n,i){try{return this.sheet.insertRule(i,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var i=this.sheet.cssRules[n];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},t}(),Ute=function(){function t(n){var i=this.element=_W(n);this.nodes=i.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,i){if(n<=this.length&&n>=0){var r=document.createTextNode(i),s=this.nodes[n];return this.element.insertBefore(r,s||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),kte=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,i){return n<=this.length&&(this.rules.splice(n,0,i),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),YP=HM,Nte={isServer:!HM,useCSSOMInjection:!Tte},CW=function(){function t(n,i,r){n===void 0&&(n=fc),i===void 0&&(i={}),this.options=Ql({},Nte,{},n),this.gs=i,this.names=new Map(r),this.server=!!n.isServer,!this.server&&HM&&YP&&(YP=!1,function(s){for(var o=document.querySelectorAll(Pte),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Zd)!=="active"&&(Lte(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return wy(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,i){return i===void 0&&(i=!0),new t(Ql({},this.options,{},n),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(r=(i=this.options).isServer,s=i.useCSSOMInjection,o=i.target,n=r?new kte(o):s?new Fte(o):new Ute(o),new Mte(n)));var n,i,r,s,o},e.hasNameForId=function(n,i){return this.names.has(n)&&this.names.get(n).has(i)},e.registerName=function(n,i){if(wy(n),this.names.has(n))this.names.get(n).add(i);else{var r=new Set;r.add(i),this.names.set(n,r)}},e.insertRules=function(n,i,r){this.registerName(n,i),this.getTag().insertRules(wy(n),r)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(wy(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var i=n.getTag(),r=i.length,s="",o=0;o<r;o++){var a=Ite(o);if(a!==void 0){var l=n.names.get(a),u=i.getGroup(o);if(l&&u&&l.size){var c=Zd+".g"+o+'[id="'+a+'"]',f="";l!==void 0&&l.forEach(function(h){h.length>0&&(f+=h+",")}),s+=""+u+c+'{content:"'+f+`"}/*!sc*/
`}}}return s}(this)},t}(),Gte=/(a)(d)/gi,KP=function(t){return String.fromCharCode(t+(t>25?39:97))};function ob(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=KP(e%52)+n;return(KP(e%52)+n).replace(Gte,"$1-$2")}var Sd=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},bW=function(t){return Sd(5381,t)};function zte(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(O3(n)&&!zM(n))return!1}return!0}var Hte=bW("5.3.6"),Vte=function(){function t(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&zte(e),this.componentId=n,this.baseHash=Sd(Hte,n),this.baseStyle=i,CW.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,i){var r=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,n,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(r,this.staticRulesId))s.push(this.staticRulesId);else{var o=$d(this.rules,e,n,i).join(""),a=ob(Sd(this.baseHash,o)>>>0);if(!n.hasNameForId(r,a)){var l=i(o,"."+a,void 0,r);n.insertRules(r,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Sd(this.baseHash,i.hash),f="",h=0;h<u;h++){var d=this.rules[h];if(typeof d=="string")f+=d;else if(d){var p=$d(d,e,n,i),y=Array.isArray(p)?p.join(""):p;c=Sd(c,y+h),f+=y}}if(f){var A=ob(c>>>0);if(!n.hasNameForId(r,A)){var g=i(f,"."+A,void 0,r);n.insertRules(r,A,g)}s.push(A)}}return s.join(" ")},t}(),Qte=/^\s*\/\/.*$/gm,Wte=[":","[",".","#"];function jte(t){var e,n,i,r,s=t===void 0?fc:t,o=s.options,a=o===void 0?fc:o,l=s.plugins,u=l===void 0?tS:l,c=new pte(a),f=[],h=function(y){function A(g){if(g)try{y(g+"}")}catch{}}return function(g,x,S,E,w,C,b,I,M,R){switch(g){case 1:if(M===0&&x.charCodeAt(0)===64)return y(x+";"),"";break;case 2:if(I===0)return x+"/*|*/";break;case 3:switch(I){case 102:case 112:return y(S[0]+x),"";default:return x+(R===0?"/*|*/":"")}case-2:x.split("/*|*/}").forEach(A)}}}(function(y){f.push(y)}),d=function(y,A,g){return A===0&&Wte.indexOf(g[n.length])!==-1||g.match(r)?y:"."+e};function p(y,A,g,x){x===void 0&&(x="&");var S=y.replace(Qte,""),E=A&&g?g+" "+A+" { "+S+" }":S;return e=x,n=A,i=new RegExp("\\"+n+"\\b","g"),r=new RegExp("(\\"+n+"\\b){2,}"),c(g||!A?"":A,E)}return c.use([].concat(u,[function(y,A,g){y===2&&g.length&&g[0].lastIndexOf(n)>0&&(g[0]=g[0].replace(i,d))},h,function(y){if(y===-2){var A=f;return f=[],A}}])),p.hash=u.length?u.reduce(function(y,A){return A.name||EA(15),Sd(y,A.name)},5381).toString():"",p}var TW=Jl.createContext();TW.Consumer;var MW=Jl.createContext(),qte=(MW.Consumer,new CW),ab=jte();function Xte(){return ee.useContext(TW)||qte}function Yte(){return ee.useContext(MW)||ab}var Kte=function(){function t(e,n){var i=this;this.inject=function(r,s){s===void 0&&(s=ab);var o=i.name+s.hash;r.hasNameForId(i.id,o)||r.insertRules(i.id,o,s(i.rules,o,"@keyframes"))},this.toString=function(){return EA(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=ab),this.name+e.hash},t}(),Jte=/([A-Z])/,Zte=/([A-Z])/g,$te=/^ms-/,ene=function(t){return"-"+t.toLowerCase()};function JP(t){return Jte.test(t)?t.replace(Zte,ene).replace($te,"-ms-"):t}var ZP=function(t){return t==null||t===!1||t===""};function $d(t,e,n,i){if(Array.isArray(t)){for(var r,s=[],o=0,a=t.length;o<a;o+=1)(r=$d(t[o],e,n,i))!==""&&(Array.isArray(r)?s.push.apply(s,r):s.push(r));return s}if(ZP(t))return"";if(zM(t))return"."+t.styledComponentId;if(O3(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return $d(l,e,n,i)}var u;return t instanceof Kte?n?(t.inject(n,i),t.getName(i)):t:sb(t)?function c(f,h){var d,p,y=[];for(var A in f)f.hasOwnProperty(A)&&!ZP(f[A])&&(Array.isArray(f[A])&&f[A].isCss||O3(f[A])?y.push(JP(A)+":",f[A],";"):sb(f[A])?y.push.apply(y,c(f[A],A)):y.push(JP(A)+": "+(d=A,(p=f[A])==null||typeof p=="boolean"||p===""?"":typeof p!="number"||p===0||d in mte?String(p).trim():p+"px")+";"));return h?[h+" {"].concat(y,["}"]):y}(t):t.toString()}var $P=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function tne(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return O3(t)||sb(t)?$P($d(qP(tS,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:$P($d(qP(t,n)))}var nne=function(t,e,n){return n===void 0&&(n=fc),t.theme!==n.theme&&t.theme||e||n.theme},ine=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,rne=/(^-|-$)/g;function Jw(t){return t.replace(ine,"-").replace(rne,"")}var sne=function(t){return ob(bW(t)>>>0)};function _y(t){return typeof t=="string"&&!0}var lb=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},one=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function ane(t,e,n){var i=t[n];lb(e)&&lb(i)?IW(i,e):t[n]=e}function IW(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,s=n;r<s.length;r++){var o=s[r];if(lb(o))for(var a in o)one(a)&&ane(t,o[a],a)}return t}var RW=Jl.createContext();RW.Consumer;var Zw={};function PW(t,e,n){var i=zM(t),r=!_y(t),s=e.attrs,o=s===void 0?tS:s,a=e.componentId,l=a===void 0?function(x,S){var E=typeof x!="string"?"sc":Jw(x);Zw[E]=(Zw[E]||0)+1;var w=E+"-"+sne("5.3.6"+E+Zw[E]);return S?S+"-"+w:w}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(x){return _y(x)?"styled."+x:"Styled("+XP(x)+")"}(t):u,f=e.displayName&&e.componentId?Jw(e.displayName)+"-"+e.componentId:e.componentId||l,h=i&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,d=e.shouldForwardProp;i&&t.shouldForwardProp&&(d=e.shouldForwardProp?function(x,S,E){return t.shouldForwardProp(x,S,E)&&e.shouldForwardProp(x,S,E)}:t.shouldForwardProp);var p,y=new Vte(n,f,i?t.componentStyle:void 0),A=y.isStatic&&o.length===0,g=function(x,S){return function(E,w,C,b){var I=E.attrs,M=E.componentStyle,R=E.defaultProps,D=E.foldedComponentIds,F=E.shouldForwardProp,O=E.styledComponentId,L=E.target,U=function($,X,oe){$===void 0&&($=fc);var ie=Ql({},X,{theme:$}),_e={};return oe.forEach(function(Re){var pe,Y,me,ge=Re;for(pe in O3(ge)&&(ge=ge(ie)),ge)ie[pe]=_e[pe]=pe==="className"?(Y=_e[pe],me=ge[pe],Y&&me?Y+" "+me:Y||me):ge[pe]}),[ie,_e]}(nne(w,ee.useContext(RW),R)||fc,w,I),q=U[0],K=U[1],k=function($,X,oe,ie){var _e=Xte(),Re=Yte(),pe=X?$.generateAndInjectStyles(fc,_e,Re):$.generateAndInjectStyles(oe,_e,Re);return pe}(M,b,q),W=C,V=K.$as||w.$as||K.as||w.as||L,G=_y(V),z=K!==w?Ql({},w,{},K):w,ne={};for(var J in z)J[0]!=="$"&&J!=="as"&&(J==="forwardedAs"?ne.as=z[J]:(F?F(J,VP,V):!G||VP(J))&&(ne[J]=z[J]));return w.style&&K.style!==w.style&&(ne.style=Ql({},w.style,{},K.style)),ne.className=Array.prototype.concat(D,O,k!==O?k:null,w.className,K.className).filter(Boolean).join(" "),ne.ref=W,ee.createElement(V,ne)}(p,x,S,A)};return g.displayName=c,(p=Jl.forwardRef(g)).attrs=h,p.componentStyle=y,p.displayName=c,p.shouldForwardProp=d,p.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):tS,p.styledComponentId=f,p.target=i?t.target:t,p.withComponent=function(x){var S=e.componentId,E=function(C,b){if(C==null)return{};var I,M,R={},D=Object.keys(C);for(M=0;M<D.length;M++)I=D[M],b.indexOf(I)>=0||(R[I]=C[I]);return R}(e,["componentId"]),w=S&&S+"-"+(_y(x)?x:Jw(XP(x)));return PW(x,Ql({},E,{attrs:h,componentId:w}),n)},Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=i?IW({},t.defaultProps,x):x}}),p.toString=function(){return"."+p.styledComponentId},r&&bte(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),p}var ub=function(t){return function e(n,i,r){if(r===void 0&&(r=fc),!kM.isValidElementType(i))return EA(1,String(i));var s=function(){return n(i,r,tne.apply(void 0,arguments))};return s.withConfig=function(o){return e(n,i,Ql({},r,{},o))},s.attrs=function(o){return e(n,i,Ql({},r,{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},s}(PW,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){ub[t]=ub(t)});const Nt=ub;var Ii={},VM={},wA={},_A={},BW="Expected a function",eB=0/0,lne="[object Symbol]",une=/^\s+|\s+$/g,cne=/^[-+]0x[0-9a-f]+$/i,fne=/^0b[01]+$/i,hne=/^0o[0-7]+$/i,dne=parseInt,pne=typeof gt=="object"&&gt&&gt.Object===Object&&gt,mne=typeof self=="object"&&self&&self.Object===Object&&self,gne=pne||mne||Function("return this")(),vne=Object.prototype,Ane=vne.toString,yne=Math.max,xne=Math.min,$w=function(){return gne.Date.now()};function Sne(t,e,n){var i,r,s,o,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(BW);e=tB(e)||0,iS(n)&&(c=!!n.leading,f="maxWait"in n,s=f?yne(tB(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function d(C){var b=i,I=r;return i=r=void 0,u=C,o=t.apply(I,b),o}function p(C){return u=C,a=setTimeout(g,e),c?d(C):o}function y(C){var b=C-l,I=C-u,M=e-b;return f?xne(M,s-I):M}function A(C){var b=C-l,I=C-u;return l===void 0||b>=e||b<0||f&&I>=s}function g(){var C=$w();if(A(C))return x(C);a=setTimeout(g,y(C))}function x(C){return a=void 0,h&&i?d(C):(i=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,i=l=r=a=void 0}function E(){return a===void 0?o:x($w())}function w(){var C=$w(),b=A(C);if(i=arguments,r=this,l=C,b){if(a===void 0)return p(l);if(f)return a=setTimeout(g,e),d(l)}return a===void 0&&(a=setTimeout(g,e)),o}return w.cancel=S,w.flush=E,w}function Ene(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(BW);return iS(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Sne(t,e,{leading:i,maxWait:e,trailing:r})}function iS(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function wne(t){return!!t&&typeof t=="object"}function _ne(t){return typeof t=="symbol"||wne(t)&&Ane.call(t)==lne}function tB(t){if(typeof t=="number")return t;if(_ne(t))return eB;if(iS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(une,"");var n=fne.test(t);return n||hne.test(t)?dne(t.slice(2),n?2:8):cne.test(t)?eB:+t}var Cne=Ene,CA={};Object.defineProperty(CA,"__esModule",{value:!0});CA.addPassiveEventListener=function(e,n,i){var r=function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,o)}catch{}return s}();e.addEventListener(n,i,r?{passive:!0}:!1)};CA.removePassiveEventListener=function(e,n,i){e.removeEventListener(n,i)};Object.defineProperty(_A,"__esModule",{value:!0});var bne=Cne,Tne=Ine(bne),Mne=CA;function Ine(t){return t&&t.__esModule?t:{default:t}}var Rne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,Tne.default)(e,n)},yi={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var i=Rne(function(r){yi.scrollHandler(e)},n);yi.scrollSpyContainers.push(e),(0,Mne.addPassiveEventListener)(e,"scroll",i)}},isMounted:function(e){return yi.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.pageYOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return n?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return n?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=yi.scrollSpyContainers[yi.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(i){return i(yi.currentPositionX(e),yi.currentPositionY(e))})},addStateHandler:function(e){yi.spySetState.push(e)},addSpyHandler:function(e,n){var i=yi.scrollSpyContainers[yi.scrollSpyContainers.indexOf(n)];i.spyCallbacks||(i.spyCallbacks=[]),i.spyCallbacks.push(e),e(yi.currentPositionX(n),yi.currentPositionY(n))},updateStates:function(){yi.spySetState.forEach(function(e){return e()})},unmount:function(e,n){yi.scrollSpyContainers.forEach(function(i){return i.spyCallbacks&&i.spyCallbacks.length&&i.spyCallbacks.indexOf(n)>-1&&i.spyCallbacks.splice(i.spyCallbacks.indexOf(n),1)}),yi.spySetState&&yi.spySetState.length&&yi.spySetState.indexOf(e)>-1&&yi.spySetState.splice(yi.spySetState.indexOf(e),1),document.removeEventListener("scroll",yi.scrollHandler)},update:function(){return yi.scrollSpyContainers.forEach(function(e){return yi.scrollHandler(e)})}};_A.default=yi;var Ep={},bA={};Object.defineProperty(bA,"__esModule",{value:!0});var Pne=function(e,n){var i=e.indexOf("#")===0?e.substring(1):e,r=i?"#"+i:"",s=window&&window.location,o=r?s.pathname+s.search+r:s.pathname+s.search;n?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},Bne=function(){return window.location.hash.replace(/^#/,"")},Dne=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},Lne=function(e){return getComputedStyle(e).position!=="static"},e4=function(e,n){for(var i=e.offsetTop,r=e.offsetParent;r&&!n(r);)i+=r.offsetTop,r=r.offsetParent;return{offsetTop:i,offsetParent:r}},One=function(e,n,i){if(i)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(Lne(e)){if(n.offsetParent!==e){var r=function(c){return c===e||c===document},s=e4(n,r),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var l=function(c){return c===document};return e4(n,l).offsetTop-e4(e,l).offsetTop};bA.default={updateHash:Pne,getHash:Bne,filterElementInContainer:Dne,scrollOffset:One};var c6={},QM={};Object.defineProperty(QM,"__esModule",{value:!0});QM.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var WM={};Object.defineProperty(WM,"__esModule",{value:!0});var Fne=CA,Une=["mousedown","mousewheel","touchmove","keydown"];WM.default={subscribe:function(e){return typeof document<"u"&&Une.forEach(function(n){return(0,Fne.addPassiveEventListener)(document,n,e)})}};var TA={};Object.defineProperty(TA,"__esModule",{value:!0});var cb={registered:{},scrollEvent:{register:function(e,n){cb.registered[e]=n},remove:function(e){cb.registered[e]=null}}};TA.default=cb;Object.defineProperty(c6,"__esModule",{value:!0});var kne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nne=bA;f6(Nne);var Gne=QM,nB=f6(Gne),zne=WM,Hne=f6(zne),Vne=TA,Wa=f6(Vne);function f6(t){return t&&t.__esModule?t:{default:t}}var DW=function(e){return nB.default[e.smooth]||nB.default.defaultEasing},Qne=function(e){return typeof e=="function"?e:function(){return e}},Wne=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},fb=function(){return Wne()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),LW=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},OW=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},FW=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},jne=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var i=document.body,r=document.documentElement;return Math.max(i.scrollWidth,i.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)},qne=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var i=document.body,r=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)},Xne=function t(e,n,i){var r=n.data;if(!n.ignoreCancelEvents&&r.cancel){Wa.default.registered.end&&Wa.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=i),r.progress=i-r.start,r.percent=r.progress>=r.duration?1:e(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?n.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:n.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var s=t.bind(null,e,n);fb.call(window,s);return}Wa.default.registered.end&&Wa.default.registered.end(r.to,r.target,r.currentPosition)},jM=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},MA=function(e,n,i,r){if(n.data=n.data||LW(),window.clearTimeout(n.data.delayTimeout),Hne.default.subscribe(function(){n.data.cancel=!0}),jM(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?OW(n):FW(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){Wa.default.registered.end&&Wa.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=Qne(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=i,n.data.target=r;var s=DW(n),o=Xne.bind(null,s,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){Wa.default.registered.begin&&Wa.default.registered.begin(n.data.to,n.data.target),fb.call(window,o)},n.delay);return}Wa.default.registered.begin&&Wa.default.registered.begin(n.data.to,n.data.target),fb.call(window,o)},h6=function(e){return e=kne({},e),e.data=e.data||LW(),e.absolute=!0,e},Yne=function(e){MA(0,h6(e))},Kne=function(e,n){MA(e,h6(n))},Jne=function(e){e=h6(e),jM(e),MA(e.horizontal?jne(e):qne(e),e)},Zne=function(e,n){n=h6(n),jM(n);var i=n.horizontal?OW(n):FW(n);MA(e+i,n)};c6.default={animateTopScroll:MA,getAnimationType:DW,scrollToTop:Yne,scrollToBottom:Jne,scrollTo:Kne,scrollMore:Zne};Object.defineProperty(Ep,"__esModule",{value:!0});var $ne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},eie=bA,tie=qM(eie),nie=c6,iie=qM(nie),rie=TA,Cy=qM(rie);function qM(t){return t&&t.__esModule?t:{default:t}}var by={},iB=void 0;Ep.default={unmount:function(){by={}},register:function(e,n){by[e]=n},unregister:function(e){delete by[e]},get:function(e){return by[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return iB=e},getActiveLink:function(){return iB},scrollTo:function(e,n){var i=this.get(e);if(!i){console.warn("target Element not found");return}n=$ne({},n,{absolute:!1});var r=n.containerId,s=n.container,o=void 0;r?o=document.getElementById(r):s&&s.nodeType?o=s:o=document,n.absolute=!0;var a=n.horizontal,l=tie.default.scrollOffset(o,i,a)+(n.offset||0);if(!n.smooth){Cy.default.registered.begin&&Cy.default.registered.begin(e,i),o===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,Cy.default.registered.end&&Cy.default.registered.end(e,i);return}iie.default.animateTopScroll(l,n,e,i)}};var UW={exports:{}},sie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oie=sie,aie=oie;function kW(){}function NW(){}NW.resetWarningCache=kW;var lie=function(){function t(i,r,s,o,a,l){if(l!==aie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NW,resetWarningCache:kW};return n.PropTypes=n,n};UW.exports=lie();var d6=UW.exports,p6={};Object.defineProperty(p6,"__esModule",{value:!0});var uie=bA,t4=cie(uie);function cie(t){return t&&t.__esModule?t:{default:t}}var fie={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var i=this.scroller,r=i.get(e);if(r&&(n||e!==i.getActiveLink())){var s=this.containers[e]||document;i.scrollTo(e,{container:s})}},getHash:function(){return t4.default.getHash()},changeHash:function(e,n){this.isInitialized()&&t4.default.getHash()!==e&&t4.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};p6.default=fie;Object.defineProperty(wA,"__esModule",{value:!0});var Ty=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hie=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),die=ee,rB=IA(die),pie=_A,My=IA(pie),mie=Ep,gie=IA(mie),vie=d6,di=IA(vie),Aie=p6,Tu=IA(Aie);function IA(t){return t&&t.__esModule?t:{default:t}}function yie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sB={to:di.default.string.isRequired,containerId:di.default.string,container:di.default.object,activeClass:di.default.string,activeStyle:di.default.object,spy:di.default.bool,horizontal:di.default.bool,smooth:di.default.oneOfType([di.default.bool,di.default.string]),offset:di.default.number,delay:di.default.number,isDynamic:di.default.bool,onClick:di.default.func,duration:di.default.oneOfType([di.default.number,di.default.func]),absolute:di.default.bool,onSetActive:di.default.func,onSetInactive:di.default.func,ignoreCancelEvents:di.default.bool,hashSpy:di.default.bool,saveHashHistory:di.default.bool,spyThrottle:di.default.number};wA.default=function(t,e){var n=e||gie.default,i=function(s){Sie(o,s);function o(a){yie(this,o);var l=xie(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return r.call(l),l.state={active:!1},l}return hie(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();My.default.isMounted(l)||My.default.mount(l,this.props.spyThrottle),this.props.hashSpy&&(Tu.default.isMounted()||Tu.default.mount(n),Tu.default.mapContainer(this.props.to,l)),My.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){My.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u={};this.state&&this.state.active?u=Ty({},this.props.style,this.props.activeStyle):u=Ty({},this.props.style);var c=Ty({},this.props);for(var f in sB)c.hasOwnProperty(f)&&delete c[f];return c.className=l,c.style=u,c.onClick=this.handleClick,rB.default.createElement(t,c)}}]),o}(rB.default.PureComponent),r=function(){var o=this;this.scrollTo=function(a,l){n.scrollTo(a,Ty({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var u=o.getScrollSpyContainer();if(!(Tu.default.isMounted()&&!Tu.default.isInitialized())){var c=o.props.horizontal,f=o.props.to,h=null,d=void 0,p=void 0;if(c){var y=0,A=0,g=0;if(u.getBoundingClientRect){var x=u.getBoundingClientRect();g=x.left}if(!h||o.props.isDynamic){if(h=n.get(f),!h)return;var S=h.getBoundingClientRect();y=S.left-g+a,A=y+S.width}var E=a-o.props.offset;d=E>=Math.floor(y)&&E<Math.floor(A),p=E<Math.floor(y)||E>=Math.floor(A)}else{var w=0,C=0,b=0;if(u.getBoundingClientRect){var I=u.getBoundingClientRect();b=I.top}if(!h||o.props.isDynamic){if(h=n.get(f),!h)return;var M=h.getBoundingClientRect();w=M.top-b+l,C=w+M.height}var R=l-o.props.offset;d=R>=Math.floor(w)&&R<Math.floor(C),p=R<Math.floor(w)||R>=Math.floor(C)}var D=n.getActiveLink();if(p){if(f===D&&n.setActiveLink(void 0),o.props.hashSpy&&Tu.default.getHash()===f){var F=o.props.saveHashHistory,O=F===void 0?!1:F;Tu.default.changeHash("",O)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(f,h))}if(d&&(D!==f||o.state.active===!1)){n.setActiveLink(f);var L=o.props.saveHashHistory,U=L===void 0?!1:L;o.props.hashSpy&&Tu.default.changeHash(f,U),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(f,h))}}}};return i.propTypes=sB,i.defaultProps={offset:0},i};Object.defineProperty(VM,"__esModule",{value:!0});var Eie=ee,oB=GW(Eie),wie=wA,_ie=GW(wie);function GW(t){return t&&t.__esModule?t:{default:t}}function Cie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tie=function(t){bie(e,t);function e(){var n,i,r,s;Cie(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(i=(r=aB(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),r),r.render=function(){return oB.default.createElement("a",r.props,r.props.children)},i),aB(r,s)}return e}(oB.default.Component);VM.default=(0,_ie.default)(Tie);var XM={};Object.defineProperty(XM,"__esModule",{value:!0});var Mie=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Iie=ee,lB=zW(Iie),Rie=wA,Pie=zW(Rie);function zW(t){return t&&t.__esModule?t:{default:t}}function Bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Die(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oie=function(t){Lie(e,t);function e(){return Bie(this,e),Die(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Mie(e,[{key:"render",value:function(){return lB.default.createElement("input",this.props,this.props.children)}}]),e}(lB.default.Component);XM.default=(0,Pie.default)(Oie);var YM={},m6={};Object.defineProperty(m6,"__esModule",{value:!0});var Fie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Uie=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),kie=ee,uB=g6(kie),Nie=yW;g6(Nie);var Gie=Ep,cB=g6(Gie),zie=d6,fB=g6(zie);function g6(t){return t&&t.__esModule?t:{default:t}}function Hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}m6.default=function(t){var e=function(n){Qie(i,n);function i(r){Hie(this,i);var s=Vie(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r));return s.childBindings={domNode:null},s}return Uie(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;cB.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){cB.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return uB.default.createElement(t,Fie({},this.props,{parentBindings:this.childBindings}))}}]),i}(uB.default.Component);return e.propTypes={name:fB.default.string,id:fB.default.string},e};Object.defineProperty(YM,"__esModule",{value:!0});var hB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wie=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),jie=ee,dB=KM(jie),qie=m6,Xie=KM(qie),Yie=d6,pB=KM(Yie);function KM(t){return t&&t.__esModule?t:{default:t}}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HW=function(t){Zie(e,t);function e(){return Kie(this,e),Jie(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Wie(e,[{key:"render",value:function(){var i=this,r=hB({},this.props);return r.parentBindings&&delete r.parentBindings,dB.default.createElement("div",hB({},r,{ref:function(o){i.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(dB.default.Component);HW.propTypes={name:pB.default.string,id:pB.default.string};YM.default=(0,Xie.default)(HW);var n4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mB=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function gB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Iy=ee,Kc=_A,i4=Ep,xi=d6,Mu=p6,yB={to:xi.string.isRequired,containerId:xi.string,container:xi.object,activeClass:xi.string,spy:xi.bool,smooth:xi.oneOfType([xi.bool,xi.string]),offset:xi.number,delay:xi.number,isDynamic:xi.bool,onClick:xi.func,duration:xi.oneOfType([xi.number,xi.func]),absolute:xi.bool,onSetActive:xi.func,onSetInactive:xi.func,ignoreCancelEvents:xi.bool,hashSpy:xi.bool,spyThrottle:xi.number},$ie={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var i=n||i4,r=function(o){AB(a,o);function a(l){gB(this,a);var u=vB(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(u),u.state={active:!1},u}return mB(a,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,c=this.props.container;return u?document.getElementById(u):c&&c.nodeType?c:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();Kc.isMounted(u)||Kc.mount(u,this.props.spyThrottle),this.props.hashSpy&&(Mu.isMounted()||Mu.mount(i),Mu.mapContainer(this.props.to,u)),this.props.spy&&Kc.addStateHandler(this.stateHandler),Kc.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){Kc.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var c=n4({},this.props);for(var f in yB)c.hasOwnProperty(f)&&delete c[f];return c.className=u,c.onClick=this.handleClick,Iy.createElement(e,c)}}]),a}(Iy.Component),s=function(){var a=this;this.scrollTo=function(l,u){i.scrollTo(l,n4({},a.state,u))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){i.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var u=a.getScrollSpyContainer();if(!(Mu.isMounted()&&!Mu.isInitialized())){var c=a.props.to,f=null,h=0,d=0,p=0;if(u.getBoundingClientRect){var y=u.getBoundingClientRect();p=y.top}if(!f||a.props.isDynamic){if(f=i.get(c),!f)return;var A=f.getBoundingClientRect();h=A.top-p+l,d=h+A.height}var g=l-a.props.offset,x=g>=Math.floor(h)&&g<Math.floor(d),S=g<Math.floor(h)||g>=Math.floor(d),E=i.getActiveLink();if(S)return c===E&&i.setActiveLink(void 0),a.props.hashSpy&&Mu.getHash()===c&&Mu.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),Kc.updateStates();if(x&&E!==c)return i.setActiveLink(c),a.props.hashSpy&&Mu.changeHash(c),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(c)),Kc.updateStates()}}};return r.propTypes=yB,r.defaultProps={offset:0},r},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(i){AB(r,i);function r(s){gB(this,r);var o=vB(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s));return o.childBindings={domNode:null},o}return mB(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;i4.unregister(this.props.name)}},{key:"registerElems",value:function(o){i4.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return Iy.createElement(e,n4({},this.props,{parentBindings:this.childBindings}))}}]),r}(Iy.Component);return n.propTypes={name:xi.string,id:xi.string},n}},ere=$ie;Object.defineProperty(Ii,"__esModule",{value:!0});Ii.Helpers=Ii.ScrollElement=Ii.ScrollLink=Ii.animateScroll=Ii.scrollSpy=Ii.Events=Ii.scroller=Ii.Element=Ii.Button=Ju=Ii.Link=void 0;var tre=VM,VW=ul(tre),nre=XM,QW=ul(nre),ire=YM,WW=ul(ire),rre=Ep,jW=ul(rre),sre=TA,qW=ul(sre),ore=_A,XW=ul(ore),are=c6,YW=ul(are),lre=wA,KW=ul(lre),ure=m6,JW=ul(ure),cre=ere,ZW=ul(cre);function ul(t){return t&&t.__esModule?t:{default:t}}var Ju=Ii.Link=VW.default;Ii.Button=QW.default;Ii.Element=WW.default;Ii.scroller=jW.default;Ii.Events=qW.default;Ii.scrollSpy=XW.default;Ii.animateScroll=YW.default;Ii.ScrollLink=KW.default;Ii.ScrollElement=JW.default;Ii.Helpers=ZW.default;Ii.default={Link:VW.default,Button:QW.default,Element:WW.default,scroller:jW.default,Events:qW.default,scrollSpy:XW.default,animateScroll:YW.default,ScrollLink:KW.default,ScrollElement:JW.default,Helpers:ZW.default};const fre=Nt.div`
  display: flex;
  justify-content: center;

  @media only screen and (max-width: 768px) {
    width: 100%;
  }
`,hre=Nt.div`
  width: 1400px;
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  padding: 10px 0px;

  @media only screen and (max-width: 768px) {
    width: 90%; /* Adjust the width for smaller screens */
    padding: 10px;
  }
`,dre=Nt.div`
  display: flex;
  align-items: center;
  gap: 50px;
`,pre=Nt.ul`
  display: flex;
  gap: 20px;
  list-style: none;

  @media only screen and (max-width: 768px) {
    flex-direction: column; /* Stack the links vertically on smaller screens */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background-color: #fff; /* Background color for mobile menu */
    justify-content: center;
    align-items: center;
    z-index: 1; /* Ensure the menu is above other content */
    opacity: 0; /* Initially hidden */
    pointer-events: none; /* Initially not clickable */
    transition: opacity 0.3s ease-in-out;
  }
`,r4=Nt.li`
  cursor: pointer;
  font-size: 20px;

  @media only screen and (max-width: 768px) {
    margin-bottom: 20px; /* Space between stacked links */
  }
`,mre=Nt.div`
  display: flex;
  align-items: center;
  gap: 20px;

  @media only screen and (max-width: 768px) {
    position: absolute;
    top: 20px;
    right: 20px;
  }
`,gre=Nt.img`
  width: 20px;
  height: 20px;
  margin-right: 5px;
`,vre=Nt.button`
  width: 100px;
  padding: 10px;
  background-color: transparent;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 20px;
`,Are=()=>Ie.jsx(fre,{children:Ie.jsxs(hre,{children:[Ie.jsx(dre,{children:Ie.jsxs(pre,{children:[Ie.jsx(r4,{children:Ie.jsx(Ju,{spy:!0,smooth:!0,offset:-70,duration:500,to:"hero",children:"Home"})}),Ie.jsx(Ju,{spy:!0,smooth:!0,offset:50,duration:500,to:"about",children:Ie.jsx(r4,{children:"About"})}),Ie.jsx(Ju,{spy:!0,smooth:!0,offset:-70,duration:500,to:"work",children:Ie.jsx(r4,{children:"Work"})})]})}),Ie.jsx(mre,{children:Ie.jsxs(vre,{children:[Ie.jsx(gre,{src:"./img/phone-icon.png"}),Ie.jsx(Ju,{spy:!0,smooth:!0,offset:50,duration:500,to:"contact",children:"Contact"})]})})]})});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Lr="156",pf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},mf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$W=0,hb=1,ej=2,yre=3,tj=0,v6=1,n3=2,ia=3,No=0,Vi=1,yr=2,xre=2,Ut=0,tl=1,F3=2,db=3,pb=4,U3=5,Ks=100,nj=101,ij=102,mb=103,gb=104,ep=200,rj=201,sj=202,oj=203,k3=204,N3=205,A6=206,aj=207,y6=208,lj=209,uj=210,JM=0,ZM=1,rS=2,G3=3,z3=4,$M=5,e9=6,x6=7,RA=0,cj=1,fj=2,Do=0,hj=1,dj=2,pj=3,t9=4,mj=5,S6=300,ll=301,vc=302,tp=303,H3=304,wp=306,Ki=1e3,ri=1001,np=1002,vt=1003,V3=1004,Sre=1004,Od=1005,Ere=1005,At=1006,E6=1007,wre=1007,Go=1008,_re=1008,_n=1009,gj=1010,vj=1011,sh=1012,n9=1013,Ya=1014,Mn=1015,hn=1016,i9=1017,r9=1018,nl=1020,Aj=1021,Pn=1023,PA=1024,yj=1025,hc=1026,nu=1027,Ka=1028,s9=1029,Tf=1030,o9=1031,a9=1033,Fd=33776,fx=33777,hx=33778,Ud=33779,Q3=35840,vb=35841,W3=35842,Ab=35843,w6=36196,j3=37492,q3=37496,X3=37808,yb=37809,xb=37810,Sb=37811,Eb=37812,wb=37813,_b=37814,Cb=37815,bb=37816,Tb=37817,Mb=37818,Ib=37819,Rb=37820,Pb=37821,kd=36492,Bb=36494,Db=36495,xj=36283,Lb=36284,Ob=36285,Fb=36286,Sj=2200,Ej=2201,wj=2202,ip=2300,Yf=2301,dx=2302,Mf=2400,If=2401,Y3=2402,_6=2500,l9=2501,_j=0,u9=1,sS=2,BA=3e3,Lo=3001,wr=3200,zo=3201,uu=0,Cj=1,Xl="",ni="srgb",ga="srgb-linear",DA="display-p3",Cre="display-p3-linear",bre=0,px=7680,Tre=7681,Mre=7682,Ire=7683,Rre=34055,Pre=34056,Bre=5386,Dre=512,Lre=513,Ore=514,Fre=515,Ure=516,kre=517,Nre=518,bj=519,Tj=512,Mj=513,Ij=514,Rj=515,Pj=516,Bj=517,Dj=518,Lj=519,K3=35044,mx=35048,Gre=35040,zre=35045,Hre=35049,Vre=35041,Qre=35046,Wre=35050,jre=35042,qre="100",oS="300 es",aS=1035,Ja=2e3,J3=2001;class uo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Qr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let xB=1234567;const kf=Math.PI/180,rp=180/Math.PI;function eo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Qr[t&255]+Qr[t>>8&255]+Qr[t>>16&255]+Qr[t>>24&255]+"-"+Qr[e&255]+Qr[e>>8&255]+"-"+Qr[e>>16&15|64]+Qr[e>>24&255]+"-"+Qr[n&63|128]+Qr[n>>8&255]+"-"+Qr[n>>16&255]+Qr[n>>24&255]+Qr[i&255]+Qr[i>>8&255]+Qr[i>>16&255]+Qr[i>>24&255]).toLowerCase()}function Pi(t,e,n){return Math.max(e,Math.min(n,t))}function c9(t,e){return(t%e+e)%e}function Xre(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Yre(t,e,n){return t!==e?(n-t)/(e-t):0}function i3(t,e,n){return(1-n)*t+n*e}function Kre(t,e,n,i){return i3(t,e,1-Math.exp(-n*i))}function Jre(t,e=1){return e-Math.abs(c9(t,e*2)-e)}function Zre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function $re(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function ese(t,e){return t+Math.floor(Math.random()*(e-t+1))}function tse(t,e){return t+Math.random()*(e-t)}function nse(t){return t*(.5-Math.random())}function ise(t){t!==void 0&&(xB=t);let e=xB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function rse(t){return t*kf}function sse(t){return t*rp}function Ub(t){return(t&t-1)===0&&t!==0}function Oj(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function lS(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function ose(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+i)/2),c=o((e+i)/2),f=s((e-i)/2),h=o((e-i)/2),d=s((i-e)/2),p=o((i-e)/2);switch(r){case"XYX":t.set(a*c,l*f,l*h,a*u);break;case"YZY":t.set(l*h,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*h,a*c,a*u);break;case"XZX":t.set(a*c,l*p,l*d,a*u);break;case"YXY":t.set(l*d,a*c,l*p,a*u);break;case"ZYZ":t.set(l*p,l*d,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function bs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function un(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const cs={DEG2RAD:kf,RAD2DEG:rp,generateUUID:eo,clamp:Pi,euclideanModulo:c9,mapLinear:Xre,inverseLerp:Yre,lerp:i3,damp:Kre,pingpong:Jre,smoothstep:Zre,smootherstep:$re,randInt:ese,randFloat:tse,randFloatSpread:nse,seededRandom:ise,degToRad:rse,radToDeg:sse,isPowerOfTwo:Ub,ceilPowerOfTwo:Oj,floorPowerOfTwo:lS,setQuaternionFromProperEuler:ose,normalize:un,denormalize:bs};class he{constructor(e=0,n=0){he.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Pi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class sn{constructor(e,n,i,r,s,o,a,l,u){sn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,u)}set(e,n,i,r,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=i,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],c=i[4],f=i[7],h=i[2],d=i[5],p=i[8],y=r[0],A=r[3],g=r[6],x=r[1],S=r[4],E=r[7],w=r[2],C=r[5],b=r[8];return s[0]=o*y+a*x+l*w,s[3]=o*A+a*S+l*C,s[6]=o*g+a*E+l*b,s[1]=u*y+c*x+f*w,s[4]=u*A+c*S+f*C,s[7]=u*g+c*E+f*b,s[2]=h*y+d*x+p*w,s[5]=h*A+d*S+p*C,s[8]=h*g+d*E+p*b,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-i*s*c+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,h=a*l-c*s,d=u*s-o*l,p=n*f+i*h+r*d;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/p;return e[0]=f*y,e[1]=(r*u-c*i)*y,e[2]=(a*i-r*o)*y,e[3]=h*y,e[4]=(c*n-r*l)*y,e[5]=(r*s-a*n)*y,e[6]=d*y,e[7]=(i*l-u*n)*y,e[8]=(o*n-i*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(s4.makeScale(e,n)),this}rotate(e){return this.premultiply(s4.makeRotation(-e)),this}translate(e,n){return this.premultiply(s4.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const s4=new sn;function Fj(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const ase={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ed(t,e){return new ase[t](e)}function Z3(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Uj(){const t=Z3("canvas");return t.style.display="block",t}const SB={};function r3(t){t in SB||(SB[t]=!0,console.warn(t))}function Nd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function o4(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const lse=new sn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),use=new sn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function cse(t){return t.convertSRGBToLinear().applyMatrix3(use)}function fse(t){return t.applyMatrix3(lse).convertLinearToSRGB()}const hse={[ga]:t=>t,[ni]:t=>t.convertSRGBToLinear(),[DA]:cse},dse={[ga]:t=>t,[ni]:t=>t.convertLinearToSRGB(),[DA]:fse},wo={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return ga},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=hse[e],r=dse[n];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Ph;class f9{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ph===void 0&&(Ph=Z3("canvas")),Ph.width=e.width,Ph.height=e.height;const i=Ph.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Ph}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Z3("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Nd(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Nd(n[i]/255)*255):n[i]=Nd(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pse=0;class Rf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pse++}),this.uuid=eo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(a4(r[o].image)):s.push(a4(r[o]))}else s=a4(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function a4(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?f9.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mse=0;class Vn extends uo{constructor(e=Vn.DEFAULT_IMAGE,n=Vn.DEFAULT_MAPPING,i=ri,r=ri,s=At,o=Go,a=Pn,l=_n,u=Vn.DEFAULT_ANISOTROPY,c=Xl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mse++}),this.uuid=eo(),this.name="",this.source=new Rf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new he(0,0),this.repeat=new he(1,1),this.center=new he(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(r3("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Lo?ni:Xl),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==S6)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ki:e.x=e.x-Math.floor(e.x);break;case ri:e.x=e.x<0?0:1;break;case np:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ki:e.y=e.y-Math.floor(e.y);break;case ri:e.y=e.y<0?0:1;break;case np:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return r3("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ni?Lo:BA}set encoding(e){r3("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Lo?ni:Xl}}Vn.DEFAULT_IMAGE=null;Vn.DEFAULT_MAPPING=S6;Vn.DEFAULT_ANISOTROPY=1;class qt{constructor(e=0,n=0,i=0,r=1){qt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],d=l[5],p=l[9],y=l[2],A=l[6],g=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-y)<.01&&Math.abs(p-A)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+y)<.1&&Math.abs(p+A)<.1&&Math.abs(u+d+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,E=(d+1)/2,w=(g+1)/2,C=(c+h)/4,b=(f+y)/4,I=(p+A)/4;return S>E&&S>w?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=C/i,s=b/i):E>w?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=C/r,s=I/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=b/s,r=I/s),this.set(i,r,s,n),this}let x=Math.sqrt((A-p)*(A-p)+(f-y)*(f-y)+(h-c)*(h-c));return Math.abs(x)<.001&&(x=1),this.x=(A-p)/x,this.y=(f-y)/x,this.z=(h-c)/x,this.w=Math.acos((u+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class kj extends uo{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new qt(0,0,e,n),this.scissorTest=!1,this.viewport=new qt(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(r3("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Lo?ni:Xl),this.texture=new Vn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:At,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Rf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Rt extends kj{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class C6 extends Vn{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=vt,this.minFilter=vt,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gse extends Rt{constructor(e=1,n=1,i=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new C6(null,e,n,i),this.texture.isRenderTargetTexture=!0}}let Nf=class extends Vn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=vt,this.minFilter=vt,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class vse extends Rt{constructor(e=1,n=1,i=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Nf(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class h9 extends Rt{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class mi{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],u=i[r+1],c=i[r+2],f=i[r+3];const h=s[o+0],d=s[o+1],p=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=h,e[n+1]=d,e[n+2]=p,e[n+3]=y;return}if(f!==y||l!==h||u!==d||c!==p){let A=1-a;const g=l*h+u*d+c*p+f*y,x=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const w=Math.sqrt(S),C=Math.atan2(w,g*x);A=Math.sin(A*C)/w,a=Math.sin(a*C)/w}const E=a*x;if(l=l*A+h*E,u=u*A+d*E,c=c*A+p*E,f=f*A+y*E,A===1-a){const w=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=w,u*=w,c*=w,f*=w}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],c=i[r+3],f=s[o],h=s[o+1],d=s[o+2],p=s[o+3];return e[n]=a*p+c*f+l*d-u*h,e[n+1]=l*p+c*h+u*f-a*d,e[n+2]=u*p+c*d+a*h-l*f,e[n+3]=c*p-a*f-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),c=a(r/2),f=a(s/2),h=l(i/2),d=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=h*c*f+u*d*p,this._y=u*d*f-h*c*p,this._z=u*c*p+h*d*f,this._w=u*c*f-h*d*p;break;case"YXZ":this._x=h*c*f+u*d*p,this._y=u*d*f-h*c*p,this._z=u*c*p-h*d*f,this._w=u*c*f+h*d*p;break;case"ZXY":this._x=h*c*f-u*d*p,this._y=u*d*f+h*c*p,this._z=u*c*p+h*d*f,this._w=u*c*f-h*d*p;break;case"ZYX":this._x=h*c*f-u*d*p,this._y=u*d*f+h*c*p,this._z=u*c*p-h*d*f,this._w=u*c*f+h*d*p;break;case"YZX":this._x=h*c*f+u*d*p,this._y=u*d*f+h*c*p,this._z=u*c*p-h*d*f,this._w=u*c*f-h*d*p;break;case"XZY":this._x=h*c*f-u*d*p,this._y=u*d*f-h*c*p,this._z=u*c*p+h*d*f,this._w=u*c*f+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=i+a+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-l)*d,this._y=(s-u)*d,this._z=(o-r)*d}else if(i>a&&i>f){const d=2*Math.sqrt(1+i-a-f);this._w=(c-l)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(s+u)/d}else if(a>f){const d=2*Math.sqrt(1+a-i-f);this._w=(s-u)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+f-i-a);this._w=(o-r)/d,this._x=(s+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pi(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=i*c+o*a+r*u-s*l,this._y=r*c+o*l+s*a-i*u,this._z=s*c+o*u+i*l-r*a,this._w=o*c-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-n;return this._w=d*o+n*this._w,this._x=d*i+n*this._x,this._y=d*r+n*this._y,this._z=d*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,h=Math.sin(n*c)/u;return this._w=o*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class j{constructor(e=0,n=0,i=0){j.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(EB.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(EB.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*r-a*i,c=l*i+a*n-s*r,f=l*r+s*i-o*n,h=-s*n-o*i-a*r;return this.x=u*l+h*-s+c*-a-f*-o,this.y=c*l+h*-o+f*-s-u*-a,this.z=f*l+h*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return l4.copy(this).projectOnVector(e),this.sub(l4)}reflect(e){return this.sub(l4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Pi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const l4=new j,EB=new mi;class Or{constructor(e=new j(1/0,1/0,1/0),n=new j(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Il.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Il.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Il.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Bh.copy(e.boundingBox),Bh.applyMatrix4(e.matrixWorld),this.union(Bh);else{const r=e.geometry;if(r!==void 0)if(n&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Il.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Il)}else r.boundingBox===null&&r.computeBoundingBox(),Bh.copy(r.boundingBox),Bh.applyMatrix4(e.matrixWorld),this.union(Bh)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Il),Il.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(g0),Ry.subVectors(this.max,g0),Dh.subVectors(e.a,g0),Lh.subVectors(e.b,g0),Oh.subVectors(e.c,g0),Iu.subVectors(Lh,Dh),Ru.subVectors(Oh,Lh),Jc.subVectors(Dh,Oh);let n=[0,-Iu.z,Iu.y,0,-Ru.z,Ru.y,0,-Jc.z,Jc.y,Iu.z,0,-Iu.x,Ru.z,0,-Ru.x,Jc.z,0,-Jc.x,-Iu.y,Iu.x,0,-Ru.y,Ru.x,0,-Jc.y,Jc.x,0];return!u4(n,Dh,Lh,Oh,Ry)||(n=[1,0,0,0,1,0,0,0,1],!u4(n,Dh,Lh,Oh,Ry))?!1:(Py.crossVectors(Iu,Ru),n=[Py.x,Py.y,Py.z],u4(n,Dh,Lh,Oh,Ry))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Il).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Il).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ml[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ml[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ml[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ml[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ml[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ml[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ml[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ml[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ml),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ml=[new j,new j,new j,new j,new j,new j,new j,new j],Il=new j,Bh=new Or,Dh=new j,Lh=new j,Oh=new j,Iu=new j,Ru=new j,Jc=new j,g0=new j,Ry=new j,Py=new j,Zc=new j;function u4(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Zc.fromArray(t,s);const a=r.x*Math.abs(Zc.x)+r.y*Math.abs(Zc.y)+r.z*Math.abs(Zc.z),l=e.dot(Zc),u=n.dot(Zc),c=i.dot(Zc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const Ase=new Or,v0=new j,c4=new j;let Fr=class{constructor(e=new j,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Ase.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;v0.subVectors(e,this.center);const n=v0.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(v0,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(c4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(v0.copy(e.center).add(c4)),this.expandByPoint(v0.copy(e.center).sub(c4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Rl=new j,f4=new j,By=new j,Pu=new j,h4=new j,Dy=new j,d4=new j;class _p{constructor(e=new j,n=new j(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Rl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Rl.copy(this.origin).addScaledVector(this.direction,n),Rl.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){f4.copy(e).add(n).multiplyScalar(.5),By.copy(n).sub(e).normalize(),Pu.copy(this.origin).sub(f4);const s=e.distanceTo(n)*.5,o=-this.direction.dot(By),a=Pu.dot(this.direction),l=-Pu.dot(By),u=Pu.lengthSq(),c=Math.abs(1-o*o);let f,h,d,p;if(c>0)if(f=o*l-a,h=o*a-l,p=s*c,f>=0)if(h>=-p)if(h<=p){const y=1/c;f*=y,h*=y,d=f*(f+o*h+2*a)+h*(o*f+h+2*l)+u}else h=s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+u;else h=-s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+u;else h<=-p?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+u):h<=p?(f=0,h=Math.min(Math.max(-s,-l),s),d=h*(h+2*l)+u):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+u);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(f4).addScaledVector(By,h),d}intersectSphere(e,n){Rl.subVectors(e.center,this.origin);const i=Rl.dot(this.direction),r=Rl.dot(Rl)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(i=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(i=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(s=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(s=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Rl)!==null}intersectTriangle(e,n,i,r,s){h4.subVectors(n,e),Dy.subVectors(i,e),d4.crossVectors(h4,Dy);let o=this.direction.dot(d4),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Pu.subVectors(this.origin,e);const l=a*this.direction.dot(Dy.crossVectors(Pu,Dy));if(l<0)return null;const u=a*this.direction.dot(h4.cross(Pu));if(u<0||l+u>o)return null;const c=-a*Pu.dot(d4);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class it{constructor(e,n,i,r,s,o,a,l,u,c,f,h,d,p,y,A){it.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,u,c,f,h,d,p,y,A)}set(e,n,i,r,s,o,a,l,u,c,f,h,d,p,y,A){const g=this.elements;return g[0]=e,g[4]=n,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=h,g[3]=d,g[7]=p,g[11]=y,g[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new it().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Fh.setFromMatrixColumn(e,0).length(),s=1/Fh.setFromMatrixColumn(e,1).length(),o=1/Fh.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*c,d=o*f,p=a*c,y=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=d+p*u,n[5]=h-y*u,n[9]=-a*l,n[2]=y-h*u,n[6]=p+d*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*c,d=l*f,p=u*c,y=u*f;n[0]=h+y*a,n[4]=p*a-d,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=d*a-p,n[6]=y+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*c,d=l*f,p=u*c,y=u*f;n[0]=h-y*a,n[4]=-o*f,n[8]=p+d*a,n[1]=d+p*a,n[5]=o*c,n[9]=y-h*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*c,d=o*f,p=a*c,y=a*f;n[0]=l*c,n[4]=p*u-d,n[8]=h*u+y,n[1]=l*f,n[5]=y*u+h,n[9]=d*u-p,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*u,p=a*l,y=a*u;n[0]=l*c,n[4]=y-h*f,n[8]=p*f+d,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=d*f+p,n[10]=h-y*f}else if(e.order==="XZY"){const h=o*l,d=o*u,p=a*l,y=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+y,n[5]=o*c,n[9]=d*f-p,n[2]=p*f-d,n[6]=a*c,n[10]=y*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yse,e,xse)}lookAt(e,n,i){const r=this.elements;return Ws.subVectors(e,n),Ws.lengthSq()===0&&(Ws.z=1),Ws.normalize(),Bu.crossVectors(i,Ws),Bu.lengthSq()===0&&(Math.abs(i.z)===1?Ws.x+=1e-4:Ws.z+=1e-4,Ws.normalize(),Bu.crossVectors(i,Ws)),Bu.normalize(),Ly.crossVectors(Ws,Bu),r[0]=Bu.x,r[4]=Ly.x,r[8]=Ws.x,r[1]=Bu.y,r[5]=Ly.y,r[9]=Ws.y,r[2]=Bu.z,r[6]=Ly.z,r[10]=Ws.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],c=i[1],f=i[5],h=i[9],d=i[13],p=i[2],y=i[6],A=i[10],g=i[14],x=i[3],S=i[7],E=i[11],w=i[15],C=r[0],b=r[4],I=r[8],M=r[12],R=r[1],D=r[5],F=r[9],O=r[13],L=r[2],U=r[6],q=r[10],K=r[14],k=r[3],W=r[7],V=r[11],G=r[15];return s[0]=o*C+a*R+l*L+u*k,s[4]=o*b+a*D+l*U+u*W,s[8]=o*I+a*F+l*q+u*V,s[12]=o*M+a*O+l*K+u*G,s[1]=c*C+f*R+h*L+d*k,s[5]=c*b+f*D+h*U+d*W,s[9]=c*I+f*F+h*q+d*V,s[13]=c*M+f*O+h*K+d*G,s[2]=p*C+y*R+A*L+g*k,s[6]=p*b+y*D+A*U+g*W,s[10]=p*I+y*F+A*q+g*V,s[14]=p*M+y*O+A*K+g*G,s[3]=x*C+S*R+E*L+w*k,s[7]=x*b+S*D+E*U+w*W,s[11]=x*I+S*F+E*q+w*V,s[15]=x*M+S*O+E*K+w*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],d=e[14],p=e[3],y=e[7],A=e[11],g=e[15];return p*(+s*l*f-r*u*f-s*a*h+i*u*h+r*a*d-i*l*d)+y*(+n*l*d-n*u*h+s*o*h-r*o*d+r*u*c-s*l*c)+A*(+n*u*f-n*a*d-s*o*f+i*o*d+s*a*c-i*u*c)+g*(-r*a*c-n*l*f+n*a*h+r*o*f-i*o*h+i*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],y=e[13],A=e[14],g=e[15],x=f*A*u-y*h*u+y*l*d-a*A*d-f*l*g+a*h*g,S=p*h*u-c*A*u-p*l*d+o*A*d+c*l*g-o*h*g,E=c*y*u-p*f*u+p*a*d-o*y*d-c*a*g+o*f*g,w=p*f*l-c*y*l-p*a*h+o*y*h+c*a*A-o*f*A,C=n*x+i*S+r*E+s*w;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/C;return e[0]=x*b,e[1]=(y*h*s-f*A*s-y*r*d+i*A*d+f*r*g-i*h*g)*b,e[2]=(a*A*s-y*l*s+y*r*u-i*A*u-a*r*g+i*l*g)*b,e[3]=(f*l*s-a*h*s-f*r*u+i*h*u+a*r*d-i*l*d)*b,e[4]=S*b,e[5]=(c*A*s-p*h*s+p*r*d-n*A*d-c*r*g+n*h*g)*b,e[6]=(p*l*s-o*A*s-p*r*u+n*A*u+o*r*g-n*l*g)*b,e[7]=(o*h*s-c*l*s+c*r*u-n*h*u-o*r*d+n*l*d)*b,e[8]=E*b,e[9]=(p*f*s-c*y*s-p*i*d+n*y*d+c*i*g-n*f*g)*b,e[10]=(o*y*s-p*a*s+p*i*u-n*y*u-o*i*g+n*a*g)*b,e[11]=(c*a*s-o*f*s-c*i*u+n*f*u+o*i*d-n*a*d)*b,e[12]=w*b,e[13]=(c*y*r-p*f*r+p*i*h-n*y*h-c*i*A+n*f*A)*b,e[14]=(p*a*r-o*y*r-p*i*l+n*y*l+o*i*A-n*a*A)*b,e[15]=(o*f*r-c*a*r+c*i*l-n*f*l-o*i*h+n*a*h)*b,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,c*a+i,c*l-r*o,0,u*l-r*a,c*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,h=s*u,d=s*c,p=s*f,y=o*c,A=o*f,g=a*f,x=l*u,S=l*c,E=l*f,w=i.x,C=i.y,b=i.z;return r[0]=(1-(y+g))*w,r[1]=(d+E)*w,r[2]=(p-S)*w,r[3]=0,r[4]=(d-E)*C,r[5]=(1-(h+g))*C,r[6]=(A+x)*C,r[7]=0,r[8]=(p+S)*b,r[9]=(A-x)*b,r[10]=(1-(h+y))*b,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Fh.set(r[0],r[1],r[2]).length();const o=Fh.set(r[4],r[5],r[6]).length(),a=Fh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ko.copy(this);const u=1/s,c=1/o,f=1/a;return Ko.elements[0]*=u,Ko.elements[1]*=u,Ko.elements[2]*=u,Ko.elements[4]*=c,Ko.elements[5]*=c,Ko.elements[6]*=c,Ko.elements[8]*=f,Ko.elements[9]*=f,Ko.elements[10]*=f,n.setFromRotationMatrix(Ko),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=Ja){const l=this.elements,u=2*s/(n-e),c=2*s/(i-r),f=(n+e)/(n-e),h=(i+r)/(i-r);let d,p;if(a===Ja)d=-(o+s)/(o-s),p=-2*o*s/(o-s);else if(a===J3)d=-o/(o-s),p=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=Ja){const l=this.elements,u=1/(n-e),c=1/(i-r),f=1/(o-s),h=(n+e)*u,d=(i+r)*c;let p,y;if(a===Ja)p=(o+s)*f,y=-2*f;else if(a===J3)p=s*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=y,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Fh=new j,Ko=new it,yse=new j(0,0,0),xse=new j(1,1,1),Bu=new j,Ly=new j,Ws=new j,wB=new it,_B=new mi;class Cp{constructor(e=0,n=0,i=0,r=Cp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],c=r[9],f=r[2],h=r[6],d=r[10];switch(n){case"XYZ":this._y=Math.asin(Pi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Pi(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Pi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Pi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-Pi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return wB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(wB,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return _B.setFromEuler(this),this.setFromQuaternion(_B,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Cp.DEFAULT_ORDER="XYZ";class Gf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Sse=0;const CB=new j,Uh=new mi,Pl=new it,Oy=new j,A0=new j,Ese=new j,wse=new mi,bB=new j(1,0,0),TB=new j(0,1,0),MB=new j(0,0,1),_se={type:"added"},Cse={type:"removed"};class In extends uo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Sse++}),this.uuid=eo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=In.DEFAULT_UP.clone();const e=new j,n=new Cp,i=new mi,r=new j(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new it},normalMatrix:{value:new sn}}),this.matrix=new it,this.matrixWorld=new it,this.matrixAutoUpdate=In.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=In.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Gf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Uh.setFromAxisAngle(e,n),this.quaternion.multiply(Uh),this}rotateOnWorldAxis(e,n){return Uh.setFromAxisAngle(e,n),this.quaternion.premultiply(Uh),this}rotateX(e){return this.rotateOnAxis(bB,e)}rotateY(e){return this.rotateOnAxis(TB,e)}rotateZ(e){return this.rotateOnAxis(MB,e)}translateOnAxis(e,n){return CB.copy(e).applyQuaternion(this.quaternion),this.position.add(CB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(bB,e)}translateY(e){return this.translateOnAxis(TB,e)}translateZ(e){return this.translateOnAxis(MB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pl.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Oy.copy(e):Oy.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),A0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pl.lookAt(A0,Oy,this.up):Pl.lookAt(Oy,A0,this.up),this.quaternion.setFromRotationMatrix(Pl),r&&(Pl.extractRotation(r.matrixWorld),Uh.setFromRotationMatrix(Pl),this.quaternion.premultiply(Uh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_se)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Cse)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let i=[];this[e]===n&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,n);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(A0,e,Ese),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(A0,wse,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations),p=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),c.length>0&&(i.images=c),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),d.length>0&&(i.animations=d),p.length>0&&(i.nodes=p)}return i.object=r,i;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}In.DEFAULT_UP=new j(0,1,0);In.DEFAULT_MATRIX_AUTO_UPDATE=!0;In.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Jo=new j,Bl=new j,p4=new j,Dl=new j,kh=new j,Nh=new j,IB=new j,m4=new j,g4=new j,v4=new j;let Fy=!1;class Cs{constructor(e=new j,n=new j,i=new j){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Jo.subVectors(e,n),r.cross(Jo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Jo.subVectors(r,n),Bl.subVectors(i,n),p4.subVectors(e,n);const o=Jo.dot(Jo),a=Jo.dot(Bl),l=Jo.dot(p4),u=Bl.dot(Bl),c=Bl.dot(p4),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,d=(u*l-a*c)*h,p=(o*c-a*l)*h;return s.set(1-d-p,p,d)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Dl),Dl.x>=0&&Dl.y>=0&&Dl.x+Dl.y<=1}static getUV(e,n,i,r,s,o,a,l){return Fy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Fy=!0),this.getInterpolation(e,n,i,r,s,o,a,l)}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,Dl),l.setScalar(0),l.addScaledVector(s,Dl.x),l.addScaledVector(o,Dl.y),l.addScaledVector(a,Dl.z),l}static isFrontFacing(e,n,i,r){return Jo.subVectors(i,n),Bl.subVectors(e,n),Jo.cross(Bl).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jo.subVectors(this.c,this.b),Bl.subVectors(this.a,this.b),Jo.cross(Bl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Cs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Cs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return Fy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Fy=!0),Cs.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}getInterpolation(e,n,i,r,s){return Cs.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return Cs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Cs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;kh.subVectors(r,i),Nh.subVectors(s,i),m4.subVectors(e,i);const l=kh.dot(m4),u=Nh.dot(m4);if(l<=0&&u<=0)return n.copy(i);g4.subVectors(e,r);const c=kh.dot(g4),f=Nh.dot(g4);if(c>=0&&f<=c)return n.copy(r);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(i).addScaledVector(kh,o);v4.subVectors(e,s);const d=kh.dot(v4),p=Nh.dot(v4);if(p>=0&&d<=p)return n.copy(s);const y=d*u-l*p;if(y<=0&&u>=0&&p<=0)return a=u/(u-p),n.copy(i).addScaledVector(Nh,a);const A=c*p-d*f;if(A<=0&&f-c>=0&&d-p>=0)return IB.subVectors(s,r),a=(f-c)/(f-c+(d-p)),n.copy(r).addScaledVector(IB,a);const g=1/(A+y+h);return o=y*g,a=h*g,n.copy(i).addScaledVector(kh,o).addScaledVector(Nh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let bse=0;class Li extends uo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bse++}),this.uuid=eo(),this.name="",this.type="Material",this.blending=tl,this.side=No,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=k3,this.blendDst=N3,this.blendEquation=Ks,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=G3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bj,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=px,this.stencilZFail=px,this.stencilZPass=px,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==tl&&(i.blending=this.blending),this.side!==No&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const Nj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zo={h:0,s:0,l:0},Uy={h:0,s:0,l:0};function A4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Je=class{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ni){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wo.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=wo.workingColorSpace){return this.r=e,this.g=n,this.b=i,wo.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=wo.workingColorSpace){if(e=c9(e,1),n=Pi(n,0,1),i=Pi(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=A4(o,s,e+1/3),this.g=A4(o,s,e),this.b=A4(o,s,e-1/3)}return wo.toWorkingColorSpace(this,r),this}setStyle(e,n=ni){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ni){const i=Nj[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Nd(e.r),this.g=Nd(e.g),this.b=Nd(e.b),this}copyLinearToSRGB(e){return this.r=o4(e.r),this.g=o4(e.g),this.b=o4(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ni){return wo.fromWorkingColorSpace(Wr.copy(this),e),Math.round(Pi(Wr.r*255,0,255))*65536+Math.round(Pi(Wr.g*255,0,255))*256+Math.round(Pi(Wr.b*255,0,255))}getHexString(e=ni){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=wo.workingColorSpace){wo.fromWorkingColorSpace(Wr.copy(this),n);const i=Wr.r,r=Wr.g,s=Wr.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=wo.workingColorSpace){return wo.fromWorkingColorSpace(Wr.copy(this),n),e.r=Wr.r,e.g=Wr.g,e.b=Wr.b,e}getStyle(e=ni){wo.fromWorkingColorSpace(Wr.copy(this),e);const n=Wr.r,i=Wr.g,r=Wr.b;return e!==ni?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(Zo),Zo.h+=e,Zo.s+=n,Zo.l+=i,this.setHSL(Zo.h,Zo.s,Zo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Zo),e.getHSL(Uy);const i=i3(Zo.h,Uy.h,n),r=i3(Zo.s,Uy.s,n),s=i3(Zo.l,Uy.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Wr=new Je;Je.NAMES=Nj;class xr extends Li{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=RA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zl=Tse();function Tse(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function ws(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Pi(t,-65504,65504),zl.floatView[0]=t;const e=zl.uint32View[0],n=e>>23&511;return zl.baseTable[n]+((e&8388607)>>zl.shiftTable[n])}function U1(t){const e=t>>10;return zl.uint32View[0]=zl.mantissaTable[zl.offsetTable[e]+(t&1023)]+zl.exponentTable[e],zl.floatView[0]}const Pf={toHalfFloat:ws,fromHalfFloat:U1},qi=new j,ky=new he;class An{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=K3,this.updateRange={offset:0,count:-1},this.gpuType=Mn,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)ky.fromBufferAttribute(this,n),ky.applyMatrix3(e),this.setXY(n,ky.x,ky.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)qi.fromBufferAttribute(this,n),qi.applyMatrix3(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)qi.fromBufferAttribute(this,n),qi.applyMatrix4(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)qi.fromBufferAttribute(this,n),qi.applyNormalMatrix(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)qi.fromBufferAttribute(this,n),qi.transformDirection(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=bs(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=un(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=bs(n,this.array)),n}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=bs(n,this.array)),n}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=bs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=bs(n,this.array)),n}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),i=un(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),i=un(i,this.array),r=un(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),i=un(i,this.array),r=un(r,this.array),s=un(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==K3&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Mse extends An{constructor(e,n,i){super(new Int8Array(e),n,i)}}class Ise extends An{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class Rse extends An{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class Pse extends An{constructor(e,n,i){super(new Int16Array(e),n,i)}}class d9 extends An{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class Bse extends An{constructor(e,n,i){super(new Int32Array(e),n,i)}}class b6 extends An{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Dse extends An{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=U1(this.array[e*this.itemSize]);return this.normalized&&(n=bs(n,this.array)),n}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize]=ws(n),this}getY(e){let n=U1(this.array[e*this.itemSize+1]);return this.normalized&&(n=bs(n,this.array)),n}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+1]=ws(n),this}getZ(e){let n=U1(this.array[e*this.itemSize+2]);return this.normalized&&(n=bs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+2]=ws(n),this}getW(e){let n=U1(this.array[e*this.itemSize+3]);return this.normalized&&(n=bs(n,this.array)),n}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+3]=ws(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),i=un(i,this.array)),this.array[e+0]=ws(n),this.array[e+1]=ws(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),i=un(i,this.array),r=un(r,this.array)),this.array[e+0]=ws(n),this.array[e+1]=ws(i),this.array[e+2]=ws(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),i=un(i,this.array),r=un(r,this.array),s=un(s,this.array)),this.array[e+0]=ws(n),this.array[e+1]=ws(i),this.array[e+2]=ws(r),this.array[e+3]=ws(s),this}}class Et extends An{constructor(e,n,i){super(new Float32Array(e),n,i)}}class Lse extends An{constructor(e,n,i){super(new Float64Array(e),n,i)}}let Ose=0;const So=new it,y4=new In,Gh=new j,js=new Or,y0=new Or,vr=new j;class Xt extends uo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ose++}),this.uuid=eo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Fj(e)?b6:d9)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new sn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return So.makeRotationFromQuaternion(e),this.applyMatrix4(So),this}rotateX(e){return So.makeRotationX(e),this.applyMatrix4(So),this}rotateY(e){return So.makeRotationY(e),this.applyMatrix4(So),this}rotateZ(e){return So.makeRotationZ(e),this.applyMatrix4(So),this}translate(e,n,i){return So.makeTranslation(e,n,i),this.applyMatrix4(So),this}scale(e,n,i){return So.makeScale(e,n,i),this.applyMatrix4(So),this}lookAt(e){return y4.lookAt(e),y4.updateMatrix(),this.applyMatrix4(y4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gh).negate(),this.translate(Gh.x,Gh.y,Gh.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Et(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Or);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new j(-1/0,-1/0,-1/0),new j(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];js.setFromBufferAttribute(s),this.morphTargetsRelative?(vr.addVectors(this.boundingBox.min,js.min),this.boundingBox.expandByPoint(vr),vr.addVectors(this.boundingBox.max,js.max),this.boundingBox.expandByPoint(vr)):(this.boundingBox.expandByPoint(js.min),this.boundingBox.expandByPoint(js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new j,1/0);return}if(e){const i=this.boundingSphere.center;if(js.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];y0.setFromBufferAttribute(a),this.morphTargetsRelative?(vr.addVectors(js.min,y0.min),js.expandByPoint(vr),vr.addVectors(js.max,y0.max),js.expandByPoint(vr)):(js.expandByPoint(y0.min),js.expandByPoint(y0.max))}js.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)vr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(vr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)vr.fromBufferAttribute(a,u),l&&(Gh.fromBufferAttribute(e,u),vr.add(Gh)),r=Math.max(r,i.distanceToSquared(vr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new An(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let R=0;R<a;R++)u[R]=new j,c[R]=new j;const f=new j,h=new j,d=new j,p=new he,y=new he,A=new he,g=new j,x=new j;function S(R,D,F){f.fromArray(r,R*3),h.fromArray(r,D*3),d.fromArray(r,F*3),p.fromArray(o,R*2),y.fromArray(o,D*2),A.fromArray(o,F*2),h.sub(f),d.sub(f),y.sub(p),A.sub(p);const O=1/(y.x*A.y-A.x*y.y);isFinite(O)&&(g.copy(h).multiplyScalar(A.y).addScaledVector(d,-y.y).multiplyScalar(O),x.copy(d).multiplyScalar(y.x).addScaledVector(h,-A.x).multiplyScalar(O),u[R].add(g),u[D].add(g),u[F].add(g),c[R].add(x),c[D].add(x),c[F].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let R=0,D=E.length;R<D;++R){const F=E[R],O=F.start,L=F.count;for(let U=O,q=O+L;U<q;U+=3)S(i[U+0],i[U+1],i[U+2])}const w=new j,C=new j,b=new j,I=new j;function M(R){b.fromArray(s,R*3),I.copy(b);const D=u[R];w.copy(D),w.sub(b.multiplyScalar(b.dot(D))).normalize(),C.crossVectors(I,D);const O=C.dot(c[R])<0?-1:1;l[R*4]=w.x,l[R*4+1]=w.y,l[R*4+2]=w.z,l[R*4+3]=O}for(let R=0,D=E.length;R<D;++R){const F=E[R],O=F.start,L=F.count;for(let U=O,q=O+L;U<q;U+=3)M(i[U+0]),M(i[U+1]),M(i[U+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new An(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new j,s=new j,o=new j,a=new j,l=new j,u=new j,c=new j,f=new j;if(e)for(let h=0,d=e.count;h<d;h+=3){const p=e.getX(h+0),y=e.getX(h+1),A=e.getX(h+2);r.fromBufferAttribute(n,p),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,A),c.subVectors(o,s),f.subVectors(r,s),c.cross(f),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,y),u.fromBufferAttribute(i,A),a.add(c),l.add(c),u.add(c),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(A,u.x,u.y,u.z)}else for(let h=0,d=n.count;h<d;h+=3)r.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),c.subVectors(o,s),f.subVectors(r,s),c.cross(f),i.setXYZ(h+0,c.x,c.y,c.z),i.setXYZ(h+1,c.x,c.y,c.z),i.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)vr.fromBufferAttribute(e,n),vr.normalize(),e.setXYZ(n,vr.x,vr.y,vr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,h=new u.constructor(l.length*c);let d=0,p=0;for(let y=0,A=l.length;y<A;y++){a.isInterleavedBufferAttribute?d=l[y]*a.data.stride+a.offset:d=l[y]*c;for(let g=0;g<c;g++)h[p++]=u[d++]}return new An(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Xt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const h=u[c],d=e(h,i);l.push(d)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f];c.push(d.toJSON(e.data))}c.length>0&&(r[l]=c,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let h=0,d=f.length;h<d;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const RB=new it,$c=new _p,Ny=new Fr,PB=new j,zh=new j,Hh=new j,Vh=new j,x4=new j,Gy=new j,zy=new he,Hy=new he,Vy=new he,BB=new j,DB=new j,LB=new j,Qy=new j,Wy=new j;class yn extends In{constructor(e=new Xt,n=new xr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Gy.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(x4.fromBufferAttribute(f,e),o?Gy.addScaledVector(x4,c):Gy.addScaledVector(x4.sub(n),c))}n.add(Gy)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Ny.copy(i.boundingSphere),Ny.applyMatrix4(s),$c.copy(e.ray).recast(e.near),!(Ny.containsPoint($c.origin)===!1&&($c.intersectSphere(Ny,PB)===null||$c.origin.distanceToSquared(PB)>(e.far-e.near)**2))&&(RB.copy(s).invert(),$c.copy(e.ray).applyMatrix4(RB),!(i.boundingBox!==null&&$c.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,$c)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,f=s.attributes.normal,h=s.groups,d=s.drawRange;if(a!==null)if(Array.isArray(o))for(let p=0,y=h.length;p<y;p++){const A=h[p],g=o[A.materialIndex],x=Math.max(A.start,d.start),S=Math.min(a.count,Math.min(A.start+A.count,d.start+d.count));for(let E=x,w=S;E<w;E+=3){const C=a.getX(E),b=a.getX(E+1),I=a.getX(E+2);r=jy(this,g,e,i,u,c,f,C,b,I),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=A.materialIndex,n.push(r))}}else{const p=Math.max(0,d.start),y=Math.min(a.count,d.start+d.count);for(let A=p,g=y;A<g;A+=3){const x=a.getX(A),S=a.getX(A+1),E=a.getX(A+2);r=jy(this,o,e,i,u,c,f,x,S,E),r&&(r.faceIndex=Math.floor(A/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let p=0,y=h.length;p<y;p++){const A=h[p],g=o[A.materialIndex],x=Math.max(A.start,d.start),S=Math.min(l.count,Math.min(A.start+A.count,d.start+d.count));for(let E=x,w=S;E<w;E+=3){const C=E,b=E+1,I=E+2;r=jy(this,g,e,i,u,c,f,C,b,I),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=A.materialIndex,n.push(r))}}else{const p=Math.max(0,d.start),y=Math.min(l.count,d.start+d.count);for(let A=p,g=y;A<g;A+=3){const x=A,S=A+1,E=A+2;r=jy(this,o,e,i,u,c,f,x,S,E),r&&(r.faceIndex=Math.floor(A/3),n.push(r))}}}}function Fse(t,e,n,i,r,s,o,a){let l;if(e.side===Vi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===No,a),l===null)return null;Wy.copy(a),Wy.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Wy);return u<n.near||u>n.far?null:{distance:u,point:Wy.clone(),object:t}}function jy(t,e,n,i,r,s,o,a,l,u){t.getVertexPosition(a,zh),t.getVertexPosition(l,Hh),t.getVertexPosition(u,Vh);const c=Fse(t,e,n,i,zh,Hh,Vh,Qy);if(c){r&&(zy.fromBufferAttribute(r,a),Hy.fromBufferAttribute(r,l),Vy.fromBufferAttribute(r,u),c.uv=Cs.getInterpolation(Qy,zh,Hh,Vh,zy,Hy,Vy,new he)),s&&(zy.fromBufferAttribute(s,a),Hy.fromBufferAttribute(s,l),Vy.fromBufferAttribute(s,u),c.uv1=Cs.getInterpolation(Qy,zh,Hh,Vh,zy,Hy,Vy,new he),c.uv2=c.uv1),o&&(BB.fromBufferAttribute(o,a),DB.fromBufferAttribute(o,l),LB.fromBufferAttribute(o,u),c.normal=Cs.getInterpolation(Qy,zh,Hh,Vh,BB,DB,LB,new j),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new j,materialIndex:0};Cs.getNormal(zh,Hh,Vh,f.normal),c.face=f}return c}class Tc extends Xt{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,d=0;p("z","y","x",-1,-1,i,n,e,o,s,0),p("z","y","x",1,-1,i,n,-e,o,s,1),p("x","z","y",1,1,e,i,n,r,o,2),p("x","z","y",1,-1,e,i,-n,r,o,3),p("x","y","z",1,-1,e,n,i,r,s,4),p("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(f,2));function p(y,A,g,x,S,E,w,C,b,I,M){const R=E/b,D=w/I,F=E/2,O=w/2,L=C/2,U=b+1,q=I+1;let K=0,k=0;const W=new j;for(let V=0;V<q;V++){const G=V*D-O;for(let z=0;z<U;z++){const ne=z*R-F;W[y]=ne*x,W[A]=G*S,W[g]=L,u.push(W.x,W.y,W.z),W[y]=0,W[A]=0,W[g]=C>0?1:-1,c.push(W.x,W.y,W.z),f.push(z/b),f.push(1-V/I),K+=1}}for(let V=0;V<I;V++)for(let G=0;G<b;G++){const z=h+G+U*V,ne=h+G+U*(V+1),J=h+(G+1)+U*(V+1),$=h+(G+1)+U*V;l.push(z,ne,$),l.push(ne,J,$),k+=6}a.addGroup(d,k,M),d+=k,h+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function sp(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function ls(t){const e={};for(let n=0;n<t.length;n++){const i=sp(t[n]);for(const r in i)e[r]=i[r]}return e}function Use(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Gj(t){return t.getRenderTarget()===null?t.outputColorSpace:ga}const $n={clone:sp,merge:ls};var kse=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Nse=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class yt extends Li{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kse,this.fragmentShader=Nse,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=sp(e.uniforms),this.uniformsGroups=Use(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class bp extends In{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new it,this.projectionMatrix=new it,this.projectionMatrixInverse=new it,this.coordinateSystem=Ja}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let Qn=class extends bp{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=rp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(kf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rp*2*Math.atan(Math.tan(kf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(kf*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const Qh=-90,Wh=1;class p9 extends In{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new Qn(Qh,Wh,e,n);r.layers=this.layers,this.add(r);const s=new Qn(Qh,Wh,e,n);s.layers=this.layers,this.add(s);const o=new Qn(Qh,Wh,e,n);o.layers=this.layers,this.add(o);const a=new Qn(Qh,Wh,e,n);a.layers=this.layers,this.add(a);const l=new Qn(Qh,Wh,e,n);l.layers=this.layers,this.add(l);const u=new Qn(Qh,Wh,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Ja)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===J3)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.xr.enabled;e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,s),e.setRenderTarget(i,2),e.render(n,o),e.setRenderTarget(i,3),e.render(n,a),e.setRenderTarget(i,4),e.render(n,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(n,u),e.setRenderTarget(c),e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class LA extends Vn{constructor(e,n,i,r,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:ll,super(e,n,i,r,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class OA extends Rt{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(r3("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Lo?ni:Xl),this.texture=new LA(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:At}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Tc(5,5,5),s=new yt({name:"CubemapFromEquirect",uniforms:sp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Vi,blending:Ut});s.uniforms.tEquirect.value=n;const o=new yn(r,s),a=n.minFilter;return n.minFilter===Go&&(n.minFilter=At),new p9(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const S4=new j,Gse=new j,zse=new sn;class Mo{constructor(e=new j(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=S4.subVectors(i,n).cross(Gse.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(S4),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||zse.getNormalMatrix(e),r=this.coplanarPoint(S4).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ef=new Fr,qy=new j;class T6{constructor(e=new Mo,n=new Mo,i=new Mo,r=new Mo,s=new Mo,o=new Mo){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Ja){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],u=r[4],c=r[5],f=r[6],h=r[7],d=r[8],p=r[9],y=r[10],A=r[11],g=r[12],x=r[13],S=r[14],E=r[15];if(i[0].setComponents(l-s,h-u,A-d,E-g).normalize(),i[1].setComponents(l+s,h+u,A+d,E+g).normalize(),i[2].setComponents(l+o,h+c,A+p,E+x).normalize(),i[3].setComponents(l-o,h-c,A-p,E-x).normalize(),i[4].setComponents(l-a,h-f,A-y,E-S).normalize(),n===Ja)i[5].setComponents(l+a,h+f,A+y,E+S).normalize();else if(n===J3)i[5].setComponents(a,f,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ef.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ef.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ef)}intersectsSprite(e){return ef.center.set(0,0,0),ef.radius=.7071067811865476,ef.applyMatrix4(e.matrixWorld),this.intersectsSphere(ef)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(qy.x=r.normal.x>0?e.max.x:e.min.x,qy.y=r.normal.y>0?e.max.y:e.min.y,qy.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(qy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function zj(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Hse(t,e){const n=e.isWebGL2,i=new WeakMap;function r(u,c){const f=u.array,h=u.usage,d=t.createBuffer();t.bindBuffer(c,d),t.bufferData(c,f,h),u.onUploadCallback();let p;if(f instanceof Float32Array)p=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)p=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)p=t.SHORT;else if(f instanceof Uint32Array)p=t.UNSIGNED_INT;else if(f instanceof Int32Array)p=t.INT;else if(f instanceof Int8Array)p=t.BYTE;else if(f instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:d,type:p,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const h=c.array,d=c.updateRange;t.bindBuffer(f,u),d.count===-1?t.bufferSubData(f,0,h):(n?t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=i.get(u);c&&(t.deleteBuffer(c.buffer),i.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=i.get(u);(!h||h.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=i.get(u);f===void 0?i.set(u,r(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class cl extends Xt{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),u=a+1,c=l+1,f=e/a,h=n/l,d=[],p=[],y=[],A=[];for(let g=0;g<c;g++){const x=g*h-o;for(let S=0;S<u;S++){const E=S*f-s;p.push(E,-x,0),y.push(0,0,1),A.push(S/a),A.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const S=x+u*g,E=x+u*(g+1),w=x+1+u*(g+1),C=x+1+u*g;d.push(S,E,C),d.push(E,w,C)}this.setIndex(d),this.setAttribute("position",new Et(p,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cl(e.width,e.height,e.widthSegments,e.heightSegments)}}var Vse=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Qse=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Wse=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,jse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qse=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Xse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Yse=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Kse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Jse=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Zse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$se=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,eoe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,toe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,noe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,ioe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,roe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,soe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ooe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,aoe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,loe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,uoe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,coe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,foe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,hoe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,doe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,poe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,moe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,goe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,voe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Aoe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,yoe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xoe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Soe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Eoe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,woe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,_oe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Coe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,boe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Toe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Moe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ioe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Roe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Poe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Boe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Doe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Loe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Ooe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Foe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Uoe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,koe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Noe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Goe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zoe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Hoe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Voe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Qoe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Woe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,joe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,qoe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Xoe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Yoe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Koe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Joe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zoe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$oe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,eae=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,tae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,nae=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,iae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,rae=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,sae=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,oae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,aae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,uae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,fae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,hae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,dae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,pae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,gae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Aae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,yae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Sae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Eae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,wae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,_ae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Cae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,bae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Tae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Mae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Iae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Rae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Pae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Bae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Dae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Lae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Oae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Fae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Uae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Nae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Gae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Wae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jae=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Xae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Yae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Kae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Jae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$ae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ele=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tle=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nle=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ile=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rle=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sle=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ole=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ale=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lle=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ule=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cle=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fle=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hle=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dle=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ple=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gle=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vle=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ale=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,yle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ot={alphahash_fragment:Vse,alphahash_pars_fragment:Qse,alphamap_fragment:Wse,alphamap_pars_fragment:jse,alphatest_fragment:qse,alphatest_pars_fragment:Xse,aomap_fragment:Yse,aomap_pars_fragment:Kse,begin_vertex:Jse,beginnormal_vertex:Zse,bsdfs:$se,iridescence_fragment:eoe,bumpmap_pars_fragment:toe,clipping_planes_fragment:noe,clipping_planes_pars_fragment:ioe,clipping_planes_pars_vertex:roe,clipping_planes_vertex:soe,color_fragment:ooe,color_pars_fragment:aoe,color_pars_vertex:loe,color_vertex:uoe,common:coe,cube_uv_reflection_fragment:foe,defaultnormal_vertex:hoe,displacementmap_pars_vertex:doe,displacementmap_vertex:poe,emissivemap_fragment:moe,emissivemap_pars_fragment:goe,colorspace_fragment:voe,colorspace_pars_fragment:Aoe,envmap_fragment:yoe,envmap_common_pars_fragment:xoe,envmap_pars_fragment:Soe,envmap_pars_vertex:Eoe,envmap_physical_pars_fragment:Loe,envmap_vertex:woe,fog_vertex:_oe,fog_pars_vertex:Coe,fog_fragment:boe,fog_pars_fragment:Toe,gradientmap_pars_fragment:Moe,lightmap_fragment:Ioe,lightmap_pars_fragment:Roe,lights_lambert_fragment:Poe,lights_lambert_pars_fragment:Boe,lights_pars_begin:Doe,lights_toon_fragment:Ooe,lights_toon_pars_fragment:Foe,lights_phong_fragment:Uoe,lights_phong_pars_fragment:koe,lights_physical_fragment:Noe,lights_physical_pars_fragment:Goe,lights_fragment_begin:zoe,lights_fragment_maps:Hoe,lights_fragment_end:Voe,logdepthbuf_fragment:Qoe,logdepthbuf_pars_fragment:Woe,logdepthbuf_pars_vertex:joe,logdepthbuf_vertex:qoe,map_fragment:Xoe,map_pars_fragment:Yoe,map_particle_fragment:Koe,map_particle_pars_fragment:Joe,metalnessmap_fragment:Zoe,metalnessmap_pars_fragment:$oe,morphcolor_vertex:eae,morphnormal_vertex:tae,morphtarget_pars_vertex:nae,morphtarget_vertex:iae,normal_fragment_begin:rae,normal_fragment_maps:sae,normal_pars_fragment:oae,normal_pars_vertex:aae,normal_vertex:lae,normalmap_pars_fragment:uae,clearcoat_normal_fragment_begin:cae,clearcoat_normal_fragment_maps:fae,clearcoat_pars_fragment:hae,iridescence_pars_fragment:dae,opaque_fragment:pae,packing:mae,premultiplied_alpha_fragment:gae,project_vertex:vae,dithering_fragment:Aae,dithering_pars_fragment:yae,roughnessmap_fragment:xae,roughnessmap_pars_fragment:Sae,shadowmap_pars_fragment:Eae,shadowmap_pars_vertex:wae,shadowmap_vertex:_ae,shadowmask_pars_fragment:Cae,skinbase_vertex:bae,skinning_pars_vertex:Tae,skinning_vertex:Mae,skinnormal_vertex:Iae,specularmap_fragment:Rae,specularmap_pars_fragment:Pae,tonemapping_fragment:Bae,tonemapping_pars_fragment:Dae,transmission_fragment:Lae,transmission_pars_fragment:Oae,uv_pars_fragment:Fae,uv_pars_vertex:Uae,uv_vertex:kae,worldpos_vertex:Nae,background_vert:Gae,background_frag:zae,backgroundCube_vert:Hae,backgroundCube_frag:Vae,cube_vert:Qae,cube_frag:Wae,depth_vert:jae,depth_frag:qae,distanceRGBA_vert:Xae,distanceRGBA_frag:Yae,equirect_vert:Kae,equirect_frag:Jae,linedashed_vert:Zae,linedashed_frag:$ae,meshbasic_vert:ele,meshbasic_frag:tle,meshlambert_vert:nle,meshlambert_frag:ile,meshmatcap_vert:rle,meshmatcap_frag:sle,meshnormal_vert:ole,meshnormal_frag:ale,meshphong_vert:lle,meshphong_frag:ule,meshphysical_vert:cle,meshphysical_frag:fle,meshtoon_vert:hle,meshtoon_frag:dle,points_vert:ple,points_frag:mle,shadow_vert:gle,shadow_frag:vle,sprite_vert:Ale,sprite_frag:yle},ct={common:{diffuse:{value:new Je(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new sn},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new sn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new sn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new sn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new sn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new sn},normalScale:{value:new he(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new sn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new sn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new sn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new sn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Je(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0},uvTransform:{value:new sn}},sprite:{diffuse:{value:new Je(16777215)},opacity:{value:1},center:{value:new he(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new sn},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0}}},oa={basic:{uniforms:ls([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:Ot.meshbasic_vert,fragmentShader:Ot.meshbasic_frag},lambert:{uniforms:ls([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new Je(0)}}]),vertexShader:Ot.meshlambert_vert,fragmentShader:Ot.meshlambert_frag},phong:{uniforms:ls([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new Je(0)},specular:{value:new Je(1118481)},shininess:{value:30}}]),vertexShader:Ot.meshphong_vert,fragmentShader:Ot.meshphong_frag},standard:{uniforms:ls([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new Je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag},toon:{uniforms:ls([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new Je(0)}}]),vertexShader:Ot.meshtoon_vert,fragmentShader:Ot.meshtoon_frag},matcap:{uniforms:ls([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:Ot.meshmatcap_vert,fragmentShader:Ot.meshmatcap_frag},points:{uniforms:ls([ct.points,ct.fog]),vertexShader:Ot.points_vert,fragmentShader:Ot.points_frag},dashed:{uniforms:ls([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ot.linedashed_vert,fragmentShader:Ot.linedashed_frag},depth:{uniforms:ls([ct.common,ct.displacementmap]),vertexShader:Ot.depth_vert,fragmentShader:Ot.depth_frag},normal:{uniforms:ls([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:Ot.meshnormal_vert,fragmentShader:Ot.meshnormal_frag},sprite:{uniforms:ls([ct.sprite,ct.fog]),vertexShader:Ot.sprite_vert,fragmentShader:Ot.sprite_frag},background:{uniforms:{uvTransform:{value:new sn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ot.background_vert,fragmentShader:Ot.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ot.backgroundCube_vert,fragmentShader:Ot.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ot.cube_vert,fragmentShader:Ot.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ot.equirect_vert,fragmentShader:Ot.equirect_frag},distanceRGBA:{uniforms:ls([ct.common,ct.displacementmap,{referencePosition:{value:new j},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ot.distanceRGBA_vert,fragmentShader:Ot.distanceRGBA_frag},shadow:{uniforms:ls([ct.lights,ct.fog,{color:{value:new Je(0)},opacity:{value:1}}]),vertexShader:Ot.shadow_vert,fragmentShader:Ot.shadow_frag}};oa.physical={uniforms:ls([oa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new sn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new sn},clearcoatNormalScale:{value:new he(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new sn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new sn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new sn},sheen:{value:0},sheenColor:{value:new Je(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new sn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new sn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new sn},transmissionSamplerSize:{value:new he},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new sn},attenuationDistance:{value:0},attenuationColor:{value:new Je(0)},specularColor:{value:new Je(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new sn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new sn},anisotropyVector:{value:new he},anisotropyMap:{value:null},anisotropyMapTransform:{value:new sn}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag};const Xy={r:0,b:0,g:0};function xle(t,e,n,i,r,s,o){const a=new Je(0);let l=s===!0?0:1,u,c,f=null,h=0,d=null;function p(A,g){let x=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?n:e).get(S)),S===null?y(a,l):S&&S.isColor&&(y(S,1),x=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?i.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===wp)?(c===void 0&&(c=new yn(new Tc(1,1,1),new yt({name:"BackgroundCubeMaterial",uniforms:sp(oa.backgroundCube.uniforms),vertexShader:oa.backgroundCube.vertexShader,fragmentShader:oa.backgroundCube.fragmentShader,side:Vi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,C,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=S.colorSpace!==ni,(f!==S||h!==S.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=S,h=S.version,d=t.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new yn(new cl(2,2),new yt({name:"BackgroundMaterial",uniforms:sp(oa.background.uniforms),vertexShader:oa.background.vertexShader,fragmentShader:oa.background.fragmentShader,side:No,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=S.colorSpace!==ni,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||h!==S.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=S,h=S.version,d=t.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function y(A,g){A.getRGB(Xy,Gj(t)),i.buffers.color.setClear(Xy.r,Xy.g,Xy.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(A,g=1){a.set(A),l=g,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,y(a,l)},render:p}}function Sle(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=A(null);let u=l,c=!1;function f(L,U,q,K,k){let W=!1;if(o){const V=y(K,q,U);u!==V&&(u=V,d(u.object)),W=g(L,K,q,k),W&&x(L,K,q,k)}else{const V=U.wireframe===!0;(u.geometry!==K.id||u.program!==q.id||u.wireframe!==V)&&(u.geometry=K.id,u.program=q.id,u.wireframe=V,W=!0)}k!==null&&n.update(k,t.ELEMENT_ARRAY_BUFFER),(W||c)&&(c=!1,I(L,U,q,K),k!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(k).buffer))}function h(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function d(L){return i.isWebGL2?t.bindVertexArray(L):s.bindVertexArrayOES(L)}function p(L){return i.isWebGL2?t.deleteVertexArray(L):s.deleteVertexArrayOES(L)}function y(L,U,q){const K=q.wireframe===!0;let k=a[L.id];k===void 0&&(k={},a[L.id]=k);let W=k[U.id];W===void 0&&(W={},k[U.id]=W);let V=W[K];return V===void 0&&(V=A(h()),W[K]=V),V}function A(L){const U=[],q=[],K=[];for(let k=0;k<r;k++)U[k]=0,q[k]=0,K[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:q,attributeDivisors:K,object:L,attributes:{},index:null}}function g(L,U,q,K){const k=u.attributes,W=U.attributes;let V=0;const G=q.getAttributes();for(const z in G)if(G[z].location>=0){const J=k[z];let $=W[z];if($===void 0&&(z==="instanceMatrix"&&L.instanceMatrix&&($=L.instanceMatrix),z==="instanceColor"&&L.instanceColor&&($=L.instanceColor)),J===void 0||J.attribute!==$||$&&J.data!==$.data)return!0;V++}return u.attributesNum!==V||u.index!==K}function x(L,U,q,K){const k={},W=U.attributes;let V=0;const G=q.getAttributes();for(const z in G)if(G[z].location>=0){let J=W[z];J===void 0&&(z==="instanceMatrix"&&L.instanceMatrix&&(J=L.instanceMatrix),z==="instanceColor"&&L.instanceColor&&(J=L.instanceColor));const $={};$.attribute=J,J&&J.data&&($.data=J.data),k[z]=$,V++}u.attributes=k,u.attributesNum=V,u.index=K}function S(){const L=u.newAttributes;for(let U=0,q=L.length;U<q;U++)L[U]=0}function E(L){w(L,0)}function w(L,U){const q=u.newAttributes,K=u.enabledAttributes,k=u.attributeDivisors;q[L]=1,K[L]===0&&(t.enableVertexAttribArray(L),K[L]=1),k[L]!==U&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](L,U),k[L]=U)}function C(){const L=u.newAttributes,U=u.enabledAttributes;for(let q=0,K=U.length;q<K;q++)U[q]!==L[q]&&(t.disableVertexAttribArray(q),U[q]=0)}function b(L,U,q,K,k,W,V){V===!0?t.vertexAttribIPointer(L,U,q,k,W):t.vertexAttribPointer(L,U,q,K,k,W)}function I(L,U,q,K){if(i.isWebGL2===!1&&(L.isInstancedMesh||K.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const k=K.attributes,W=q.getAttributes(),V=U.defaultAttributeValues;for(const G in W){const z=W[G];if(z.location>=0){let ne=k[G];if(ne===void 0&&(G==="instanceMatrix"&&L.instanceMatrix&&(ne=L.instanceMatrix),G==="instanceColor"&&L.instanceColor&&(ne=L.instanceColor)),ne!==void 0){const J=ne.normalized,$=ne.itemSize,X=n.get(ne);if(X===void 0)continue;const oe=X.buffer,ie=X.type,_e=X.bytesPerElement,Re=i.isWebGL2===!0&&(ie===t.INT||ie===t.UNSIGNED_INT||ne.gpuType===n9);if(ne.isInterleavedBufferAttribute){const pe=ne.data,Y=pe.stride,me=ne.offset;if(pe.isInstancedInterleavedBuffer){for(let ge=0;ge<z.locationSize;ge++)w(z.location+ge,pe.meshPerAttribute);L.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let ge=0;ge<z.locationSize;ge++)E(z.location+ge);t.bindBuffer(t.ARRAY_BUFFER,oe);for(let ge=0;ge<z.locationSize;ge++)b(z.location+ge,$/z.locationSize,ie,J,Y*_e,(me+$/z.locationSize*ge)*_e,Re)}else{if(ne.isInstancedBufferAttribute){for(let pe=0;pe<z.locationSize;pe++)w(z.location+pe,ne.meshPerAttribute);L.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let pe=0;pe<z.locationSize;pe++)E(z.location+pe);t.bindBuffer(t.ARRAY_BUFFER,oe);for(let pe=0;pe<z.locationSize;pe++)b(z.location+pe,$/z.locationSize,ie,J,$*_e,$/z.locationSize*pe*_e,Re)}}else if(V!==void 0){const J=V[G];if(J!==void 0)switch(J.length){case 2:t.vertexAttrib2fv(z.location,J);break;case 3:t.vertexAttrib3fv(z.location,J);break;case 4:t.vertexAttrib4fv(z.location,J);break;default:t.vertexAttrib1fv(z.location,J)}}}}C()}function M(){F();for(const L in a){const U=a[L];for(const q in U){const K=U[q];for(const k in K)p(K[k].object),delete K[k];delete U[q]}delete a[L]}}function R(L){if(a[L.id]===void 0)return;const U=a[L.id];for(const q in U){const K=U[q];for(const k in K)p(K[k].object),delete K[k];delete U[q]}delete a[L.id]}function D(L){for(const U in a){const q=a[U];if(q[L.id]===void 0)continue;const K=q[L.id];for(const k in K)p(K[k].object),delete K[k];delete q[L.id]}}function F(){O(),c=!0,u!==l&&(u=l,d(u.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:F,resetDefaultState:O,dispose:M,releaseStatesOfGeometry:R,releaseStatesOfProgram:D,initAttributes:S,enableAttribute:E,disableUnusedAttributes:C}}function Ele(t,e,n,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,f){if(f===0)return;let h,d;if(r)h=t,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[d](s,u,c,f),n.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function wle(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const b=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(b){if(b==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";b="mediump"}return b==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),A=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=h>0,E=o||e.has("OES_texture_float"),w=S&&E,C=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:y,maxVertexUniforms:A,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:S,floatFragmentTextures:E,floatVertexTextures:w,maxSamples:C}}function _le(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Mo,a=new sn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||i!==0||r;return r=h,i=f.length,d},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,d){const p=f.clippingPlanes,y=f.clipIntersection,A=f.clipShadows,g=t.get(f);if(!r||p===null||p.length===0||s&&!A)s?c(null):u();else{const x=s?0:i,S=x*4;let E=g.clippingState||null;l.value=E,E=c(p,h,S,d);for(let w=0;w!==S;++w)E[w]=n[w];g.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(f,h,d,p){const y=f!==null?f.length:0;let A=null;if(y!==0){if(A=l.value,p!==!0||A===null){const g=d+y*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(A===null||A.length<g)&&(A=new Float32Array(g));for(let S=0,E=d;S!==y;++S,E+=4)o.copy(f[S]).applyMatrix4(x,a),o.normal.toArray(A,E),A[E+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,A}}function Cle(t){let e=new WeakMap;function n(o,a){return a===tp?o.mapping=ll:a===H3&&(o.mapping=vc),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===tp||a===H3)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new OA(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",r),n(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class fa extends bp{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const wd=4,OB=[.125,.215,.35,.446,.526,.582],Sf=20,E4=new fa,FB=new Je;let w4=null;const gf=(1+Math.sqrt(5))/2,jh=1/gf,UB=[new j(1,1,1),new j(-1,1,1),new j(1,1,-1),new j(-1,1,-1),new j(0,gf,jh),new j(0,gf,-jh),new j(jh,0,gf),new j(-jh,0,gf),new j(gf,jh,0),new j(-gf,jh,0)];class uS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){w4=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=GB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=NB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(w4),e.scissorTest=!1,Yy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ll||e.mapping===vc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),w4=this._renderer.getRenderTarget();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:At,minFilter:At,generateMipmaps:!1,type:hn,format:Pn,colorSpace:ga,depthBuffer:!1},r=kB(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kB(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ble(s)),this._blurMaterial=Tle(s,e,n)}return r}_compileMaterial(e){const n=new yn(this._lodPlanes[0],e);this._renderer.compile(n,E4)}_sceneToCubeUV(e,n,i,r){const a=new Qn(90,1,n,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(FB),c.toneMapping=Do,c.autoClear=!1;const d=new xr({name:"PMREM.Background",side:Vi,depthWrite:!1,depthTest:!1}),p=new yn(new Tc,d);let y=!1;const A=e.background;A?A.isColor&&(d.color.copy(A),e.background=null,y=!0):(d.color.copy(FB),y=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):x===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const S=this._cubeSize;Yy(r,x*S,g>2?S:0,S,S),c.setRenderTarget(r),y&&c.render(p,a),c.render(e,a)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=A}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===ll||e.mapping===vc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=GB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=NB());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new yn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Yy(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,E4)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=UB[(r-1)%UB.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new yn(this._lodPlanes[r],u),h=u.uniforms,d=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Sf-1),y=s/p,A=isFinite(s)?1+Math.floor(c*y):Sf;A>Sf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Sf}`);const g=[];let x=0;for(let b=0;b<Sf;++b){const I=b/y,M=Math.exp(-I*I/2);g.push(M),b===0?x+=M:b<A&&(x+=2*M)}for(let b=0;b<g.length;b++)g[b]=g[b]/x;h.envMap.value=e.texture,h.samples.value=A,h.weights.value=g,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:S}=this;h.dTheta.value=p,h.mipInt.value=S-i;const E=this._sizeLods[r],w=3*E*(r>S-wd?r-S+wd:0),C=4*(this._cubeSize-E);Yy(n,w,C,3*E,2*E),l.setRenderTarget(n),l.render(f,E4)}}function ble(t){const e=[],n=[],i=[];let r=t;const s=t-wd+1+OB.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-wd?l=OB[o-t+wd-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,p=6,y=3,A=2,g=1,x=new Float32Array(y*p*d),S=new Float32Array(A*p*d),E=new Float32Array(g*p*d);for(let C=0;C<d;C++){const b=C%3*2/3-1,I=C>2?0:-1,M=[b,I,0,b+2/3,I,0,b+2/3,I+1,0,b,I,0,b+2/3,I+1,0,b,I+1,0];x.set(M,y*p*C),S.set(h,A*p*C);const R=[C,C,C,C,C,C];E.set(R,g*p*C)}const w=new Xt;w.setAttribute("position",new An(x,y)),w.setAttribute("uv",new An(S,A)),w.setAttribute("faceIndex",new An(E,g)),e.push(w),r>wd&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function kB(t,e,n){const i=new Rt(t,e,n);return i.texture.mapping=wp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Yy(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Tle(t,e,n){const i=new Float32Array(Sf),r=new j(0,1,0);return new yt({name:"SphericalGaussianBlur",defines:{n:Sf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:m9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ut,depthTest:!1,depthWrite:!1})}function NB(){return new yt({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:m9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ut,depthTest:!1,depthWrite:!1})}function GB(){return new yt({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:m9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ut,depthTest:!1,depthWrite:!1})}function m9(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Mle(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===tp||l===H3,c=l===ll||l===vc;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new uS(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&r(f)){n===null&&(n=new uS(t));const h=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function Ile(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Rle(t,e,n,i){const r={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const y=h.morphAttributes[p];for(let A=0,g=y.length;A<g;A++)e.remove(y[A])}h.removeEventListener("dispose",o),delete r[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(f,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const p in h)e.update(h[p],t.ARRAY_BUFFER);const d=f.morphAttributes;for(const p in d){const y=d[p];for(let A=0,g=y.length;A<g;A++)e.update(y[A],t.ARRAY_BUFFER)}}function u(f){const h=[],d=f.index,p=f.attributes.position;let y=0;if(d!==null){const x=d.array;y=d.version;for(let S=0,E=x.length;S<E;S+=3){const w=x[S+0],C=x[S+1],b=x[S+2];h.push(w,C,C,b,b,w)}}else if(p!==void 0){const x=p.array;y=p.version;for(let S=0,E=x.length/3-1;S<E;S+=3){const w=S+0,C=S+1,b=S+2;h.push(w,C,C,b,b,w)}}else return;const A=new(Fj(h)?b6:d9)(h,1);A.version=y;const g=s.get(f);g&&e.remove(g),s.set(f,A)}function c(f){const h=s.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function Ple(t,e,n,i){const r=i.isWebGL2;let s;function o(h){s=h}let a,l;function u(h){a=h.type,l=h.bytesPerElement}function c(h,d){t.drawElements(s,d,a,h*l),n.update(d,s,1)}function f(h,d,p){if(p===0)return;let y,A;if(r)y=t,A="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[A](s,d,a,h*l,p),n.update(d,s,p)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function Ble(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Dle(t,e){return t[0]-e[0]}function Lle(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Ole(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new qt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const p=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=p!==void 0?p.length:0;let A=s.get(c);if(A===void 0||A.count!==y){let U=function(){O.dispose(),s.delete(c),c.removeEventListener("dispose",U)};var d=U;A!==void 0&&A.texture.dispose();const S=c.morphAttributes.position!==void 0,E=c.morphAttributes.normal!==void 0,w=c.morphAttributes.color!==void 0,C=c.morphAttributes.position||[],b=c.morphAttributes.normal||[],I=c.morphAttributes.color||[];let M=0;S===!0&&(M=1),E===!0&&(M=2),w===!0&&(M=3);let R=c.attributes.position.count*M,D=1;R>e.maxTextureSize&&(D=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const F=new Float32Array(R*D*4*y),O=new C6(F,R,D,y);O.type=Mn,O.needsUpdate=!0;const L=M*4;for(let q=0;q<y;q++){const K=C[q],k=b[q],W=I[q],V=R*D*4*q;for(let G=0;G<K.count;G++){const z=G*L;S===!0&&(o.fromBufferAttribute(K,G),F[V+z+0]=o.x,F[V+z+1]=o.y,F[V+z+2]=o.z,F[V+z+3]=0),E===!0&&(o.fromBufferAttribute(k,G),F[V+z+4]=o.x,F[V+z+5]=o.y,F[V+z+6]=o.z,F[V+z+7]=0),w===!0&&(o.fromBufferAttribute(W,G),F[V+z+8]=o.x,F[V+z+9]=o.y,F[V+z+10]=o.z,F[V+z+11]=W.itemSize===4?o.w:1)}}A={count:y,texture:O,size:new he(R,D)},s.set(c,A),c.addEventListener("dispose",U)}let g=0;for(let S=0;S<h.length;S++)g+=h[S];const x=c.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",A.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",A.size)}else{const p=h===void 0?0:h.length;let y=i[c.id];if(y===void 0||y.length!==p){y=[];for(let E=0;E<p;E++)y[E]=[E,0];i[c.id]=y}for(let E=0;E<p;E++){const w=y[E];w[0]=E,w[1]=h[E]}y.sort(Lle);for(let E=0;E<8;E++)E<p&&y[E][1]?(a[E][0]=y[E][0],a[E][1]=y[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Dle);const A=c.morphAttributes.position,g=c.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const w=a[E],C=w[0],b=w[1];C!==Number.MAX_SAFE_INTEGER&&b?(A&&c.getAttribute("morphTarget"+E)!==A[C]&&c.setAttribute("morphTarget"+E,A[C]),g&&c.getAttribute("morphNormal"+E)!==g[C]&&c.setAttribute("morphNormal"+E,g[C]),r[E]=b,x+=b):(A&&c.hasAttribute("morphTarget"+E)===!0&&c.deleteAttribute("morphTarget"+E),g&&c.hasAttribute("morphNormal"+E)===!0&&c.deleteAttribute("morphNormal"+E),r[E]=0)}const S=c.morphTargetsRelative?1:1-x;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function Fle(t,e,n,i){let r=new WeakMap;function s(l){const u=i.render.frame,c=l.geometry,f=e.get(l,c);if(r.get(f)!==u&&(e.update(f),r.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==u&&(h.update(),r.set(h,u))}return f}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const Hj=new Vn,Vj=new C6,Qj=new Nf,Wj=new LA,zB=[],HB=[],VB=new Float32Array(16),QB=new Float32Array(9),WB=new Float32Array(4);function Tp(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=zB[r];if(s===void 0&&(s=new Float32Array(r),zB[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function lr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ur(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function M6(t,e){let n=HB[e];n===void 0&&(n=new Int32Array(e),HB[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Ule(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function kle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(lr(n,e))return;t.uniform2fv(this.addr,e),ur(n,e)}}function Nle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(lr(n,e))return;t.uniform3fv(this.addr,e),ur(n,e)}}function Gle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(lr(n,e))return;t.uniform4fv(this.addr,e),ur(n,e)}}function zle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(lr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ur(n,e)}else{if(lr(n,i))return;WB.set(i),t.uniformMatrix2fv(this.addr,!1,WB),ur(n,i)}}function Hle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(lr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ur(n,e)}else{if(lr(n,i))return;QB.set(i),t.uniformMatrix3fv(this.addr,!1,QB),ur(n,i)}}function Vle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(lr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ur(n,e)}else{if(lr(n,i))return;VB.set(i),t.uniformMatrix4fv(this.addr,!1,VB),ur(n,i)}}function Qle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Wle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(lr(n,e))return;t.uniform2iv(this.addr,e),ur(n,e)}}function jle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(lr(n,e))return;t.uniform3iv(this.addr,e),ur(n,e)}}function qle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(lr(n,e))return;t.uniform4iv(this.addr,e),ur(n,e)}}function Xle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Yle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(lr(n,e))return;t.uniform2uiv(this.addr,e),ur(n,e)}}function Kle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(lr(n,e))return;t.uniform3uiv(this.addr,e),ur(n,e)}}function Jle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(lr(n,e))return;t.uniform4uiv(this.addr,e),ur(n,e)}}function Zle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||Hj,r)}function $le(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Qj,r)}function eue(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||Wj,r)}function tue(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Vj,r)}function nue(t){switch(t){case 5126:return Ule;case 35664:return kle;case 35665:return Nle;case 35666:return Gle;case 35674:return zle;case 35675:return Hle;case 35676:return Vle;case 5124:case 35670:return Qle;case 35667:case 35671:return Wle;case 35668:case 35672:return jle;case 35669:case 35673:return qle;case 5125:return Xle;case 36294:return Yle;case 36295:return Kle;case 36296:return Jle;case 35678:case 36198:case 36298:case 36306:case 35682:return Zle;case 35679:case 36299:case 36307:return $le;case 35680:case 36300:case 36308:case 36293:return eue;case 36289:case 36303:case 36311:case 36292:return tue}}function iue(t,e){t.uniform1fv(this.addr,e)}function rue(t,e){const n=Tp(e,this.size,2);t.uniform2fv(this.addr,n)}function sue(t,e){const n=Tp(e,this.size,3);t.uniform3fv(this.addr,n)}function oue(t,e){const n=Tp(e,this.size,4);t.uniform4fv(this.addr,n)}function aue(t,e){const n=Tp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function lue(t,e){const n=Tp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function uue(t,e){const n=Tp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function cue(t,e){t.uniform1iv(this.addr,e)}function fue(t,e){t.uniform2iv(this.addr,e)}function hue(t,e){t.uniform3iv(this.addr,e)}function due(t,e){t.uniform4iv(this.addr,e)}function pue(t,e){t.uniform1uiv(this.addr,e)}function mue(t,e){t.uniform2uiv(this.addr,e)}function gue(t,e){t.uniform3uiv(this.addr,e)}function vue(t,e){t.uniform4uiv(this.addr,e)}function Aue(t,e,n){const i=this.cache,r=e.length,s=M6(n,r);lr(i,s)||(t.uniform1iv(this.addr,s),ur(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||Hj,s[o])}function yue(t,e,n){const i=this.cache,r=e.length,s=M6(n,r);lr(i,s)||(t.uniform1iv(this.addr,s),ur(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||Qj,s[o])}function xue(t,e,n){const i=this.cache,r=e.length,s=M6(n,r);lr(i,s)||(t.uniform1iv(this.addr,s),ur(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||Wj,s[o])}function Sue(t,e,n){const i=this.cache,r=e.length,s=M6(n,r);lr(i,s)||(t.uniform1iv(this.addr,s),ur(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||Vj,s[o])}function Eue(t){switch(t){case 5126:return iue;case 35664:return rue;case 35665:return sue;case 35666:return oue;case 35674:return aue;case 35675:return lue;case 35676:return uue;case 5124:case 35670:return cue;case 35667:case 35671:return fue;case 35668:case 35672:return hue;case 35669:case 35673:return due;case 5125:return pue;case 36294:return mue;case 36295:return gue;case 36296:return vue;case 35678:case 36198:case 36298:case 36306:case 35682:return Aue;case 35679:case 36299:case 36307:return yue;case 35680:case 36300:case 36308:case 36293:return xue;case 36289:case 36303:case 36311:case 36292:return Sue}}class wue{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.setValue=nue(n.type)}}class _ue{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=Eue(n.type)}}class Cue{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const _4=/(\w+)(\])?(\[|\.)?/g;function jB(t,e){t.seq.push(e),t.map[e.id]=e}function bue(t,e,n){const i=t.name,r=i.length;for(_4.lastIndex=0;;){const s=_4.exec(i),o=_4.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){jB(n,u===void 0?new wue(a,t,e):new _ue(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new Cue(a),jB(n,f)),n=f}}}class gx{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);bue(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function qB(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let Tue=0;function Mue(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function Iue(t){switch(t){case ga:return["Linear","( value )"];case ni:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function XB(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+Mue(t.getShaderSource(e),o)}else return r}function Rue(t,e){const n=Iue(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Pue(t,e){let n;switch(e){case hj:n="Linear";break;case dj:n="Reinhard";break;case pj:n="OptimizedCineon";break;case t9:n="ACESFilmic";break;case mj:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Bue(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(k1).join(`
`)}function Due(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Lue(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function k1(t){return t!==""}function YB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function KB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Oue=/^[ \t]*#include +<([\w\d./]+)>/gm;function kb(t){return t.replace(Oue,Uue)}const Fue=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Uue(t,e){let n=Ot[e];if(n===void 0){const i=Fue.get(e);if(i!==void 0)n=Ot[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return kb(n)}const kue=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function JB(t){return t.replace(kue,Nue)}function Nue(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function ZB(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Gue(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===v6?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===n3?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ia&&(e="SHADOWMAP_TYPE_VSM"),e}function zue(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ll:case vc:e="ENVMAP_TYPE_CUBE";break;case wp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Hue(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case vc:e="ENVMAP_MODE_REFRACTION";break}return e}function Vue(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case RA:e="ENVMAP_BLENDING_MULTIPLY";break;case cj:e="ENVMAP_BLENDING_MIX";break;case fj:e="ENVMAP_BLENDING_ADD";break}return e}function Que(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function Wue(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Gue(n),u=zue(n),c=Hue(n),f=Vue(n),h=Que(n),d=n.isWebGL2?"":Bue(n),p=Due(s),y=r.createProgram();let A,g,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(A=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(k1).join(`
`),A.length>0&&(A+=`
`),g=[d,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(k1).join(`
`),g.length>0&&(g+=`
`)):(A=[ZB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(k1).join(`
`),g=[d,ZB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Do?"#define TONE_MAPPING":"",n.toneMapping!==Do?Ot.tonemapping_pars_fragment:"",n.toneMapping!==Do?Pue("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ot.colorspace_pars_fragment,Rue("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(k1).join(`
`)),o=kb(o),o=YB(o,n),o=KB(o,n),a=kb(a),a=YB(a,n),a=KB(a,n),o=JB(o),a=JB(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,g=["#define varying in",n.glslVersion===oS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===oS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=x+A+o,E=x+g+a,w=qB(r,r.VERTEX_SHADER,S),C=qB(r,r.FRAGMENT_SHADER,E);if(r.attachShader(y,w),r.attachShader(y,C),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),t.debug.checkShaderErrors){const M=r.getProgramInfoLog(y).trim(),R=r.getShaderInfoLog(w).trim(),D=r.getShaderInfoLog(C).trim();let F=!0,O=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(F=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,y,w,C);else{const L=XB(r,w,"vertex"),U=XB(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Program Info Log: `+M+`
`+L+`
`+U)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(R===""||D==="")&&(O=!1);O&&(this.diagnostics={runnable:F,programLog:M,vertexShader:{log:R,prefix:A},fragmentShader:{log:D,prefix:g}})}r.deleteShader(w),r.deleteShader(C);let b;this.getUniforms=function(){return b===void 0&&(b=new gx(r,y)),b};let I;return this.getAttributes=function(){return I===void 0&&(I=Lue(r,y)),I},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Tue++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=w,this.fragmentShader=C,this}let jue=0;class que{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Xue(e),n.set(e,i)),i}}class Xue{constructor(e){this.id=jue++,this.code=e,this.usedTimes=0}}function Yue(t,e,n,i,r,s,o){const a=new Gf,l=new que,u=[],c=r.isWebGL2,f=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(M){return M===0?"uv":`uv${M}`}function A(M,R,D,F,O){const L=F.fog,U=O.geometry,q=M.isMeshStandardMaterial?F.environment:null,K=(M.isMeshStandardMaterial?n:e).get(M.envMap||q),k=K&&K.mapping===wp?K.image.height:null,W=p[M.type];M.precision!==null&&(d=r.getMaxPrecision(M.precision),d!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",d,"instead."));const V=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,G=V!==void 0?V.length:0;let z=0;U.morphAttributes.position!==void 0&&(z=1),U.morphAttributes.normal!==void 0&&(z=2),U.morphAttributes.color!==void 0&&(z=3);let ne,J,$,X;if(W){const wn=oa[W];ne=wn.vertexShader,J=wn.fragmentShader}else ne=M.vertexShader,J=M.fragmentShader,l.update(M),$=l.getVertexShaderID(M),X=l.getFragmentShaderID(M);const oe=t.getRenderTarget(),ie=O.isInstancedMesh===!0,_e=!!M.map,Re=!!M.matcap,pe=!!K,Y=!!M.aoMap,me=!!M.lightMap,ge=!!M.bumpMap,de=!!M.normalMap,Se=!!M.displacementMap,Qe=!!M.emissiveMap,xe=!!M.metalnessMap,ke=!!M.roughnessMap,Ne=M.anisotropy>0,De=M.clearcoat>0,tt=M.iridescence>0,te=M.sheen>0,H=M.transmission>0,fe=Ne&&!!M.anisotropyMap,je=De&&!!M.clearcoatMap,Ue=De&&!!M.clearcoatNormalMap,Pe=De&&!!M.clearcoatRoughnessMap,$e=tt&&!!M.iridescenceMap,Ke=tt&&!!M.iridescenceThicknessMap,we=te&&!!M.sheenColorMap,ae=te&&!!M.sheenRoughnessMap,Te=!!M.specularMap,Me=!!M.specularColorMap,Fe=!!M.specularIntensityMap,qe=H&&!!M.transmissionMap,rt=H&&!!M.thicknessMap,ut=!!M.gradientMap,ce=!!M.alphaMap,Ce=M.alphaTest>0,be=!!M.alphaHash,Ze=!!M.extensions,lt=!!U.attributes.uv1,Jt=!!U.attributes.uv2,an=!!U.attributes.uv3;let mn=Do;return M.toneMapped&&(oe===null||oe.isXRRenderTarget===!0)&&(mn=t.toneMapping),{isWebGL2:c,shaderID:W,shaderType:M.type,shaderName:M.name,vertexShader:ne,fragmentShader:J,defines:M.defines,customVertexShaderID:$,customFragmentShaderID:X,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:d,instancing:ie,instancingColor:ie&&O.instanceColor!==null,supportsVertexTextures:h,outputColorSpace:oe===null?t.outputColorSpace:oe.isXRRenderTarget===!0?oe.texture.colorSpace:ga,map:_e,matcap:Re,envMap:pe,envMapMode:pe&&K.mapping,envMapCubeUVHeight:k,aoMap:Y,lightMap:me,bumpMap:ge,normalMap:de,displacementMap:h&&Se,emissiveMap:Qe,normalMapObjectSpace:de&&M.normalMapType===Cj,normalMapTangentSpace:de&&M.normalMapType===uu,metalnessMap:xe,roughnessMap:ke,anisotropy:Ne,anisotropyMap:fe,clearcoat:De,clearcoatMap:je,clearcoatNormalMap:Ue,clearcoatRoughnessMap:Pe,iridescence:tt,iridescenceMap:$e,iridescenceThicknessMap:Ke,sheen:te,sheenColorMap:we,sheenRoughnessMap:ae,specularMap:Te,specularColorMap:Me,specularIntensityMap:Fe,transmission:H,transmissionMap:qe,thicknessMap:rt,gradientMap:ut,opaque:M.transparent===!1&&M.blending===tl,alphaMap:ce,alphaTest:Ce,alphaHash:be,combine:M.combine,mapUv:_e&&y(M.map.channel),aoMapUv:Y&&y(M.aoMap.channel),lightMapUv:me&&y(M.lightMap.channel),bumpMapUv:ge&&y(M.bumpMap.channel),normalMapUv:de&&y(M.normalMap.channel),displacementMapUv:Se&&y(M.displacementMap.channel),emissiveMapUv:Qe&&y(M.emissiveMap.channel),metalnessMapUv:xe&&y(M.metalnessMap.channel),roughnessMapUv:ke&&y(M.roughnessMap.channel),anisotropyMapUv:fe&&y(M.anisotropyMap.channel),clearcoatMapUv:je&&y(M.clearcoatMap.channel),clearcoatNormalMapUv:Ue&&y(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Pe&&y(M.clearcoatRoughnessMap.channel),iridescenceMapUv:$e&&y(M.iridescenceMap.channel),iridescenceThicknessMapUv:Ke&&y(M.iridescenceThicknessMap.channel),sheenColorMapUv:we&&y(M.sheenColorMap.channel),sheenRoughnessMapUv:ae&&y(M.sheenRoughnessMap.channel),specularMapUv:Te&&y(M.specularMap.channel),specularColorMapUv:Me&&y(M.specularColorMap.channel),specularIntensityMapUv:Fe&&y(M.specularIntensityMap.channel),transmissionMapUv:qe&&y(M.transmissionMap.channel),thicknessMapUv:rt&&y(M.thicknessMap.channel),alphaMapUv:ce&&y(M.alphaMap.channel),vertexTangents:!!U.attributes.tangent&&(de||Ne),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUv1s:lt,vertexUv2s:Jt,vertexUv3s:an,pointsUvs:O.isPoints===!0&&!!U.attributes.uv&&(_e||ce),fog:!!L,useFog:M.fog===!0,fogExp2:L&&L.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:O.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:z,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:mn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:_e&&M.map.isVideoTexture===!0&&M.map.colorSpace===ni,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===yr,flipSided:M.side===Vi,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:Ze&&M.extensions.derivatives===!0,extensionFragDepth:Ze&&M.extensions.fragDepth===!0,extensionDrawBuffers:Ze&&M.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ze&&M.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function g(M){const R=[];if(M.shaderID?R.push(M.shaderID):(R.push(M.customVertexShaderID),R.push(M.customFragmentShaderID)),M.defines!==void 0)for(const D in M.defines)R.push(D),R.push(M.defines[D]);return M.isRawShaderMaterial===!1&&(x(R,M),S(R,M),R.push(t.outputColorSpace)),R.push(M.customProgramCacheKey),R.join()}function x(M,R){M.push(R.precision),M.push(R.outputColorSpace),M.push(R.envMapMode),M.push(R.envMapCubeUVHeight),M.push(R.mapUv),M.push(R.alphaMapUv),M.push(R.lightMapUv),M.push(R.aoMapUv),M.push(R.bumpMapUv),M.push(R.normalMapUv),M.push(R.displacementMapUv),M.push(R.emissiveMapUv),M.push(R.metalnessMapUv),M.push(R.roughnessMapUv),M.push(R.anisotropyMapUv),M.push(R.clearcoatMapUv),M.push(R.clearcoatNormalMapUv),M.push(R.clearcoatRoughnessMapUv),M.push(R.iridescenceMapUv),M.push(R.iridescenceThicknessMapUv),M.push(R.sheenColorMapUv),M.push(R.sheenRoughnessMapUv),M.push(R.specularMapUv),M.push(R.specularColorMapUv),M.push(R.specularIntensityMapUv),M.push(R.transmissionMapUv),M.push(R.thicknessMapUv),M.push(R.combine),M.push(R.fogExp2),M.push(R.sizeAttenuation),M.push(R.morphTargetsCount),M.push(R.morphAttributeCount),M.push(R.numDirLights),M.push(R.numPointLights),M.push(R.numSpotLights),M.push(R.numSpotLightMaps),M.push(R.numHemiLights),M.push(R.numRectAreaLights),M.push(R.numDirLightShadows),M.push(R.numPointLightShadows),M.push(R.numSpotLightShadows),M.push(R.numSpotLightShadowsWithMaps),M.push(R.shadowMapType),M.push(R.toneMapping),M.push(R.numClippingPlanes),M.push(R.numClipIntersection),M.push(R.depthPacking)}function S(M,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.matcap&&a.enable(4),R.envMap&&a.enable(5),R.normalMapObjectSpace&&a.enable(6),R.normalMapTangentSpace&&a.enable(7),R.clearcoat&&a.enable(8),R.iridescence&&a.enable(9),R.alphaTest&&a.enable(10),R.vertexColors&&a.enable(11),R.vertexAlphas&&a.enable(12),R.vertexUv1s&&a.enable(13),R.vertexUv2s&&a.enable(14),R.vertexUv3s&&a.enable(15),R.vertexTangents&&a.enable(16),R.anisotropy&&a.enable(17),M.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.transmission&&a.enable(15),R.sheen&&a.enable(16),R.opaque&&a.enable(17),R.pointsUvs&&a.enable(18),R.decodeVideoTexture&&a.enable(19),M.push(a.mask)}function E(M){const R=p[M.type];let D;if(R){const F=oa[R];D=$n.clone(F.uniforms)}else D=M.uniforms;return D}function w(M,R){let D;for(let F=0,O=u.length;F<O;F++){const L=u[F];if(L.cacheKey===R){D=L,++D.usedTimes;break}}return D===void 0&&(D=new Wue(t,R,M,s),u.push(D)),D}function C(M){if(--M.usedTimes===0){const R=u.indexOf(M);u[R]=u[u.length-1],u.pop(),M.destroy()}}function b(M){l.remove(M)}function I(){l.dispose()}return{getParameters:A,getProgramCacheKey:g,getUniforms:E,acquireProgram:w,releaseProgram:C,releaseShaderCache:b,programs:u,dispose:I}}function Kue(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function Jue(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function $B(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function eD(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(f,h,d,p,y,A){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:h,material:d,groupOrder:p,renderOrder:f.renderOrder,z:y,group:A},t[e]=g):(g.id=f.id,g.object=f,g.geometry=h,g.material=d,g.groupOrder=p,g.renderOrder=f.renderOrder,g.z=y,g.group=A),e++,g}function a(f,h,d,p,y,A){const g=o(f,h,d,p,y,A);d.transmission>0?i.push(g):d.transparent===!0?r.push(g):n.push(g)}function l(f,h,d,p,y,A){const g=o(f,h,d,p,y,A);d.transmission>0?i.unshift(g):d.transparent===!0?r.unshift(g):n.unshift(g)}function u(f,h){n.length>1&&n.sort(f||Jue),i.length>1&&i.sort(h||$B),r.length>1&&r.sort(h||$B)}function c(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:c,sort:u}}function Zue(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new eD,t.set(i,[o])):r>=s.length?(o=new eD,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function $ue(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new j,color:new Je};break;case"SpotLight":n={position:new j,direction:new j,color:new Je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new j,color:new Je,distance:0,decay:0};break;case"HemisphereLight":n={direction:new j,skyColor:new Je,groundColor:new Je};break;case"RectAreaLight":n={color:new Je,position:new j,halfWidth:new j,halfHeight:new j};break}return t[e.id]=n,n}}}function ece(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let tce=0;function nce(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function ice(t,e){const n=new $ue,i=ece(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)r.probe.push(new j);const s=new j,o=new it,a=new it;function l(c,f){let h=0,d=0,p=0;for(let D=0;D<9;D++)r.probe[D].set(0,0,0);let y=0,A=0,g=0,x=0,S=0,E=0,w=0,C=0,b=0,I=0;c.sort(nce);const M=f===!0?Math.PI:1;for(let D=0,F=c.length;D<F;D++){const O=c[D],L=O.color,U=O.intensity,q=O.distance,K=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)h+=L.r*U*M,d+=L.g*U*M,p+=L.b*U*M;else if(O.isLightProbe)for(let k=0;k<9;k++)r.probe[k].addScaledVector(O.sh.coefficients[k],U);else if(O.isDirectionalLight){const k=n.get(O);if(k.color.copy(O.color).multiplyScalar(O.intensity*M),O.castShadow){const W=O.shadow,V=i.get(O);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,r.directionalShadow[y]=V,r.directionalShadowMap[y]=K,r.directionalShadowMatrix[y]=O.shadow.matrix,E++}r.directional[y]=k,y++}else if(O.isSpotLight){const k=n.get(O);k.position.setFromMatrixPosition(O.matrixWorld),k.color.copy(L).multiplyScalar(U*M),k.distance=q,k.coneCos=Math.cos(O.angle),k.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),k.decay=O.decay,r.spot[g]=k;const W=O.shadow;if(O.map&&(r.spotLightMap[b]=O.map,b++,W.updateMatrices(O),O.castShadow&&I++),r.spotLightMatrix[g]=W.matrix,O.castShadow){const V=i.get(O);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,r.spotShadow[g]=V,r.spotShadowMap[g]=K,C++}g++}else if(O.isRectAreaLight){const k=n.get(O);k.color.copy(L).multiplyScalar(U),k.halfWidth.set(O.width*.5,0,0),k.halfHeight.set(0,O.height*.5,0),r.rectArea[x]=k,x++}else if(O.isPointLight){const k=n.get(O);if(k.color.copy(O.color).multiplyScalar(O.intensity*M),k.distance=O.distance,k.decay=O.decay,O.castShadow){const W=O.shadow,V=i.get(O);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,V.shadowCameraNear=W.camera.near,V.shadowCameraFar=W.camera.far,r.pointShadow[A]=V,r.pointShadowMap[A]=K,r.pointShadowMatrix[A]=O.shadow.matrix,w++}r.point[A]=k,A++}else if(O.isHemisphereLight){const k=n.get(O);k.skyColor.copy(O.color).multiplyScalar(U*M),k.groundColor.copy(O.groundColor).multiplyScalar(U*M),r.hemi[S]=k,S++}}x>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ct.LTC_FLOAT_1,r.rectAreaLTC2=ct.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ct.LTC_HALF_1,r.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=d,r.ambient[2]=p;const R=r.hash;(R.directionalLength!==y||R.pointLength!==A||R.spotLength!==g||R.rectAreaLength!==x||R.hemiLength!==S||R.numDirectionalShadows!==E||R.numPointShadows!==w||R.numSpotShadows!==C||R.numSpotMaps!==b)&&(r.directional.length=y,r.spot.length=g,r.rectArea.length=x,r.point.length=A,r.hemi.length=S,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=C+b-I,r.spotLightMap.length=b,r.numSpotLightShadowsWithMaps=I,R.directionalLength=y,R.pointLength=A,R.spotLength=g,R.rectAreaLength=x,R.hemiLength=S,R.numDirectionalShadows=E,R.numPointShadows=w,R.numSpotShadows=C,R.numSpotMaps=b,r.version=tce++)}function u(c,f){let h=0,d=0,p=0,y=0,A=0;const g=f.matrixWorldInverse;for(let x=0,S=c.length;x<S;x++){const E=c[x];if(E.isDirectionalLight){const w=r.directional[h];w.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(g),h++}else if(E.isSpotLight){const w=r.spot[p];w.position.setFromMatrixPosition(E.matrixWorld),w.position.applyMatrix4(g),w.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(g),p++}else if(E.isRectAreaLight){const w=r.rectArea[y];w.position.setFromMatrixPosition(E.matrixWorld),w.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),w.halfWidth.set(E.width*.5,0,0),w.halfHeight.set(0,E.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),y++}else if(E.isPointLight){const w=r.point[d];w.position.setFromMatrixPosition(E.matrixWorld),w.position.applyMatrix4(g),d++}else if(E.isHemisphereLight){const w=r.hemi[A];w.direction.setFromMatrixPosition(E.matrixWorld),w.direction.transformDirection(g),A++}}}return{setup:l,setupView:u,state:r}}function tD(t,e){const n=new ice(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(f){i.push(f)}function a(f){r.push(f)}function l(f){n.setup(i,f)}function u(f){n.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function rce(t,e){let n=new WeakMap;function i(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new tD(t,e),n.set(s,[l])):o>=a.length?(l=new tD(t,e),a.push(l)):l=a[o],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class oh extends Li{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=wr,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class I6 extends Li{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const sce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ace(t,e,n){let i=new T6;const r=new he,s=new he,o=new qt,a=new oh({depthPacking:zo}),l=new I6,u={},c=n.maxTextureSize,f={[No]:Vi,[Vi]:No,[yr]:yr},h=new yt({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new he},radius:{value:4}},vertexShader:sce,fragmentShader:oce}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new Xt;p.setAttribute("position",new An(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new yn(p,h),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v6;let g=this.type;this.render=function(w,C,b){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||w.length===0)return;const I=t.getRenderTarget(),M=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),D=t.state;D.setBlending(Ut),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const F=g!==ia&&this.type===ia,O=g===ia&&this.type!==ia;for(let L=0,U=w.length;L<U;L++){const q=w[L],K=q.shadow;if(K===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;r.copy(K.mapSize);const k=K.getFrameExtents();if(r.multiply(k),s.copy(K.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(s.x=Math.floor(c/k.x),r.x=s.x*k.x,K.mapSize.x=s.x),r.y>c&&(s.y=Math.floor(c/k.y),r.y=s.y*k.y,K.mapSize.y=s.y)),K.map===null||F===!0||O===!0){const V=this.type!==ia?{minFilter:vt,magFilter:vt}:{};K.map!==null&&K.map.dispose(),K.map=new Rt(r.x,r.y,V),K.map.texture.name=q.name+".shadowMap",K.camera.updateProjectionMatrix()}t.setRenderTarget(K.map),t.clear();const W=K.getViewportCount();for(let V=0;V<W;V++){const G=K.getViewport(V);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),D.viewport(o),K.updateMatrices(q,V),i=K.getFrustum(),E(C,b,K.camera,q,this.type)}K.isPointLightShadow!==!0&&this.type===ia&&x(K,b),K.needsUpdate=!1}g=this.type,A.needsUpdate=!1,t.setRenderTarget(I,M,R)};function x(w,C){const b=e.update(y);h.defines.VSM_SAMPLES!==w.blurSamples&&(h.defines.VSM_SAMPLES=w.blurSamples,d.defines.VSM_SAMPLES=w.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new Rt(r.x,r.y)),h.uniforms.shadow_pass.value=w.map.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(C,null,b,h,y,null),d.uniforms.shadow_pass.value=w.mapPass.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(C,null,b,d,y,null)}function S(w,C,b,I){let M=null;const R=b.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(R!==void 0)M=R;else if(M=b.isPointLight===!0?l:a,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const D=M.uuid,F=C.uuid;let O=u[D];O===void 0&&(O={},u[D]=O);let L=O[F];L===void 0&&(L=M.clone(),O[F]=L),M=L}if(M.visible=C.visible,M.wireframe=C.wireframe,I===ia?M.side=C.shadowSide!==null?C.shadowSide:C.side:M.side=C.shadowSide!==null?C.shadowSide:f[C.side],M.alphaMap=C.alphaMap,M.alphaTest=C.alphaTest,M.map=C.map,M.clipShadows=C.clipShadows,M.clippingPlanes=C.clippingPlanes,M.clipIntersection=C.clipIntersection,M.displacementMap=C.displacementMap,M.displacementScale=C.displacementScale,M.displacementBias=C.displacementBias,M.wireframeLinewidth=C.wireframeLinewidth,M.linewidth=C.linewidth,b.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const D=t.properties.get(M);D.light=b}return M}function E(w,C,b,I,M){if(w.visible===!1)return;if(w.layers.test(C.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&M===ia)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,w.matrixWorld);const F=e.update(w),O=w.material;if(Array.isArray(O)){const L=F.groups;for(let U=0,q=L.length;U<q;U++){const K=L[U],k=O[K.materialIndex];if(k&&k.visible){const W=S(w,k,I,M);t.renderBufferDirect(b,null,F,W,w,K)}}}else if(O.visible){const L=S(w,O,I,M);t.renderBufferDirect(b,null,F,L,w,null)}}const D=w.children;for(let F=0,O=D.length;F<O;F++)E(D[F],C,b,I,M)}}function lce(t,e,n){const i=n.isWebGL2;function r(){let ce=!1;const Ce=new qt;let be=null;const Ze=new qt(0,0,0,0);return{setMask:function(lt){be!==lt&&!ce&&(t.colorMask(lt,lt,lt,lt),be=lt)},setLocked:function(lt){ce=lt},setClear:function(lt,Jt,an,mn,En){En===!0&&(lt*=mn,Jt*=mn,an*=mn),Ce.set(lt,Jt,an,mn),Ze.equals(Ce)===!1&&(t.clearColor(lt,Jt,an,mn),Ze.copy(Ce))},reset:function(){ce=!1,be=null,Ze.set(-1,0,0,0)}}}function s(){let ce=!1,Ce=null,be=null,Ze=null;return{setTest:function(lt){lt?oe(t.DEPTH_TEST):ie(t.DEPTH_TEST)},setMask:function(lt){Ce!==lt&&!ce&&(t.depthMask(lt),Ce=lt)},setFunc:function(lt){if(be!==lt){switch(lt){case JM:t.depthFunc(t.NEVER);break;case ZM:t.depthFunc(t.ALWAYS);break;case rS:t.depthFunc(t.LESS);break;case G3:t.depthFunc(t.LEQUAL);break;case z3:t.depthFunc(t.EQUAL);break;case $M:t.depthFunc(t.GEQUAL);break;case e9:t.depthFunc(t.GREATER);break;case x6:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}be=lt}},setLocked:function(lt){ce=lt},setClear:function(lt){Ze!==lt&&(t.clearDepth(lt),Ze=lt)},reset:function(){ce=!1,Ce=null,be=null,Ze=null}}}function o(){let ce=!1,Ce=null,be=null,Ze=null,lt=null,Jt=null,an=null,mn=null,En=null;return{setTest:function(wn){ce||(wn?oe(t.STENCIL_TEST):ie(t.STENCIL_TEST))},setMask:function(wn){Ce!==wn&&!ce&&(t.stencilMask(wn),Ce=wn)},setFunc:function(wn,xn,rn){(be!==wn||Ze!==xn||lt!==rn)&&(t.stencilFunc(wn,xn,rn),be=wn,Ze=xn,lt=rn)},setOp:function(wn,xn,rn){(Jt!==wn||an!==xn||mn!==rn)&&(t.stencilOp(wn,xn,rn),Jt=wn,an=xn,mn=rn)},setLocked:function(wn){ce=wn},setClear:function(wn){En!==wn&&(t.clearStencil(wn),En=wn)},reset:function(){ce=!1,Ce=null,be=null,Ze=null,lt=null,Jt=null,an=null,mn=null,En=null}}}const a=new r,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let h={},d={},p=new WeakMap,y=[],A=null,g=!1,x=null,S=null,E=null,w=null,C=null,b=null,I=null,M=!1,R=null,D=null,F=null,O=null,L=null;const U=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,K=0;const k=t.getParameter(t.VERSION);k.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(k)[1]),q=K>=1):k.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),q=K>=2);let W=null,V={};const G=t.getParameter(t.SCISSOR_BOX),z=t.getParameter(t.VIEWPORT),ne=new qt().fromArray(G),J=new qt().fromArray(z);function $(ce,Ce,be,Ze){const lt=new Uint8Array(4),Jt=t.createTexture();t.bindTexture(ce,Jt),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let an=0;an<be;an++)i&&(ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ce,0,t.RGBA,1,1,Ze,0,t.RGBA,t.UNSIGNED_BYTE,lt):t.texImage2D(Ce+an,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,lt);return Jt}const X={};X[t.TEXTURE_2D]=$(t.TEXTURE_2D,t.TEXTURE_2D,1),X[t.TEXTURE_CUBE_MAP]=$(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(X[t.TEXTURE_2D_ARRAY]=$(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),X[t.TEXTURE_3D]=$(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),oe(t.DEPTH_TEST),l.setFunc(G3),Se(!1),Qe(hb),oe(t.CULL_FACE),ge(Ut);function oe(ce){h[ce]!==!0&&(t.enable(ce),h[ce]=!0)}function ie(ce){h[ce]!==!1&&(t.disable(ce),h[ce]=!1)}function _e(ce,Ce){return d[ce]!==Ce?(t.bindFramebuffer(ce,Ce),d[ce]=Ce,i&&(ce===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Ce),ce===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Ce)),!0):!1}function Re(ce,Ce){let be=y,Ze=!1;if(ce)if(be=p.get(Ce),be===void 0&&(be=[],p.set(Ce,be)),ce.isWebGLMultipleRenderTargets){const lt=ce.texture;if(be.length!==lt.length||be[0]!==t.COLOR_ATTACHMENT0){for(let Jt=0,an=lt.length;Jt<an;Jt++)be[Jt]=t.COLOR_ATTACHMENT0+Jt;be.length=lt.length,Ze=!0}}else be[0]!==t.COLOR_ATTACHMENT0&&(be[0]=t.COLOR_ATTACHMENT0,Ze=!0);else be[0]!==t.BACK&&(be[0]=t.BACK,Ze=!0);Ze&&(n.isWebGL2?t.drawBuffers(be):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(be))}function pe(ce){return A!==ce?(t.useProgram(ce),A=ce,!0):!1}const Y={[Ks]:t.FUNC_ADD,[nj]:t.FUNC_SUBTRACT,[ij]:t.FUNC_REVERSE_SUBTRACT};if(i)Y[mb]=t.MIN,Y[gb]=t.MAX;else{const ce=e.get("EXT_blend_minmax");ce!==null&&(Y[mb]=ce.MIN_EXT,Y[gb]=ce.MAX_EXT)}const me={[ep]:t.ZERO,[rj]:t.ONE,[sj]:t.SRC_COLOR,[k3]:t.SRC_ALPHA,[uj]:t.SRC_ALPHA_SATURATE,[y6]:t.DST_COLOR,[A6]:t.DST_ALPHA,[oj]:t.ONE_MINUS_SRC_COLOR,[N3]:t.ONE_MINUS_SRC_ALPHA,[lj]:t.ONE_MINUS_DST_COLOR,[aj]:t.ONE_MINUS_DST_ALPHA};function ge(ce,Ce,be,Ze,lt,Jt,an,mn){if(ce===Ut){g===!0&&(ie(t.BLEND),g=!1);return}if(g===!1&&(oe(t.BLEND),g=!0),ce!==U3){if(ce!==x||mn!==M){if((S!==Ks||C!==Ks)&&(t.blendEquation(t.FUNC_ADD),S=Ks,C=Ks),mn)switch(ce){case tl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case F3:t.blendFunc(t.ONE,t.ONE);break;case db:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case pb:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case tl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case F3:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case db:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case pb:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}E=null,w=null,b=null,I=null,x=ce,M=mn}return}lt=lt||Ce,Jt=Jt||be,an=an||Ze,(Ce!==S||lt!==C)&&(t.blendEquationSeparate(Y[Ce],Y[lt]),S=Ce,C=lt),(be!==E||Ze!==w||Jt!==b||an!==I)&&(t.blendFuncSeparate(me[be],me[Ze],me[Jt],me[an]),E=be,w=Ze,b=Jt,I=an),x=ce,M=!1}function de(ce,Ce){ce.side===yr?ie(t.CULL_FACE):oe(t.CULL_FACE);let be=ce.side===Vi;Ce&&(be=!be),Se(be),ce.blending===tl&&ce.transparent===!1?ge(Ut):ge(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.premultipliedAlpha),l.setFunc(ce.depthFunc),l.setTest(ce.depthTest),l.setMask(ce.depthWrite),a.setMask(ce.colorWrite);const Ze=ce.stencilWrite;u.setTest(Ze),Ze&&(u.setMask(ce.stencilWriteMask),u.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),u.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),ke(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?oe(t.SAMPLE_ALPHA_TO_COVERAGE):ie(t.SAMPLE_ALPHA_TO_COVERAGE)}function Se(ce){R!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),R=ce)}function Qe(ce){ce!==$W?(oe(t.CULL_FACE),ce!==D&&(ce===hb?t.cullFace(t.BACK):ce===ej?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ie(t.CULL_FACE),D=ce}function xe(ce){ce!==F&&(q&&t.lineWidth(ce),F=ce)}function ke(ce,Ce,be){ce?(oe(t.POLYGON_OFFSET_FILL),(O!==Ce||L!==be)&&(t.polygonOffset(Ce,be),O=Ce,L=be)):ie(t.POLYGON_OFFSET_FILL)}function Ne(ce){ce?oe(t.SCISSOR_TEST):ie(t.SCISSOR_TEST)}function De(ce){ce===void 0&&(ce=t.TEXTURE0+U-1),W!==ce&&(t.activeTexture(ce),W=ce)}function tt(ce,Ce,be){be===void 0&&(W===null?be=t.TEXTURE0+U-1:be=W);let Ze=V[be];Ze===void 0&&(Ze={type:void 0,texture:void 0},V[be]=Ze),(Ze.type!==ce||Ze.texture!==Ce)&&(W!==be&&(t.activeTexture(be),W=be),t.bindTexture(ce,Ce||X[ce]),Ze.type=ce,Ze.texture=Ce)}function te(){const ce=V[W];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function H(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function fe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function je(){try{t.texSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ue(){try{t.texSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Pe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function $e(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ke(){try{t.texStorage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function we(){try{t.texStorage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ae(){try{t.texImage2D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Te(){try{t.texImage3D.apply(t,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Me(ce){ne.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),ne.copy(ce))}function Fe(ce){J.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),J.copy(ce))}function qe(ce,Ce){let be=f.get(Ce);be===void 0&&(be=new WeakMap,f.set(Ce,be));let Ze=be.get(ce);Ze===void 0&&(Ze=t.getUniformBlockIndex(Ce,ce.name),be.set(ce,Ze))}function rt(ce,Ce){const Ze=f.get(Ce).get(ce);c.get(Ce)!==Ze&&(t.uniformBlockBinding(Ce,Ze,ce.__bindingPointIndex),c.set(Ce,Ze))}function ut(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},W=null,V={},d={},p=new WeakMap,y=[],A=null,g=!1,x=null,S=null,E=null,w=null,C=null,b=null,I=null,M=!1,R=null,D=null,F=null,O=null,L=null,ne.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:oe,disable:ie,bindFramebuffer:_e,drawBuffers:Re,useProgram:pe,setBlending:ge,setMaterial:de,setFlipSided:Se,setCullFace:Qe,setLineWidth:xe,setPolygonOffset:ke,setScissorTest:Ne,activeTexture:De,bindTexture:tt,unbindTexture:te,compressedTexImage2D:H,compressedTexImage3D:fe,texImage2D:ae,texImage3D:Te,updateUBOMapping:qe,uniformBlockBinding:rt,texStorage2D:Ke,texStorage3D:we,texSubImage2D:je,texSubImage3D:Ue,compressedTexSubImage2D:Pe,compressedTexSubImage3D:$e,scissor:Me,viewport:Fe,reset:ut}}function uce(t,e,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,c=r.maxTextureSize,f=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let y;const A=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(te,H){return g?new OffscreenCanvas(te,H):Z3("canvas")}function S(te,H,fe,je){let Ue=1;if((te.width>je||te.height>je)&&(Ue=je/Math.max(te.width,te.height)),Ue<1||H===!0)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap){const Pe=H?lS:Math.floor,$e=Pe(Ue*te.width),Ke=Pe(Ue*te.height);y===void 0&&(y=x($e,Ke));const we=fe?x($e,Ke):y;return we.width=$e,we.height=Ke,we.getContext("2d").drawImage(te,0,0,$e,Ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+$e+"x"+Ke+")."),we}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te;return te}function E(te){return Ub(te.width)&&Ub(te.height)}function w(te){return a?!1:te.wrapS!==ri||te.wrapT!==ri||te.minFilter!==vt&&te.minFilter!==At}function C(te,H){return te.generateMipmaps&&H&&te.minFilter!==vt&&te.minFilter!==At}function b(te){t.generateMipmap(te)}function I(te,H,fe,je,Ue=!1){if(a===!1)return H;if(te!==null){if(t[te]!==void 0)return t[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Pe=H;return H===t.RED&&(fe===t.FLOAT&&(Pe=t.R32F),fe===t.HALF_FLOAT&&(Pe=t.R16F),fe===t.UNSIGNED_BYTE&&(Pe=t.R8)),H===t.RED_INTEGER&&(fe===t.UNSIGNED_BYTE&&(Pe=t.R8UI),fe===t.UNSIGNED_SHORT&&(Pe=t.R16UI),fe===t.UNSIGNED_INT&&(Pe=t.R32UI),fe===t.BYTE&&(Pe=t.R8I),fe===t.SHORT&&(Pe=t.R16I),fe===t.INT&&(Pe=t.R32I)),H===t.RG&&(fe===t.FLOAT&&(Pe=t.RG32F),fe===t.HALF_FLOAT&&(Pe=t.RG16F),fe===t.UNSIGNED_BYTE&&(Pe=t.RG8)),H===t.RGBA&&(fe===t.FLOAT&&(Pe=t.RGBA32F),fe===t.HALF_FLOAT&&(Pe=t.RGBA16F),fe===t.UNSIGNED_BYTE&&(Pe=je===ni&&Ue===!1?t.SRGB8_ALPHA8:t.RGBA8),fe===t.UNSIGNED_SHORT_4_4_4_4&&(Pe=t.RGBA4),fe===t.UNSIGNED_SHORT_5_5_5_1&&(Pe=t.RGB5_A1)),(Pe===t.R16F||Pe===t.R32F||Pe===t.RG16F||Pe===t.RG32F||Pe===t.RGBA16F||Pe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Pe}function M(te,H,fe){return C(te,fe)===!0||te.isFramebufferTexture&&te.minFilter!==vt&&te.minFilter!==At?Math.log2(Math.max(H.width,H.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?H.mipmaps.length:1}function R(te){return te===vt||te===V3||te===Od?t.NEAREST:t.LINEAR}function D(te){const H=te.target;H.removeEventListener("dispose",D),O(H),H.isVideoTexture&&p.delete(H)}function F(te){const H=te.target;H.removeEventListener("dispose",F),U(H)}function O(te){const H=i.get(te);if(H.__webglInit===void 0)return;const fe=te.source,je=A.get(fe);if(je){const Ue=je[H.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&L(te),Object.keys(je).length===0&&A.delete(fe)}i.remove(te)}function L(te){const H=i.get(te);t.deleteTexture(H.__webglTexture);const fe=te.source,je=A.get(fe);delete je[H.__cacheKey],o.memory.textures--}function U(te){const H=te.texture,fe=i.get(te),je=i.get(H);if(je.__webglTexture!==void 0&&(t.deleteTexture(je.__webglTexture),o.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++){if(Array.isArray(fe.__webglFramebuffer[Ue]))for(let Pe=0;Pe<fe.__webglFramebuffer[Ue].length;Pe++)t.deleteFramebuffer(fe.__webglFramebuffer[Ue][Pe]);else t.deleteFramebuffer(fe.__webglFramebuffer[Ue]);fe.__webglDepthbuffer&&t.deleteRenderbuffer(fe.__webglDepthbuffer[Ue])}else{if(Array.isArray(fe.__webglFramebuffer))for(let Ue=0;Ue<fe.__webglFramebuffer.length;Ue++)t.deleteFramebuffer(fe.__webglFramebuffer[Ue]);else t.deleteFramebuffer(fe.__webglFramebuffer);if(fe.__webglDepthbuffer&&t.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Ue=0;Ue<fe.__webglColorRenderbuffer.length;Ue++)fe.__webglColorRenderbuffer[Ue]&&t.deleteRenderbuffer(fe.__webglColorRenderbuffer[Ue]);fe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(te.isWebGLMultipleRenderTargets)for(let Ue=0,Pe=H.length;Ue<Pe;Ue++){const $e=i.get(H[Ue]);$e.__webglTexture&&(t.deleteTexture($e.__webglTexture),o.memory.textures--),i.remove(H[Ue])}i.remove(H),i.remove(te)}let q=0;function K(){q=0}function k(){const te=q;return te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+l),q+=1,te}function W(te){const H=[];return H.push(te.wrapS),H.push(te.wrapT),H.push(te.wrapR||0),H.push(te.magFilter),H.push(te.minFilter),H.push(te.anisotropy),H.push(te.internalFormat),H.push(te.format),H.push(te.type),H.push(te.generateMipmaps),H.push(te.premultiplyAlpha),H.push(te.flipY),H.push(te.unpackAlignment),H.push(te.colorSpace),H.join()}function V(te,H){const fe=i.get(te);if(te.isVideoTexture&&De(te),te.isRenderTargetTexture===!1&&te.version>0&&fe.__version!==te.version){const je=te.image;if(je===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(je.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_e(fe,te,H);return}}n.bindTexture(t.TEXTURE_2D,fe.__webglTexture,t.TEXTURE0+H)}function G(te,H){const fe=i.get(te);if(te.version>0&&fe.__version!==te.version){_e(fe,te,H);return}n.bindTexture(t.TEXTURE_2D_ARRAY,fe.__webglTexture,t.TEXTURE0+H)}function z(te,H){const fe=i.get(te);if(te.version>0&&fe.__version!==te.version){_e(fe,te,H);return}n.bindTexture(t.TEXTURE_3D,fe.__webglTexture,t.TEXTURE0+H)}function ne(te,H){const fe=i.get(te);if(te.version>0&&fe.__version!==te.version){Re(fe,te,H);return}n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture,t.TEXTURE0+H)}const J={[Ki]:t.REPEAT,[ri]:t.CLAMP_TO_EDGE,[np]:t.MIRRORED_REPEAT},$={[vt]:t.NEAREST,[V3]:t.NEAREST_MIPMAP_NEAREST,[Od]:t.NEAREST_MIPMAP_LINEAR,[At]:t.LINEAR,[E6]:t.LINEAR_MIPMAP_NEAREST,[Go]:t.LINEAR_MIPMAP_LINEAR},X={[Tj]:t.NEVER,[Lj]:t.ALWAYS,[Mj]:t.LESS,[Rj]:t.LEQUAL,[Ij]:t.EQUAL,[Dj]:t.GEQUAL,[Pj]:t.GREATER,[Bj]:t.NOTEQUAL};function oe(te,H,fe){if(fe?(t.texParameteri(te,t.TEXTURE_WRAP_S,J[H.wrapS]),t.texParameteri(te,t.TEXTURE_WRAP_T,J[H.wrapT]),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,J[H.wrapR]),t.texParameteri(te,t.TEXTURE_MAG_FILTER,$[H.magFilter]),t.texParameteri(te,t.TEXTURE_MIN_FILTER,$[H.minFilter])):(t.texParameteri(te,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(te,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(H.wrapS!==ri||H.wrapT!==ri)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(te,t.TEXTURE_MAG_FILTER,R(H.magFilter)),t.texParameteri(te,t.TEXTURE_MIN_FILTER,R(H.minFilter)),H.minFilter!==vt&&H.minFilter!==At&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),H.compareFunction&&(t.texParameteri(te,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(te,t.TEXTURE_COMPARE_FUNC,X[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const je=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===vt||H.minFilter!==Od&&H.minFilter!==Go||H.type===Mn&&e.has("OES_texture_float_linear")===!1||a===!1&&H.type===hn&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||i.get(H).__currentAnisotropy)&&(t.texParameterf(te,je.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy)}}function ie(te,H){let fe=!1;te.__webglInit===void 0&&(te.__webglInit=!0,H.addEventListener("dispose",D));const je=H.source;let Ue=A.get(je);Ue===void 0&&(Ue={},A.set(je,Ue));const Pe=W(H);if(Pe!==te.__cacheKey){Ue[Pe]===void 0&&(Ue[Pe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Ue[Pe].usedTimes++;const $e=Ue[te.__cacheKey];$e!==void 0&&(Ue[te.__cacheKey].usedTimes--,$e.usedTimes===0&&L(H)),te.__cacheKey=Pe,te.__webglTexture=Ue[Pe].texture}return fe}function _e(te,H,fe){let je=t.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(je=t.TEXTURE_2D_ARRAY),H.isData3DTexture&&(je=t.TEXTURE_3D);const Ue=ie(te,H),Pe=H.source;n.bindTexture(je,te.__webglTexture,t.TEXTURE0+fe);const $e=i.get(Pe);if(Pe.version!==$e.__version||Ue===!0){n.activeTexture(t.TEXTURE0+fe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ke=w(H)&&E(H.image)===!1;let we=S(H.image,Ke,!1,c);we=tt(H,we);const ae=E(we)||a,Te=s.convert(H.format,H.colorSpace);let Me=s.convert(H.type),Fe=I(H.internalFormat,Te,Me,H.colorSpace,H.isVideoTexture);oe(je,H,ae);let qe;const rt=H.mipmaps,ut=a&&H.isVideoTexture!==!0,ce=$e.__version===void 0||Ue===!0,Ce=M(H,we,ae);if(H.isDepthTexture)Fe=t.DEPTH_COMPONENT,a?H.type===Mn?Fe=t.DEPTH_COMPONENT32F:H.type===Ya?Fe=t.DEPTH_COMPONENT24:H.type===nl?Fe=t.DEPTH24_STENCIL8:Fe=t.DEPTH_COMPONENT16:H.type===Mn&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===hc&&Fe===t.DEPTH_COMPONENT&&H.type!==sh&&H.type!==Ya&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Ya,Me=s.convert(H.type)),H.format===nu&&Fe===t.DEPTH_COMPONENT&&(Fe=t.DEPTH_STENCIL,H.type!==nl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=nl,Me=s.convert(H.type))),ce&&(ut?n.texStorage2D(t.TEXTURE_2D,1,Fe,we.width,we.height):n.texImage2D(t.TEXTURE_2D,0,Fe,we.width,we.height,0,Te,Me,null));else if(H.isDataTexture)if(rt.length>0&&ae){ut&&ce&&n.texStorage2D(t.TEXTURE_2D,Ce,Fe,rt[0].width,rt[0].height);for(let be=0,Ze=rt.length;be<Ze;be++)qe=rt[be],ut?n.texSubImage2D(t.TEXTURE_2D,be,0,0,qe.width,qe.height,Te,Me,qe.data):n.texImage2D(t.TEXTURE_2D,be,Fe,qe.width,qe.height,0,Te,Me,qe.data);H.generateMipmaps=!1}else ut?(ce&&n.texStorage2D(t.TEXTURE_2D,Ce,Fe,we.width,we.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,we.width,we.height,Te,Me,we.data)):n.texImage2D(t.TEXTURE_2D,0,Fe,we.width,we.height,0,Te,Me,we.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){ut&&ce&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ce,Fe,rt[0].width,rt[0].height,we.depth);for(let be=0,Ze=rt.length;be<Ze;be++)qe=rt[be],H.format!==Pn?Te!==null?ut?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,be,0,0,0,qe.width,qe.height,we.depth,Te,qe.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,be,Fe,qe.width,qe.height,we.depth,0,qe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ut?n.texSubImage3D(t.TEXTURE_2D_ARRAY,be,0,0,0,qe.width,qe.height,we.depth,Te,Me,qe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,be,Fe,qe.width,qe.height,we.depth,0,Te,Me,qe.data)}else{ut&&ce&&n.texStorage2D(t.TEXTURE_2D,Ce,Fe,rt[0].width,rt[0].height);for(let be=0,Ze=rt.length;be<Ze;be++)qe=rt[be],H.format!==Pn?Te!==null?ut?n.compressedTexSubImage2D(t.TEXTURE_2D,be,0,0,qe.width,qe.height,Te,qe.data):n.compressedTexImage2D(t.TEXTURE_2D,be,Fe,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ut?n.texSubImage2D(t.TEXTURE_2D,be,0,0,qe.width,qe.height,Te,Me,qe.data):n.texImage2D(t.TEXTURE_2D,be,Fe,qe.width,qe.height,0,Te,Me,qe.data)}else if(H.isDataArrayTexture)ut?(ce&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ce,Fe,we.width,we.height,we.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,we.width,we.height,we.depth,Te,Me,we.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Fe,we.width,we.height,we.depth,0,Te,Me,we.data);else if(H.isData3DTexture)ut?(ce&&n.texStorage3D(t.TEXTURE_3D,Ce,Fe,we.width,we.height,we.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,we.width,we.height,we.depth,Te,Me,we.data)):n.texImage3D(t.TEXTURE_3D,0,Fe,we.width,we.height,we.depth,0,Te,Me,we.data);else if(H.isFramebufferTexture){if(ce)if(ut)n.texStorage2D(t.TEXTURE_2D,Ce,Fe,we.width,we.height);else{let be=we.width,Ze=we.height;for(let lt=0;lt<Ce;lt++)n.texImage2D(t.TEXTURE_2D,lt,Fe,be,Ze,0,Te,Me,null),be>>=1,Ze>>=1}}else if(rt.length>0&&ae){ut&&ce&&n.texStorage2D(t.TEXTURE_2D,Ce,Fe,rt[0].width,rt[0].height);for(let be=0,Ze=rt.length;be<Ze;be++)qe=rt[be],ut?n.texSubImage2D(t.TEXTURE_2D,be,0,0,Te,Me,qe):n.texImage2D(t.TEXTURE_2D,be,Fe,Te,Me,qe);H.generateMipmaps=!1}else ut?(ce&&n.texStorage2D(t.TEXTURE_2D,Ce,Fe,we.width,we.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Te,Me,we)):n.texImage2D(t.TEXTURE_2D,0,Fe,Te,Me,we);C(H,ae)&&b(je),$e.__version=Pe.version,H.onUpdate&&H.onUpdate(H)}te.__version=H.version}function Re(te,H,fe){if(H.image.length!==6)return;const je=ie(te,H),Ue=H.source;n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture,t.TEXTURE0+fe);const Pe=i.get(Ue);if(Ue.version!==Pe.__version||je===!0){n.activeTexture(t.TEXTURE0+fe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const $e=H.isCompressedTexture||H.image[0].isCompressedTexture,Ke=H.image[0]&&H.image[0].isDataTexture,we=[];for(let be=0;be<6;be++)!$e&&!Ke?we[be]=S(H.image[be],!1,!0,u):we[be]=Ke?H.image[be].image:H.image[be],we[be]=tt(H,we[be]);const ae=we[0],Te=E(ae)||a,Me=s.convert(H.format,H.colorSpace),Fe=s.convert(H.type),qe=I(H.internalFormat,Me,Fe,H.colorSpace),rt=a&&H.isVideoTexture!==!0,ut=Pe.__version===void 0||je===!0;let ce=M(H,ae,Te);oe(t.TEXTURE_CUBE_MAP,H,Te);let Ce;if($e){rt&&ut&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ce,qe,ae.width,ae.height);for(let be=0;be<6;be++){Ce=we[be].mipmaps;for(let Ze=0;Ze<Ce.length;Ze++){const lt=Ce[Ze];H.format!==Pn?Me!==null?rt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze,0,0,lt.width,lt.height,Me,lt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze,qe,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze,0,0,lt.width,lt.height,Me,Fe,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze,qe,lt.width,lt.height,0,Me,Fe,lt.data)}}}else{Ce=H.mipmaps,rt&&ut&&(Ce.length>0&&ce++,n.texStorage2D(t.TEXTURE_CUBE_MAP,ce,qe,we[0].width,we[0].height));for(let be=0;be<6;be++)if(Ke){rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,we[be].width,we[be].height,Me,Fe,we[be].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,qe,we[be].width,we[be].height,0,Me,Fe,we[be].data);for(let Ze=0;Ze<Ce.length;Ze++){const Jt=Ce[Ze].image[be].image;rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze+1,0,0,Jt.width,Jt.height,Me,Fe,Jt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze+1,qe,Jt.width,Jt.height,0,Me,Fe,Jt.data)}}else{rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,Me,Fe,we[be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,qe,Me,Fe,we[be]);for(let Ze=0;Ze<Ce.length;Ze++){const lt=Ce[Ze];rt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze+1,0,0,Me,Fe,lt.image[be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ze+1,qe,Me,Fe,lt.image[be])}}}C(H,Te)&&b(t.TEXTURE_CUBE_MAP),Pe.__version=Ue.version,H.onUpdate&&H.onUpdate(H)}te.__version=H.version}function pe(te,H,fe,je,Ue,Pe){const $e=s.convert(fe.format,fe.colorSpace),Ke=s.convert(fe.type),we=I(fe.internalFormat,$e,Ke,fe.colorSpace);if(!i.get(H).__hasExternalTextures){const Te=Math.max(1,H.width>>Pe),Me=Math.max(1,H.height>>Pe);Ue===t.TEXTURE_3D||Ue===t.TEXTURE_2D_ARRAY?n.texImage3D(Ue,Pe,we,Te,Me,H.depth,0,$e,Ke,null):n.texImage2D(Ue,Pe,we,Te,Me,0,$e,Ke,null)}n.bindFramebuffer(t.FRAMEBUFFER,te),Ne(H)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,je,Ue,i.get(fe).__webglTexture,0,ke(H)):(Ue===t.TEXTURE_2D||Ue>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,je,Ue,i.get(fe).__webglTexture,Pe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Y(te,H,fe){if(t.bindRenderbuffer(t.RENDERBUFFER,te),H.depthBuffer&&!H.stencilBuffer){let je=t.DEPTH_COMPONENT16;if(fe||Ne(H)){const Ue=H.depthTexture;Ue&&Ue.isDepthTexture&&(Ue.type===Mn?je=t.DEPTH_COMPONENT32F:Ue.type===Ya&&(je=t.DEPTH_COMPONENT24));const Pe=ke(H);Ne(H)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Pe,je,H.width,H.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Pe,je,H.width,H.height)}else t.renderbufferStorage(t.RENDERBUFFER,je,H.width,H.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,te)}else if(H.depthBuffer&&H.stencilBuffer){const je=ke(H);fe&&Ne(H)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,je,t.DEPTH24_STENCIL8,H.width,H.height):Ne(H)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,je,t.DEPTH24_STENCIL8,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,H.width,H.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,te)}else{const je=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Ue=0;Ue<je.length;Ue++){const Pe=je[Ue],$e=s.convert(Pe.format,Pe.colorSpace),Ke=s.convert(Pe.type),we=I(Pe.internalFormat,$e,Ke,Pe.colorSpace),ae=ke(H);fe&&Ne(H)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ae,we,H.width,H.height):Ne(H)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ae,we,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,we,H.width,H.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function me(te,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,te),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),V(H.depthTexture,0);const je=i.get(H.depthTexture).__webglTexture,Ue=ke(H);if(H.depthTexture.format===hc)Ne(H)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,je,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,je,0);else if(H.depthTexture.format===nu)Ne(H)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,je,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,je,0);else throw new Error("Unknown depthTexture format")}function ge(te){const H=i.get(te),fe=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture&&!H.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");me(H.__webglFramebuffer,te)}else if(fe){H.__webglDepthbuffer=[];for(let je=0;je<6;je++)n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer[je]),H.__webglDepthbuffer[je]=t.createRenderbuffer(),Y(H.__webglDepthbuffer[je],te,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer=t.createRenderbuffer(),Y(H.__webglDepthbuffer,te,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function de(te,H,fe){const je=i.get(te);H!==void 0&&pe(je.__webglFramebuffer,te,te.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),fe!==void 0&&ge(te)}function Se(te){const H=te.texture,fe=i.get(te),je=i.get(H);te.addEventListener("dispose",F),te.isWebGLMultipleRenderTargets!==!0&&(je.__webglTexture===void 0&&(je.__webglTexture=t.createTexture()),je.__version=H.version,o.memory.textures++);const Ue=te.isWebGLCubeRenderTarget===!0,Pe=te.isWebGLMultipleRenderTargets===!0,$e=E(te)||a;if(Ue){fe.__webglFramebuffer=[];for(let Ke=0;Ke<6;Ke++)if(a&&H.mipmaps&&H.mipmaps.length>0){fe.__webglFramebuffer[Ke]=[];for(let we=0;we<H.mipmaps.length;we++)fe.__webglFramebuffer[Ke][we]=t.createFramebuffer()}else fe.__webglFramebuffer[Ke]=t.createFramebuffer()}else{if(a&&H.mipmaps&&H.mipmaps.length>0){fe.__webglFramebuffer=[];for(let Ke=0;Ke<H.mipmaps.length;Ke++)fe.__webglFramebuffer[Ke]=t.createFramebuffer()}else fe.__webglFramebuffer=t.createFramebuffer();if(Pe)if(r.drawBuffers){const Ke=te.texture;for(let we=0,ae=Ke.length;we<ae;we++){const Te=i.get(Ke[we]);Te.__webglTexture===void 0&&(Te.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&te.samples>0&&Ne(te)===!1){const Ke=Pe?H:[H];fe.__webglMultisampledFramebuffer=t.createFramebuffer(),fe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let we=0;we<Ke.length;we++){const ae=Ke[we];fe.__webglColorRenderbuffer[we]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,fe.__webglColorRenderbuffer[we]);const Te=s.convert(ae.format,ae.colorSpace),Me=s.convert(ae.type),Fe=I(ae.internalFormat,Te,Me,ae.colorSpace,te.isXRRenderTarget===!0),qe=ke(te);t.renderbufferStorageMultisample(t.RENDERBUFFER,qe,Fe,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+we,t.RENDERBUFFER,fe.__webglColorRenderbuffer[we])}t.bindRenderbuffer(t.RENDERBUFFER,null),te.depthBuffer&&(fe.__webglDepthRenderbuffer=t.createRenderbuffer(),Y(fe.__webglDepthRenderbuffer,te,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ue){n.bindTexture(t.TEXTURE_CUBE_MAP,je.__webglTexture),oe(t.TEXTURE_CUBE_MAP,H,$e);for(let Ke=0;Ke<6;Ke++)if(a&&H.mipmaps&&H.mipmaps.length>0)for(let we=0;we<H.mipmaps.length;we++)pe(fe.__webglFramebuffer[Ke][we],te,H,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,we);else pe(fe.__webglFramebuffer[Ke],te,H,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0);C(H,$e)&&b(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Pe){const Ke=te.texture;for(let we=0,ae=Ke.length;we<ae;we++){const Te=Ke[we],Me=i.get(Te);n.bindTexture(t.TEXTURE_2D,Me.__webglTexture),oe(t.TEXTURE_2D,Te,$e),pe(fe.__webglFramebuffer,te,Te,t.COLOR_ATTACHMENT0+we,t.TEXTURE_2D,0),C(Te,$e)&&b(t.TEXTURE_2D)}n.unbindTexture()}else{let Ke=t.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(a?Ke=te.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ke,je.__webglTexture),oe(Ke,H,$e),a&&H.mipmaps&&H.mipmaps.length>0)for(let we=0;we<H.mipmaps.length;we++)pe(fe.__webglFramebuffer[we],te,H,t.COLOR_ATTACHMENT0,Ke,we);else pe(fe.__webglFramebuffer,te,H,t.COLOR_ATTACHMENT0,Ke,0);C(H,$e)&&b(Ke),n.unbindTexture()}te.depthBuffer&&ge(te)}function Qe(te){const H=E(te)||a,fe=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let je=0,Ue=fe.length;je<Ue;je++){const Pe=fe[je];if(C(Pe,H)){const $e=te.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ke=i.get(Pe).__webglTexture;n.bindTexture($e,Ke),b($e),n.unbindTexture()}}}function xe(te){if(a&&te.samples>0&&Ne(te)===!1){const H=te.isWebGLMultipleRenderTargets?te.texture:[te.texture],fe=te.width,je=te.height;let Ue=t.COLOR_BUFFER_BIT;const Pe=[],$e=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ke=i.get(te),we=te.isWebGLMultipleRenderTargets===!0;if(we)for(let ae=0;ae<H.length;ae++)n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ae,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ae,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglFramebuffer);for(let ae=0;ae<H.length;ae++){Pe.push(t.COLOR_ATTACHMENT0+ae),te.depthBuffer&&Pe.push($e);const Te=Ke.__ignoreDepthValues!==void 0?Ke.__ignoreDepthValues:!1;if(Te===!1&&(te.depthBuffer&&(Ue|=t.DEPTH_BUFFER_BIT),te.stencilBuffer&&(Ue|=t.STENCIL_BUFFER_BIT)),we&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[ae]),Te===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[$e]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$e])),we){const Me=i.get(H[ae]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Me,0)}t.blitFramebuffer(0,0,fe,je,0,0,fe,je,Ue,t.NEAREST),d&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Pe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),we)for(let ae=0;ae<H.length;ae++){n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ae,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[ae]);const Te=i.get(H[ae]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ae,t.TEXTURE_2D,Te,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer)}}function ke(te){return Math.min(f,te.samples)}function Ne(te){const H=i.get(te);return a&&te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function De(te){const H=o.render.frame;p.get(te)!==H&&(p.set(te,H),te.update())}function tt(te,H){const fe=te.colorSpace,je=te.format,Ue=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||te.format===aS||fe!==ga&&fe!==Xl&&(fe===ni||fe===DA?a===!1?e.has("EXT_sRGB")===!0&&je===Pn?(te.format=aS,te.minFilter=At,te.generateMipmaps=!1):H=f9.sRGBToLinear(H):(je!==Pn||Ue!==_n)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),H}this.allocateTextureUnit=k,this.resetTextureUnits=K,this.setTexture2D=V,this.setTexture2DArray=G,this.setTexture3D=z,this.setTextureCube=ne,this.rebindTextures=de,this.setupRenderTarget=Se,this.updateRenderTargetMipmap=Qe,this.updateMultisampleRenderTarget=xe,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=Ne}const cce=0,$i=1;function jj(t,e,n){const i=n.isWebGL2;function r(s,o=Xl){let a;const l=o===ni||o===DA?$i:cce;if(s===_n)return t.UNSIGNED_BYTE;if(s===i9)return t.UNSIGNED_SHORT_4_4_4_4;if(s===r9)return t.UNSIGNED_SHORT_5_5_5_1;if(s===gj)return t.BYTE;if(s===vj)return t.SHORT;if(s===sh)return t.UNSIGNED_SHORT;if(s===n9)return t.INT;if(s===Ya)return t.UNSIGNED_INT;if(s===Mn)return t.FLOAT;if(s===hn)return i?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Aj)return t.ALPHA;if(s===Pn)return t.RGBA;if(s===PA)return t.LUMINANCE;if(s===yj)return t.LUMINANCE_ALPHA;if(s===hc)return t.DEPTH_COMPONENT;if(s===nu)return t.DEPTH_STENCIL;if(s===aS)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Ka)return t.RED;if(s===s9)return t.RED_INTEGER;if(s===Tf)return t.RG;if(s===o9)return t.RG_INTEGER;if(s===a9)return t.RGBA_INTEGER;if(s===Fd||s===fx||s===hx||s===Ud)if(l===$i)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Fd)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===fx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===hx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Ud)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Fd)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===fx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===hx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Ud)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Q3||s===vb||s===W3||s===Ab)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Q3)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===vb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===W3)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Ab)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===w6)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===j3||s===q3)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===j3)return l===$i?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===q3)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===X3||s===yb||s===xb||s===Sb||s===Eb||s===wb||s===_b||s===Cb||s===bb||s===Tb||s===Mb||s===Ib||s===Rb||s===Pb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===X3)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===yb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===xb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Sb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Eb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===wb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===_b)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Cb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===bb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Tb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Mb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Ib)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Rb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Pb)return l===$i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===kd||s===Bb||s===Db)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===kd)return l===$i?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===Bb)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===Db)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===xj||s===Lb||s===Ob||s===Fb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===kd)return a.COMPRESSED_RED_RGTC1_EXT;if(s===Lb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Ob)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Fb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===nl?i?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class qj extends Qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Wl extends In{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fce={type:"move"};class C4{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Wl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Wl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new j,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new j),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Wl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new j,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new j),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const A=n.getJointPose(y,i),g=this._getHandJoint(u,y);A!==null&&(g.matrix.fromArray(A.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=A.radius),g.visible=A!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),d=.02,p=.005;u.inputState.pinching&&h>d+p?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-p&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(fce)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Wl;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class cu extends Vn{constructor(e,n,i,r,s,o,a,l,u,c){if(c=c!==void 0?c:hc,c!==hc&&c!==nu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===hc&&(i=Ya),i===void 0&&c===nu&&(i=nl),super(null,r,s,o,a,l,c,i,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:vt,this.minFilter=l!==void 0?l:vt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class hce extends uo{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,h=null,d=null,p=null;const y=n.getContextAttributes();let A=null,g=null;const x=[],S=[],E=new Qn;E.layers.enable(1),E.viewport=new qt;const w=new Qn;w.layers.enable(2),w.viewport=new qt;const C=[E,w],b=new qj;b.layers.enable(1),b.layers.enable(2);let I=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let z=x[G];return z===void 0&&(z=new C4,x[G]=z),z.getTargetRaySpace()},this.getControllerGrip=function(G){let z=x[G];return z===void 0&&(z=new C4,x[G]=z),z.getGripSpace()},this.getHand=function(G){let z=x[G];return z===void 0&&(z=new C4,x[G]=z),z.getHandSpace()};function R(G){const z=S.indexOf(G.inputSource);if(z===-1)return;const ne=x[z];ne!==void 0&&(ne.update(G.inputSource,G.frame,u||o),ne.dispatchEvent({type:G.type,data:G.inputSource}))}function D(){r.removeEventListener("select",R),r.removeEventListener("selectstart",R),r.removeEventListener("selectend",R),r.removeEventListener("squeeze",R),r.removeEventListener("squeezestart",R),r.removeEventListener("squeezeend",R),r.removeEventListener("end",D),r.removeEventListener("inputsourceschange",F);for(let G=0;G<x.length;G++){const z=S[G];z!==null&&(S[G]=null,x[G].disconnect(z))}I=null,M=null,e.setRenderTarget(A),d=null,h=null,f=null,r=null,g=null,V.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(G){u=G},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(G){if(r=G,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",R),r.addEventListener("selectstart",R),r.addEventListener("selectend",R),r.addEventListener("squeeze",R),r.addEventListener("squeezestart",R),r.addEventListener("squeezeend",R),r.addEventListener("end",D),r.addEventListener("inputsourceschange",F),y.xrCompatible!==!0&&await n.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const z={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(r,n,z),r.updateRenderState({baseLayer:d}),g=new Rt(d.framebufferWidth,d.framebufferHeight,{format:Pn,type:_n,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let z=null,ne=null,J=null;y.depth&&(J=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,z=y.stencil?nu:hc,ne=y.stencil?nl:Ya);const $={colorFormat:n.RGBA8,depthFormat:J,scaleFactor:s};f=new XRWebGLBinding(r,n),h=f.createProjectionLayer($),r.updateRenderState({layers:[h]}),g=new Rt(h.textureWidth,h.textureHeight,{format:Pn,type:_n,depthTexture:new cu(h.textureWidth,h.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,z),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const X=e.properties.get(g);X.__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),V.setContext(r),V.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function F(G){for(let z=0;z<G.removed.length;z++){const ne=G.removed[z],J=S.indexOf(ne);J>=0&&(S[J]=null,x[J].disconnect(ne))}for(let z=0;z<G.added.length;z++){const ne=G.added[z];let J=S.indexOf(ne);if(J===-1){for(let X=0;X<x.length;X++)if(X>=S.length){S.push(ne),J=X;break}else if(S[X]===null){S[X]=ne,J=X;break}if(J===-1)break}const $=x[J];$&&$.connect(ne)}}const O=new j,L=new j;function U(G,z,ne){O.setFromMatrixPosition(z.matrixWorld),L.setFromMatrixPosition(ne.matrixWorld);const J=O.distanceTo(L),$=z.projectionMatrix.elements,X=ne.projectionMatrix.elements,oe=$[14]/($[10]-1),ie=$[14]/($[10]+1),_e=($[9]+1)/$[5],Re=($[9]-1)/$[5],pe=($[8]-1)/$[0],Y=(X[8]+1)/X[0],me=oe*pe,ge=oe*Y,de=J/(-pe+Y),Se=de*-pe;z.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Se),G.translateZ(de),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const Qe=oe+de,xe=ie+de,ke=me-Se,Ne=ge+(J-Se),De=_e*ie/xe*Qe,tt=Re*ie/xe*Qe;G.projectionMatrix.makePerspective(ke,Ne,De,tt,Qe,xe),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}function q(G,z){z===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(z.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(r===null)return;b.near=w.near=E.near=G.near,b.far=w.far=E.far=G.far,(I!==b.near||M!==b.far)&&(r.updateRenderState({depthNear:b.near,depthFar:b.far}),I=b.near,M=b.far);const z=G.parent,ne=b.cameras;q(b,z);for(let J=0;J<ne.length;J++)q(ne[J],z);ne.length===2?U(b,E,w):b.projectionMatrix.copy(E.projectionMatrix),K(G,b,z)};function K(G,z,ne){ne===null?G.matrix.copy(z.matrixWorld):(G.matrix.copy(ne.matrixWorld),G.matrix.invert(),G.matrix.multiply(z.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(z.projectionMatrix),G.projectionMatrixInverse.copy(z.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=rp*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(G){l=G,h!==null&&(h.fixedFoveation=G),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=G)};let k=null;function W(G,z){if(c=z.getViewerPose(u||o),p=z,c!==null){const ne=c.views;d!==null&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));let J=!1;ne.length!==b.cameras.length&&(b.cameras.length=0,J=!0);for(let $=0;$<ne.length;$++){const X=ne[$];let oe=null;if(d!==null)oe=d.getViewport(X);else{const _e=f.getViewSubImage(h,X);oe=_e.viewport,$===0&&(e.setRenderTargetTextures(g,_e.colorTexture,h.ignoreDepthValues?void 0:_e.depthStencilTexture),e.setRenderTarget(g))}let ie=C[$];ie===void 0&&(ie=new Qn,ie.layers.enable($),ie.viewport=new qt,C[$]=ie),ie.matrix.fromArray(X.transform.matrix),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.projectionMatrix.fromArray(X.projectionMatrix),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert(),ie.viewport.set(oe.x,oe.y,oe.width,oe.height),$===0&&(b.matrix.copy(ie.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),J===!0&&b.cameras.push(ie)}}for(let ne=0;ne<x.length;ne++){const J=S[ne],$=x[ne];J!==null&&$!==void 0&&$.update(J,z,u||o)}k&&k(G,z),z.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:z}),p=null}const V=new zj;V.setAnimationLoop(W),this.setAnimationLoop=function(G){k=G},this.dispose=function(){}}}function dce(t,e){function n(A,g){A.matrixAutoUpdate===!0&&A.updateMatrix(),g.value.copy(A.matrix)}function i(A,g){g.color.getRGB(A.fogColor.value,Gj(t)),g.isFog?(A.fogNear.value=g.near,A.fogFar.value=g.far):g.isFogExp2&&(A.fogDensity.value=g.density)}function r(A,g,x,S,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(A,g):g.isMeshToonMaterial?(s(A,g),f(A,g)):g.isMeshPhongMaterial?(s(A,g),c(A,g)):g.isMeshStandardMaterial?(s(A,g),h(A,g),g.isMeshPhysicalMaterial&&d(A,g,E)):g.isMeshMatcapMaterial?(s(A,g),p(A,g)):g.isMeshDepthMaterial?s(A,g):g.isMeshDistanceMaterial?(s(A,g),y(A,g)):g.isMeshNormalMaterial?s(A,g):g.isLineBasicMaterial?(o(A,g),g.isLineDashedMaterial&&a(A,g)):g.isPointsMaterial?l(A,g,x,S):g.isSpriteMaterial?u(A,g):g.isShadowMaterial?(A.color.value.copy(g.color),A.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(A,g){A.opacity.value=g.opacity,g.color&&A.diffuse.value.copy(g.color),g.emissive&&A.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(A.map.value=g.map,n(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,n(g.alphaMap,A.alphaMapTransform)),g.bumpMap&&(A.bumpMap.value=g.bumpMap,n(g.bumpMap,A.bumpMapTransform),A.bumpScale.value=g.bumpScale,g.side===Vi&&(A.bumpScale.value*=-1)),g.normalMap&&(A.normalMap.value=g.normalMap,n(g.normalMap,A.normalMapTransform),A.normalScale.value.copy(g.normalScale),g.side===Vi&&A.normalScale.value.negate()),g.displacementMap&&(A.displacementMap.value=g.displacementMap,n(g.displacementMap,A.displacementMapTransform),A.displacementScale.value=g.displacementScale,A.displacementBias.value=g.displacementBias),g.emissiveMap&&(A.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,A.emissiveMapTransform)),g.specularMap&&(A.specularMap.value=g.specularMap,n(g.specularMap,A.specularMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);const x=e.get(g).envMap;if(x&&(A.envMap.value=x,A.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=g.reflectivity,A.ior.value=g.ior,A.refractionRatio.value=g.refractionRatio),g.lightMap){A.lightMap.value=g.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=g.lightMapIntensity*S,n(g.lightMap,A.lightMapTransform)}g.aoMap&&(A.aoMap.value=g.aoMap,A.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,A.aoMapTransform))}function o(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,g.map&&(A.map.value=g.map,n(g.map,A.mapTransform))}function a(A,g){A.dashSize.value=g.dashSize,A.totalSize.value=g.dashSize+g.gapSize,A.scale.value=g.scale}function l(A,g,x,S){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.size.value=g.size*x,A.scale.value=S*.5,g.map&&(A.map.value=g.map,n(g.map,A.uvTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,n(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function u(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.rotation.value=g.rotation,g.map&&(A.map.value=g.map,n(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,n(g.alphaMap,A.alphaMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function c(A,g){A.specular.value.copy(g.specular),A.shininess.value=Math.max(g.shininess,1e-4)}function f(A,g){g.gradientMap&&(A.gradientMap.value=g.gradientMap)}function h(A,g){A.metalness.value=g.metalness,g.metalnessMap&&(A.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,A.metalnessMapTransform)),A.roughness.value=g.roughness,g.roughnessMap&&(A.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,A.roughnessMapTransform)),e.get(g).envMap&&(A.envMapIntensity.value=g.envMapIntensity)}function d(A,g,x){A.ior.value=g.ior,g.sheen>0&&(A.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),A.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(A.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,A.sheenColorMapTransform)),g.sheenRoughnessMap&&(A.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,A.sheenRoughnessMapTransform))),g.clearcoat>0&&(A.clearcoat.value=g.clearcoat,A.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(A.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,A.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(A.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Vi&&A.clearcoatNormalScale.value.negate())),g.iridescence>0&&(A.iridescence.value=g.iridescence,A.iridescenceIOR.value=g.iridescenceIOR,A.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(A.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,A.iridescenceMapTransform)),g.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),g.transmission>0&&(A.transmission.value=g.transmission,A.transmissionSamplerMap.value=x.texture,A.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(A.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,A.transmissionMapTransform)),A.thickness.value=g.thickness,g.thicknessMap&&(A.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=g.attenuationDistance,A.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(A.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(A.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=g.specularIntensity,A.specularColor.value.copy(g.specularColor),g.specularColorMap&&(A.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,A.specularColorMapTransform)),g.specularIntensityMap&&(A.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,A.specularIntensityMapTransform))}function p(A,g){g.matcap&&(A.matcap.value=g.matcap)}function y(A,g){const x=e.get(g).light;A.referencePosition.value.setFromMatrixPosition(x.matrixWorld),A.nearDistance.value=x.shadow.camera.near,A.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function pce(t,e,n,i){let r={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,S){const E=S.program;i.uniformBlockBinding(x,E)}function u(x,S){let E=r[x.id];E===void 0&&(p(x),E=c(x),r[x.id]=E,x.addEventListener("dispose",A));const w=S.program;i.updateUBOMapping(x,w);const C=e.render.frame;s[x.id]!==C&&(h(x),s[x.id]=C)}function c(x){const S=f();x.__bindingPointIndex=S;const E=t.createBuffer(),w=x.__size,C=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,w,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,E),E}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const S=r[x.id],E=x.uniforms,w=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let C=0,b=E.length;C<b;C++){const I=E[C];if(d(I,C,w)===!0){const M=I.__offset,R=Array.isArray(I.value)?I.value:[I.value];let D=0;for(let F=0;F<R.length;F++){const O=R[F],L=y(O);typeof O=="number"?(I.__data[0]=O,t.bufferSubData(t.UNIFORM_BUFFER,M+D,I.__data)):O.isMatrix3?(I.__data[0]=O.elements[0],I.__data[1]=O.elements[1],I.__data[2]=O.elements[2],I.__data[3]=O.elements[0],I.__data[4]=O.elements[3],I.__data[5]=O.elements[4],I.__data[6]=O.elements[5],I.__data[7]=O.elements[0],I.__data[8]=O.elements[6],I.__data[9]=O.elements[7],I.__data[10]=O.elements[8],I.__data[11]=O.elements[0]):(O.toArray(I.__data,D),D+=L.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,M,I.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(x,S,E){const w=x.value;if(E[S]===void 0){if(typeof w=="number")E[S]=w;else{const C=Array.isArray(w)?w:[w],b=[];for(let I=0;I<C.length;I++)b.push(C[I].clone());E[S]=b}return!0}else if(typeof w=="number"){if(E[S]!==w)return E[S]=w,!0}else{const C=Array.isArray(E[S])?E[S]:[E[S]],b=Array.isArray(w)?w:[w];for(let I=0;I<C.length;I++){const M=C[I];if(M.equals(b[I])===!1)return M.copy(b[I]),!0}}return!1}function p(x){const S=x.uniforms;let E=0;const w=16;let C=0;for(let b=0,I=S.length;b<I;b++){const M=S[b],R={boundary:0,storage:0},D=Array.isArray(M.value)?M.value:[M.value];for(let F=0,O=D.length;F<O;F++){const L=D[F],U=y(L);R.boundary+=U.boundary,R.storage+=U.storage}if(M.__data=new Float32Array(R.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=E,b>0){C=E%w;const F=w-C;C!==0&&F-R.boundary<0&&(E+=w-C,M.__offset=E)}E+=R.storage}return C=E%w,C>0&&(E+=w-C),x.__size=E,x.__cache={},this}function y(x){const S={boundary:0,storage:0};return typeof x=="number"?(S.boundary=4,S.storage=4):x.isVector2?(S.boundary=8,S.storage=8):x.isVector3||x.isColor?(S.boundary=16,S.storage=12):x.isVector4?(S.boundary=16,S.storage=16):x.isMatrix3?(S.boundary=48,S.storage=48):x.isMatrix4?(S.boundary=64,S.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),S}function A(x){const S=x.target;S.removeEventListener("dispose",A);const E=o.indexOf(S.__bindingPointIndex);o.splice(E,1),t.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const x in r)t.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:u,dispose:g}}class g9{constructor(e={}){const{canvas:n=Uj(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;i!==null?h=i.getContextAttributes().alpha:h=o;const d=new Uint32Array(4),p=new Int32Array(4);let y=null,A=null;const g=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=ni,this._useLegacyLights=!1,this.toneMapping=Do,this.toneMappingExposure=1;const S=this;let E=!1,w=0,C=0,b=null,I=-1,M=null;const R=new qt,D=new qt;let F=null;const O=new Je(0);let L=0,U=n.width,q=n.height,K=1,k=null,W=null;const V=new qt(0,0,U,q),G=new qt(0,0,U,q);let z=!1;const ne=new T6;let J=!1,$=!1,X=null;const oe=new it,ie=new he,_e=new j,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function pe(){return b===null?K:1}let Y=i;function me(B,Z){for(let se=0;se<B.length;se++){const re=B[se],ue=n.getContext(re,Z);if(ue!==null)return ue}return null}try{const B={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Lr}`),n.addEventListener("webglcontextlost",Ce,!1),n.addEventListener("webglcontextrestored",be,!1),n.addEventListener("webglcontextcreationerror",Ze,!1),Y===null){const Z=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&Z.shift(),Y=me(Z,B),Y===null)throw me(Z)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Y instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(B){throw console.error("THREE.WebGLRenderer: "+B.message),B}let ge,de,Se,Qe,xe,ke,Ne,De,tt,te,H,fe,je,Ue,Pe,$e,Ke,we,ae,Te,Me,Fe,qe,rt;function ut(){ge=new Ile(Y),de=new wle(Y,ge,e),ge.init(de),Fe=new jj(Y,ge,de),Se=new lce(Y,ge,de),Qe=new Ble(Y),xe=new Kue,ke=new uce(Y,ge,Se,xe,de,Fe,Qe),Ne=new Cle(S),De=new Mle(S),tt=new Hse(Y,de),qe=new Sle(Y,ge,tt,de),te=new Rle(Y,tt,Qe,qe),H=new Fle(Y,te,tt,Qe),ae=new Ole(Y,de,ke),$e=new _le(xe),fe=new Yue(S,Ne,De,ge,de,qe,$e),je=new dce(S,xe),Ue=new Zue,Pe=new rce(ge,de),we=new xle(S,Ne,De,Se,H,h,l),Ke=new ace(S,H,de),rt=new pce(Y,Qe,de,Se),Te=new Ele(Y,ge,Qe,de),Me=new Ple(Y,ge,Qe,de),Qe.programs=fe.programs,S.capabilities=de,S.extensions=ge,S.properties=xe,S.renderLists=Ue,S.shadowMap=Ke,S.state=Se,S.info=Qe}ut();const ce=new hce(S,Y);this.xr=ce,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const B=ge.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=ge.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(B){B!==void 0&&(K=B,this.setSize(U,q,!1))},this.getSize=function(B){return B.set(U,q)},this.setSize=function(B,Z,se=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=B,q=Z,n.width=Math.floor(B*K),n.height=Math.floor(Z*K),se===!0&&(n.style.width=B+"px",n.style.height=Z+"px"),this.setViewport(0,0,B,Z)},this.getDrawingBufferSize=function(B){return B.set(U*K,q*K).floor()},this.setDrawingBufferSize=function(B,Z,se){U=B,q=Z,K=se,n.width=Math.floor(B*se),n.height=Math.floor(Z*se),this.setViewport(0,0,B,Z)},this.getCurrentViewport=function(B){return B.copy(R)},this.getViewport=function(B){return B.copy(V)},this.setViewport=function(B,Z,se,re){B.isVector4?V.set(B.x,B.y,B.z,B.w):V.set(B,Z,se,re),Se.viewport(R.copy(V).multiplyScalar(K).floor())},this.getScissor=function(B){return B.copy(G)},this.setScissor=function(B,Z,se,re){B.isVector4?G.set(B.x,B.y,B.z,B.w):G.set(B,Z,se,re),Se.scissor(D.copy(G).multiplyScalar(K).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(B){Se.setScissorTest(z=B)},this.setOpaqueSort=function(B){k=B},this.setTransparentSort=function(B){W=B},this.getClearColor=function(B){return B.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(B=!0,Z=!0,se=!0){let re=0;if(B){let ue=!1;if(b!==null){const Be=b.texture.format;ue=Be===a9||Be===o9||Be===s9}if(ue){const Be=b.texture.type,Le=Be===_n||Be===Ya||Be===sh||Be===nl||Be===i9||Be===r9,ze=we.getClearColor(),He=we.getClearAlpha(),Ye=ze.r,ve=ze.g,ht=ze.b;Le?(d[0]=Ye,d[1]=ve,d[2]=ht,d[3]=He,Y.clearBufferuiv(Y.COLOR,0,d)):(p[0]=Ye,p[1]=ve,p[2]=ht,p[3]=He,Y.clearBufferiv(Y.COLOR,0,p))}else re|=Y.COLOR_BUFFER_BIT}Z&&(re|=Y.DEPTH_BUFFER_BIT),se&&(re|=Y.STENCIL_BUFFER_BIT),Y.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ce,!1),n.removeEventListener("webglcontextrestored",be,!1),n.removeEventListener("webglcontextcreationerror",Ze,!1),Ue.dispose(),Pe.dispose(),xe.dispose(),Ne.dispose(),De.dispose(),H.dispose(),qe.dispose(),rt.dispose(),fe.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",wn),ce.removeEventListener("sessionend",xn),X&&(X.dispose(),X=null),rn.stop()};function Ce(B){B.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function be(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const B=Qe.autoReset,Z=Ke.enabled,se=Ke.autoUpdate,re=Ke.needsUpdate,ue=Ke.type;ut(),Qe.autoReset=B,Ke.enabled=Z,Ke.autoUpdate=se,Ke.needsUpdate=re,Ke.type=ue}function Ze(B){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",B.statusMessage)}function lt(B){const Z=B.target;Z.removeEventListener("dispose",lt),Jt(Z)}function Jt(B){an(B),xe.remove(B)}function an(B){const Z=xe.get(B).programs;Z!==void 0&&(Z.forEach(function(se){fe.releaseProgram(se)}),B.isShaderMaterial&&fe.releaseShaderCache(B))}this.renderBufferDirect=function(B,Z,se,re,ue,Be){Z===null&&(Z=Re);const Le=ue.isMesh&&ue.matrixWorld.determinant()<0,ze=bi(B,Z,se,re,ue);Se.setMaterial(re,Le);let He=se.index,Ye=1;if(re.wireframe===!0){if(He=te.getWireframeAttribute(se),He===void 0)return;Ye=2}const ve=se.drawRange,ht=se.attributes.position;let at=ve.start*Ye,ot=(ve.start+ve.count)*Ye;Be!==null&&(at=Math.max(at,Be.start*Ye),ot=Math.min(ot,(Be.start+Be.count)*Ye)),He!==null?(at=Math.max(at,0),ot=Math.min(ot,He.count)):ht!=null&&(at=Math.max(at,0),ot=Math.min(ot,ht.count));const bt=ot-at;if(bt<0||bt===1/0)return;qe.setup(ue,re,ze,se,He);let Lt,Mt=Te;if(He!==null&&(Lt=tt.get(He),Mt=Me,Mt.setIndex(Lt)),ue.isMesh)re.wireframe===!0?(Se.setLineWidth(re.wireframeLinewidth*pe()),Mt.setMode(Y.LINES)):Mt.setMode(Y.TRIANGLES);else if(ue.isLine){let ft=re.linewidth;ft===void 0&&(ft=1),Se.setLineWidth(ft*pe()),ue.isLineSegments?Mt.setMode(Y.LINES):ue.isLineLoop?Mt.setMode(Y.LINE_LOOP):Mt.setMode(Y.LINE_STRIP)}else ue.isPoints?Mt.setMode(Y.POINTS):ue.isSprite&&Mt.setMode(Y.TRIANGLES);if(ue.isInstancedMesh)Mt.renderInstances(at,bt,ue.count);else if(se.isInstancedBufferGeometry){const ft=se._maxInstanceCount!==void 0?se._maxInstanceCount:1/0,Ft=Math.min(se.instanceCount,ft);Mt.renderInstances(at,bt,Ft)}else Mt.render(at,bt)},this.compile=function(B,Z){function se(re,ue,Be){re.transparent===!0&&re.side===yr&&re.forceSinglePass===!1?(re.side=Vi,re.needsUpdate=!0,Dn(re,ue,Be),re.side=No,re.needsUpdate=!0,Dn(re,ue,Be),re.side=yr):Dn(re,ue,Be)}A=Pe.get(B),A.init(),x.push(A),B.traverseVisible(function(re){re.isLight&&re.layers.test(Z.layers)&&(A.pushLight(re),re.castShadow&&A.pushShadow(re))}),A.setupLights(S._useLegacyLights),B.traverse(function(re){const ue=re.material;if(ue)if(Array.isArray(ue))for(let Be=0;Be<ue.length;Be++){const Le=ue[Be];se(Le,B,re)}else se(ue,B,re)}),x.pop(),A=null};let mn=null;function En(B){mn&&mn(B)}function wn(){rn.stop()}function xn(){rn.start()}const rn=new zj;rn.setAnimationLoop(En),typeof self<"u"&&rn.setContext(self),this.setAnimationLoop=function(B){mn=B,ce.setAnimationLoop(B),B===null?rn.stop():rn.start()},ce.addEventListener("sessionstart",wn),ce.addEventListener("sessionend",xn),this.render=function(B,Z){if(Z!==void 0&&Z.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;B.matrixWorldAutoUpdate===!0&&B.updateMatrixWorld(),Z.parent===null&&Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(Z),Z=ce.getCamera()),B.isScene===!0&&B.onBeforeRender(S,B,Z,b),A=Pe.get(B,x.length),A.init(),x.push(A),oe.multiplyMatrices(Z.projectionMatrix,Z.matrixWorldInverse),ne.setFromProjectionMatrix(oe),$=this.localClippingEnabled,J=$e.init(this.clippingPlanes,$),y=Ue.get(B,g.length),y.init(),g.push(y),hr(B,Z,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(k,W),this.info.render.frame++,J===!0&&$e.beginShadows();const se=A.state.shadowsArray;if(Ke.render(se,B,Z),J===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset(),we.render(y,B),A.setupLights(S._useLegacyLights),Z.isArrayCamera){const re=Z.cameras;for(let ue=0,Be=re.length;ue<Be;ue++){const Le=re[ue];Qi(y,B,Le,Le.viewport)}}else Qi(y,B,Z);b!==null&&(ke.updateMultisampleRenderTarget(b),ke.updateRenderTargetMipmap(b)),B.isScene===!0&&B.onAfterRender(S,B,Z),qe.resetDefaultState(),I=-1,M=null,x.pop(),x.length>0?A=x[x.length-1]:A=null,g.pop(),g.length>0?y=g[g.length-1]:y=null};function hr(B,Z,se,re){if(B.visible===!1)return;if(B.layers.test(Z.layers)){if(B.isGroup)se=B.renderOrder;else if(B.isLOD)B.autoUpdate===!0&&B.update(Z);else if(B.isLight)A.pushLight(B),B.castShadow&&A.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||ne.intersectsSprite(B)){re&&_e.setFromMatrixPosition(B.matrixWorld).applyMatrix4(oe);const Le=H.update(B),ze=B.material;ze.visible&&y.push(B,Le,ze,se,_e.z,null)}}else if((B.isMesh||B.isLine||B.isPoints)&&(!B.frustumCulled||ne.intersectsObject(B))){const Le=H.update(B),ze=B.material;if(re&&(B.boundingSphere!==void 0?(B.boundingSphere===null&&B.computeBoundingSphere(),_e.copy(B.boundingSphere.center)):(Le.boundingSphere===null&&Le.computeBoundingSphere(),_e.copy(Le.boundingSphere.center)),_e.applyMatrix4(B.matrixWorld).applyMatrix4(oe)),Array.isArray(ze)){const He=Le.groups;for(let Ye=0,ve=He.length;Ye<ve;Ye++){const ht=He[Ye],at=ze[ht.materialIndex];at&&at.visible&&y.push(B,Le,at,se,_e.z,ht)}}else ze.visible&&y.push(B,Le,ze,se,_e.z,null)}}const Be=B.children;for(let Le=0,ze=Be.length;Le<ze;Le++)hr(Be[Le],Z,se,re)}function Qi(B,Z,se,re){const ue=B.opaque,Be=B.transmissive,Le=B.transparent;A.setupLightsView(se),J===!0&&$e.setGlobalState(S.clippingPlanes,se),Be.length>0&&Sn(ue,Be,Z,se),re&&Se.viewport(R.copy(re)),ue.length>0&&Yn(ue,Z,se),Be.length>0&&Yn(Be,Z,se),Le.length>0&&Yn(Le,Z,se),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function Sn(B,Z,se,re){const ue=de.isWebGL2;X===null&&(X=new Rt(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?hn:_n,minFilter:Go,samples:ue?4:0})),S.getDrawingBufferSize(ie),ue?X.setSize(ie.x,ie.y):X.setSize(lS(ie.x),lS(ie.y));const Be=S.getRenderTarget();S.setRenderTarget(X),S.getClearColor(O),L=S.getClearAlpha(),L<1&&S.setClearColor(16777215,.5),S.clear();const Le=S.toneMapping;S.toneMapping=Do,Yn(B,se,re),ke.updateMultisampleRenderTarget(X),ke.updateRenderTargetMipmap(X);let ze=!1;for(let He=0,Ye=Z.length;He<Ye;He++){const ve=Z[He],ht=ve.object,at=ve.geometry,ot=ve.material,bt=ve.group;if(ot.side===yr&&ht.layers.test(re.layers)){const Lt=ot.side;ot.side=Vi,ot.needsUpdate=!0,gi(ht,se,re,at,ot,bt),ot.side=Lt,ot.needsUpdate=!0,ze=!0}}ze===!0&&(ke.updateMultisampleRenderTarget(X),ke.updateRenderTargetMipmap(X)),S.setRenderTarget(Be),S.setClearColor(O,L),S.toneMapping=Le}function Yn(B,Z,se){const re=Z.isScene===!0?Z.overrideMaterial:null;for(let ue=0,Be=B.length;ue<Be;ue++){const Le=B[ue],ze=Le.object,He=Le.geometry,Ye=re===null?Le.material:re,ve=Le.group;ze.layers.test(se.layers)&&gi(ze,Z,se,He,Ye,ve)}}function gi(B,Z,se,re,ue,Be){B.onBeforeRender(S,Z,se,re,ue,Be),B.modelViewMatrix.multiplyMatrices(se.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),ue.onBeforeRender(S,Z,se,re,B,Be),ue.transparent===!0&&ue.side===yr&&ue.forceSinglePass===!1?(ue.side=Vi,ue.needsUpdate=!0,S.renderBufferDirect(se,Z,re,ue,B,Be),ue.side=No,ue.needsUpdate=!0,S.renderBufferDirect(se,Z,re,ue,B,Be),ue.side=yr):S.renderBufferDirect(se,Z,re,ue,B,Be),B.onAfterRender(S,Z,se,re,ue,Be)}function Dn(B,Z,se){Z.isScene!==!0&&(Z=Re);const re=xe.get(B),ue=A.state.lights,Be=A.state.shadowsArray,Le=ue.state.version,ze=fe.getParameters(B,ue.state,Be,Z,se),He=fe.getProgramCacheKey(ze);let Ye=re.programs;re.environment=B.isMeshStandardMaterial?Z.environment:null,re.fog=Z.fog,re.envMap=(B.isMeshStandardMaterial?De:Ne).get(B.envMap||re.environment),Ye===void 0&&(B.addEventListener("dispose",lt),Ye=new Map,re.programs=Ye);let ve=Ye.get(He);if(ve!==void 0){if(re.currentProgram===ve&&re.lightsStateVersion===Le)return Tt(B,ze),ve}else ze.uniforms=fe.getUniforms(B),B.onBuild(se,ze,S),B.onBeforeCompile(ze,S),ve=fe.acquireProgram(ze,He),Ye.set(He,ve),re.uniforms=ze.uniforms;const ht=re.uniforms;(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(ht.clippingPlanes=$e.uniform),Tt(B,ze),re.needsLights=Q(B),re.lightsStateVersion=Le,re.needsLights&&(ht.ambientLightColor.value=ue.state.ambient,ht.lightProbe.value=ue.state.probe,ht.directionalLights.value=ue.state.directional,ht.directionalLightShadows.value=ue.state.directionalShadow,ht.spotLights.value=ue.state.spot,ht.spotLightShadows.value=ue.state.spotShadow,ht.rectAreaLights.value=ue.state.rectArea,ht.ltc_1.value=ue.state.rectAreaLTC1,ht.ltc_2.value=ue.state.rectAreaLTC2,ht.pointLights.value=ue.state.point,ht.pointLightShadows.value=ue.state.pointShadow,ht.hemisphereLights.value=ue.state.hemi,ht.directionalShadowMap.value=ue.state.directionalShadowMap,ht.directionalShadowMatrix.value=ue.state.directionalShadowMatrix,ht.spotShadowMap.value=ue.state.spotShadowMap,ht.spotLightMatrix.value=ue.state.spotLightMatrix,ht.spotLightMap.value=ue.state.spotLightMap,ht.pointShadowMap.value=ue.state.pointShadowMap,ht.pointShadowMatrix.value=ue.state.pointShadowMatrix);const at=ve.getUniforms(),ot=gx.seqWithValue(at.seq,ht);return re.currentProgram=ve,re.uniformsList=ot,ve}function Tt(B,Z){const se=xe.get(B);se.outputColorSpace=Z.outputColorSpace,se.instancing=Z.instancing,se.instancingColor=Z.instancingColor,se.skinning=Z.skinning,se.morphTargets=Z.morphTargets,se.morphNormals=Z.morphNormals,se.morphColors=Z.morphColors,se.morphTargetsCount=Z.morphTargetsCount,se.numClippingPlanes=Z.numClippingPlanes,se.numIntersection=Z.numClipIntersection,se.vertexAlphas=Z.vertexAlphas,se.vertexTangents=Z.vertexTangents,se.toneMapping=Z.toneMapping}function bi(B,Z,se,re,ue){Z.isScene!==!0&&(Z=Re),ke.resetTextureUnits();const Be=Z.fog,Le=re.isMeshStandardMaterial?Z.environment:null,ze=b===null?S.outputColorSpace:b.isXRRenderTarget===!0?b.texture.colorSpace:ga,He=(re.isMeshStandardMaterial?De:Ne).get(re.envMap||Le),Ye=re.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,ve=!!se.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),ht=!!se.morphAttributes.position,at=!!se.morphAttributes.normal,ot=!!se.morphAttributes.color;let bt=Do;re.toneMapped&&(b===null||b.isXRRenderTarget===!0)&&(bt=S.toneMapping);const Lt=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,Mt=Lt!==void 0?Lt.length:0,ft=xe.get(re),Ft=A.state.lights;if(J===!0&&($===!0||B!==M)){const Wt=B===M&&re.id===I;$e.setState(re,B,Wt)}let xt=!1;re.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==Ft.state.version||ft.outputColorSpace!==ze||ue.isInstancedMesh&&ft.instancing===!1||!ue.isInstancedMesh&&ft.instancing===!0||ue.isSkinnedMesh&&ft.skinning===!1||!ue.isSkinnedMesh&&ft.skinning===!0||ue.isInstancedMesh&&ft.instancingColor===!0&&ue.instanceColor===null||ue.isInstancedMesh&&ft.instancingColor===!1&&ue.instanceColor!==null||ft.envMap!==He||re.fog===!0&&ft.fog!==Be||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==$e.numPlanes||ft.numIntersection!==$e.numIntersection)||ft.vertexAlphas!==Ye||ft.vertexTangents!==ve||ft.morphTargets!==ht||ft.morphNormals!==at||ft.morphColors!==ot||ft.toneMapping!==bt||de.isWebGL2===!0&&ft.morphTargetsCount!==Mt)&&(xt=!0):(xt=!0,ft.__version=re.version);let Qt=ft.currentProgram;xt===!0&&(Qt=Dn(re,Z,ue));let Ln=!1,Ht=!1,On=!1;const gn=Qt.getUniforms(),kn=ft.uniforms;if(Se.useProgram(Qt.program)&&(Ln=!0,Ht=!0,On=!0),re.id!==I&&(I=re.id,Ht=!0),Ln||M!==B){gn.setValue(Y,"projectionMatrix",B.projectionMatrix),gn.setValue(Y,"viewMatrix",B.matrixWorldInverse);const Wt=gn.map.cameraPosition;Wt!==void 0&&Wt.setValue(Y,_e.setFromMatrixPosition(B.matrixWorld)),de.logarithmicDepthBuffer&&gn.setValue(Y,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&gn.setValue(Y,"isOrthographic",B.isOrthographicCamera===!0),M!==B&&(M=B,Ht=!0,On=!0)}if(ue.isSkinnedMesh){gn.setOptional(Y,ue,"bindMatrix"),gn.setOptional(Y,ue,"bindMatrixInverse");const Wt=ue.skeleton;Wt&&(de.floatVertexTextures?(Wt.boneTexture===null&&Wt.computeBoneTexture(),gn.setValue(Y,"boneTexture",Wt.boneTexture,ke),gn.setValue(Y,"boneTextureSize",Wt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Kn=se.morphAttributes;if((Kn.position!==void 0||Kn.normal!==void 0||Kn.color!==void 0&&de.isWebGL2===!0)&&ae.update(ue,se,Qt),(Ht||ft.receiveShadow!==ue.receiveShadow)&&(ft.receiveShadow=ue.receiveShadow,gn.setValue(Y,"receiveShadow",ue.receiveShadow)),re.isMeshGouraudMaterial&&re.envMap!==null&&(kn.envMap.value=He,kn.flipEnvMap.value=He.isCubeTexture&&He.isRenderTargetTexture===!1?-1:1),Ht&&(gn.setValue(Y,"toneMappingExposure",S.toneMappingExposure),ft.needsLights&&gs(kn,On),Be&&re.fog===!0&&je.refreshFogUniforms(kn,Be),je.refreshMaterialUniforms(kn,re,K,q,X),gx.upload(Y,ft.uniformsList,kn,ke)),re.isShaderMaterial&&re.uniformsNeedUpdate===!0&&(gx.upload(Y,ft.uniformsList,kn,ke),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&gn.setValue(Y,"center",ue.center),gn.setValue(Y,"modelViewMatrix",ue.modelViewMatrix),gn.setValue(Y,"normalMatrix",ue.normalMatrix),gn.setValue(Y,"modelMatrix",ue.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const Wt=re.uniformsGroups;for(let Jn=0,bn=Wt.length;Jn<bn;Jn++)if(de.isWebGL2){const Zt=Wt[Jn];rt.update(Zt,Qt),rt.bind(Zt,Qt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Qt}function gs(B,Z){B.ambientLightColor.needsUpdate=Z,B.lightProbe.needsUpdate=Z,B.directionalLights.needsUpdate=Z,B.directionalLightShadows.needsUpdate=Z,B.pointLights.needsUpdate=Z,B.pointLightShadows.needsUpdate=Z,B.spotLights.needsUpdate=Z,B.spotLightShadows.needsUpdate=Z,B.rectAreaLights.needsUpdate=Z,B.hemisphereLights.needsUpdate=Z}function Q(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&B.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(B,Z,se){xe.get(B.texture).__webglTexture=Z,xe.get(B.depthTexture).__webglTexture=se;const re=xe.get(B);re.__hasExternalTextures=!0,re.__hasExternalTextures&&(re.__autoAllocateDepthBuffer=se===void 0,re.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(B,Z){const se=xe.get(B);se.__webglFramebuffer=Z,se.__useDefaultFramebuffer=Z===void 0},this.setRenderTarget=function(B,Z=0,se=0){b=B,w=Z,C=se;let re=!0,ue=null,Be=!1,Le=!1;if(B){const He=xe.get(B);He.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(Y.FRAMEBUFFER,null),re=!1):He.__webglFramebuffer===void 0?ke.setupRenderTarget(B):He.__hasExternalTextures&&ke.rebindTextures(B,xe.get(B.texture).__webglTexture,xe.get(B.depthTexture).__webglTexture);const Ye=B.texture;(Ye.isData3DTexture||Ye.isDataArrayTexture||Ye.isCompressedArrayTexture)&&(Le=!0);const ve=xe.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(Array.isArray(ve[Z])?ue=ve[Z][se]:ue=ve[Z],Be=!0):de.isWebGL2&&B.samples>0&&ke.useMultisampledRTT(B)===!1?ue=xe.get(B).__webglMultisampledFramebuffer:Array.isArray(ve)?ue=ve[se]:ue=ve,R.copy(B.viewport),D.copy(B.scissor),F=B.scissorTest}else R.copy(V).multiplyScalar(K).floor(),D.copy(G).multiplyScalar(K).floor(),F=z;if(Se.bindFramebuffer(Y.FRAMEBUFFER,ue)&&de.drawBuffers&&re&&Se.drawBuffers(B,ue),Se.viewport(R),Se.scissor(D),Se.setScissorTest(F),Be){const He=xe.get(B.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+Z,He.__webglTexture,se)}else if(Le){const He=xe.get(B.texture),Ye=Z||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,He.__webglTexture,se||0,Ye)}I=-1},this.readRenderTargetPixels=function(B,Z,se,re,ue,Be,Le){if(!(B&&B.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ze=xe.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&Le!==void 0&&(ze=ze[Le]),ze){Se.bindFramebuffer(Y.FRAMEBUFFER,ze);try{const He=B.texture,Ye=He.format,ve=He.type;if(Ye!==Pn&&Fe.convert(Ye)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ht=ve===hn&&(ge.has("EXT_color_buffer_half_float")||de.isWebGL2&&ge.has("EXT_color_buffer_float"));if(ve!==_n&&Fe.convert(ve)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&!(ve===Mn&&(de.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!ht){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Z>=0&&Z<=B.width-re&&se>=0&&se<=B.height-ue&&Y.readPixels(Z,se,re,ue,Fe.convert(Ye),Fe.convert(ve),Be)}finally{const He=b!==null?xe.get(b).__webglFramebuffer:null;Se.bindFramebuffer(Y.FRAMEBUFFER,He)}}},this.copyFramebufferToTexture=function(B,Z,se=0){const re=Math.pow(2,-se),ue=Math.floor(Z.image.width*re),Be=Math.floor(Z.image.height*re);ke.setTexture2D(Z,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,se,0,0,B.x,B.y,ue,Be),Se.unbindTexture()},this.copyTextureToTexture=function(B,Z,se,re=0){const ue=Z.image.width,Be=Z.image.height,Le=Fe.convert(se.format),ze=Fe.convert(se.type);ke.setTexture2D(se,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,se.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,se.unpackAlignment),Z.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,re,B.x,B.y,ue,Be,Le,ze,Z.image.data):Z.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,re,B.x,B.y,Z.mipmaps[0].width,Z.mipmaps[0].height,Le,Z.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,re,B.x,B.y,Le,ze,Z.image),re===0&&se.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),Se.unbindTexture()},this.copyTextureToTexture3D=function(B,Z,se,re,ue=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Be=B.max.x-B.min.x+1,Le=B.max.y-B.min.y+1,ze=B.max.z-B.min.z+1,He=Fe.convert(re.format),Ye=Fe.convert(re.type);let ve;if(re.isData3DTexture)ke.setTexture3D(re,0),ve=Y.TEXTURE_3D;else if(re.isDataArrayTexture)ke.setTexture2DArray(re,0),ve=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,re.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,re.unpackAlignment);const ht=Y.getParameter(Y.UNPACK_ROW_LENGTH),at=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),ot=Y.getParameter(Y.UNPACK_SKIP_PIXELS),bt=Y.getParameter(Y.UNPACK_SKIP_ROWS),Lt=Y.getParameter(Y.UNPACK_SKIP_IMAGES),Mt=se.isCompressedTexture?se.mipmaps[0]:se.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Mt.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Mt.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,B.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,B.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,B.min.z),se.isDataTexture||se.isData3DTexture?Y.texSubImage3D(ve,ue,Z.x,Z.y,Z.z,Be,Le,ze,He,Ye,Mt.data):se.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(ve,ue,Z.x,Z.y,Z.z,Be,Le,ze,He,Mt.data)):Y.texSubImage3D(ve,ue,Z.x,Z.y,Z.z,Be,Le,ze,He,Ye,Mt),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,ht),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,at),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,ot),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,bt),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Lt),ue===0&&re.generateMipmaps&&Y.generateMipmap(ve),Se.unbindTexture()},this.initTexture=function(B){B.isCubeTexture?ke.setTextureCube(B,0):B.isData3DTexture?ke.setTexture3D(B,0):B.isDataArrayTexture||B.isCompressedArrayTexture?ke.setTexture2DArray(B,0):ke.setTexture2D(B,0),Se.unbindTexture()},this.resetState=function(){w=0,C=0,b=null,Se.reset(),qe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ja}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ni?Lo:BA}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Lo?ni:ga}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Xj extends g9{}Xj.prototype.isWebGL1Renderer=!0;class R6{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Je(e),this.density=n}clone(){return new R6(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class P6{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Je(e),this.near=n,this.far=i}clone(){return new P6(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class iu extends In{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class FA{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=K3,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=eo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=eo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=eo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const rs=new j;class Ms{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)rs.fromBufferAttribute(this,n),rs.applyMatrix4(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)rs.fromBufferAttribute(this,n),rs.applyNormalMatrix(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)rs.fromBufferAttribute(this,n),rs.transformDirection(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=bs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=bs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=bs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=bs(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),i=un(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),i=un(i,this.array),r=un(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),i=un(i,this.array),r=un(r,this.array),s=un(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new An(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ms(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class v9 extends Li{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qh;const x0=new j,Xh=new j,Yh=new j,Kh=new he,S0=new he,Yj=new it,Ky=new j,E0=new j,Jy=new j,nD=new he,b4=new he,iD=new he;class Kj extends In{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",qh===void 0){qh=new Xt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new FA(n,5);qh.setIndex([0,1,2,0,2,3]),qh.setAttribute("position",new Ms(i,3,0,!1)),qh.setAttribute("uv",new Ms(i,2,3,!1))}this.geometry=qh,this.material=e!==void 0?e:new v9,this.center=new he(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xh.setFromMatrixScale(this.matrixWorld),Yj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Xh.multiplyScalar(-Yh.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Zy(Ky.set(-.5,-.5,0),Yh,o,Xh,r,s),Zy(E0.set(.5,-.5,0),Yh,o,Xh,r,s),Zy(Jy.set(.5,.5,0),Yh,o,Xh,r,s),nD.set(0,0),b4.set(1,0),iD.set(1,1);let a=e.ray.intersectTriangle(Ky,E0,Jy,!1,x0);if(a===null&&(Zy(E0.set(-.5,.5,0),Yh,o,Xh,r,s),b4.set(0,1),a=e.ray.intersectTriangle(Ky,Jy,E0,!1,x0),a===null))return;const l=e.ray.origin.distanceTo(x0);l<e.near||l>e.far||n.push({distance:l,point:x0.clone(),uv:Cs.getInterpolation(x0,Ky,E0,Jy,nD,b4,iD,new he),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Zy(t,e,n,i,r,s){Kh.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(S0.x=s*Kh.x-r*Kh.y,S0.y=r*Kh.x+s*Kh.y):S0.copy(Kh),t.copy(e),t.x+=S0.x,t.y+=S0.y,t.applyMatrix4(Yj)}const $y=new j,rD=new j;class Jj extends In{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){$y.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo($y);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){$y.setFromMatrixPosition(e.matrixWorld),rD.setFromMatrixPosition(this.matrixWorld);const i=$y.distanceTo(rD)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const sD=new j,oD=new qt,aD=new qt,mce=new j,lD=new it,Jh=new j,T4=new Fr,uD=new it,M4=new _p;class A9 extends yn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new it,this.bindMatrixInverse=new it,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Or),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)Jh.fromBufferAttribute(n,i),this.applyBoneTransform(i,Jh),this.boundingBox.expandByPoint(Jh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)Jh.fromBufferAttribute(n,i),this.applyBoneTransform(i,Jh),this.boundingSphere.expandByPoint(Jh)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),T4.copy(this.boundingSphere),T4.applyMatrix4(r),e.ray.intersectsSphere(T4)!==!1&&(uD.copy(r).invert(),M4.copy(e.ray).applyMatrix4(uD),!(this.boundingBox!==null&&M4.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,M4)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;oD.fromBufferAttribute(r.attributes.skinIndex,e),aD.fromBufferAttribute(r.attributes.skinWeight,e),sD.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=aD.getComponent(s);if(o!==0){const a=oD.getComponent(s);lD.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(mce.copy(sD).applyMatrix4(lD),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class B6 extends In{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bs extends Vn{constructor(e=null,n=1,i=1,r,s,o,a,l,u=vt,c=vt,f,h){super(null,o,a,l,u,c,r,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const cD=new it,gce=new it;class UA{constructor(e=[],n=[]){this.uuid=eo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new it)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new it;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:gce;cD.multiplyMatrices(a,n[s]),cD.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new UA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Oj(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Bs(n,e,e,Pn,Mn);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new B6),this.bones.push(o),this.boneInverses.push(new it().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Kf extends An{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Zh=new it,fD=new it,e5=[],hD=new Or,vce=new it,w0=new yn,_0=new Fr;class y9 extends yn{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Kf(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,vce)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Or),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Zh),hD.copy(e.boundingBox).applyMatrix4(Zh),this.boundingBox.union(hD)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Zh),_0.copy(e.boundingSphere).applyMatrix4(Zh),this.boundingSphere.union(_0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(w0.geometry=this.geometry,w0.material=this.material,w0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_0.copy(this.boundingSphere),_0.applyMatrix4(i),e.ray.intersectsSphere(_0)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Zh),fD.multiplyMatrices(i,Zh),w0.matrixWorld=fD,w0.raycast(e,e5);for(let o=0,a=e5.length;o<a;o++){const l=e5[o];l.instanceId=s,l.object=this,n.push(l)}e5.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Kf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Jr extends Li{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Je(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dD=new j,pD=new j,mD=new it,I4=new _p,t5=new Fr;let ru=class extends In{constructor(e=new Xt,n=new Jr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)dD.fromBufferAttribute(n,r-1),pD.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=dD.distanceTo(pD);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),t5.copy(i.boundingSphere),t5.applyMatrix4(r),t5.radius+=s,e.ray.intersectsSphere(t5)===!1)return;mD.copy(r).invert(),I4.copy(e.ray).applyMatrix4(mD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new j,c=new j,f=new j,h=new j,d=this.isLineSegments?2:1,p=i.index,A=i.attributes.position;if(p!==null){const g=Math.max(0,o.start),x=Math.min(p.count,o.start+o.count);for(let S=g,E=x-1;S<E;S+=d){const w=p.getX(S),C=p.getX(S+1);if(u.fromBufferAttribute(A,w),c.fromBufferAttribute(A,C),I4.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(h);I<e.near||I>e.far||n.push({distance:I,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(A.count,o.start+o.count);for(let S=g,E=x-1;S<E;S+=d){if(u.fromBufferAttribute(A,S),c.fromBufferAttribute(A,S+1),I4.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(h);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const gD=new j,vD=new j;class Sa extends ru{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)gD.fromBufferAttribute(n,r),vD.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+gD.distanceTo(vD);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class x9 extends ru{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class D6 extends Li{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const AD=new it,Nb=new _p,n5=new Fr,i5=new j;class L6 extends In{constructor(e=new Xt,n=new D6){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),n5.copy(i.boundingSphere),n5.applyMatrix4(r),n5.radius+=s,e.ray.intersectsSphere(n5)===!1)return;AD.copy(r).invert(),Nb.copy(e.ray).applyMatrix4(AD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,f=i.attributes.position;if(u!==null){const h=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);for(let p=h,y=d;p<y;p++){const A=u.getX(p);i5.fromBufferAttribute(f,A),yD(i5,A,l,r,e,n,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let p=h,y=d;p<y;p++)i5.fromBufferAttribute(f,p),yD(i5,p,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function yD(t,e,n,i,r,s,o){const a=Nb.distanceSqToPoint(t);if(a<n){const l=new j;Nb.closestPointToPoint(t,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Zj extends Vn{constructor(e,n,i,r,s,o,a,l,u){super(e,n,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:At,this.magFilter=s!==void 0?s:At,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Gb extends Vn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=vt,this.minFilter=vt,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ac extends Vn{constructor(e,n,i,r,s,o,a,l,u,c,f,h){super(null,o,a,l,u,c,r,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let Ace=class extends Ac{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ri}};class yce extends Ac{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,ll),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class $j extends Vn{constructor(e,n,i,r,s,o,a,l,u){super(e,n,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ea{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const c=i[r],h=i[r+1]-c,d=(o-c)/h;return(r+d)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new he:new j);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new j,r=[],s=[],o=[],a=new j,l=new it;for(let d=0;d<=e;d++){const p=d/e;r[d]=this.getTangentAt(p,new j)}s[0]=new j,o[0]=new j;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=u&&(u=c,i.set(1,0,0)),f<=u&&(u=f,i.set(0,1,0)),h<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(Pi(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(a,p))}o[d].crossVectors(r[d],s[d])}if(n===!0){let d=Math.acos(Pi(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let p=1;p<=e;p++)s[p].applyMatrix4(l.makeRotationAxis(r[p],d*p)),o[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class kA extends Ea{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new he,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*c-d*f+this.aX,u=h*f+d*c+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class eq extends kA{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function S9(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let h=(o-s)/u-(a-s)/(u+c)+(a-o)/c,d=(a-o)/c-(l-o)/(c+f)+(l-a)/f;h*=c,d*=c,r(o,a,h,d)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const r5=new j,R4=new S9,P4=new S9,B4=new S9;class tq extends Ea{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new j){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=r[(a-1)%s]:(r5.subVectors(r[0],r[1]).add(r[0]),u=r5);const f=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?c=r[(a+2)%s]:(r5.subVectors(r[s-1],r[s-2]).add(r[s-1]),c=r5),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let p=Math.pow(u.distanceToSquared(f),d),y=Math.pow(f.distanceToSquared(h),d),A=Math.pow(h.distanceToSquared(c),d);y<1e-4&&(y=1),p<1e-4&&(p=y),A<1e-4&&(A=y),R4.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,p,y,A),P4.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,p,y,A),B4.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,p,y,A)}else this.curveType==="catmullrom"&&(R4.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),P4.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),B4.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return i.set(R4.calc(l),P4.calc(l),B4.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new j().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function xD(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function xce(t,e){const n=1-t;return n*n*e}function Sce(t,e){return 2*(1-t)*t*e}function Ece(t,e){return t*t*e}function s3(t,e,n,i){return xce(t,e)+Sce(t,n)+Ece(t,i)}function wce(t,e){const n=1-t;return n*n*n*e}function _ce(t,e){const n=1-t;return 3*n*n*t*e}function Cce(t,e){return 3*(1-t)*t*t*e}function bce(t,e){return t*t*t*e}function o3(t,e,n,i,r){return wce(t,e)+_ce(t,n)+Cce(t,i)+bce(t,r)}class E9 extends Ea{constructor(e=new he,n=new he,i=new he,r=new he){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new he){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(o3(e,r.x,s.x,o.x,a.x),o3(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nq extends Ea{constructor(e=new j,n=new j,i=new j,r=new j){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new j){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(o3(e,r.x,s.x,o.x,a.x),o3(e,r.y,s.y,o.y,a.y),o3(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class O6 extends Ea{constructor(e=new he,n=new he){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new he){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new he){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iq extends Ea{constructor(e=new j,n=new j){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new j){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new j){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class w9 extends Ea{constructor(e=new he,n=new he,i=new he){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new he){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(s3(e,r.x,s.x,o.x),s3(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _9 extends Ea{constructor(e=new j,n=new j,i=new j){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new j){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(s3(e,r.x,s.x,o.x),s3(e,r.y,s.y,o.y),s3(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class C9 extends Ea{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new he){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(xD(a,l.x,u.x,c.x,f.x),xD(a,l.y,u.y,c.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new he().fromArray(r))}return this}}var b9=Object.freeze({__proto__:null,ArcCurve:eq,CatmullRomCurve3:tq,CubicBezierCurve:E9,CubicBezierCurve3:nq,EllipseCurve:kA,LineCurve:O6,LineCurve3:iq,QuadraticBezierCurve:w9,QuadraticBezierCurve3:_9,SplineCurve:C9});class rq extends Ea{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new O6(n,e))}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];i&&i.equals(c)||(n.push(c),i=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new b9[r.type]().fromJSON(r))}return this}}let $3=class extends rq{constructor(e){super(),this.type="Path",this.currentPoint=new he,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new O6(this.currentPoint.clone(),new he(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new w9(this.currentPoint.clone(),new he(e,n),new he(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new E9(this.currentPoint.clone(),new he(e,n),new he(i,r),new he(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new C9(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const u=new kA(e,n,i,r,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class NA extends Xt{constructor(e=[new he(0,-.5),new he(.5,0),new he(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Pi(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new j,h=new he,d=new j,p=new j,y=new j;let A=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:A=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,d.x=g*1,d.y=-A,d.z=g*0,y.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:A=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,d.x=g*1,d.y=-A,d.z=g*0,p.copy(d),d.x+=y.x,d.y+=y.y,d.z+=y.z,d.normalize(),l.push(d.x,d.y,d.z),y.copy(p)}for(let x=0;x<=n;x++){const S=i+x*c*r,E=Math.sin(S),w=Math.cos(S);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*E,f.y=e[C].y,f.z=e[C].x*w,o.push(f.x,f.y,f.z),h.x=x/n,h.y=C/(e.length-1),a.push(h.x,h.y);const b=l[3*C+0]*E,I=l[3*C+1],M=l[3*C+0]*w;u.push(b,I,M)}}for(let x=0;x<n;x++)for(let S=0;S<e.length-1;S++){const E=S+x*e.length,w=E,C=E+e.length,b=E+e.length+1,I=E+1;s.push(w,C,I),s.push(b,I,C)}this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(a,2)),this.setAttribute("normal",new Et(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new NA(e.points,e.segments,e.phiStart,e.phiLength)}}class F6 extends NA{constructor(e=1,n=1,i=4,r=8){const s=new $3;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new F6(e.radius,e.length,e.capSegments,e.radialSegments)}}class U6 extends Xt{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new j,c=new he;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=i+f/n*r;u.x=e*Math.cos(d),u.y=e*Math.sin(d),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U6(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Mp extends Xt{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const c=[],f=[],h=[],d=[];let p=0;const y=[],A=i/2;let g=0;x(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(c),this.setAttribute("position",new Et(f,3)),this.setAttribute("normal",new Et(h,3)),this.setAttribute("uv",new Et(d,2));function x(){const E=new j,w=new j;let C=0;const b=(n-e)/i;for(let I=0;I<=s;I++){const M=[],R=I/s,D=R*(n-e)+e;for(let F=0;F<=r;F++){const O=F/r,L=O*l+a,U=Math.sin(L),q=Math.cos(L);w.x=D*U,w.y=-R*i+A,w.z=D*q,f.push(w.x,w.y,w.z),E.set(U,b,q).normalize(),h.push(E.x,E.y,E.z),d.push(O,1-R),M.push(p++)}y.push(M)}for(let I=0;I<r;I++)for(let M=0;M<s;M++){const R=y[M][I],D=y[M+1][I],F=y[M+1][I+1],O=y[M][I+1];c.push(R,D,O),c.push(D,F,O),C+=6}u.addGroup(g,C,0),g+=C}function S(E){const w=p,C=new he,b=new j;let I=0;const M=E===!0?e:n,R=E===!0?1:-1;for(let F=1;F<=r;F++)f.push(0,A*R,0),h.push(0,R,0),d.push(.5,.5),p++;const D=p;for(let F=0;F<=r;F++){const L=F/r*l+a,U=Math.cos(L),q=Math.sin(L);b.x=M*q,b.y=A*R,b.z=M*U,f.push(b.x,b.y,b.z),h.push(0,R,0),C.x=U*.5+.5,C.y=q*.5*R+.5,d.push(C.x,C.y),p++}for(let F=0;F<r;F++){const O=w+F,L=D+F;E===!0?c.push(L,L+1,O):c.push(L+1,L,O),I+=3}u.addGroup(g,I,E===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class k6 extends Mp{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new k6(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Mc extends Xt{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),u(i),c(),this.setAttribute("position",new Et(s,3)),this.setAttribute("normal",new Et(s.slice(),3)),this.setAttribute("uv",new Et(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const S=new j,E=new j,w=new j;for(let C=0;C<n.length;C+=3)d(n[C+0],S),d(n[C+1],E),d(n[C+2],w),l(S,E,w,x)}function l(x,S,E,w){const C=w+1,b=[];for(let I=0;I<=C;I++){b[I]=[];const M=x.clone().lerp(E,I/C),R=S.clone().lerp(E,I/C),D=C-I;for(let F=0;F<=D;F++)F===0&&I===C?b[I][F]=M:b[I][F]=M.clone().lerp(R,F/D)}for(let I=0;I<C;I++)for(let M=0;M<2*(C-I)-1;M++){const R=Math.floor(M/2);M%2===0?(h(b[I][R+1]),h(b[I+1][R]),h(b[I][R])):(h(b[I][R+1]),h(b[I+1][R+1]),h(b[I+1][R]))}}function u(x){const S=new j;for(let E=0;E<s.length;E+=3)S.x=s[E+0],S.y=s[E+1],S.z=s[E+2],S.normalize().multiplyScalar(x),s[E+0]=S.x,s[E+1]=S.y,s[E+2]=S.z}function c(){const x=new j;for(let S=0;S<s.length;S+=3){x.x=s[S+0],x.y=s[S+1],x.z=s[S+2];const E=A(x)/2/Math.PI+.5,w=g(x)/Math.PI+.5;o.push(E,1-w)}p(),f()}function f(){for(let x=0;x<o.length;x+=6){const S=o[x+0],E=o[x+2],w=o[x+4],C=Math.max(S,E,w),b=Math.min(S,E,w);C>.9&&b<.1&&(S<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),w<.2&&(o[x+4]+=1))}}function h(x){s.push(x.x,x.y,x.z)}function d(x,S){const E=x*3;S.x=e[E+0],S.y=e[E+1],S.z=e[E+2]}function p(){const x=new j,S=new j,E=new j,w=new j,C=new he,b=new he,I=new he;for(let M=0,R=0;M<s.length;M+=9,R+=6){x.set(s[M+0],s[M+1],s[M+2]),S.set(s[M+3],s[M+4],s[M+5]),E.set(s[M+6],s[M+7],s[M+8]),C.set(o[R+0],o[R+1]),b.set(o[R+2],o[R+3]),I.set(o[R+4],o[R+5]),w.copy(x).add(S).add(E).divideScalar(3);const D=A(w);y(C,R+0,x,D),y(b,R+2,S,D),y(I,R+4,E,D)}}function y(x,S,E,w){w<0&&x.x===1&&(o[S]=x.x-1),E.x===0&&E.z===0&&(o[S]=w/2/Math.PI+.5)}function A(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mc(e.vertices,e.indices,e.radius,e.details)}}class N6 extends Mc{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new N6(e.radius,e.detail)}}const s5=new j,o5=new j,D4=new j,a5=new Cs;class sq extends Xt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(kf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},d=[];for(let p=0;p<l;p+=3){o?(u[0]=o.getX(p),u[1]=o.getX(p+1),u[2]=o.getX(p+2)):(u[0]=p,u[1]=p+1,u[2]=p+2);const{a:y,b:A,c:g}=a5;if(y.fromBufferAttribute(a,u[0]),A.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),a5.getNormal(D4),f[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,f[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const S=(x+1)%3,E=f[x],w=f[S],C=a5[c[x]],b=a5[c[S]],I=`${E}_${w}`,M=`${w}_${E}`;M in h&&h[M]?(D4.dot(h[M].normal)<=s&&(d.push(C.x,C.y,C.z),d.push(b.x,b.y,b.z)),h[M]=null):I in h||(h[I]={index0:u[x],index1:u[S],normal:D4.clone()})}}for(const p in h)if(h[p]){const{index0:y,index1:A}=h[p];s5.fromBufferAttribute(a,y),o5.fromBufferAttribute(a,A),d.push(s5.x,s5.y,s5.z),d.push(o5.x,o5.y,o5.z)}this.setAttribute("position",new Et(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let zf=class extends $3{constructor(e){super(e),this.uuid=eo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new $3().fromJSON(r))}return this}};const Tce={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=oq(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,h,d;if(i&&(s=Bce(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let p=n;p<r;p+=n)f=t[p],h=t[p+1],f<a&&(a=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);d=Math.max(u-a,c-l),d=d!==0?32767/d:0}return eA(s,o,n,a,l,d,0),o}};function oq(t,e,n,i,r){let s,o;if(r===Vce(t,e,n,i)>0)for(s=e;s<n;s+=i)o=SD(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=SD(s,t[s],t[s+1],o);return o&&G6(o,o.next)&&(nA(o),o=o.next),o}function Jf(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(G6(n,n.next)||Ei(n.prev,n,n.next)===0)){if(nA(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function eA(t,e,n,i,r,s,o){if(!t)return;!o&&s&&Uce(t,i,r,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?Ice(t,i,r,s):Mce(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),nA(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Rce(Jf(t),e,n),eA(t,e,n,i,r,s,2)):o===2&&Pce(t,e,n,i,r,s):eA(Jf(t),e,n,i,r,s,1);break}}}function Mce(t){const e=t.prev,n=t,i=t.next;if(Ei(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,u=i.y,c=r<s?r<o?r:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,h=r>s?r>o?r:o:s>o?s:o,d=a>l?a>u?a:u:l>u?l:u;let p=i.next;for(;p!==e;){if(p.x>=c&&p.x<=h&&p.y>=f&&p.y<=d&&_d(r,a,s,l,o,u,p.x,p.y)&&Ei(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ice(t,e,n,i){const r=t.prev,s=t,o=t.next;if(Ei(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,c=r.y,f=s.y,h=o.y,d=a<l?a<u?a:u:l<u?l:u,p=c<f?c<h?c:h:f<h?f:h,y=a>l?a>u?a:u:l>u?l:u,A=c>f?c>h?c:h:f>h?f:h,g=zb(d,p,e,n,i),x=zb(y,A,e,n,i);let S=t.prevZ,E=t.nextZ;for(;S&&S.z>=g&&E&&E.z<=x;){if(S.x>=d&&S.x<=y&&S.y>=p&&S.y<=A&&S!==r&&S!==o&&_d(a,c,l,f,u,h,S.x,S.y)&&Ei(S.prev,S,S.next)>=0||(S=S.prevZ,E.x>=d&&E.x<=y&&E.y>=p&&E.y<=A&&E!==r&&E!==o&&_d(a,c,l,f,u,h,E.x,E.y)&&Ei(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;S&&S.z>=g;){if(S.x>=d&&S.x<=y&&S.y>=p&&S.y<=A&&S!==r&&S!==o&&_d(a,c,l,f,u,h,S.x,S.y)&&Ei(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;E&&E.z<=x;){if(E.x>=d&&E.x<=y&&E.y>=p&&E.y<=A&&E!==r&&E!==o&&_d(a,c,l,f,u,h,E.x,E.y)&&Ei(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Rce(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!G6(r,s)&&aq(r,i,i.next,s)&&tA(r,s)&&tA(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),nA(i),nA(i.next),i=t=s),i=i.next}while(i!==t);return Jf(i)}function Pce(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Gce(o,a)){let l=lq(o,a);o=Jf(o,o.next),l=Jf(l,l.next),eA(o,e,n,i,r,s,0),eA(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function Bce(t,e,n,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,u=oq(t,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(Nce(u));for(r.sort(Dce),s=0;s<r.length;s++)n=Lce(r[s],n);return n}function Dce(t,e){return t.x-e.x}function Lce(t,e){const n=Oce(t,e);if(!n)return e;const i=lq(n,t);return Jf(i,i.next),Jf(n,n.next)}function Oce(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>i&&(i=h,r=n.x<n.next.x?n:n.next,h===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let c=1/0,f;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&_d(o<u?s:i,o,l,u,o<u?i:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),tA(n,t)&&(f<c||f===c&&(n.x>r.x||n.x===r.x&&Fce(r,n)))&&(r=n,c=f)),n=n.next;while(n!==a);return r}function Fce(t,e){return Ei(t.prev,t,e.prev)<0&&Ei(e.next,t,t.next)<0}function Uce(t,e,n,i){let r=t;do r.z===0&&(r.z=zb(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,kce(r)}function kce(t){let e,n,i,r,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,u*=2}while(o>1);return t}function zb(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Nce(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function _d(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function Gce(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!zce(t,e)&&(tA(t,e)&&tA(e,t)&&Hce(t,e)&&(Ei(t.prev,t,e.prev)||Ei(t,e.prev,e))||G6(t,e)&&Ei(t.prev,t,t.next)>0&&Ei(e.prev,e,e.next)>0)}function Ei(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function G6(t,e){return t.x===e.x&&t.y===e.y}function aq(t,e,n,i){const r=u5(Ei(t,e,n)),s=u5(Ei(t,e,i)),o=u5(Ei(n,i,t)),a=u5(Ei(n,i,e));return!!(r!==s&&o!==a||r===0&&l5(t,n,e)||s===0&&l5(t,i,e)||o===0&&l5(n,t,i)||a===0&&l5(n,e,i))}function l5(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function u5(t){return t>0?1:t<0?-1:0}function zce(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&aq(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function tA(t,e){return Ei(t.prev,t,t.next)<0?Ei(t,e,t.next)>=0&&Ei(t,t.prev,e)>=0:Ei(t,e,t.prev)<0||Ei(t,t.next,e)<0}function Hce(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function lq(t,e){const n=new Hb(t.i,t.x,t.y),i=new Hb(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function SD(t,e,n,i){const r=new Hb(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function nA(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Hb(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Vce(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class il{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return il.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];ED(e),wD(i,e);let o=e.length;n.forEach(ED);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,wD(i,n[l]);const a=Tce.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ED(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function wD(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class z6 extends Xt{constructor(e=new zf([new he(.5,.5),new he(-.5,.5),new he(-.5,-.5),new he(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Et(r,3)),this.setAttribute("uv",new Et(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:d-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,A=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:Qce;let S,E=!1,w,C,b,I;g&&(S=g.getSpacedPoints(c),E=!0,h=!1,w=g.computeFrenetFrames(c,!1),C=new j,b=new j,I=new j),h||(A=0,d=0,p=0,y=0);const M=a.extractPoints(u);let R=M.shape;const D=M.holes;if(!il.isClockWise(R)){R=R.reverse();for(let Y=0,me=D.length;Y<me;Y++){const ge=D[Y];il.isClockWise(ge)&&(D[Y]=ge.reverse())}}const O=il.triangulateShape(R,D),L=R;for(let Y=0,me=D.length;Y<me;Y++){const ge=D[Y];R=R.concat(ge)}function U(Y,me,ge){return me||console.error("THREE.ExtrudeGeometry: vec does not exist"),Y.clone().addScaledVector(me,ge)}const q=R.length,K=O.length;function k(Y,me,ge){let de,Se,Qe;const xe=Y.x-me.x,ke=Y.y-me.y,Ne=ge.x-Y.x,De=ge.y-Y.y,tt=xe*xe+ke*ke,te=xe*De-ke*Ne;if(Math.abs(te)>Number.EPSILON){const H=Math.sqrt(tt),fe=Math.sqrt(Ne*Ne+De*De),je=me.x-ke/H,Ue=me.y+xe/H,Pe=ge.x-De/fe,$e=ge.y+Ne/fe,Ke=((Pe-je)*De-($e-Ue)*Ne)/(xe*De-ke*Ne);de=je+xe*Ke-Y.x,Se=Ue+ke*Ke-Y.y;const we=de*de+Se*Se;if(we<=2)return new he(de,Se);Qe=Math.sqrt(we/2)}else{let H=!1;xe>Number.EPSILON?Ne>Number.EPSILON&&(H=!0):xe<-Number.EPSILON?Ne<-Number.EPSILON&&(H=!0):Math.sign(ke)===Math.sign(De)&&(H=!0),H?(de=-ke,Se=xe,Qe=Math.sqrt(tt)):(de=xe,Se=ke,Qe=Math.sqrt(tt/2))}return new he(de/Qe,Se/Qe)}const W=[];for(let Y=0,me=L.length,ge=me-1,de=Y+1;Y<me;Y++,ge++,de++)ge===me&&(ge=0),de===me&&(de=0),W[Y]=k(L[Y],L[ge],L[de]);const V=[];let G,z=W.concat();for(let Y=0,me=D.length;Y<me;Y++){const ge=D[Y];G=[];for(let de=0,Se=ge.length,Qe=Se-1,xe=de+1;de<Se;de++,Qe++,xe++)Qe===Se&&(Qe=0),xe===Se&&(xe=0),G[de]=k(ge[de],ge[Qe],ge[xe]);V.push(G),z=z.concat(G)}for(let Y=0;Y<A;Y++){const me=Y/A,ge=d*Math.cos(me*Math.PI/2),de=p*Math.sin(me*Math.PI/2)+y;for(let Se=0,Qe=L.length;Se<Qe;Se++){const xe=U(L[Se],W[Se],de);oe(xe.x,xe.y,-ge)}for(let Se=0,Qe=D.length;Se<Qe;Se++){const xe=D[Se];G=V[Se];for(let ke=0,Ne=xe.length;ke<Ne;ke++){const De=U(xe[ke],G[ke],de);oe(De.x,De.y,-ge)}}}const ne=p+y;for(let Y=0;Y<q;Y++){const me=h?U(R[Y],z[Y],ne):R[Y];E?(b.copy(w.normals[0]).multiplyScalar(me.x),C.copy(w.binormals[0]).multiplyScalar(me.y),I.copy(S[0]).add(b).add(C),oe(I.x,I.y,I.z)):oe(me.x,me.y,0)}for(let Y=1;Y<=c;Y++)for(let me=0;me<q;me++){const ge=h?U(R[me],z[me],ne):R[me];E?(b.copy(w.normals[Y]).multiplyScalar(ge.x),C.copy(w.binormals[Y]).multiplyScalar(ge.y),I.copy(S[Y]).add(b).add(C),oe(I.x,I.y,I.z)):oe(ge.x,ge.y,f/c*Y)}for(let Y=A-1;Y>=0;Y--){const me=Y/A,ge=d*Math.cos(me*Math.PI/2),de=p*Math.sin(me*Math.PI/2)+y;for(let Se=0,Qe=L.length;Se<Qe;Se++){const xe=U(L[Se],W[Se],de);oe(xe.x,xe.y,f+ge)}for(let Se=0,Qe=D.length;Se<Qe;Se++){const xe=D[Se];G=V[Se];for(let ke=0,Ne=xe.length;ke<Ne;ke++){const De=U(xe[ke],G[ke],de);E?oe(De.x,De.y+S[c-1].y,S[c-1].x+ge):oe(De.x,De.y,f+ge)}}}J(),$();function J(){const Y=r.length/3;if(h){let me=0,ge=q*me;for(let de=0;de<K;de++){const Se=O[de];ie(Se[2]+ge,Se[1]+ge,Se[0]+ge)}me=c+A*2,ge=q*me;for(let de=0;de<K;de++){const Se=O[de];ie(Se[0]+ge,Se[1]+ge,Se[2]+ge)}}else{for(let me=0;me<K;me++){const ge=O[me];ie(ge[2],ge[1],ge[0])}for(let me=0;me<K;me++){const ge=O[me];ie(ge[0]+q*c,ge[1]+q*c,ge[2]+q*c)}}i.addGroup(Y,r.length/3-Y,0)}function $(){const Y=r.length/3;let me=0;X(L,me),me+=L.length;for(let ge=0,de=D.length;ge<de;ge++){const Se=D[ge];X(Se,me),me+=Se.length}i.addGroup(Y,r.length/3-Y,1)}function X(Y,me){let ge=Y.length;for(;--ge>=0;){const de=ge;let Se=ge-1;Se<0&&(Se=Y.length-1);for(let Qe=0,xe=c+A*2;Qe<xe;Qe++){const ke=q*Qe,Ne=q*(Qe+1),De=me+de+ke,tt=me+Se+ke,te=me+Se+Ne,H=me+de+Ne;_e(De,tt,te,H)}}}function oe(Y,me,ge){l.push(Y),l.push(me),l.push(ge)}function ie(Y,me,ge){Re(Y),Re(me),Re(ge);const de=r.length/3,Se=x.generateTopUV(i,r,de-3,de-2,de-1);pe(Se[0]),pe(Se[1]),pe(Se[2])}function _e(Y,me,ge,de){Re(Y),Re(me),Re(de),Re(me),Re(ge),Re(de);const Se=r.length/3,Qe=x.generateSideWallUV(i,r,Se-6,Se-3,Se-2,Se-1);pe(Qe[0]),pe(Qe[1]),pe(Qe[3]),pe(Qe[1]),pe(Qe[2]),pe(Qe[3])}function Re(Y){r.push(l[Y*3+0]),r.push(l[Y*3+1]),r.push(l[Y*3+2])}function pe(Y){s.push(Y.x),s.push(Y.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return Wce(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new b9[r.type]().fromJSON(r)),new z6(i,e.options)}}const Qce={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],c=e[r*3+1];return[new he(s,o),new he(a,l),new he(u,c)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[i*3],c=e[i*3+1],f=e[i*3+2],h=e[r*3],d=e[r*3+1],p=e[r*3+2],y=e[s*3],A=e[s*3+1],g=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new he(o,1-l),new he(u,1-f),new he(h,1-p),new he(y,1-g)]:[new he(a,1-l),new he(c,1-f),new he(d,1-p),new he(A,1-g)]}};function Wce(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class GA extends Mc{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new GA(e.radius,e.detail)}}class zA extends Mc{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new zA(e.radius,e.detail)}}class H6 extends Xt{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],c=[];let f=e;const h=(n-e)/r,d=new j,p=new he;for(let y=0;y<=r;y++){for(let A=0;A<=i;A++){const g=s+A/i*o;d.x=f*Math.cos(g),d.y=f*Math.sin(g),l.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(d.x/n+1)/2,p.y=(d.y/n+1)/2,c.push(p.x,p.y)}f+=h}for(let y=0;y<r;y++){const A=y*(i+1);for(let g=0;g<i;g++){const x=g+A,S=x,E=x+i+1,w=x+i+2,C=x+1;a.push(S,E,C),a.push(E,w,C)}}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(u,3)),this.setAttribute("uv",new Et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new H6(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class V6 extends Xt{constructor(e=new zf([new he(0,.5),new he(-.5,-.5),new he(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Et(r,3)),this.setAttribute("normal",new Et(s,3)),this.setAttribute("uv",new Et(o,2));function u(c){const f=r.length/3,h=c.extractPoints(n);let d=h.shape;const p=h.holes;il.isClockWise(d)===!1&&(d=d.reverse());for(let A=0,g=p.length;A<g;A++){const x=p[A];il.isClockWise(x)===!0&&(p[A]=x.reverse())}const y=il.triangulateShape(d,p);for(let A=0,g=p.length;A<g;A++){const x=p[A];d=d.concat(x)}for(let A=0,g=d.length;A<g;A++){const x=d[A];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let A=0,g=y.length;A<g;A++){const x=y[A],S=x[0]+f,E=x[1]+f,w=x[2]+f;i.push(S,E,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return jce(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new V6(i,e.curveSegments)}}function jce(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class HA extends Xt{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new j,h=new j,d=[],p=[],y=[],A=[];for(let g=0;g<=i;g++){const x=[],S=g/i;let E=0;g===0&&o===0?E=.5/n:g===i&&l===Math.PI&&(E=-.5/n);for(let w=0;w<=n;w++){const C=w/n;f.x=-e*Math.cos(r+C*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(r+C*s)*Math.sin(o+S*a),p.push(f.x,f.y,f.z),h.copy(f).normalize(),y.push(h.x,h.y,h.z),A.push(C+E,1-S),x.push(u++)}c.push(x)}for(let g=0;g<i;g++)for(let x=0;x<n;x++){const S=c[g][x+1],E=c[g][x],w=c[g+1][x],C=c[g+1][x+1];(g!==0||o>0)&&d.push(S,E,C),(g!==i-1||l<Math.PI)&&d.push(E,w,C)}this.setIndex(d),this.setAttribute("position",new Et(p,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new HA(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Q6 extends Mc{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Q6(e.radius,e.detail)}}class W6 extends Xt{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],c=new j,f=new j,h=new j;for(let d=0;d<=i;d++)for(let p=0;p<=r;p++){const y=p/r*s,A=d/i*Math.PI*2;f.x=(e+n*Math.cos(A))*Math.cos(y),f.y=(e+n*Math.cos(A))*Math.sin(y),f.z=n*Math.sin(A),a.push(f.x,f.y,f.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(p/r),u.push(d/i)}for(let d=1;d<=i;d++)for(let p=1;p<=r;p++){const y=(r+1)*d+p-1,A=(r+1)*(d-1)+p-1,g=(r+1)*(d-1)+p,x=(r+1)*d+p;o.push(y,A,x),o.push(A,g,x)}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W6(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class j6 extends Xt{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],c=[],f=new j,h=new j,d=new j,p=new j,y=new j,A=new j,g=new j;for(let S=0;S<=i;++S){const E=S/i*s*Math.PI*2;x(E,s,o,e,d),x(E+.01,s,o,e,p),A.subVectors(p,d),g.addVectors(p,d),y.crossVectors(A,g),g.crossVectors(y,A),y.normalize(),g.normalize();for(let w=0;w<=r;++w){const C=w/r*Math.PI*2,b=-n*Math.cos(C),I=n*Math.sin(C);f.x=d.x+(b*g.x+I*y.x),f.y=d.y+(b*g.y+I*y.y),f.z=d.z+(b*g.z+I*y.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),u.push(h.x,h.y,h.z),c.push(S/i),c.push(w/r)}}for(let S=1;S<=i;S++)for(let E=1;E<=r;E++){const w=(r+1)*(S-1)+(E-1),C=(r+1)*S+(E-1),b=(r+1)*S+E,I=(r+1)*(S-1)+E;a.push(w,C,I),a.push(C,b,I)}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(u,3)),this.setAttribute("uv",new Et(c,2));function x(S,E,w,C,b){const I=Math.cos(S),M=Math.sin(S),R=w/E*S,D=Math.cos(R);b.x=C*(2+D)*.5*I,b.y=C*(2+D)*M*.5,b.z=C*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new j6(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class q6 extends Xt{constructor(e=new _9(new j(-1,-1,0),new j(-1,1,0),new j(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new j,l=new j,u=new he;let c=new j;const f=[],h=[],d=[],p=[];y(),this.setIndex(p),this.setAttribute("position",new Et(f,3)),this.setAttribute("normal",new Et(h,3)),this.setAttribute("uv",new Et(d,2));function y(){for(let S=0;S<n;S++)A(S);A(s===!1?n:0),x(),g()}function A(S){c=e.getPointAt(S/n,c);const E=o.normals[S],w=o.binormals[S];for(let C=0;C<=r;C++){const b=C/r*Math.PI*2,I=Math.sin(b),M=-Math.cos(b);l.x=M*E.x+I*w.x,l.y=M*E.y+I*w.y,l.z=M*E.z+I*w.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=c.x+i*l.x,a.y=c.y+i*l.y,a.z=c.z+i*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=n;S++)for(let E=1;E<=r;E++){const w=(r+1)*(S-1)+(E-1),C=(r+1)*S+(E-1),b=(r+1)*S+E,I=(r+1)*(S-1)+E;p.push(w,C,I),p.push(C,b,I)}}function x(){for(let S=0;S<=n;S++)for(let E=0;E<=r;E++)u.x=S/n,u.y=E/r,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new q6(new b9[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class T9 extends Xt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new j,s=new j;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,d=f.count;for(let p=h,y=h+d;p<y;p+=3)for(let A=0;A<3;A++){const g=a.getX(p+A),x=a.getX(p+(A+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),_D(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;r.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),_D(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _D(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var CD=Object.freeze({__proto__:null,BoxGeometry:Tc,CapsuleGeometry:F6,CircleGeometry:U6,ConeGeometry:k6,CylinderGeometry:Mp,DodecahedronGeometry:N6,EdgesGeometry:sq,ExtrudeGeometry:z6,IcosahedronGeometry:GA,LatheGeometry:NA,OctahedronGeometry:zA,PlaneGeometry:cl,PolyhedronGeometry:Mc,RingGeometry:H6,ShapeGeometry:V6,SphereGeometry:HA,TetrahedronGeometry:Q6,TorusGeometry:W6,TorusKnotGeometry:j6,TubeGeometry:q6,WireframeGeometry:T9});class uq extends Li{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Je(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class a3 extends yt{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class VA extends Li{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Je(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uu,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wa extends VA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new he(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Je(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Je(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Je(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cq extends Li{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Je(16777215),this.specular=new Je(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uu,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=RA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fq extends Li{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Je(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uu,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Ip extends Li{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uu,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class M9 extends Li{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uu,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=RA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hq extends Li{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Je(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uu,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dq extends Jr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Co(t,e,n){return I9(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Bf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function I9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pq(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function Vb(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function R9(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function qce(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],h=[];for(let d=0;d<u.times.length;++d){const p=u.times[d]*r;if(!(p<n||p>=i)){f.push(u.times[d]);for(let y=0;y<c;++y)h.push(u.values[d*c+y])}}f.length!==0&&(u.times=Bf(f,u.times.constructor),u.values=Bf(h,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Xce(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const p=a.times.length-1;let y;if(s<=a.times[0]){const g=c,x=f-c;y=Co(a.values,g,x)}else if(s>=a.times[p]){const g=p*f+c,x=g+f-c;y=Co(a.values,g,x)}else{const g=a.createInterpolant(),x=c,S=f-c;g.evaluate(s),y=Co(g.resultBuffer,x,S)}l==="quaternion"&&new mi().fromArray(y).normalize().conjugate().toArray(y);const A=u.times.length;for(let g=0;g<A;++g){const x=g*d+h;if(l==="quaternion")mi.multiplyQuaternionsFlat(u.values,x,y,0,u.values,x);else{const S=d-h*2;for(let E=0;E<S;++E)u.values[x+E]-=y[E]}}}return t.blendMode=l9,t}const Yce={arraySlice:Co,convertArray:Bf,isTypedArray:I9,getKeyframeOrder:pq,sortedArray:Vb,flattenJSON:R9,subclip:qce,makeClipAdditive:Xce};class Rp{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mq extends Rp{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mf,endingEnd:Mf}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case If:s=e,a=2*n-i;break;case Y3:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case If:o=e,l=2*i-n;break;case Y3:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const u=(i-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-i),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-n)/(r-n),y=p*p,A=y*p,g=-h*A+2*h*y-h*p,x=(1+h)*A+(-1.5-2*h)*y+(-.5+h)*p+1,S=(-1-d)*A+(1.5+d)*y+.5*p,E=d*A-d*y;for(let w=0;w!==a;++w)s[w]=g*o[c+w]+x*o[u+w]+S*o[l+w]+E*o[f+w];return s}}class P9 extends Rp{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(i-n)/(r-n),f=1-c;for(let h=0;h!==a;++h)s[h]=o[u+h]*f+o[l+h]*c;return s}}class gq extends Rp{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class _a{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Bf(n,this.TimeBufferType),this.values=Bf(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Bf(e.times,Array),values:Bf(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new gq(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new P9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mq(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ip:n=this.InterpolantFactoryMethodDiscrete;break;case Yf:n=this.InterpolantFactoryMethodLinear;break;case dx:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ip;case this.InterpolantFactoryMethodLinear:return Yf;case this.InterpolantFactoryMethodSmooth:return dx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Co(i,s,o),this.values=Co(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&I9(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Co(this.times),n=Co(this.values),i=this.getValueSize(),r=this.getInterpolation()===dx,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(r)l=!0;else{const f=a*i,h=f-i,d=f+i;for(let p=0;p!==i;++p){const y=n[f+p];if(y!==n[h+p]||y!==n[d+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,h=o*i;for(let d=0;d!==i;++d)n[h+d]=n[f+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Co(e,0,o),this.values=Co(n,0,o*i)):(this.times=e,this.values=n),this}clone(){const e=Co(this.times,0),n=Co(this.values,0),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}_a.prototype.TimeBufferType=Float32Array;_a.prototype.ValueBufferType=Float32Array;_a.prototype.DefaultInterpolation=Yf;class ah extends _a{}ah.prototype.ValueTypeName="bool";ah.prototype.ValueBufferType=Array;ah.prototype.DefaultInterpolation=ip;ah.prototype.InterpolantFactoryMethodLinear=void 0;ah.prototype.InterpolantFactoryMethodSmooth=void 0;class B9 extends _a{}B9.prototype.ValueTypeName="color";class op extends _a{}op.prototype.ValueTypeName="number";class vq extends Rp{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let u=e*a;for(let c=u+a;u!==c;u+=4)mi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class yc extends _a{InterpolantFactoryMethodLinear(e){return new vq(this.times,this.values,this.getValueSize(),e)}}yc.prototype.ValueTypeName="quaternion";yc.prototype.DefaultInterpolation=Yf;yc.prototype.InterpolantFactoryMethodSmooth=void 0;class lh extends _a{}lh.prototype.ValueTypeName="string";lh.prototype.ValueBufferType=Array;lh.prototype.DefaultInterpolation=ip;lh.prototype.InterpolantFactoryMethodLinear=void 0;lh.prototype.InterpolantFactoryMethodSmooth=void 0;class ap extends _a{}ap.prototype.ValueTypeName="vector";class lp{constructor(e,n=-1,i,r=_6){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=eo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(Jce(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(_a.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=pq(l);l=Vb(l,1,c),u=Vb(u,1,c),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new op(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let h=r[f];h||(r[f]=h=[]),h.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,d,p,y){if(d.length!==0){const A=[],g=[];R9(d,A,g,p),A.length!==0&&y.push(new f(h,A,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let y=0;y<h[p].morphTargets.length;y++)d[h[p].morphTargets[y]]=-1;for(const y in d){const A=[],g=[];for(let x=0;x!==h[p].morphTargets.length;++x){const S=h[p];A.push(S.time),g.push(S.morphTarget===y?1:0)}r.push(new op(".morphTargetInfluence["+y+"]",A,g))}l=d.length*o}else{const d=".bones["+n[f].name+"]";i(ap,d+".position",h,"pos",r),i(yc,d+".quaternion",h,"rot",r),i(ap,d+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Kce(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return op;case"vector":case"vector2":case"vector3":case"vector4":return ap;case"color":return B9;case"quaternion":return yc;case"bool":case"boolean":return ah;case"string":return lh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Jce(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Kce(t.type);if(t.times===void 0){const n=[],i=[];R9(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Zf={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class D9{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(c){a++,s===!1&&r.onStart!==void 0&&r.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,r.onProgress!==void 0&&r.onProgress(c,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const d=u[f],p=u[f+1];if(d.global&&(d.lastIndex=0),d.test(c))return p}return null}}}const Aq=new D9;let Cr=class{constructor(e){this.manager=e!==void 0?e:Aq,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Cr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ll={};class Zce extends Error{constructor(e,n){super(e),this.response=n}}class ar extends Cr{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Zf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ll[e]!==void 0){Ll[e].push({onLoad:n,onProgress:i,onError:r});return}Ll[e]=[],Ll[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ll[e],f=u.body.getReader(),h=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),d=h?parseInt(h):0,p=d!==0;let y=0;const A=new ReadableStream({start(g){x();function x(){f.read().then(({done:S,value:E})=>{if(S)g.close();else{y+=E.byteLength;const w=new ProgressEvent("progress",{lengthComputable:p,loaded:y,total:d});for(let C=0,b=c.length;C<b;C++){const I=c[C];I.onProgress&&I.onProgress(w)}g.enqueue(E),x()}})}}});return new Response(A)}else throw new Zce(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(p=>d.decode(p))}}}).then(u=>{Zf.add(e,u);const c=Ll[e];delete Ll[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{const c=Ll[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ll[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $ce extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new ar(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=lp.parse(e[i]);n.push(r)}return n}}class efe extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new Ac,l=new ar(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const d=s.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(a.minFilter=At),a.image=o,a.format=d.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let p=0;p<d;p++){o[p]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[p].mipmaps.push(h.mipmaps[p*h.mipmapCount+y]),o[p].format=h.format,o[p].width=h.width,o[p].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=At),a.format=h.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class iA extends Cr{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Zf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Z3("img");function l(){c(),Zf.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){c(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class yq extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=new LA;s.colorSpace=ni;const o=new iA(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class L9 extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Bs,a=new ar(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(c){if(r!==void 0)r(c);else{console.error(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:ri,o.wrapT=u.wrapT!==void 0?u.wrapT:ri,o.magFilter=u.magFilter!==void 0?u.magFilter:At,o.minFilter=u.minFilter!==void 0?u.minFilter:At,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Go),u.mipmapCount===1&&(o.minFilter=At),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},i,r),o}}class O9 extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=new Vn,o=new iA(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}let Ic=class extends In{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Je(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}};class xq extends Ic{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Je(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const L4=new it,bD=new j,TD=new j;let F9=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new he(512,512),this.map=null,this.mapPass=null,this.matrix=new it,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new T6,this._frameExtents=new he(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;bD.setFromMatrixPosition(e.matrixWorld),n.position.copy(bD),TD.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(TD),n.updateMatrixWorld(),L4.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L4),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(L4)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}};class tfe extends F9{constructor(){super(new Qn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=rp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class U9 extends Ic{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.target=new In,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new tfe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const MD=new it,C0=new j,O4=new j;class nfe extends F9{constructor(){super(new Qn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new he(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new j(1,0,0),new j(-1,0,0),new j(0,0,1),new j(0,0,-1),new j(0,1,0),new j(0,-1,0)],this._cubeUps=[new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,0,1),new j(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),C0.setFromMatrixPosition(e.matrixWorld),i.position.copy(C0),O4.copy(i.position),O4.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(O4),i.updateMatrixWorld(),r.makeTranslation(-C0.x,-C0.y,-C0.z),MD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(MD)}}class k9 extends Ic{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new nfe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ife extends F9{constructor(){super(new fa(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class N9 extends Ic{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.target=new In,this.shadow=new ife}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Sq extends Ic{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Eq extends Ic{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class wq{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new j)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class X6 extends Ic{constructor(e=new wq,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Y6 extends Cr{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new ar(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=Y6.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Je().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Je().setHex(o.value);break;case"v2":r.uniforms[s].value=new he().fromArray(o.value);break;case"v3":r.uniforms[s].value=new j().fromArray(o.value);break;case"v4":r.uniforms[s].value=new qt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new sn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new it().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new he().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new he().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:uq,SpriteMaterial:v9,RawShaderMaterial:a3,ShaderMaterial:yt,PointsMaterial:D6,MeshPhysicalMaterial:wa,MeshStandardMaterial:VA,MeshPhongMaterial:cq,MeshToonMaterial:fq,MeshNormalMaterial:Ip,MeshLambertMaterial:M9,MeshDepthMaterial:oh,MeshDistanceMaterial:I6,MeshBasicMaterial:xr,MeshMatcapMaterial:hq,LineDashedMaterial:dq,LineBasicMaterial:Jr,Material:Li};return new n[e]}}class rl{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class K6 extends Xt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class _q extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new ar(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(d,p){if(n[p]!==void 0)return n[p];const A=d.interleavedBuffers[p],g=s(d,A.buffer),x=Ed(A.type,g),S=new FA(x,A.stride);return S.uuid=A.uuid,n[p]=S,S}function s(d,p){if(i[p]!==void 0)return i[p];const A=d.arrayBuffers[p],g=new Uint32Array(A).buffer;return i[p]=g,g}const o=e.isInstancedBufferGeometry?new K6:new Xt,a=e.data.index;if(a!==void 0){const d=Ed(a.type,a.array);o.setIndex(new An(d,1))}const l=e.data.attributes;for(const d in l){const p=l[d];let y;if(p.isInterleavedBufferAttribute){const A=r(e.data,p.data);y=new Ms(A,p.itemSize,p.offset,p.normalized)}else{const A=Ed(p.type,p.array),g=p.isInstancedBufferAttribute?Kf:An;y=new g(A,p.itemSize,p.normalized)}p.name!==void 0&&(y.name=p.name),p.usage!==void 0&&y.setUsage(p.usage),p.updateRange!==void 0&&(y.updateRange.offset=p.updateRange.offset,y.updateRange.count=p.updateRange.count),o.setAttribute(d,y)}const u=e.data.morphAttributes;if(u)for(const d in u){const p=u[d],y=[];for(let A=0,g=p.length;A<g;A++){const x=p[A];let S;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);S=new Ms(E,x.itemSize,x.offset,x.normalized)}else{const E=Ed(x.type,x.array);S=new An(E,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),y.push(S)}o.morphAttributes[d]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,p=f.length;d!==p;++d){const y=f[d];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new j;h.center!==void 0&&d.fromArray(h.center),o.boundingSphere=new Fr(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class rfe extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?rl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ar(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?rl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new ar(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new zf().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new UA().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new _q;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in CD?a=CD[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new Y6;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=lp.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(c)}else return l.data?{data:Ed(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new D9(n);s=new iA(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const d=[];for(let p=0,y=h.length;p<y;p++){const A=h[p],g=a(A);g!==null&&(g instanceof HTMLImageElement?d.push(g):d.push(new Bs(g.data,g.width,g.height)))}r[f.uuid]=new Rf(d)}else{const d=a(f.url);r[f.uuid]=new Rf(d)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Ed(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new iA(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],p=await s(d);p!==null&&(p instanceof HTMLImageElement?c.push(p):c.push(new Bs(p.data,p.width,p.height)))}i[l.uuid]=new Rf(c)}else{const c=await s(l.url);i[l.uuid]=new Rf(c)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new LA,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Bs:c=new Vn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=i(a.mapping,sfe)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=i(a.wrap[0],ID),c.wrapT=i(a.wrap[1],ID)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=i(a.minFilter,RD)),a.magFilter!==void 0&&(c.magFilter=i(a.magFilter,RD)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),r[a.uuid]=c}return r}parseObject(e,n,i,r,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let p=0,y=h.length;p<y;p++){const A=h[p];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),d.push(i[A])}return d}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function u(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let c,f;switch(e.type){case"Scene":o=new iu,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Je(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new P6(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new R6(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Qn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new fa(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Sq(e.color,e.intensity);break;case"DirectionalLight":o=new N9(e.color,e.intensity);break;case"PointLight":o=new k9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Eq(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new U9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new xq(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new X6().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new A9(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new yn(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,p=e.instanceColor;o=new y9(c,f,h),o.instanceMatrix=new Kf(new Float32Array(d.array),16),p!==void 0&&(o.instanceColor=new Kf(new Float32Array(p.array),p.itemSize));break;case"LOD":o=new Jj;break;case"Line":o=new ru(a(e.geometry),l(e.material));break;case"LineLoop":o=new x9(a(e.geometry),l(e.material));break;case"LineSegments":o=new Sa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new L6(a(e.geometry),l(e.material));break;case"Sprite":o=new Kj(l(e.material));break;case"Group":o=new Wl;break;case"Bone":o=new B6;break;default:o=new In}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],n,i,r,s))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const p=h[d];o.animations.push(s[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const p=h[d],y=o.getObjectByProperty("uuid",p.object);y!==void 0&&o.addLevel(y,p.distance,p.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const sfe={UVMapping:S6,CubeReflectionMapping:ll,CubeRefractionMapping:vc,EquirectangularReflectionMapping:tp,EquirectangularRefractionMapping:H3,CubeUVReflectionMapping:wp},ID={RepeatWrapping:Ki,ClampToEdgeWrapping:ri,MirroredRepeatWrapping:np},RD={NearestFilter:vt,NearestMipmapNearestFilter:V3,NearestMipmapLinearFilter:Od,LinearFilter:At,LinearMipmapNearestFilter:E6,LinearMipmapLinearFilter:Go};class Cq extends Cr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Zf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Zf.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let c5;class G9{static getContext(){return c5===void 0&&(c5=new(window.AudioContext||window.webkitAudioContext)),c5}static setContext(e){c5=e}}class ofe extends Cr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new ar(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);G9.getContext().decodeAudioData(u,function(f){n(f)},a)}catch(u){a(u)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class afe extends X6{constructor(e,n,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Je().set(e),s=new Je().set(n),o=new j(r.r,r.g,r.b),a=new j(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class lfe extends X6{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const i=new Je().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const PD=new it,BD=new it,tf=new it;class ufe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,tf.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(kf*n.fov*.5)/n.zoom;let a,l;BD.elements[12]=-r,PD.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,tf.elements[0]=2*n.near/(l-a),tf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(tf),a=-o*n.aspect-s,l=o*n.aspect-s,tf.elements[0]=2*n.near/(l-a),tf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(tf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(PD)}}class J6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=DD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=DD();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function DD(){return(typeof performance>"u"?Date:performance).now()}const nf=new j,LD=new mi,cfe=new j,rf=new j;class ffe extends In{constructor(){super(),this.type="AudioListener",this.context=G9.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new J6}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(nf,LD,cfe),rf.set(0,0,-1).applyQuaternion(LD),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(nf.x,r),n.positionY.linearRampToValueAtTime(nf.y,r),n.positionZ.linearRampToValueAtTime(nf.z,r),n.forwardX.linearRampToValueAtTime(rf.x,r),n.forwardY.linearRampToValueAtTime(rf.y,r),n.forwardZ.linearRampToValueAtTime(rf.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(nf.x,nf.y,nf.z),n.setOrientation(rf.x,rf.y,rf.z,i.x,i.y,i.z)}}class bq extends In{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const sf=new j,OD=new mi,hfe=new j,of=new j;class dfe extends bq{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(sf,OD,hfe),of.set(0,0,1).applyQuaternion(OD);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(sf.x,i),n.positionY.linearRampToValueAtTime(sf.y,i),n.positionZ.linearRampToValueAtTime(sf.z,i),n.orientationX.linearRampToValueAtTime(of.x,i),n.orientationY.linearRampToValueAtTime(of.y,i),n.orientationZ.linearRampToValueAtTime(of.z,i)}else n.setPosition(sf.x,sf.y,sf.z),n.setOrientation(of.x,of.y,of.z)}}class pfe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class Tq{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){mi.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;mi.multiplyQuaternionsFlat(e,o,e,n,e,i),mi.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const z9="\\[\\]\\.:\\/",mfe=new RegExp("["+z9+"]","g"),H9="[^"+z9+"]",gfe="[^"+z9.replace("\\.","")+"]",vfe=/((?:WC+[\/:])*)/.source.replace("WC",H9),Afe=/(WCOD+)?/.source.replace("WCOD",gfe),yfe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",H9),xfe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",H9),Sfe=new RegExp("^"+vfe+Afe+yfe+xfe+"$"),Efe=["material","materials","bones","map"];class wfe{constructor(e,n,i){const r=i||Rn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Rn{constructor(e,n,i){this.path=n,this.parsedPath=i||Rn.parseTrackName(n),this.node=Rn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Rn.Composite(e,n,i):new Rn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(mfe,"")}static parseTrackName(e){const n=Sfe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Efe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Rn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rn.Composite=wfe;Rn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rn.prototype.GetterByBindingType=[Rn.prototype._getValue_direct,Rn.prototype._getValue_array,Rn.prototype._getValue_arrayElement,Rn.prototype._getValue_toArray];Rn.prototype.SetterByBindingTypeAndVersioning=[[Rn.prototype._setValue_direct,Rn.prototype._setValue_direct_setNeedsUpdate,Rn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_array,Rn.prototype._setValue_array_setNeedsUpdate,Rn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_arrayElement,Rn.prototype._setValue_arrayElement_setNeedsUpdate,Rn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_fromArray,Rn.prototype._setValue_fromArray_setNeedsUpdate,Rn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _fe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=eo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],d=h.uuid;let p=n[d];if(p===void 0){p=l++,n[d]=p,e.push(h);for(let y=0,A=o;y!==A;++y)s[y].push(new Rn(h,i[y],r[y]))}else if(p<u){a=e[p];const y=--u,A=e[y];n[A.uuid]=p,e[p]=A,n[d]=y,e[y]=h;for(let g=0,x=o;g!==x;++g){const S=s[g],E=S[y];let w=S[p];S[p]=E,w===void 0&&(w=new Rn(h,i[g],r[g])),S[y]=w}}else e[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let d=0,p=r;d!==p;++d){const y=i[d],A=y[f],g=y[c];y[c]=A,y[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const h=--s,d=e[h],p=--o,y=e[p];n[d.uuid]=f,e[f]=d,n[y.uuid]=h,e[h]=y,e.pop();for(let A=0,g=r;A!==g;++A){const x=i[A],S=x[h],E=x[p];x[f]=S,x[h]=E,x.pop()}}else{const h=--o,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let p=0,y=r;p!==y;++p){const A=i[p];A[f]=A[h],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(f);for(let h=c,d=l.length;h!==d;++h){const p=l[h];f[h]=new Rn(p,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class Mq{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Mf,endingEnd:Mf};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ej,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case l9:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case _6:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===wj;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===Sj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=If,r.endingEnd=If):(e?r.endingStart=this.zeroSlopeAtStart?If:Mf:r.endingStart=Y3,n?r.endingEnd=this.zeroSlopeAtEnd?If:Mf:r.endingEnd=Y3)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const Cfe=new Float32Array(1);class bfe extends uo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const h=r[f],d=h.name;let p=c[d];if(p!==void 0)++p.referenceCount,o[f]=p;else{if(p=o[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,d));continue}const y=n&&n._propertyBindings[f].binding.parsedPath;p=new Tq(Rn.create(i,d,y),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,d),o[f]=p}a[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new P9(new Float32Array(2),new Float32Array(2),1,Cfe),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?lp.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=_6),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new Mq(this,o,n,i);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?lp.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)n[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class ye{constructor(e){this.value=e}clone(){return new ye(this.value.clone===void 0?this.value:this.value.clone())}}let Tfe=0;class Mfe extends uo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Tfe++}),this.name="",this.usage=K3,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++)this.uniforms.push(n[i].clone());return this}clone(){return new this.constructor().copy(this)}}class cS extends FA{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Ife{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class V9{constructor(e,n,i=0,r=1/0){this.ray=new _p(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Gf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return Qb(e,this,i,n),i.sort(FD),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Qb(e[r],this,i,n);return i.sort(FD),i}}function FD(t,e){return t.distance-e.distance}function Qb(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,o=r.length;s<o;s++)Qb(r[s],e,n,!0)}}class fS{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Pi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Rfe{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const UD=new he;class Iq{constructor(e=new he(1/0,1/0),n=new he(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=UD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,UD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kD=new j,f5=new j;class Rq{constructor(e=new j,n=new j){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){kD.subVectors(e,this.start),f5.subVectors(this.end,this.start);const i=f5.dot(f5);let s=f5.dot(kD)/i;return n&&(s=Pi(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ND=new j;class Pfe extends In{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new Xt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new Et(r,3));const s=new Jr({fog:!1,toneMapped:!1});this.cone=new Sa(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),ND.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ND),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Du=new j,h5=new it,F4=new it;class Bfe extends Sa{constructor(e){const n=Pq(e),i=new Xt,r=[],s=[],o=new Je(0,0,1),a=new Je(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Et(r,3)),i.setAttribute("color",new Et(s,3));const l=new Jr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");F4.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(h5.multiplyMatrices(F4,a.matrixWorld),Du.setFromMatrixPosition(h5),r.setXYZ(o,Du.x,Du.y,Du.z),h5.multiplyMatrices(F4,a.parent.matrixWorld),Du.setFromMatrixPosition(h5),r.setXYZ(o+1,Du.x,Du.y,Du.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pq(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Pq(t.children[n]));return e}class Dfe extends yn{constructor(e,n,i){const r=new HA(n,4,2),s=new xr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Lfe=new j,GD=new Je,zD=new Je;class Ofe extends In{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new zA(n);r.rotateY(Math.PI*.5),this.material=new xr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new An(o,3)),this.add(new yn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");GD.copy(this.light.color),zD.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?GD:zD;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Lfe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Ffe extends Sa{constructor(e=10,n=10,i=4473924,r=8947848){i=new Je(i),r=new Je(r);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let h=0,d=0,p=-a;h<=n;h++,p+=o){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);const y=h===s?i:r;y.toArray(u,d),d+=3,y.toArray(u,d),d+=3,y.toArray(u,d),d+=3,y.toArray(u,d),d+=3}const c=new Xt;c.setAttribute("position",new Et(l,3)),c.setAttribute("color",new Et(u,3));const f=new Jr({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ufe extends Sa{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new Je(s),o=new Je(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,p=Math.cos(h)*e;a.push(0,0,0),a.push(d,0,p);const y=f&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<i;f++){const h=f&1?s:o,d=e-e/i*f;for(let p=0;p<r;p++){let y=p/r*(Math.PI*2),A=Math.sin(y)*d,g=Math.cos(y)*d;a.push(A,0,g),l.push(h.r,h.g,h.b),y=(p+1)/r*(Math.PI*2),A=Math.sin(y)*d,g=Math.cos(y)*d,a.push(A,0,g),l.push(h.r,h.g,h.b)}}const u=new Xt;u.setAttribute("position",new Et(a,3)),u.setAttribute("color",new Et(l,3));const c=new Jr({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const HD=new j,d5=new j,VD=new j;class kfe extends In{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new Xt;r.setAttribute("position",new Et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Jr({fog:!1,toneMapped:!1});this.lightPlane=new ru(r,s),this.add(this.lightPlane),r=new Xt,r.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new ru(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),HD.setFromMatrixPosition(this.light.matrixWorld),d5.setFromMatrixPosition(this.light.target.matrixWorld),VD.subVectors(d5,HD),this.lightPlane.lookAt(d5),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(d5),this.targetLine.scale.z=VD.length()}}const p5=new j,Mi=new bp;class Nfe extends Sa{constructor(e){const n=new Xt,i=new Jr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(p,y){l(p),l(y)}function l(p){r.push(0,0,0),s.push(0,0,0),o[p]===void 0&&(o[p]=[]),o[p].push(r.length/3-1)}n.setAttribute("position",new Et(r,3)),n.setAttribute("color",new Et(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Je(16755200),c=new Je(16711680),f=new Je(43775),h=new Je(16777215),d=new Je(3355443);this.setColors(u,c,f,h,d)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Mi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),zi("c",n,e,Mi,0,0,-1),zi("t",n,e,Mi,0,0,1),zi("n1",n,e,Mi,-i,-r,-1),zi("n2",n,e,Mi,i,-r,-1),zi("n3",n,e,Mi,-i,r,-1),zi("n4",n,e,Mi,i,r,-1),zi("f1",n,e,Mi,-i,-r,1),zi("f2",n,e,Mi,i,-r,1),zi("f3",n,e,Mi,-i,r,1),zi("f4",n,e,Mi,i,r,1),zi("u1",n,e,Mi,i*.7,r*1.1,-1),zi("u2",n,e,Mi,-i*.7,r*1.1,-1),zi("u3",n,e,Mi,0,r*2,-1),zi("cf1",n,e,Mi,-i,0,1),zi("cf2",n,e,Mi,i,0,1),zi("cf3",n,e,Mi,0,-r,1),zi("cf4",n,e,Mi,0,r,1),zi("cn1",n,e,Mi,-i,0,-1),zi("cn2",n,e,Mi,i,0,-1),zi("cn3",n,e,Mi,0,-r,-1),zi("cn4",n,e,Mi,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zi(t,e,n,i,r,s,o){p5.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],p5.x,p5.y,p5.z)}}const m5=new Or;class Gfe extends Sa{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Xt;s.setIndex(new An(i,1)),s.setAttribute("position",new An(r,3)),super(s,new Jr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&m5.setFromObject(this.object),m5.isEmpty())return;const n=m5.min,i=m5.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zfe extends Sa{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Xt;s.setIndex(new An(i,1)),s.setAttribute("position",new Et(r,3)),super(s,new Jr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Hfe extends ru{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Xt;o.setAttribute("position",new Et(s,3)),o.computeBoundingSphere(),super(o,new Jr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Xt;l.setAttribute("position",new Et(a,3)),l.computeBoundingSphere(),this.add(new yn(l,new xr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const QD=new j;let g5,U4;class Vfe extends In{constructor(e=new j(0,0,1),n=new j(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",g5===void 0&&(g5=new Xt,g5.setAttribute("position",new Et([0,0,0,0,1,0],3)),U4=new Mp(0,.5,1,5,1),U4.translate(0,-.5,0)),this.position.copy(n),this.line=new ru(g5,new Jr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new yn(U4,new xr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{QD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(QD,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Qfe extends Sa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Xt;r.setAttribute("position",new Et(n,3)),r.setAttribute("color",new Et(i,3));const s=new Jr({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Je,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bq{constructor(){this.type="ShapePath",this.color=new Je,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new $3,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const x=[];for(let S=0,E=g.length;S<E;S++){const w=g[S],C=new zf;C.curves=w.curves,x.push(C)}return x}function i(g,x){const S=x.length;let E=!1;for(let w=S-1,C=0;C<S;w=C++){let b=x[w],I=x[C],M=I.x-b.x,R=I.y-b.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(b=x[C],M=-M,I=x[w],R=-R),g.y<b.y||g.y>I.y)continue;if(g.y===b.y){if(g.x===b.x)return!0}else{const D=R*(g.x-b.x)-M*(g.y-b.y);if(D===0)return!0;if(D<0)continue;E=!E}}else{if(g.y!==b.y)continue;if(I.x<=g.x&&g.x<=b.x||b.x<=g.x&&g.x<=I.x)return!0}}return E}const r=il.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new zf,l.curves=a.curves,u.push(l),u;let c=!r(s[0].getPoints());c=e?!c:c;const f=[],h=[];let d=[],p=0,y;h[p]=void 0,d[p]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!c&&h[p]&&p++,h[p]={s:new zf,p:y},h[p].s.curves=a.curves,c&&p++,d[p]=[]):d[p].push({h:a,p:y[0]});if(!h[0])return n(s);if(h.length>1){let g=!1,x=0;for(let S=0,E=h.length;S<E;S++)f[S]=[];for(let S=0,E=h.length;S<E;S++){const w=d[S];for(let C=0;C<w.length;C++){const b=w[C];let I=!0;for(let M=0;M<h.length;M++)i(b.p,h[M].p)&&(S!==M&&x++,I?(I=!1,f[M].push(b)):g=!0);I&&f[S].push(b)}}x>0&&g===!1&&(d=f)}let A;for(let g=0,x=h.length;g<x;g++){l=h[g].s,u.push(l),A=d[g];for(let S=0,E=A.length;S<E;S++)l.holes.push(A[S].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Lr}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Lr);const Dq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:t9,AddEquation:Ks,AddOperation:fj,AdditiveAnimationBlendMode:l9,AdditiveBlending:F3,AlphaFormat:Aj,AlwaysCompare:Lj,AlwaysDepth:ZM,AlwaysStencilFunc:bj,AmbientLight:Sq,AmbientLightProbe:lfe,AnimationAction:Mq,AnimationClip:lp,AnimationLoader:$ce,AnimationMixer:bfe,AnimationObjectGroup:_fe,AnimationUtils:Yce,ArcCurve:eq,ArrayCamera:qj,ArrowHelper:Vfe,Audio:bq,AudioAnalyser:pfe,AudioContext:G9,AudioListener:ffe,AudioLoader:ofe,AxesHelper:Qfe,BackSide:Vi,BasicDepthPacking:wr,BasicShadowMap:tj,Bone:B6,BooleanKeyframeTrack:ah,Box2:Iq,Box3:Or,Box3Helper:zfe,BoxGeometry:Tc,BoxHelper:Gfe,BufferAttribute:An,BufferGeometry:Xt,BufferGeometryLoader:_q,ByteType:gj,Cache:Zf,Camera:bp,CameraHelper:Nfe,CanvasTexture:$j,CapsuleGeometry:F6,CatmullRomCurve3:tq,CineonToneMapping:pj,CircleGeometry:U6,ClampToEdgeWrapping:ri,Clock:J6,Color:Je,ColorKeyframeTrack:B9,ColorManagement:wo,CompressedArrayTexture:Ace,CompressedCubeTexture:yce,CompressedTexture:Ac,CompressedTextureLoader:efe,ConeGeometry:k6,CubeCamera:p9,CubeReflectionMapping:ll,CubeRefractionMapping:vc,CubeTexture:LA,CubeTextureLoader:yq,CubeUVReflectionMapping:wp,CubicBezierCurve:E9,CubicBezierCurve3:nq,CubicInterpolant:mq,CullFaceBack:hb,CullFaceFront:ej,CullFaceFrontBack:yre,CullFaceNone:$W,Curve:Ea,CurvePath:rq,CustomBlending:U3,CustomToneMapping:mj,CylinderGeometry:Mp,Cylindrical:Rfe,Data3DTexture:Nf,DataArrayTexture:C6,DataTexture:Bs,DataTextureLoader:L9,DataUtils:Pf,DecrementStencilOp:Ire,DecrementWrapStencilOp:Pre,DefaultLoadingManager:Aq,DepthFormat:hc,DepthStencilFormat:nu,DepthTexture:cu,DirectionalLight:N9,DirectionalLightHelper:kfe,DiscreteInterpolant:gq,DisplayP3ColorSpace:DA,DodecahedronGeometry:N6,DoubleSide:yr,DstAlphaFactor:A6,DstColorFactor:y6,DynamicCopyUsage:Wre,DynamicDrawUsage:mx,DynamicReadUsage:Hre,EdgesGeometry:sq,EllipseCurve:kA,EqualCompare:Ij,EqualDepth:z3,EqualStencilFunc:Ore,EquirectangularReflectionMapping:tp,EquirectangularRefractionMapping:H3,Euler:Cp,EventDispatcher:uo,ExtrudeGeometry:z6,FileLoader:ar,Float16BufferAttribute:Dse,Float32BufferAttribute:Et,Float64BufferAttribute:Lse,FloatType:Mn,Fog:P6,FogExp2:R6,FramebufferTexture:Gb,FrontSide:No,Frustum:T6,GLBufferAttribute:Ife,GLSL1:qre,GLSL3:oS,GreaterCompare:Pj,GreaterDepth:e9,GreaterEqualCompare:Dj,GreaterEqualDepth:$M,GreaterEqualStencilFunc:Nre,GreaterStencilFunc:Ure,GridHelper:Ffe,Group:Wl,HalfFloatType:hn,HemisphereLight:xq,HemisphereLightHelper:Ofe,HemisphereLightProbe:afe,IcosahedronGeometry:GA,ImageBitmapLoader:Cq,ImageLoader:iA,ImageUtils:f9,IncrementStencilOp:Mre,IncrementWrapStencilOp:Rre,InstancedBufferAttribute:Kf,InstancedBufferGeometry:K6,InstancedInterleavedBuffer:cS,InstancedMesh:y9,Int16BufferAttribute:Pse,Int32BufferAttribute:Bse,Int8BufferAttribute:Mse,IntType:n9,InterleavedBuffer:FA,InterleavedBufferAttribute:Ms,Interpolant:Rp,InterpolateDiscrete:ip,InterpolateLinear:Yf,InterpolateSmooth:dx,InvertStencilOp:Bre,KeepStencilOp:px,KeyframeTrack:_a,LOD:Jj,LatheGeometry:NA,Layers:Gf,LessCompare:Mj,LessDepth:rS,LessEqualCompare:Rj,LessEqualDepth:G3,LessEqualStencilFunc:Fre,LessStencilFunc:Lre,Light:Ic,LightProbe:X6,Line:ru,Line3:Rq,LineBasicMaterial:Jr,LineCurve:O6,LineCurve3:iq,LineDashedMaterial:dq,LineLoop:x9,LineSegments:Sa,LinearDisplayP3ColorSpace:Cre,LinearEncoding:BA,LinearFilter:At,LinearInterpolant:P9,LinearMipMapLinearFilter:_re,LinearMipMapNearestFilter:wre,LinearMipmapLinearFilter:Go,LinearMipmapNearestFilter:E6,LinearSRGBColorSpace:ga,LinearToneMapping:hj,Loader:Cr,LoaderUtils:rl,LoadingManager:D9,LoopOnce:Sj,LoopPingPong:wj,LoopRepeat:Ej,LuminanceAlphaFormat:yj,LuminanceFormat:PA,MOUSE:pf,Material:Li,MaterialLoader:Y6,MathUtils:cs,Matrix3:sn,Matrix4:it,MaxEquation:gb,Mesh:yn,MeshBasicMaterial:xr,MeshDepthMaterial:oh,MeshDistanceMaterial:I6,MeshLambertMaterial:M9,MeshMatcapMaterial:hq,MeshNormalMaterial:Ip,MeshPhongMaterial:cq,MeshPhysicalMaterial:wa,MeshStandardMaterial:VA,MeshToonMaterial:fq,MinEquation:mb,MirroredRepeatWrapping:np,MixOperation:cj,MultiplyBlending:pb,MultiplyOperation:RA,NearestFilter:vt,NearestMipMapLinearFilter:Ere,NearestMipMapNearestFilter:Sre,NearestMipmapLinearFilter:Od,NearestMipmapNearestFilter:V3,NeverCompare:Tj,NeverDepth:JM,NeverStencilFunc:Dre,NoBlending:Ut,NoColorSpace:Xl,NoToneMapping:Do,NormalAnimationBlendMode:_6,NormalBlending:tl,NotEqualCompare:Bj,NotEqualDepth:x6,NotEqualStencilFunc:kre,NumberKeyframeTrack:op,Object3D:In,ObjectLoader:rfe,ObjectSpaceNormalMap:Cj,OctahedronGeometry:zA,OneFactor:rj,OneMinusDstAlphaFactor:aj,OneMinusDstColorFactor:lj,OneMinusSrcAlphaFactor:N3,OneMinusSrcColorFactor:oj,OrthographicCamera:fa,PCFShadowMap:v6,PCFSoftShadowMap:n3,PMREMGenerator:uS,Path:$3,PerspectiveCamera:Qn,Plane:Mo,PlaneGeometry:cl,PlaneHelper:Hfe,PointLight:k9,PointLightHelper:Dfe,Points:L6,PointsMaterial:D6,PolarGridHelper:Ufe,PolyhedronGeometry:Mc,PositionalAudio:dfe,PropertyBinding:Rn,PropertyMixer:Tq,QuadraticBezierCurve:w9,QuadraticBezierCurve3:_9,Quaternion:mi,QuaternionKeyframeTrack:yc,QuaternionLinearInterpolant:vq,RED_GREEN_RGTC2_Format:Ob,RED_RGTC1_Format:xj,REVISION:Lr,RGBADepthPacking:zo,RGBAFormat:Pn,RGBAIntegerFormat:a9,RGBA_ASTC_10x10_Format:Ib,RGBA_ASTC_10x5_Format:bb,RGBA_ASTC_10x6_Format:Tb,RGBA_ASTC_10x8_Format:Mb,RGBA_ASTC_12x10_Format:Rb,RGBA_ASTC_12x12_Format:Pb,RGBA_ASTC_4x4_Format:X3,RGBA_ASTC_5x4_Format:yb,RGBA_ASTC_5x5_Format:xb,RGBA_ASTC_6x5_Format:Sb,RGBA_ASTC_6x6_Format:Eb,RGBA_ASTC_8x5_Format:wb,RGBA_ASTC_8x6_Format:_b,RGBA_ASTC_8x8_Format:Cb,RGBA_BPTC_Format:kd,RGBA_ETC2_EAC_Format:q3,RGBA_PVRTC_2BPPV1_Format:Ab,RGBA_PVRTC_4BPPV1_Format:W3,RGBA_S3TC_DXT1_Format:fx,RGBA_S3TC_DXT3_Format:hx,RGBA_S3TC_DXT5_Format:Ud,RGB_BPTC_SIGNED_Format:Bb,RGB_BPTC_UNSIGNED_Format:Db,RGB_ETC1_Format:w6,RGB_ETC2_Format:j3,RGB_PVRTC_2BPPV1_Format:vb,RGB_PVRTC_4BPPV1_Format:Q3,RGB_S3TC_DXT1_Format:Fd,RGFormat:Tf,RGIntegerFormat:o9,RawShaderMaterial:a3,Ray:_p,Raycaster:V9,RectAreaLight:Eq,RedFormat:Ka,RedIntegerFormat:s9,ReinhardToneMapping:dj,RenderTarget:kj,RepeatWrapping:Ki,ReplaceStencilOp:Tre,ReverseSubtractEquation:ij,RingGeometry:H6,SIGNED_RED_GREEN_RGTC2_Format:Fb,SIGNED_RED_RGTC1_Format:Lb,SRGBColorSpace:ni,Scene:iu,ShaderChunk:Ot,ShaderLib:oa,ShaderMaterial:yt,ShadowMaterial:uq,Shape:zf,ShapeGeometry:V6,ShapePath:Bq,ShapeUtils:il,ShortType:vj,Skeleton:UA,SkeletonHelper:Bfe,SkinnedMesh:A9,Source:Rf,Sphere:Fr,SphereGeometry:HA,Spherical:fS,SphericalHarmonics3:wq,SplineCurve:C9,SpotLight:U9,SpotLightHelper:Pfe,Sprite:Kj,SpriteMaterial:v9,SrcAlphaFactor:k3,SrcAlphaSaturateFactor:uj,SrcColorFactor:sj,StaticCopyUsage:Qre,StaticDrawUsage:K3,StaticReadUsage:zre,StereoCamera:ufe,StreamCopyUsage:jre,StreamDrawUsage:Gre,StreamReadUsage:Vre,StringKeyframeTrack:lh,SubtractEquation:nj,SubtractiveBlending:db,TOUCH:mf,TangentSpaceNormalMap:uu,TetrahedronGeometry:Q6,Texture:Vn,TextureLoader:O9,TorusGeometry:W6,TorusKnotGeometry:j6,Triangle:Cs,TriangleFanDrawMode:sS,TriangleStripDrawMode:u9,TrianglesDrawMode:_j,TubeGeometry:q6,TwoPassDoubleSide:xre,UVMapping:S6,Uint16BufferAttribute:d9,Uint32BufferAttribute:b6,Uint8BufferAttribute:Ise,Uint8ClampedBufferAttribute:Rse,Uniform:ye,UniformsGroup:Mfe,UniformsLib:ct,UniformsUtils:$n,UnsignedByteType:_n,UnsignedInt248Type:nl,UnsignedIntType:Ya,UnsignedShort4444Type:i9,UnsignedShort5551Type:r9,UnsignedShortType:sh,VSMShadowMap:ia,Vector2:he,Vector3:j,Vector4:qt,VectorKeyframeTrack:ap,VideoTexture:Zj,WebGL1Renderer:Xj,WebGL3DRenderTarget:vse,WebGLArrayRenderTarget:gse,WebGLCoordinateSystem:Ja,WebGLCubeRenderTarget:OA,WebGLMultipleRenderTargets:h9,WebGLRenderTarget:Rt,WebGLRenderer:g9,WebGLUtils:jj,WebGPUCoordinateSystem:J3,WireframeGeometry:T9,WrapAroundEnding:Y3,ZeroCurvatureEnding:Mf,ZeroFactor:ep,ZeroSlopeEnding:If,ZeroStencilOp:bre,_SRGBAFormat:aS,createCanvasElement:Uj,sRGBEncoding:Lo},Symbol.toStringTag,{value:"Module"}));var Lq={exports:{}},uh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */uh.ConcurrentRoot=1;uh.ContinuousEventPriority=4;uh.DefaultEventPriority=16;uh.DiscreteEventPriority=1;uh.IdleEventPriority=536870912;uh.LegacyRoot=0;Lq.exports=uh;var Cd=Lq.exports;function Wfe(t){let e;const n=new Set,i=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},r=()=>e,s=(u,c=r,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function d(){const p=c(e);if(!f(h,p)){const y=h;u(h=p,y)}}return n.add(d),()=>n.delete(d)},l={setState:i,getState:r,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(i,r,l),l}const jfe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),WD=jfe?ee.useEffect:ee.useLayoutEffect;function Oq(t){const e=typeof t=="function"?Wfe(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=ee.useReducer(A=>A+1,0),o=e.getState(),a=ee.useRef(o),l=ee.useRef(i),u=ee.useRef(r),c=ee.useRef(!1),f=ee.useRef();f.current===void 0&&(f.current=i(o));let h,d=!1;(a.current!==o||l.current!==i||u.current!==r||c.current)&&(h=i(o),d=!r(f.current,h)),WD(()=>{d&&(f.current=h),a.current=o,l.current=i,u.current=r,c.current=!1});const p=ee.useRef(o);WD(()=>{const A=()=>{try{const x=e.getState(),S=l.current(x);u.current(f.current,S)||(a.current=x,f.current=S,s())}catch{c.current=!0,s()}},g=e.subscribe(A);return e.getState()!==p.current&&A(),g},[]);const y=d?h:f.current;return ee.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}var Fq={exports:{}},Uq={exports:{}},kq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,W){var V=k.length;k.push(W);e:for(;0<V;){var G=V-1>>>1,z=k[G];if(0<r(z,W))k[G]=W,k[V]=z,V=G;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var W=k[0],V=k.pop();if(V!==W){k[0]=V;e:for(var G=0,z=k.length,ne=z>>>1;G<ne;){var J=2*(G+1)-1,$=k[J],X=J+1,oe=k[X];if(0>r($,V))X<z&&0>r(oe,$)?(k[G]=oe,k[X]=V,G=X):(k[G]=$,k[J]=V,G=J);else if(X<z&&0>r(oe,V))k[G]=oe,k[X]=V,G=X;else break e}}return W}function r(k,W){var V=k.sortIndex-W.sortIndex;return V!==0?V:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,d=!1,p=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var W=n(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=k)i(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function E(k){if(y=!1,S(k),!p)if(n(l)!==null)p=!0,q(w);else{var W=n(u);W!==null&&K(E,W.startTime-k)}}function w(k,W){p=!1,y&&(y=!1,g(I),I=-1),d=!0;var V=h;try{for(S(W),f=n(l);f!==null&&(!(f.expirationTime>W)||k&&!D());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var z=G(f.expirationTime<=W);W=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&i(l),S(W)}else i(l);f=n(l)}if(f!==null)var ne=!0;else{var J=n(u);J!==null&&K(E,J.startTime-W),ne=!1}return ne}finally{f=null,h=V,d=!1}}var C=!1,b=null,I=-1,M=5,R=-1;function D(){return!(t.unstable_now()-R<M)}function F(){if(b!==null){var k=t.unstable_now();R=k;var W=!0;try{W=b(!0,k)}finally{W?O():(C=!1,b=null)}}else C=!1}var O;if(typeof x=="function")O=function(){x(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=F,O=function(){U.postMessage(null)}}else O=function(){A(F,0)};function q(k){b=k,C||(C=!0,O())}function K(k,W){I=A(function(){k(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,q(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var V=h;h=W;try{return k()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=h;h=k;try{return W()}finally{h=V}},t.unstable_scheduleCallback=function(k,W,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,k={id:c++,callback:W,priorityLevel:k,startTime:V,expirationTime:z,sortIndex:-1},V>G?(k.sortIndex=V,e(u,k),n(l)===null&&k===n(u)&&(y?(g(I),I=-1):y=!0,K(E,V-G))):(k.sortIndex=z,e(l,k),p||d||(p=!0,q(w))),k},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(k){var W=h;return function(){var V=h;h=W;try{return k.apply(this,arguments)}finally{h=V}}}})(kq);Uq.exports=kq;var Wb=Uq.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qfe=function(e){var n={},i=ee,r=Wb,s=Object.assign;function o(m){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+m,_=1;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),w=Symbol.iterator;function C(m){return m===null||typeof m!="object"?null:(m=w&&m[w]||m["@@iterator"],typeof m=="function"?m:null)}function b(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case A:return"Suspense";case g:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case p:return(m.displayName||"Context")+".Consumer";case d:return(m._context.displayName||"Context")+".Provider";case y:var v=m.render;return m=m.displayName,m||(m=v.displayName||v.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case x:return v=m.displayName||null,v!==null?v:b(m.type)||"Memo";case S:v=m._payload,m=m._init;try{return b(m(v))}catch{}}return null}function I(m){var v=m.type;switch(m.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=v.render,m=m.displayName||m.name||"",v.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(v);case 8:return v===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function M(m){var v=m,_=m;if(m.alternate)for(;v.return;)v=v.return;else{m=v;do v=m,v.flags&4098&&(_=v.return),m=v.return;while(m)}return v.tag===3?_:null}function R(m){if(M(m)!==m)throw Error(o(188))}function D(m){var v=m.alternate;if(!v){if(v=M(m),v===null)throw Error(o(188));return v!==m?null:m}for(var _=m,T=v;;){var P=_.return;if(P===null)break;var N=P.alternate;if(N===null){if(T=P.return,T!==null){_=T;continue}break}if(P.child===N.child){for(N=P.child;N;){if(N===_)return R(P),m;if(N===T)return R(P),v;N=N.sibling}throw Error(o(188))}if(_.return!==T.return)_=P,T=N;else{for(var le=!1,Ae=P.child;Ae;){if(Ae===_){le=!0,_=P,T=N;break}if(Ae===T){le=!0,T=P,_=N;break}Ae=Ae.sibling}if(!le){for(Ae=N.child;Ae;){if(Ae===_){le=!0,_=N,T=P;break}if(Ae===T){le=!0,T=N,_=P;break}Ae=Ae.sibling}if(!le)throw Error(o(189))}}if(_.alternate!==T)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?m:v}function F(m){return m=D(m),m!==null?O(m):null}function O(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var v=O(m);if(v!==null)return v;m=m.sibling}return null}function L(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var v=L(m);if(v!==null)return v}m=m.sibling}return null}var U=Array.isArray,q=e.getPublicInstance,K=e.getRootHostContext,k=e.getChildHostContext,W=e.prepareForCommit,V=e.resetAfterCommit,G=e.createInstance,z=e.appendInitialChild,ne=e.finalizeInitialChildren,J=e.prepareUpdate,$=e.shouldSetTextContent,X=e.createTextInstance,oe=e.scheduleTimeout,ie=e.cancelTimeout,_e=e.noTimeout,Re=e.isPrimaryRenderer,pe=e.supportsMutation,Y=e.supportsPersistence,me=e.supportsHydration,ge=e.getInstanceFromNode,de=e.preparePortalMount,Se=e.getCurrentEventPriority,Qe=e.detachDeletedInstance,xe=e.supportsMicrotasks,ke=e.scheduleMicrotask,Ne=e.supportsTestSelectors,De=e.findFiberRoot,tt=e.getBoundingRect,te=e.getTextContent,H=e.isHiddenSubtree,fe=e.matchAccessibilityRole,je=e.setFocusIfFocusable,Ue=e.setupIntersectionObserver,Pe=e.appendChild,$e=e.appendChildToContainer,Ke=e.commitTextUpdate,we=e.commitMount,ae=e.commitUpdate,Te=e.insertBefore,Me=e.insertInContainerBefore,Fe=e.removeChild,qe=e.removeChildFromContainer,rt=e.resetTextContent,ut=e.hideInstance,ce=e.hideTextInstance,Ce=e.unhideInstance,be=e.unhideTextInstance,Ze=e.clearContainer,lt=e.cloneInstance,Jt=e.createContainerChildSet,an=e.appendChildToContainerChildSet,mn=e.finalizeContainerChildren,En=e.replaceContainerChildren,wn=e.cloneHiddenInstance,xn=e.cloneHiddenTextInstance,rn=e.canHydrateInstance,hr=e.canHydrateTextInstance,Qi=e.canHydrateSuspenseInstance,Sn=e.isSuspenseInstancePending,Yn=e.isSuspenseInstanceFallback,gi=e.registerSuspenseInstanceRetry,Dn=e.getNextHydratableSibling,Tt=e.getFirstHydratableChild,bi=e.getFirstHydratableChildWithinContainer,gs=e.getFirstHydratableChildWithinSuspenseInstance,Q=e.hydrateInstance,B=e.hydrateTextInstance,Z=e.hydrateSuspenseInstance,se=e.getNextHydratableInstanceAfterSuspenseInstance,re=e.commitHydratedContainer,ue=e.commitHydratedSuspenseInstance,Be=e.clearSuspenseBoundary,Le=e.clearSuspenseBoundaryFromContainer,ze=e.shouldDeleteUnhydratedTailInstances,He=e.didNotMatchHydratedContainerTextInstance,Ye=e.didNotMatchHydratedTextInstance,ve;function ht(m){if(ve===void 0)try{throw Error()}catch(_){var v=_.stack.trim().match(/\n( *(at )?)/);ve=v&&v[1]||""}return`
`+ve+m}var at=!1;function ot(m,v){if(!m||at)return"";at=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(st){var T=st}Reflect.construct(m,[],v)}else{try{v.call()}catch(st){T=st}m.call(v.prototype)}else{try{throw Error()}catch(st){T=st}m()}}catch(st){if(st&&T&&typeof st.stack=="string"){for(var P=st.stack.split(`
`),N=T.stack.split(`
`),le=P.length-1,Ae=N.length-1;1<=le&&0<=Ae&&P[le]!==N[Ae];)Ae--;for(;1<=le&&0<=Ae;le--,Ae--)if(P[le]!==N[Ae]){if(le!==1||Ae!==1)do if(le--,Ae--,0>Ae||P[le]!==N[Ae]){var We=`
`+P[le].replace(" at new "," at ");return m.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",m.displayName)),We}while(1<=le&&0<=Ae);break}}}finally{at=!1,Error.prepareStackTrace=_}return(m=m?m.displayName||m.name:"")?ht(m):""}var bt=Object.prototype.hasOwnProperty,Lt=[],Mt=-1;function ft(m){return{current:m}}function Ft(m){0>Mt||(m.current=Lt[Mt],Lt[Mt]=null,Mt--)}function xt(m,v){Mt++,Lt[Mt]=m.current,m.current=v}var Qt={},Ln=ft(Qt),Ht=ft(!1),On=Qt;function gn(m,v){var _=m.type.contextTypes;if(!_)return Qt;var T=m.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===v)return T.__reactInternalMemoizedMaskedChildContext;var P={},N;for(N in _)P[N]=v[N];return T&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=v,m.__reactInternalMemoizedMaskedChildContext=P),P}function kn(m){return m=m.childContextTypes,m!=null}function Kn(){Ft(Ht),Ft(Ln)}function Wt(m,v,_){if(Ln.current!==Qt)throw Error(o(168));xt(Ln,v),xt(Ht,_)}function Jn(m,v,_){var T=m.stateNode;if(v=v.childContextTypes,typeof T.getChildContext!="function")return _;T=T.getChildContext();for(var P in T)if(!(P in v))throw Error(o(108,I(m)||"Unknown",P));return s({},_,T)}function bn(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Qt,On=Ln.current,xt(Ln,m),xt(Ht,Ht.current),!0}function Zt(m,v,_){var T=m.stateNode;if(!T)throw Error(o(169));_?(m=Jn(m,v,On),T.__reactInternalMemoizedMergedChildContext=m,Ft(Ht),Ft(Ln),xt(Ln,m)):Ft(Ht),xt(Ht,_)}var ei=Math.clz32?Math.clz32:Us,vs=Math.log,Ui=Math.LN2;function Us(m){return m>>>=0,m===0?32:31-(vs(m)/Ui|0)|0}var Al=64,yl=4194304;function xl(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Oc(m,v){var _=m.pendingLanes;if(_===0)return 0;var T=0,P=m.suspendedLanes,N=m.pingedLanes,le=_&268435455;if(le!==0){var Ae=le&~P;Ae!==0?T=xl(Ae):(N&=le,N!==0&&(T=xl(N)))}else le=_&~P,le!==0?T=xl(le):N!==0&&(T=xl(N));if(T===0)return 0;if(v!==0&&v!==T&&!(v&P)&&(P=T&-T,N=v&-v,P>=N||P===16&&(N&4194240)!==0))return v;if(T&4&&(T|=_&16),v=m.entangledLanes,v!==0)for(m=m.entanglements,v&=T;0<v;)_=31-ei(v),P=1<<_,T|=m[_],v&=~P;return T}function v2(m,v){switch(m){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(m,v){for(var _=m.suspendedLanes,T=m.pingedLanes,P=m.expirationTimes,N=m.pendingLanes;0<N;){var le=31-ei(N),Ae=1<<le,We=P[le];We===-1?(!(Ae&_)||Ae&T)&&(P[le]=v2(Ae,v)):We<=v&&(m.expiredLanes|=Ae),N&=~Ae}}function Sl(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function gh(m){for(var v=[],_=0;31>_;_++)v.push(m);return v}function Da(m,v,_){m.pendingLanes|=v,v!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,v=31-ei(v),m[v]=_}function gu(m,v){var _=m.pendingLanes&~v;m.pendingLanes=v,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=v,m.mutableReadLanes&=v,m.entangledLanes&=v,v=m.entanglements;var T=m.eventTimes;for(m=m.expirationTimes;0<_;){var P=31-ei(_),N=1<<P;v[P]=0,T[P]=-1,m[P]=-1,_&=~N}}function La(m,v){var _=m.entangledLanes|=v;for(m=m.entanglements;_;){var T=31-ei(_),P=1<<T;P&v|m[T]&v&&(m[T]|=v),_&=~P}}var vn=0;function Np(m){return m&=-m,1<m?4<m?m&268435455?16:536870912:4:1}var El=r.unstable_scheduleCallback,vh=r.unstable_cancelCallback,Gp=r.unstable_shouldYield,A2=r.unstable_requestPaint,vi=r.unstable_now,Fc=r.unstable_ImmediatePriority,y2=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,zp=r.unstable_IdlePriority,Uc=null,ks=null;function Hp(m){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(Uc,m,void 0,(m.current.flags&128)===128)}catch{}}function x2(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var Ns=typeof Object.is=="function"?Object.is:x2,$r=null,Oa=!1,ho=!1;function Vp(m){$r===null?$r=[m]:$r.push(m)}function Qp(m){Oa=!0,Vp(m)}function As(){if(!ho&&$r!==null){ho=!0;var m=0,v=vn;try{var _=$r;for(vn=1;m<_.length;m++){var T=_[m];do T=T(!0);while(T!==null)}$r=null,Oa=!1}catch(P){throw $r!==null&&($r=$r.slice(m+1)),El(Fc,As),P}finally{vn=v,ho=!1}}return null}var kc=a.ReactCurrentBatchConfig;function Nc(m,v){if(Ns(m,v))return!0;if(typeof m!="object"||m===null||typeof v!="object"||v===null)return!1;var _=Object.keys(m),T=Object.keys(v);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var P=_[T];if(!bt.call(v,P)||!Ns(m[P],v[P]))return!1}return!0}function Gc(m){switch(m.tag){case 5:return ht(m.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 2:case 15:return m=ot(m.type,!1),m;case 11:return m=ot(m.type.render,!1),m;case 1:return m=ot(m.type,!0),m;default:return""}}function es(m,v){if(m&&m.defaultProps){v=s({},v),m=m.defaultProps;for(var _ in m)v[_]===void 0&&(v[_]=m[_]);return v}return v}var dr=ft(null),Ah=null,qo=null,vu=null;function yh(){vu=qo=Ah=null}function S2(m,v,_){Re?(xt(dr,v._currentValue),v._currentValue=_):(xt(dr,v._currentValue2),v._currentValue2=_)}function pr(m){var v=dr.current;Ft(dr),Re?m._currentValue=v:m._currentValue2=v}function ts(m,v,_){for(;m!==null;){var T=m.alternate;if((m.childLanes&v)!==v?(m.childLanes|=v,T!==null&&(T.childLanes|=v)):T!==null&&(T.childLanes&v)!==v&&(T.childLanes|=v),m===_)break;m=m.return}}function ki(m,v){Ah=m,vu=qo=null,m=m.dependencies,m!==null&&m.firstContext!==null&&(m.lanes&v&&(Vs=!0),m.firstContext=null)}function Ni(m){var v=Re?m._currentValue:m._currentValue2;if(vu!==m)if(m={context:m,memoizedValue:v,next:null},qo===null){if(Ah===null)throw Error(o(308));qo=m,Ah.dependencies={lanes:0,firstContext:m}}else qo=qo.next=m;return v}var Gs=null,Au=!1;function BE(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a7(m,v){m=m.updateQueue,v.updateQueue===m&&(v.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function wl(m,v){return{eventTime:m,lane:v,tag:0,payload:null,callback:null,next:null}}function yu(m,v){var _=m.updateQueue;_!==null&&(_=_.shared,Wi!==null&&m.mode&1&&!(dn&2)?(m=_.interleaved,m===null?(v.next=v,Gs===null?Gs=[_]:Gs.push(_)):(v.next=m.next,m.next=v),_.interleaved=v):(m=_.pending,m===null?v.next=v:(v.next=m.next,m.next=v),_.pending=v))}function E2(m,v,_){if(v=v.updateQueue,v!==null&&(v=v.shared,(_&4194240)!==0)){var T=v.lanes;T&=m.pendingLanes,_|=T,v.lanes=_,La(m,_)}}function l7(m,v){var _=m.updateQueue,T=m.alternate;if(T!==null&&(T=T.updateQueue,_===T)){var P=null,N=null;if(_=_.firstBaseUpdate,_!==null){do{var le={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};N===null?P=N=le:N=N.next=le,_=_.next}while(_!==null);N===null?P=N=v:N=N.next=v}else P=N=v;_={baseState:T.baseState,firstBaseUpdate:P,lastBaseUpdate:N,shared:T.shared,effects:T.effects},m.updateQueue=_;return}m=_.lastBaseUpdate,m===null?_.firstBaseUpdate=v:m.next=v,_.lastBaseUpdate=v}function w2(m,v,_,T){var P=m.updateQueue;Au=!1;var N=P.firstBaseUpdate,le=P.lastBaseUpdate,Ae=P.shared.pending;if(Ae!==null){P.shared.pending=null;var We=Ae,st=We.next;We.next=null,le===null?N=st:le.next=st,le=We;var wt=m.alternate;wt!==null&&(wt=wt.updateQueue,Ae=wt.lastBaseUpdate,Ae!==le&&(Ae===null?wt.firstBaseUpdate=st:Ae.next=st,wt.lastBaseUpdate=We))}if(N!==null){var en=P.baseState;le=0,wt=st=We=null,Ae=N;do{var kt=Ae.lane,Zn=Ae.eventTime;if((T&kt)===kt){wt!==null&&(wt=wt.next={eventTime:Zn,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var Pt=m,zr=Ae;switch(kt=v,Zn=_,zr.tag){case 1:if(Pt=zr.payload,typeof Pt=="function"){en=Pt.call(Zn,en,kt);break e}en=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=zr.payload,kt=typeof Pt=="function"?Pt.call(Zn,en,kt):Pt,kt==null)break e;en=s({},en,kt);break e;case 2:Au=!0}}Ae.callback!==null&&Ae.lane!==0&&(m.flags|=64,kt=P.effects,kt===null?P.effects=[Ae]:kt.push(Ae))}else Zn={eventTime:Zn,lane:kt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},wt===null?(st=wt=Zn,We=en):wt=wt.next=Zn,le|=kt;if(Ae=Ae.next,Ae===null){if(Ae=P.shared.pending,Ae===null)break;kt=Ae,Ae=kt.next,kt.next=null,P.lastBaseUpdate=kt,P.shared.pending=null}}while(1);if(wt===null&&(We=en),P.baseState=We,P.firstBaseUpdate=st,P.lastBaseUpdate=wt,v=P.shared.interleaved,v!==null){P=v;do le|=P.lane,P=P.next;while(P!==v)}else N===null&&(P.shared.lanes=0);Mh|=le,m.lanes=le,m.memoizedState=en}}function u7(m,v,_){if(m=v.effects,v.effects=null,m!==null)for(v=0;v<m.length;v++){var T=m[v],P=T.callback;if(P!==null){if(T.callback=null,T=_,typeof P!="function")throw Error(o(191,P));P.call(T)}}}var c7=new i.Component().refs;function DE(m,v,_,T){v=m.memoizedState,_=_(T,v),_=_==null?v:s({},v,_),m.memoizedState=_,m.lanes===0&&(m.updateQueue.baseState=_)}var _2={isMounted:function(m){return(m=m._reactInternals)?M(m)===m:!1},enqueueSetState:function(m,v,_){m=m._reactInternals;var T=is(),P=Eu(m),N=wl(T,P);N.payload=v,_!=null&&(N.callback=_),yu(m,N),v=Ao(m,P,T),v!==null&&E2(v,m,P)},enqueueReplaceState:function(m,v,_){m=m._reactInternals;var T=is(),P=Eu(m),N=wl(T,P);N.tag=1,N.payload=v,_!=null&&(N.callback=_),yu(m,N),v=Ao(m,P,T),v!==null&&E2(v,m,P)},enqueueForceUpdate:function(m,v){m=m._reactInternals;var _=is(),T=Eu(m),P=wl(_,T);P.tag=2,v!=null&&(P.callback=v),yu(m,P),v=Ao(m,T,_),v!==null&&E2(v,m,T)}};function f7(m,v,_,T,P,N,le){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(T,N,le):v.prototype&&v.prototype.isPureReactComponent?!Nc(_,T)||!Nc(P,N):!0}function h7(m,v,_){var T=!1,P=Qt,N=v.contextType;return typeof N=="object"&&N!==null?N=Ni(N):(P=kn(v)?On:Ln.current,T=v.contextTypes,N=(T=T!=null)?gn(m,P):Qt),v=new v(_,N),m.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=_2,m.stateNode=v,v._reactInternals=m,T&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=P,m.__reactInternalMemoizedMaskedChildContext=N),v}function d7(m,v,_,T){m=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(_,T),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(_,T),v.state!==m&&_2.enqueueReplaceState(v,v.state,null)}function LE(m,v,_,T){var P=m.stateNode;P.props=_,P.state=m.memoizedState,P.refs=c7,BE(m);var N=v.contextType;typeof N=="object"&&N!==null?P.context=Ni(N):(N=kn(v)?On:Ln.current,P.context=gn(m,N)),P.state=m.memoizedState,N=v.getDerivedStateFromProps,typeof N=="function"&&(DE(m,v,N,_),P.state=m.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(v=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),v!==P.state&&_2.enqueueReplaceState(P,P.state,null),w2(m,_,P,T),P.state=m.memoizedState),typeof P.componentDidMount=="function"&&(m.flags|=4194308)}var xh=[],Sh=0,C2=null,b2=0,po=[],mo=0,zc=null,_l=1,Cl="";function Hc(m,v){xh[Sh++]=b2,xh[Sh++]=C2,C2=m,b2=v}function p7(m,v,_){po[mo++]=_l,po[mo++]=Cl,po[mo++]=zc,zc=m;var T=_l;m=Cl;var P=32-ei(T)-1;T&=~(1<<P),_+=1;var N=32-ei(v)+P;if(30<N){var le=P-P%5;N=(T&(1<<le)-1).toString(32),T>>=le,P-=le,_l=1<<32-ei(v)+P|_<<P|T,Cl=N+m}else _l=1<<N|_<<P|T,Cl=m}function OE(m){m.return!==null&&(Hc(m,1),p7(m,1,0))}function FE(m){for(;m===C2;)C2=xh[--Sh],xh[Sh]=null,b2=xh[--Sh],xh[Sh]=null;for(;m===zc;)zc=po[--mo],po[mo]=null,Cl=po[--mo],po[mo]=null,_l=po[--mo],po[mo]=null}var zs=null,Hs=null,hi=!1,Wp=!1,Xo=null;function m7(m,v){var _=yo(5,null,null,0);_.elementType="DELETED",_.stateNode=v,_.return=m,v=m.deletions,v===null?(m.deletions=[_],m.flags|=16):v.push(_)}function g7(m,v){switch(m.tag){case 5:return v=rn(v,m.type,m.pendingProps),v!==null?(m.stateNode=v,zs=m,Hs=Tt(v),!0):!1;case 6:return v=hr(v,m.pendingProps),v!==null?(m.stateNode=v,zs=m,Hs=null,!0):!1;case 13:if(v=Qi(v),v!==null){var _=zc!==null?{id:_l,overflow:Cl}:null;return m.memoizedState={dehydrated:v,treeContext:_,retryLane:1073741824},_=yo(18,null,null,0),_.stateNode=v,_.return=m,m.child=_,zs=m,Hs=null,!0}return!1;default:return!1}}function UE(m){return(m.mode&1)!==0&&(m.flags&128)===0}function kE(m){if(hi){var v=Hs;if(v){var _=v;if(!g7(m,v)){if(UE(m))throw Error(o(418));v=Dn(_);var T=zs;v&&g7(m,v)?m7(T,_):(m.flags=m.flags&-4097|2,hi=!1,zs=m)}}else{if(UE(m))throw Error(o(418));m.flags=m.flags&-4097|2,hi=!1,zs=m}}}function v7(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;zs=m}function jp(m){if(!me||m!==zs)return!1;if(!hi)return v7(m),hi=!0,!1;if(m.tag!==3&&(m.tag!==5||ze(m.type)&&!$(m.type,m.memoizedProps))){var v=Hs;if(v){if(UE(m)){for(m=Hs;m;)m=Dn(m);throw Error(o(418))}for(;v;)m7(m,v),v=Dn(v)}}if(v7(m),m.tag===13){if(!me)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));Hs=se(m)}else Hs=zs?Dn(m.stateNode):null;return!0}function Eh(){me&&(Hs=zs=null,Wp=hi=!1)}function NE(m){Xo===null?Xo=[m]:Xo.push(m)}function qp(m,v,_){if(m=_.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var T=_.stateNode}if(!T)throw Error(o(147,m));var P=T,N=""+m;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===N?v.ref:(v=function(le){var Ae=P.refs;Ae===c7&&(Ae=P.refs={}),le===null?delete Ae[N]:Ae[N]=le},v._stringRef=N,v)}if(typeof m!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,m))}return m}function T2(m,v){throw m=Object.prototype.toString.call(v),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":m))}function A7(m){var v=m._init;return v(m._payload)}function y7(m){function v(Oe,Ee){if(m){var Ge=Oe.deletions;Ge===null?(Oe.deletions=[Ee],Oe.flags|=16):Ge.push(Ee)}}function _(Oe,Ee){if(!m)return null;for(;Ee!==null;)v(Oe,Ee),Ee=Ee.sibling;return null}function T(Oe,Ee){for(Oe=new Map;Ee!==null;)Ee.key!==null?Oe.set(Ee.key,Ee):Oe.set(Ee.index,Ee),Ee=Ee.sibling;return Oe}function P(Oe,Ee){return Oe=_u(Oe,Ee),Oe.index=0,Oe.sibling=null,Oe}function N(Oe,Ee,Ge){return Oe.index=Ge,m?(Ge=Oe.alternate,Ge!==null?(Ge=Ge.index,Ge<Ee?(Oe.flags|=2,Ee):Ge):(Oe.flags|=2,Ee)):(Oe.flags|=1048576,Ee)}function le(Oe){return m&&Oe.alternate===null&&(Oe.flags|=2),Oe}function Ae(Oe,Ee,Ge,mt){return Ee===null||Ee.tag!==6?(Ee=Ew(Ge,Oe.mode,mt),Ee.return=Oe,Ee):(Ee=P(Ee,Ge),Ee.return=Oe,Ee)}function We(Oe,Ee,Ge,mt){var It=Ge.type;return It===c?wt(Oe,Ee,Ge.props.children,mt,Ge.key):Ee!==null&&(Ee.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===S&&A7(It)===Ee.type)?(mt=P(Ee,Ge.props),mt.ref=qp(Oe,Ee,Ge),mt.return=Oe,mt):(mt=ry(Ge.type,Ge.key,Ge.props,null,Oe.mode,mt),mt.ref=qp(Oe,Ee,Ge),mt.return=Oe,mt)}function st(Oe,Ee,Ge,mt){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Ge.containerInfo||Ee.stateNode.implementation!==Ge.implementation?(Ee=ww(Ge,Oe.mode,mt),Ee.return=Oe,Ee):(Ee=P(Ee,Ge.children||[]),Ee.return=Oe,Ee)}function wt(Oe,Ee,Ge,mt,It){return Ee===null||Ee.tag!==7?(Ee=Yc(Ge,Oe.mode,mt,It),Ee.return=Oe,Ee):(Ee=P(Ee,Ge),Ee.return=Oe,Ee)}function en(Oe,Ee,Ge){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=Ew(""+Ee,Oe.mode,Ge),Ee.return=Oe,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:return Ge=ry(Ee.type,Ee.key,Ee.props,null,Oe.mode,Ge),Ge.ref=qp(Oe,null,Ee),Ge.return=Oe,Ge;case u:return Ee=ww(Ee,Oe.mode,Ge),Ee.return=Oe,Ee;case S:var mt=Ee._init;return en(Oe,mt(Ee._payload),Ge)}if(U(Ee)||C(Ee))return Ee=Yc(Ee,Oe.mode,Ge,null),Ee.return=Oe,Ee;T2(Oe,Ee)}return null}function kt(Oe,Ee,Ge,mt){var It=Ee!==null?Ee.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return It!==null?null:Ae(Oe,Ee,""+Ge,mt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return Ge.key===It?We(Oe,Ee,Ge,mt):null;case u:return Ge.key===It?st(Oe,Ee,Ge,mt):null;case S:return It=Ge._init,kt(Oe,Ee,It(Ge._payload),mt)}if(U(Ge)||C(Ge))return It!==null?null:wt(Oe,Ee,Ge,mt,null);T2(Oe,Ge)}return null}function Zn(Oe,Ee,Ge,mt,It){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return Oe=Oe.get(Ge)||null,Ae(Ee,Oe,""+mt,It);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case l:return Oe=Oe.get(mt.key===null?Ge:mt.key)||null,We(Ee,Oe,mt,It);case u:return Oe=Oe.get(mt.key===null?Ge:mt.key)||null,st(Ee,Oe,mt,It);case S:var fn=mt._init;return Zn(Oe,Ee,Ge,fn(mt._payload),It)}if(U(mt)||C(mt))return Oe=Oe.get(Ge)||null,wt(Ee,Oe,mt,It,null);T2(Ee,mt)}return null}function Pt(Oe,Ee,Ge,mt){for(var It=null,fn=null,tn=Ee,Nn=Ee=0,gr=null;tn!==null&&Nn<Ge.length;Nn++){tn.index>Nn?(gr=tn,tn=null):gr=tn.sibling;var Gn=kt(Oe,tn,Ge[Nn],mt);if(Gn===null){tn===null&&(tn=gr);break}m&&tn&&Gn.alternate===null&&v(Oe,tn),Ee=N(Gn,Ee,Nn),fn===null?It=Gn:fn.sibling=Gn,fn=Gn,tn=gr}if(Nn===Ge.length)return _(Oe,tn),hi&&Hc(Oe,Nn),It;if(tn===null){for(;Nn<Ge.length;Nn++)tn=en(Oe,Ge[Nn],mt),tn!==null&&(Ee=N(tn,Ee,Nn),fn===null?It=tn:fn.sibling=tn,fn=tn);return hi&&Hc(Oe,Nn),It}for(tn=T(Oe,tn);Nn<Ge.length;Nn++)gr=Zn(tn,Oe,Nn,Ge[Nn],mt),gr!==null&&(m&&gr.alternate!==null&&tn.delete(gr.key===null?Nn:gr.key),Ee=N(gr,Ee,Nn),fn===null?It=gr:fn.sibling=gr,fn=gr);return m&&tn.forEach(function(Cu){return v(Oe,Cu)}),hi&&Hc(Oe,Nn),It}function zr(Oe,Ee,Ge,mt){var It=C(Ge);if(typeof It!="function")throw Error(o(150));if(Ge=It.call(Ge),Ge==null)throw Error(o(151));for(var fn=It=null,tn=Ee,Nn=Ee=0,gr=null,Gn=Ge.next();tn!==null&&!Gn.done;Nn++,Gn=Ge.next()){tn.index>Nn?(gr=tn,tn=null):gr=tn.sibling;var Cu=kt(Oe,tn,Gn.value,mt);if(Cu===null){tn===null&&(tn=gr);break}m&&tn&&Cu.alternate===null&&v(Oe,tn),Ee=N(Cu,Ee,Nn),fn===null?It=Cu:fn.sibling=Cu,fn=Cu,tn=gr}if(Gn.done)return _(Oe,tn),hi&&Hc(Oe,Nn),It;if(tn===null){for(;!Gn.done;Nn++,Gn=Ge.next())Gn=en(Oe,Gn.value,mt),Gn!==null&&(Ee=N(Gn,Ee,Nn),fn===null?It=Gn:fn.sibling=Gn,fn=Gn);return hi&&Hc(Oe,Nn),It}for(tn=T(Oe,tn);!Gn.done;Nn++,Gn=Ge.next())Gn=Zn(tn,Oe,Nn,Gn.value,mt),Gn!==null&&(m&&Gn.alternate!==null&&tn.delete(Gn.key===null?Nn:Gn.key),Ee=N(Gn,Ee,Nn),fn===null?It=Gn:fn.sibling=Gn,fn=Gn);return m&&tn.forEach(function(UZ){return v(Oe,UZ)}),hi&&Hc(Oe,Nn),It}function xo(Oe,Ee,Ge,mt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===c&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:e:{for(var It=Ge.key,fn=Ee;fn!==null;){if(fn.key===It){if(It=Ge.type,It===c){if(fn.tag===7){_(Oe,fn.sibling),Ee=P(fn,Ge.props.children),Ee.return=Oe,Oe=Ee;break e}}else if(fn.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===S&&A7(It)===fn.type){_(Oe,fn.sibling),Ee=P(fn,Ge.props),Ee.ref=qp(Oe,fn,Ge),Ee.return=Oe,Oe=Ee;break e}_(Oe,fn);break}else v(Oe,fn);fn=fn.sibling}Ge.type===c?(Ee=Yc(Ge.props.children,Oe.mode,mt,Ge.key),Ee.return=Oe,Oe=Ee):(mt=ry(Ge.type,Ge.key,Ge.props,null,Oe.mode,mt),mt.ref=qp(Oe,Ee,Ge),mt.return=Oe,Oe=mt)}return le(Oe);case u:e:{for(fn=Ge.key;Ee!==null;){if(Ee.key===fn)if(Ee.tag===4&&Ee.stateNode.containerInfo===Ge.containerInfo&&Ee.stateNode.implementation===Ge.implementation){_(Oe,Ee.sibling),Ee=P(Ee,Ge.children||[]),Ee.return=Oe,Oe=Ee;break e}else{_(Oe,Ee);break}else v(Oe,Ee);Ee=Ee.sibling}Ee=ww(Ge,Oe.mode,mt),Ee.return=Oe,Oe=Ee}return le(Oe);case S:return fn=Ge._init,xo(Oe,Ee,fn(Ge._payload),mt)}if(U(Ge))return Pt(Oe,Ee,Ge,mt);if(C(Ge))return zr(Oe,Ee,Ge,mt);T2(Oe,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,Ee!==null&&Ee.tag===6?(_(Oe,Ee.sibling),Ee=P(Ee,Ge),Ee.return=Oe,Oe=Ee):(_(Oe,Ee),Ee=Ew(Ge,Oe.mode,mt),Ee.return=Oe,Oe=Ee),le(Oe)):_(Oe,Ee)}return xo}var wh=y7(!0),x7=y7(!1),Xp={},go=ft(Xp),Yp=ft(Xp),_h=ft(Xp);function Fa(m){if(m===Xp)throw Error(o(174));return m}function GE(m,v){xt(_h,v),xt(Yp,m),xt(go,Xp),m=K(v),Ft(go),xt(go,m)}function Ch(){Ft(go),Ft(Yp),Ft(_h)}function S7(m){var v=Fa(_h.current),_=Fa(go.current);v=k(_,m.type,v),_!==v&&(xt(Yp,m),xt(go,v))}function zE(m){Yp.current===m&&(Ft(go),Ft(Yp))}var Ai=ft(0);function M2(m){for(var v=m;v!==null;){if(v.tag===13){var _=v.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Sn(_)||Yn(_)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(v.flags&128)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var HE=[];function VE(){for(var m=0;m<HE.length;m++){var v=HE[m];Re?v._workInProgressVersionPrimary=null:v._workInProgressVersionSecondary=null}HE.length=0}var I2=a.ReactCurrentDispatcher,vo=a.ReactCurrentBatchConfig,bh=0,Ti=null,kr=null,mr=null,R2=!1,Kp=!1,Jp=0,lZ=0;function Nr(){throw Error(o(321))}function QE(m,v){if(v===null)return!1;for(var _=0;_<v.length&&_<m.length;_++)if(!Ns(m[_],v[_]))return!1;return!0}function WE(m,v,_,T,P,N){if(bh=N,Ti=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,I2.current=m===null||m.memoizedState===null?hZ:dZ,m=_(T,P),Kp){N=0;do{if(Kp=!1,Jp=0,25<=N)throw Error(o(301));N+=1,mr=kr=null,v.updateQueue=null,I2.current=pZ,m=_(T,P)}while(Kp)}if(I2.current=O2,v=kr!==null&&kr.next!==null,bh=0,mr=kr=Ti=null,R2=!1,v)throw Error(o(300));return m}function jE(){var m=Jp!==0;return Jp=0,m}function bl(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Ti.memoizedState=mr=m:mr=mr.next=m,mr}function Ua(){if(kr===null){var m=Ti.alternate;m=m!==null?m.memoizedState:null}else m=kr.next;var v=mr===null?Ti.memoizedState:mr.next;if(v!==null)mr=v,kr=m;else{if(m===null)throw Error(o(310));kr=m,m={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},mr===null?Ti.memoizedState=mr=m:mr=mr.next=m}return mr}function Vc(m,v){return typeof v=="function"?v(m):v}function P2(m){var v=Ua(),_=v.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=m;var T=kr,P=T.baseQueue,N=_.pending;if(N!==null){if(P!==null){var le=P.next;P.next=N.next,N.next=le}T.baseQueue=P=N,_.pending=null}if(P!==null){N=P.next,T=T.baseState;var Ae=le=null,We=null,st=N;do{var wt=st.lane;if((bh&wt)===wt)We!==null&&(We=We.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),T=st.hasEagerState?st.eagerState:m(T,st.action);else{var en={lane:wt,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};We===null?(Ae=We=en,le=T):We=We.next=en,Ti.lanes|=wt,Mh|=wt}st=st.next}while(st!==null&&st!==N);We===null?le=T:We.next=Ae,Ns(T,v.memoizedState)||(Vs=!0),v.memoizedState=T,v.baseState=le,v.baseQueue=We,_.lastRenderedState=T}if(m=_.interleaved,m!==null){P=m;do N=P.lane,Ti.lanes|=N,Mh|=N,P=P.next;while(P!==m)}else P===null&&(_.lanes=0);return[v.memoizedState,_.dispatch]}function B2(m){var v=Ua(),_=v.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=m;var T=_.dispatch,P=_.pending,N=v.memoizedState;if(P!==null){_.pending=null;var le=P=P.next;do N=m(N,le.action),le=le.next;while(le!==P);Ns(N,v.memoizedState)||(Vs=!0),v.memoizedState=N,v.baseQueue===null&&(v.baseState=N),_.lastRenderedState=N}return[N,T]}function E7(){}function w7(m,v){var _=Ti,T=Ua(),P=v(),N=!Ns(T.memoizedState,P);if(N&&(T.memoizedState=P,Vs=!0),T=T.queue,$p(b7.bind(null,_,T,m),[m]),T.getSnapshot!==v||N||mr!==null&&mr.memoizedState.tag&1){if(_.flags|=2048,Zp(9,C7.bind(null,_,T,P,v),void 0,null),Wi===null)throw Error(o(349));bh&30||_7(_,v,P)}return P}function _7(m,v,_){m.flags|=16384,m={getSnapshot:v,value:_},v=Ti.updateQueue,v===null?(v={lastEffect:null,stores:null},Ti.updateQueue=v,v.stores=[m]):(_=v.stores,_===null?v.stores=[m]:_.push(m))}function C7(m,v,_,T){v.value=_,v.getSnapshot=T,T7(v)&&Ao(m,1,-1)}function b7(m,v,_){return _(function(){T7(v)&&Ao(m,1,-1)})}function T7(m){var v=m.getSnapshot;m=m.value;try{var _=v();return!Ns(m,_)}catch{return!0}}function qE(m){var v=bl();return typeof m=="function"&&(m=m()),v.memoizedState=v.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:m},v.queue=m,m=m.dispatch=fZ.bind(null,Ti,m),[v.memoizedState,m]}function Zp(m,v,_,T){return m={tag:m,create:v,destroy:_,deps:T,next:null},v=Ti.updateQueue,v===null?(v={lastEffect:null,stores:null},Ti.updateQueue=v,v.lastEffect=m.next=m):(_=v.lastEffect,_===null?v.lastEffect=m.next=m:(T=_.next,_.next=m,m.next=T,v.lastEffect=m)),m}function M7(){return Ua().memoizedState}function D2(m,v,_,T){var P=bl();Ti.flags|=m,P.memoizedState=Zp(1|v,_,void 0,T===void 0?null:T)}function L2(m,v,_,T){var P=Ua();T=T===void 0?null:T;var N=void 0;if(kr!==null){var le=kr.memoizedState;if(N=le.destroy,T!==null&&QE(T,le.deps)){P.memoizedState=Zp(v,_,N,T);return}}Ti.flags|=m,P.memoizedState=Zp(1|v,_,N,T)}function XE(m,v){return D2(8390656,8,m,v)}function $p(m,v){return L2(2048,8,m,v)}function I7(m,v){return L2(4,2,m,v)}function R7(m,v){return L2(4,4,m,v)}function P7(m,v){if(typeof v=="function")return m=m(),v(m),function(){v(null)};if(v!=null)return m=m(),v.current=m,function(){v.current=null}}function B7(m,v,_){return _=_!=null?_.concat([m]):null,L2(4,4,P7.bind(null,v,m),_)}function YE(){}function D7(m,v){var _=Ua();v=v===void 0?null:v;var T=_.memoizedState;return T!==null&&v!==null&&QE(v,T[1])?T[0]:(_.memoizedState=[m,v],m)}function L7(m,v){var _=Ua();v=v===void 0?null:v;var T=_.memoizedState;return T!==null&&v!==null&&QE(v,T[1])?T[0]:(m=m(),_.memoizedState=[m,v],m)}function uZ(m,v){var _=vn;vn=_!==0&&4>_?_:4,m(!0);var T=vo.transition;vo.transition={};try{m(!1),v()}finally{vn=_,vo.transition=T}}function O7(){return Ua().memoizedState}function cZ(m,v,_){var T=Eu(m);_={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null},F7(m)?U7(v,_):(k7(m,v,_),_=is(),m=Ao(m,T,_),m!==null&&N7(m,v,T))}function fZ(m,v,_){var T=Eu(m),P={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null};if(F7(m))U7(v,P);else{k7(m,v,P);var N=m.alternate;if(m.lanes===0&&(N===null||N.lanes===0)&&(N=v.lastRenderedReducer,N!==null))try{var le=v.lastRenderedState,Ae=N(le,_);if(P.hasEagerState=!0,P.eagerState=Ae,Ns(Ae,le))return}catch{}finally{}_=is(),m=Ao(m,T,_),m!==null&&N7(m,v,T)}}function F7(m){var v=m.alternate;return m===Ti||v!==null&&v===Ti}function U7(m,v){Kp=R2=!0;var _=m.pending;_===null?v.next=v:(v.next=_.next,_.next=v),m.pending=v}function k7(m,v,_){Wi!==null&&m.mode&1&&!(dn&2)?(m=v.interleaved,m===null?(_.next=_,Gs===null?Gs=[v]:Gs.push(v)):(_.next=m.next,m.next=_),v.interleaved=_):(m=v.pending,m===null?_.next=_:(_.next=m.next,m.next=_),v.pending=_)}function N7(m,v,_){if(_&4194240){var T=v.lanes;T&=m.pendingLanes,_|=T,v.lanes=_,La(m,_)}}var O2={readContext:Ni,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},hZ={readContext:Ni,useCallback:function(m,v){return bl().memoizedState=[m,v===void 0?null:v],m},useContext:Ni,useEffect:XE,useImperativeHandle:function(m,v,_){return _=_!=null?_.concat([m]):null,D2(4194308,4,P7.bind(null,v,m),_)},useLayoutEffect:function(m,v){return D2(4194308,4,m,v)},useInsertionEffect:function(m,v){return D2(4,2,m,v)},useMemo:function(m,v){var _=bl();return v=v===void 0?null:v,m=m(),_.memoizedState=[m,v],m},useReducer:function(m,v,_){var T=bl();return v=_!==void 0?_(v):v,T.memoizedState=T.baseState=v,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:v},T.queue=m,m=m.dispatch=cZ.bind(null,Ti,m),[T.memoizedState,m]},useRef:function(m){var v=bl();return m={current:m},v.memoizedState=m},useState:qE,useDebugValue:YE,useDeferredValue:function(m){var v=qE(m),_=v[0],T=v[1];return XE(function(){var P=vo.transition;vo.transition={};try{T(m)}finally{vo.transition=P}},[m]),_},useTransition:function(){var m=qE(!1),v=m[0];return m=uZ.bind(null,m[1]),bl().memoizedState=m,[v,m]},useMutableSource:function(){},useSyncExternalStore:function(m,v,_){var T=Ti,P=bl();if(hi){if(_===void 0)throw Error(o(407));_=_()}else{if(_=v(),Wi===null)throw Error(o(349));bh&30||_7(T,v,_)}P.memoizedState=_;var N={value:_,getSnapshot:v};return P.queue=N,XE(b7.bind(null,T,N,m),[m]),T.flags|=2048,Zp(9,C7.bind(null,T,N,_,v),void 0,null),_},useId:function(){var m=bl(),v=Wi.identifierPrefix;if(hi){var _=Cl,T=_l;_=(T&~(1<<32-ei(T)-1)).toString(32)+_,v=":"+v+"R"+_,_=Jp++,0<_&&(v+="H"+_.toString(32)),v+=":"}else _=lZ++,v=":"+v+"r"+_.toString(32)+":";return m.memoizedState=v},unstable_isNewReconciler:!1},dZ={readContext:Ni,useCallback:D7,useContext:Ni,useEffect:$p,useImperativeHandle:B7,useInsertionEffect:I7,useLayoutEffect:R7,useMemo:L7,useReducer:P2,useRef:M7,useState:function(){return P2(Vc)},useDebugValue:YE,useDeferredValue:function(m){var v=P2(Vc),_=v[0],T=v[1];return $p(function(){var P=vo.transition;vo.transition={};try{T(m)}finally{vo.transition=P}},[m]),_},useTransition:function(){var m=P2(Vc)[0],v=Ua().memoizedState;return[m,v]},useMutableSource:E7,useSyncExternalStore:w7,useId:O7,unstable_isNewReconciler:!1},pZ={readContext:Ni,useCallback:D7,useContext:Ni,useEffect:$p,useImperativeHandle:B7,useInsertionEffect:I7,useLayoutEffect:R7,useMemo:L7,useReducer:B2,useRef:M7,useState:function(){return B2(Vc)},useDebugValue:YE,useDeferredValue:function(m){var v=B2(Vc),_=v[0],T=v[1];return $p(function(){var P=vo.transition;vo.transition={};try{T(m)}finally{vo.transition=P}},[m]),_},useTransition:function(){var m=B2(Vc)[0],v=Ua().memoizedState;return[m,v]},useMutableSource:E7,useSyncExternalStore:w7,useId:O7,unstable_isNewReconciler:!1};function KE(m,v){try{var _="",T=v;do _+=Gc(T),T=T.return;while(T);var P=_}catch(N){P=`
Error generating stack: `+N.message+`
`+N.stack}return{value:m,source:v,stack:P}}function JE(m,v){try{console.error(v.value)}catch(_){setTimeout(function(){throw _})}}var mZ=typeof WeakMap=="function"?WeakMap:Map;function G7(m,v,_){_=wl(-1,_),_.tag=3,_.payload={element:null};var T=v.value;return _.callback=function(){J2||(J2=!0,mw=T),JE(m,v)},_}function z7(m,v,_){_=wl(-1,_),_.tag=3;var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var P=v.value;_.payload=function(){return T(P)},_.callback=function(){JE(m,v)}}var N=m.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(_.callback=function(){JE(m,v),typeof T!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var le=v.stack;this.componentDidCatch(v.value,{componentStack:le!==null?le:""})}),_}function H7(m,v,_){var T=m.pingCache;if(T===null){T=m.pingCache=new mZ;var P=new Set;T.set(v,P)}else P=T.get(v),P===void 0&&(P=new Set,T.set(v,P));P.has(_)||(P.add(_),m=IZ.bind(null,m,v,_),v.then(m,m))}function V7(m){do{var v;if((v=m.tag===13)&&(v=m.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return m;m=m.return}while(m!==null);return null}function Q7(m,v,_,T,P){return m.mode&1?(m.flags|=65536,m.lanes=P,m):(m===v?m.flags|=65536:(m.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(v=wl(-1,1),v.tag=2,yu(_,v))),_.lanes|=1),m)}function ka(m){m.flags|=4}function W7(m,v){if(m!==null&&m.child===v.child)return!0;if(v.flags&16)return!1;for(m=v.child;m!==null;){if(m.flags&12854||m.subtreeFlags&12854)return!1;m=m.sibling}return!0}var e0,t0,F2,U2;if(pe)e0=function(m,v){for(var _=v.child;_!==null;){if(_.tag===5||_.tag===6)z(m,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===v)break;for(;_.sibling===null;){if(_.return===null||_.return===v)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},t0=function(){},F2=function(m,v,_,T,P){if(m=m.memoizedProps,m!==T){var N=v.stateNode,le=Fa(go.current);_=J(N,_,m,T,P,le),(v.updateQueue=_)&&ka(v)}},U2=function(m,v,_,T){_!==T&&ka(v)};else if(Y){e0=function(m,v,_,T){for(var P=v.child;P!==null;){if(P.tag===5){var N=P.stateNode;_&&T&&(N=wn(N,P.type,P.memoizedProps,P)),z(m,N)}else if(P.tag===6)N=P.stateNode,_&&T&&(N=xn(N,P.memoizedProps,P)),z(m,N);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)N=P.child,N!==null&&(N.return=P),e0(m,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===v)break;for(;P.sibling===null;){if(P.return===null||P.return===v)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var j7=function(m,v,_,T){for(var P=v.child;P!==null;){if(P.tag===5){var N=P.stateNode;_&&T&&(N=wn(N,P.type,P.memoizedProps,P)),an(m,N)}else if(P.tag===6)N=P.stateNode,_&&T&&(N=xn(N,P.memoizedProps,P)),an(m,N);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)N=P.child,N!==null&&(N.return=P),j7(m,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===v)break;for(;P.sibling===null;){if(P.return===null||P.return===v)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};t0=function(m,v){var _=v.stateNode;if(!W7(m,v)){m=_.containerInfo;var T=Jt(m);j7(T,v,!1,!1),_.pendingChildren=T,ka(v),mn(m,T)}},F2=function(m,v,_,T,P){var N=m.stateNode,le=m.memoizedProps;if((m=W7(m,v))&&le===T)v.stateNode=N;else{var Ae=v.stateNode,We=Fa(go.current),st=null;le!==T&&(st=J(Ae,_,le,T,P,We)),m&&st===null?v.stateNode=N:(N=lt(N,st,_,le,T,v,m,Ae),ne(N,_,T,P,We)&&ka(v),v.stateNode=N,m?ka(v):e0(N,v,!1,!1))}},U2=function(m,v,_,T){_!==T?(m=Fa(_h.current),_=Fa(go.current),v.stateNode=X(T,m,_,v),ka(v)):v.stateNode=m.stateNode}}else t0=function(){},F2=function(){},U2=function(){};function n0(m,v){if(!hi)switch(m.tailMode){case"hidden":v=m.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?m.tail=null:_.sibling=null;break;case"collapsed":_=m.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?v||m.tail===null?m.tail=null:m.tail.sibling=null:T.sibling=null}}function Gr(m){var v=m.alternate!==null&&m.alternate.child===m.child,_=0,T=0;if(v)for(var P=m.child;P!==null;)_|=P.lanes|P.childLanes,T|=P.subtreeFlags&14680064,T|=P.flags&14680064,P.return=m,P=P.sibling;else for(P=m.child;P!==null;)_|=P.lanes|P.childLanes,T|=P.subtreeFlags,T|=P.flags,P.return=m,P=P.sibling;return m.subtreeFlags|=T,m.childLanes=_,v}function gZ(m,v,_){var T=v.pendingProps;switch(FE(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(v),null;case 1:return kn(v.type)&&Kn(),Gr(v),null;case 3:return T=v.stateNode,Ch(),Ft(Ht),Ft(Ln),VE(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(m===null||m.child===null)&&(jp(v)?ka(v):m===null||m.memoizedState.isDehydrated&&!(v.flags&256)||(v.flags|=1024,Xo!==null&&(Aw(Xo),Xo=null))),t0(m,v),Gr(v),null;case 5:zE(v),_=Fa(_h.current);var P=v.type;if(m!==null&&v.stateNode!=null)F2(m,v,P,T,_),m.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!T){if(v.stateNode===null)throw Error(o(166));return Gr(v),null}if(m=Fa(go.current),jp(v)){if(!me)throw Error(o(175));m=Q(v.stateNode,v.type,v.memoizedProps,_,m,v,!Wp),v.updateQueue=m,m!==null&&ka(v)}else{var N=G(P,T,_,m,v);e0(N,v,!1,!1),v.stateNode=N,ne(N,P,T,_,m)&&ka(v)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Gr(v),null;case 6:if(m&&v.stateNode!=null)U2(m,v,m.memoizedProps,T);else{if(typeof T!="string"&&v.stateNode===null)throw Error(o(166));if(m=Fa(_h.current),_=Fa(go.current),jp(v)){if(!me)throw Error(o(176));if(m=v.stateNode,T=v.memoizedProps,(_=B(m,T,v,!Wp))&&(P=zs,P!==null))switch(N=(P.mode&1)!==0,P.tag){case 3:He(P.stateNode.containerInfo,m,T,N);break;case 5:Ye(P.type,P.memoizedProps,P.stateNode,m,T,N)}_&&ka(v)}else v.stateNode=X(T,m,_,v)}return Gr(v),null;case 13:if(Ft(Ai),T=v.memoizedState,hi&&Hs!==null&&v.mode&1&&!(v.flags&128)){for(m=Hs;m;)m=Dn(m);return Eh(),v.flags|=98560,v}if(T!==null&&T.dehydrated!==null){if(T=jp(v),m===null){if(!T)throw Error(o(318));if(!me)throw Error(o(344));if(m=v.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));Z(m,v)}else Eh(),!(v.flags&128)&&(v.memoizedState=null),v.flags|=4;return Gr(v),null}return Xo!==null&&(Aw(Xo),Xo=null),v.flags&128?(v.lanes=_,v):(T=T!==null,_=!1,m===null?jp(v):_=m.memoizedState!==null,T&&!_&&(v.child.flags|=8192,v.mode&1&&(m===null||Ai.current&1?Zi===0&&(Zi=3):xw())),v.updateQueue!==null&&(v.flags|=4),Gr(v),null);case 4:return Ch(),t0(m,v),m===null&&de(v.stateNode.containerInfo),Gr(v),null;case 10:return pr(v.type._context),Gr(v),null;case 17:return kn(v.type)&&Kn(),Gr(v),null;case 19:if(Ft(Ai),P=v.memoizedState,P===null)return Gr(v),null;if(T=(v.flags&128)!==0,N=P.rendering,N===null)if(T)n0(P,!1);else{if(Zi!==0||m!==null&&m.flags&128)for(m=v.child;m!==null;){if(N=M2(m),N!==null){for(v.flags|=128,n0(P,!1),m=N.updateQueue,m!==null&&(v.updateQueue=m,v.flags|=4),v.subtreeFlags=0,m=_,T=v.child;T!==null;)_=T,P=m,_.flags&=14680066,N=_.alternate,N===null?(_.childLanes=0,_.lanes=P,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=N.childLanes,_.lanes=N.lanes,_.child=N.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=N.memoizedProps,_.memoizedState=N.memoizedState,_.updateQueue=N.updateQueue,_.type=N.type,P=N.dependencies,_.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),T=T.sibling;return xt(Ai,Ai.current&1|2),v.child}m=m.sibling}P.tail!==null&&vi()>pw&&(v.flags|=128,T=!0,n0(P,!1),v.lanes=4194304)}else{if(!T)if(m=M2(N),m!==null){if(v.flags|=128,T=!0,m=m.updateQueue,m!==null&&(v.updateQueue=m,v.flags|=4),n0(P,!0),P.tail===null&&P.tailMode==="hidden"&&!N.alternate&&!hi)return Gr(v),null}else 2*vi()-P.renderingStartTime>pw&&_!==1073741824&&(v.flags|=128,T=!0,n0(P,!1),v.lanes=4194304);P.isBackwards?(N.sibling=v.child,v.child=N):(m=P.last,m!==null?m.sibling=N:v.child=N,P.last=N)}return P.tail!==null?(v=P.tail,P.rendering=v,P.tail=v.sibling,P.renderingStartTime=vi(),v.sibling=null,m=Ai.current,xt(Ai,T?m&1|2:m&1),v):(Gr(v),null);case 22:case 23:return yw(),T=v.memoizedState!==null,m!==null&&m.memoizedState!==null!==T&&(v.flags|=8192),T&&v.mode&1?Qs&1073741824&&(Gr(v),pe&&v.subtreeFlags&6&&(v.flags|=8192)):Gr(v),null;case 24:return null;case 25:return null}throw Error(o(156,v.tag))}var vZ=a.ReactCurrentOwner,Vs=!1;function ns(m,v,_,T){v.child=m===null?x7(v,null,_,T):wh(v,m.child,_,T)}function q7(m,v,_,T,P){_=_.render;var N=v.ref;return ki(v,P),T=WE(m,v,_,T,N,P),_=jE(),m!==null&&!Vs?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~P,Tl(m,v,P)):(hi&&_&&OE(v),v.flags|=1,ns(m,v,T,P),v.child)}function X7(m,v,_,T,P){if(m===null){var N=_.type;return typeof N=="function"&&!Sw(N)&&N.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(v.tag=15,v.type=N,Y7(m,v,N,T,P)):(m=ry(_.type,null,T,v,v.mode,P),m.ref=v.ref,m.return=v,v.child=m)}if(N=m.child,!(m.lanes&P)){var le=N.memoizedProps;if(_=_.compare,_=_!==null?_:Nc,_(le,T)&&m.ref===v.ref)return Tl(m,v,P)}return v.flags|=1,m=_u(N,T),m.ref=v.ref,m.return=v,v.child=m}function Y7(m,v,_,T,P){if(m!==null&&Nc(m.memoizedProps,T)&&m.ref===v.ref)if(Vs=!1,(m.lanes&P)!==0)m.flags&131072&&(Vs=!0);else return v.lanes=m.lanes,Tl(m,v,P);return ZE(m,v,_,T,P)}function K7(m,v,_){var T=v.pendingProps,P=T.children,N=m!==null?m.memoizedState:null;if(T.mode==="hidden")if(!(v.mode&1))v.memoizedState={baseLanes:0,cachePool:null},xt(Th,Qs),Qs|=_;else if(_&1073741824)v.memoizedState={baseLanes:0,cachePool:null},T=N!==null?N.baseLanes:_,xt(Th,Qs),Qs|=T;else return m=N!==null?N.baseLanes|_:_,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:m,cachePool:null},v.updateQueue=null,xt(Th,Qs),Qs|=m,null;else N!==null?(T=N.baseLanes|_,v.memoizedState=null):T=_,xt(Th,Qs),Qs|=T;return ns(m,v,P,_),v.child}function J7(m,v){var _=v.ref;(m===null&&_!==null||m!==null&&m.ref!==_)&&(v.flags|=512,v.flags|=2097152)}function ZE(m,v,_,T,P){var N=kn(_)?On:Ln.current;return N=gn(v,N),ki(v,P),_=WE(m,v,_,T,N,P),T=jE(),m!==null&&!Vs?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~P,Tl(m,v,P)):(hi&&T&&OE(v),v.flags|=1,ns(m,v,_,P),v.child)}function Z7(m,v,_,T,P){if(kn(_)){var N=!0;bn(v)}else N=!1;if(ki(v,P),v.stateNode===null)m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),h7(v,_,T),LE(v,_,T,P),T=!0;else if(m===null){var le=v.stateNode,Ae=v.memoizedProps;le.props=Ae;var We=le.context,st=_.contextType;typeof st=="object"&&st!==null?st=Ni(st):(st=kn(_)?On:Ln.current,st=gn(v,st));var wt=_.getDerivedStateFromProps,en=typeof wt=="function"||typeof le.getSnapshotBeforeUpdate=="function";en||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ae!==T||We!==st)&&d7(v,le,T,st),Au=!1;var kt=v.memoizedState;le.state=kt,w2(v,T,le,P),We=v.memoizedState,Ae!==T||kt!==We||Ht.current||Au?(typeof wt=="function"&&(DE(v,_,wt,T),We=v.memoizedState),(Ae=Au||f7(v,_,Ae,T,kt,We,st))?(en||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(v.flags|=4194308)):(typeof le.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=T,v.memoizedState=We),le.props=T,le.state=We,le.context=st,T=Ae):(typeof le.componentDidMount=="function"&&(v.flags|=4194308),T=!1)}else{le=v.stateNode,a7(m,v),Ae=v.memoizedProps,st=v.type===v.elementType?Ae:es(v.type,Ae),le.props=st,en=v.pendingProps,kt=le.context,We=_.contextType,typeof We=="object"&&We!==null?We=Ni(We):(We=kn(_)?On:Ln.current,We=gn(v,We));var Zn=_.getDerivedStateFromProps;(wt=typeof Zn=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ae!==en||kt!==We)&&d7(v,le,T,We),Au=!1,kt=v.memoizedState,le.state=kt,w2(v,T,le,P);var Pt=v.memoizedState;Ae!==en||kt!==Pt||Ht.current||Au?(typeof Zn=="function"&&(DE(v,_,Zn,T),Pt=v.memoizedState),(st=Au||f7(v,_,st,T,kt,Pt,We)||!1)?(wt||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(T,Pt,We),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(T,Pt,We)),typeof le.componentDidUpdate=="function"&&(v.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof le.componentDidUpdate!="function"||Ae===m.memoizedProps&&kt===m.memoizedState||(v.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ae===m.memoizedProps&&kt===m.memoizedState||(v.flags|=1024),v.memoizedProps=T,v.memoizedState=Pt),le.props=T,le.state=Pt,le.context=We,T=st):(typeof le.componentDidUpdate!="function"||Ae===m.memoizedProps&&kt===m.memoizedState||(v.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ae===m.memoizedProps&&kt===m.memoizedState||(v.flags|=1024),T=!1)}return $E(m,v,_,T,N,P)}function $E(m,v,_,T,P,N){J7(m,v);var le=(v.flags&128)!==0;if(!T&&!le)return P&&Zt(v,_,!1),Tl(m,v,N);T=v.stateNode,vZ.current=v;var Ae=le&&typeof _.getDerivedStateFromError!="function"?null:T.render();return v.flags|=1,m!==null&&le?(v.child=wh(v,m.child,null,N),v.child=wh(v,null,Ae,N)):ns(m,v,Ae,N),v.memoizedState=T.state,P&&Zt(v,_,!0),v.child}function $7(m){var v=m.stateNode;v.pendingContext?Wt(m,v.pendingContext,v.pendingContext!==v.context):v.context&&Wt(m,v.context,!1),GE(m,v.containerInfo)}function eR(m,v,_,T,P){return Eh(),NE(P),v.flags|=256,ns(m,v,_,T),v.child}var k2={dehydrated:null,treeContext:null,retryLane:0};function N2(m){return{baseLanes:m,cachePool:null}}function tR(m,v,_){var T=v.pendingProps,P=Ai.current,N=!1,le=(v.flags&128)!==0,Ae;if((Ae=le)||(Ae=m!==null&&m.memoizedState===null?!1:(P&2)!==0),Ae?(N=!0,v.flags&=-129):(m===null||m.memoizedState!==null)&&(P|=1),xt(Ai,P&1),m===null)return kE(v),m=v.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?(v.mode&1?Yn(m)?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(P=T.children,m=T.fallback,N?(T=v.mode,N=v.child,P={mode:"hidden",children:P},!(T&1)&&N!==null?(N.childLanes=0,N.pendingProps=P):N=sy(P,T,0,null),m=Yc(m,T,_,null),N.return=v,m.return=v,N.sibling=m,v.child=N,v.child.memoizedState=N2(_),v.memoizedState=k2,m):ew(v,P));if(P=m.memoizedState,P!==null){if(Ae=P.dehydrated,Ae!==null){if(le)return v.flags&256?(v.flags&=-257,G2(m,v,_,Error(o(422)))):v.memoizedState!==null?(v.child=m.child,v.flags|=128,null):(N=T.fallback,P=v.mode,T=sy({mode:"visible",children:T.children},P,0,null),N=Yc(N,P,_,null),N.flags|=2,T.return=v,N.return=v,T.sibling=N,v.child=T,v.mode&1&&wh(v,m.child,null,_),v.child.memoizedState=N2(_),v.memoizedState=k2,N);if(!(v.mode&1))v=G2(m,v,_,null);else if(Yn(Ae))v=G2(m,v,_,Error(o(419)));else if(T=(_&m.childLanes)!==0,Vs||T){if(T=Wi,T!==null){switch(_&-_){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}T=N&(T.suspendedLanes|_)?0:N,T!==0&&T!==P.retryLane&&(P.retryLane=T,Ao(m,T,-1))}xw(),v=G2(m,v,_,Error(o(421)))}else Sn(Ae)?(v.flags|=128,v.child=m.child,v=RZ.bind(null,m),gi(Ae,v),v=null):(_=P.treeContext,me&&(Hs=gs(Ae),zs=v,hi=!0,Xo=null,Wp=!1,_!==null&&(po[mo++]=_l,po[mo++]=Cl,po[mo++]=zc,_l=_.id,Cl=_.overflow,zc=v)),v=ew(v,v.pendingProps.children),v.flags|=4096);return v}return N?(T=iR(m,v,T.children,T.fallback,_),N=v.child,P=m.child.memoizedState,N.memoizedState=P===null?N2(_):{baseLanes:P.baseLanes|_,cachePool:null},N.childLanes=m.childLanes&~_,v.memoizedState=k2,T):(_=nR(m,v,T.children,_),v.memoizedState=null,_)}return N?(T=iR(m,v,T.children,T.fallback,_),N=v.child,P=m.child.memoizedState,N.memoizedState=P===null?N2(_):{baseLanes:P.baseLanes|_,cachePool:null},N.childLanes=m.childLanes&~_,v.memoizedState=k2,T):(_=nR(m,v,T.children,_),v.memoizedState=null,_)}function ew(m,v){return v=sy({mode:"visible",children:v},m.mode,0,null),v.return=m,m.child=v}function nR(m,v,_,T){var P=m.child;return m=P.sibling,_=_u(P,{mode:"visible",children:_}),!(v.mode&1)&&(_.lanes=T),_.return=v,_.sibling=null,m!==null&&(T=v.deletions,T===null?(v.deletions=[m],v.flags|=16):T.push(m)),v.child=_}function iR(m,v,_,T,P){var N=v.mode;m=m.child;var le=m.sibling,Ae={mode:"hidden",children:_};return!(N&1)&&v.child!==m?(_=v.child,_.childLanes=0,_.pendingProps=Ae,v.deletions=null):(_=_u(m,Ae),_.subtreeFlags=m.subtreeFlags&14680064),le!==null?T=_u(le,T):(T=Yc(T,N,P,null),T.flags|=2),T.return=v,_.return=v,_.sibling=T,v.child=_,T}function G2(m,v,_,T){return T!==null&&NE(T),wh(v,m.child,null,_),m=ew(v,v.pendingProps.children),m.flags|=2,v.memoizedState=null,m}function rR(m,v,_){m.lanes|=v;var T=m.alternate;T!==null&&(T.lanes|=v),ts(m.return,v,_)}function tw(m,v,_,T,P){var N=m.memoizedState;N===null?m.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:P}:(N.isBackwards=v,N.rendering=null,N.renderingStartTime=0,N.last=T,N.tail=_,N.tailMode=P)}function sR(m,v,_){var T=v.pendingProps,P=T.revealOrder,N=T.tail;if(ns(m,v,T.children,_),T=Ai.current,T&2)T=T&1|2,v.flags|=128;else{if(m!==null&&m.flags&128)e:for(m=v.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&rR(m,_,v);else if(m.tag===19)rR(m,_,v);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===v)break e;for(;m.sibling===null;){if(m.return===null||m.return===v)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}T&=1}if(xt(Ai,T),!(v.mode&1))v.memoizedState=null;else switch(P){case"forwards":for(_=v.child,P=null;_!==null;)m=_.alternate,m!==null&&M2(m)===null&&(P=_),_=_.sibling;_=P,_===null?(P=v.child,v.child=null):(P=_.sibling,_.sibling=null),tw(v,!1,P,_,N);break;case"backwards":for(_=null,P=v.child,v.child=null;P!==null;){if(m=P.alternate,m!==null&&M2(m)===null){v.child=P;break}m=P.sibling,P.sibling=_,_=P,P=m}tw(v,!0,_,null,N);break;case"together":tw(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Tl(m,v,_){if(m!==null&&(v.dependencies=m.dependencies),Mh|=v.lanes,!(_&v.childLanes))return null;if(m!==null&&v.child!==m.child)throw Error(o(153));if(v.child!==null){for(m=v.child,_=_u(m,m.pendingProps),v.child=_,_.return=v;m.sibling!==null;)m=m.sibling,_=_.sibling=_u(m,m.pendingProps),_.return=v;_.sibling=null}return v.child}function AZ(m,v,_){switch(v.tag){case 3:$7(v),Eh();break;case 5:S7(v);break;case 1:kn(v.type)&&bn(v);break;case 4:GE(v,v.stateNode.containerInfo);break;case 10:S2(v,v.type._context,v.memoizedProps.value);break;case 13:var T=v.memoizedState;if(T!==null)return T.dehydrated!==null?(xt(Ai,Ai.current&1),v.flags|=128,null):_&v.child.childLanes?tR(m,v,_):(xt(Ai,Ai.current&1),m=Tl(m,v,_),m!==null?m.sibling:null);xt(Ai,Ai.current&1);break;case 19:if(T=(_&v.childLanes)!==0,m.flags&128){if(T)return sR(m,v,_);v.flags|=128}var P=v.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),xt(Ai,Ai.current),T)break;return null;case 22:case 23:return v.lanes=0,K7(m,v,_)}return Tl(m,v,_)}function yZ(m,v){switch(FE(v),v.tag){case 1:return kn(v.type)&&Kn(),m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 3:return Ch(),Ft(Ht),Ft(Ln),VE(),m=v.flags,m&65536&&!(m&128)?(v.flags=m&-65537|128,v):null;case 5:return zE(v),null;case 13:if(Ft(Ai),m=v.memoizedState,m!==null&&m.dehydrated!==null){if(v.alternate===null)throw Error(o(340));Eh()}return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 19:return Ft(Ai),null;case 4:return Ch(),null;case 10:return pr(v.type._context),null;case 22:case 23:return yw(),null;case 24:return null;default:return null}}var z2=!1,Qc=!1,xZ=typeof WeakSet=="function"?WeakSet:Set,pt=null;function H2(m,v){var _=m.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(T){Ss(m,v,T)}else _.current=null}function nw(m,v,_){try{_()}catch(T){Ss(m,v,T)}}var oR=!1;function SZ(m,v){for(W(m.containerInfo),pt=v;pt!==null;)if(m=pt,v=m.child,(m.subtreeFlags&1028)!==0&&v!==null)v.return=m,pt=v;else for(;pt!==null;){m=pt;try{var _=m.alternate;if(m.flags&1024)switch(m.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,P=_.memoizedState,N=m.stateNode,le=N.getSnapshotBeforeUpdate(m.elementType===m.type?T:es(m.type,T),P);N.__reactInternalSnapshotBeforeUpdate=le}break;case 3:pe&&Ze(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ae){Ss(m,m.return,Ae)}if(v=m.sibling,v!==null){v.return=m.return,pt=v;break}pt=m.return}return _=oR,oR=!1,_}function Wc(m,v,_){var T=v.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var P=T=T.next;do{if((P.tag&m)===m){var N=P.destroy;P.destroy=void 0,N!==void 0&&nw(v,_,N)}P=P.next}while(P!==T)}}function i0(m,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&m)===m){var T=_.create;_.destroy=T()}_=_.next}while(_!==v)}}function iw(m){var v=m.ref;if(v!==null){var _=m.stateNode;switch(m.tag){case 5:m=q(_);break;default:m=_}typeof v=="function"?v(m):v.current=m}}function aR(m,v,_){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(Uc,v)}catch{}switch(v.tag){case 0:case 11:case 14:case 15:if(m=v.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var T=m=m.next;do{var P=T,N=P.destroy;P=P.tag,N!==void 0&&(P&2||P&4)&&nw(v,_,N),T=T.next}while(T!==m)}break;case 1:if(H2(v,_),m=v.stateNode,typeof m.componentWillUnmount=="function")try{m.props=v.memoizedProps,m.state=v.memoizedState,m.componentWillUnmount()}catch(le){Ss(v,_,le)}break;case 5:H2(v,_);break;case 4:pe?dR(m,v,_):Y&&Y&&(v=v.stateNode.containerInfo,_=Jt(v),En(v,_))}}function lR(m,v,_){for(var T=v;;)if(aR(m,T,_),T.child===null||pe&&T.tag===4){if(T===v)break;for(;T.sibling===null;){if(T.return===null||T.return===v)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function uR(m){var v=m.alternate;v!==null&&(m.alternate=null,uR(v)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(v=m.stateNode,v!==null&&Qe(v)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function cR(m){return m.tag===5||m.tag===3||m.tag===4}function fR(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||cR(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function hR(m){if(pe){e:{for(var v=m.return;v!==null;){if(cR(v))break e;v=v.return}throw Error(o(160))}var _=v;switch(_.tag){case 5:v=_.stateNode,_.flags&32&&(rt(v),_.flags&=-33),_=fR(m),sw(m,_,v);break;case 3:case 4:v=_.stateNode.containerInfo,_=fR(m),rw(m,_,v);break;default:throw Error(o(161))}}}function rw(m,v,_){var T=m.tag;if(T===5||T===6)m=m.stateNode,v?Me(_,m,v):$e(_,m);else if(T!==4&&(m=m.child,m!==null))for(rw(m,v,_),m=m.sibling;m!==null;)rw(m,v,_),m=m.sibling}function sw(m,v,_){var T=m.tag;if(T===5||T===6)m=m.stateNode,v?Te(_,m,v):Pe(_,m);else if(T!==4&&(m=m.child,m!==null))for(sw(m,v,_),m=m.sibling;m!==null;)sw(m,v,_),m=m.sibling}function dR(m,v,_){for(var T=v,P=!1,N,le;;){if(!P){P=T.return;e:for(;;){if(P===null)throw Error(o(160));switch(N=P.stateNode,P.tag){case 5:le=!1;break e;case 3:N=N.containerInfo,le=!0;break e;case 4:N=N.containerInfo,le=!0;break e}P=P.return}P=!0}if(T.tag===5||T.tag===6)lR(m,T,_),le?qe(N,T.stateNode):Fe(N,T.stateNode);else if(T.tag===18)le?Le(N,T.stateNode):Be(N,T.stateNode);else if(T.tag===4){if(T.child!==null){N=T.stateNode.containerInfo,le=!0,T.child.return=T,T=T.child;continue}}else if(aR(m,T,_),T.child!==null){T.child.return=T,T=T.child;continue}if(T===v)break;for(;T.sibling===null;){if(T.return===null||T.return===v)return;T=T.return,T.tag===4&&(P=!1)}T.sibling.return=T.return,T=T.sibling}}function ow(m,v){if(pe){switch(v.tag){case 0:case 11:case 14:case 15:Wc(3,v,v.return),i0(3,v),Wc(5,v,v.return);return;case 1:return;case 5:var _=v.stateNode;if(_!=null){var T=v.memoizedProps;m=m!==null?m.memoizedProps:T;var P=v.type,N=v.updateQueue;v.updateQueue=null,N!==null&&ae(_,N,P,m,T,v)}return;case 6:if(v.stateNode===null)throw Error(o(162));_=v.memoizedProps,Ke(v.stateNode,m!==null?m.memoizedProps:_,_);return;case 3:me&&m!==null&&m.memoizedState.isDehydrated&&re(v.stateNode.containerInfo);return;case 12:return;case 13:V2(v);return;case 19:V2(v);return;case 17:return}throw Error(o(163))}switch(v.tag){case 0:case 11:case 14:case 15:Wc(3,v,v.return),i0(3,v),Wc(5,v,v.return);return;case 12:return;case 13:V2(v);return;case 19:V2(v);return;case 3:me&&m!==null&&m.memoizedState.isDehydrated&&re(v.stateNode.containerInfo);break;case 22:case 23:return}e:if(Y){switch(v.tag){case 1:case 5:case 6:break e;case 3:case 4:v=v.stateNode,En(v.containerInfo,v.pendingChildren);break e}throw Error(o(163))}}function V2(m){var v=m.updateQueue;if(v!==null){m.updateQueue=null;var _=m.stateNode;_===null&&(_=m.stateNode=new xZ),v.forEach(function(T){var P=PZ.bind(null,m,T);_.has(T)||(_.add(T),T.then(P,P))})}}function EZ(m,v){for(pt=v;pt!==null;){v=pt;var _=v.deletions;if(_!==null)for(var T=0;T<_.length;T++){var P=_[T];try{var N=m;pe?dR(N,P,v):lR(N,P,v);var le=P.alternate;le!==null&&(le.return=null),P.return=null}catch(It){Ss(P,v,It)}}if(_=v.child,v.subtreeFlags&12854&&_!==null)_.return=v,pt=_;else for(;pt!==null;){v=pt;try{var Ae=v.flags;if(Ae&32&&pe&&rt(v.stateNode),Ae&512){var We=v.alternate;if(We!==null){var st=We.ref;st!==null&&(typeof st=="function"?st(null):st.current=null)}}if(Ae&8192)switch(v.tag){case 13:if(v.memoizedState!==null){var wt=v.alternate;(wt===null||wt.memoizedState===null)&&(dw=vi())}break;case 22:var en=v.memoizedState!==null,kt=v.alternate,Zn=kt!==null&&kt.memoizedState!==null;if(_=v,pe){e:if(T=_,P=en,N=null,pe)for(var Pt=T;;){if(Pt.tag===5){if(N===null){N=Pt;var zr=Pt.stateNode;P?ut(zr):Ce(Pt.stateNode,Pt.memoizedProps)}}else if(Pt.tag===6){if(N===null){var xo=Pt.stateNode;P?ce(xo):be(xo,Pt.memoizedProps)}}else if((Pt.tag!==22&&Pt.tag!==23||Pt.memoizedState===null||Pt===T)&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===T)break;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===T)break e;N===Pt&&(N=null),Pt=Pt.return}N===Pt&&(N=null),Pt.sibling.return=Pt.return,Pt=Pt.sibling}}if(en&&!Zn&&_.mode&1){pt=_;for(var Oe=_.child;Oe!==null;){for(_=pt=Oe;pt!==null;){T=pt;var Ee=T.child;switch(T.tag){case 0:case 11:case 14:case 15:Wc(4,T,T.return);break;case 1:H2(T,T.return);var Ge=T.stateNode;if(typeof Ge.componentWillUnmount=="function"){var mt=T.return;try{Ge.props=T.memoizedProps,Ge.state=T.memoizedState,Ge.componentWillUnmount()}catch(It){Ss(T,mt,It)}}break;case 5:H2(T,T.return);break;case 22:if(T.memoizedState!==null){gR(_);continue}}Ee!==null?(Ee.return=T,pt=Ee):gR(_)}Oe=Oe.sibling}}}switch(Ae&4102){case 2:hR(v),v.flags&=-3;break;case 6:hR(v),v.flags&=-3,ow(v.alternate,v);break;case 4096:v.flags&=-4097;break;case 4100:v.flags&=-4097,ow(v.alternate,v);break;case 4:ow(v.alternate,v)}}catch(It){Ss(v,v.return,It)}if(_=v.sibling,_!==null){_.return=v.return,pt=_;break}pt=v.return}}}function wZ(m,v,_){pt=m,pR(m)}function pR(m,v,_){for(var T=(m.mode&1)!==0;pt!==null;){var P=pt,N=P.child;if(P.tag===22&&T){var le=P.memoizedState!==null||z2;if(!le){var Ae=P.alternate,We=Ae!==null&&Ae.memoizedState!==null||Qc;Ae=z2;var st=Qc;if(z2=le,(Qc=We)&&!st)for(pt=P;pt!==null;)le=pt,We=le.child,le.tag===22&&le.memoizedState!==null?vR(P):We!==null?(We.return=le,pt=We):vR(P);for(;N!==null;)pt=N,pR(N),N=N.sibling;pt=P,z2=Ae,Qc=st}mR(m)}else P.subtreeFlags&8772&&N!==null?(N.return=P,pt=N):mR(m)}}function mR(m){for(;pt!==null;){var v=pt;if(v.flags&8772){var _=v.alternate;try{if(v.flags&8772)switch(v.tag){case 0:case 11:case 15:Qc||i0(5,v);break;case 1:var T=v.stateNode;if(v.flags&4&&!Qc)if(_===null)T.componentDidMount();else{var P=v.elementType===v.type?_.memoizedProps:es(v.type,_.memoizedProps);T.componentDidUpdate(P,_.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var N=v.updateQueue;N!==null&&u7(v,N,T);break;case 3:var le=v.updateQueue;if(le!==null){if(_=null,v.child!==null)switch(v.child.tag){case 5:_=q(v.child.stateNode);break;case 1:_=v.child.stateNode}u7(v,le,_)}break;case 5:var Ae=v.stateNode;_===null&&v.flags&4&&we(Ae,v.type,v.memoizedProps,v);break;case 6:break;case 4:break;case 12:break;case 13:if(me&&v.memoizedState===null){var We=v.alternate;if(We!==null){var st=We.memoizedState;if(st!==null){var wt=st.dehydrated;wt!==null&&ue(wt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Qc||v.flags&512&&iw(v)}catch(en){Ss(v,v.return,en)}}if(v===m){pt=null;break}if(_=v.sibling,_!==null){_.return=v.return,pt=_;break}pt=v.return}}function gR(m){for(;pt!==null;){var v=pt;if(v===m){pt=null;break}var _=v.sibling;if(_!==null){_.return=v.return,pt=_;break}pt=v.return}}function vR(m){for(;pt!==null;){var v=pt;try{switch(v.tag){case 0:case 11:case 15:var _=v.return;try{i0(4,v)}catch(We){Ss(v,_,We)}break;case 1:var T=v.stateNode;if(typeof T.componentDidMount=="function"){var P=v.return;try{T.componentDidMount()}catch(We){Ss(v,P,We)}}var N=v.return;try{iw(v)}catch(We){Ss(v,N,We)}break;case 5:var le=v.return;try{iw(v)}catch(We){Ss(v,le,We)}}}catch(We){Ss(v,v.return,We)}if(v===m){pt=null;break}var Ae=v.sibling;if(Ae!==null){Ae.return=v.return,pt=Ae;break}pt=v.return}}var Q2=0,W2=1,j2=2,q2=3,X2=4;if(typeof Symbol=="function"&&Symbol.for){var r0=Symbol.for;Q2=r0("selector.component"),W2=r0("selector.has_pseudo_class"),j2=r0("selector.role"),q2=r0("selector.test_id"),X2=r0("selector.text")}function aw(m){var v=ge(m);if(v!=null){if(typeof v.memoizedProps["data-testname"]!="string")throw Error(o(364));return v}if(m=De(m),m===null)throw Error(o(362));return m.stateNode.current}function lw(m,v){switch(v.$$typeof){case Q2:if(m.type===v.value)return!0;break;case W2:e:{v=v.value,m=[m,0];for(var _=0;_<m.length;){var T=m[_++],P=m[_++],N=v[P];if(T.tag!==5||!H(T)){for(;N!=null&&lw(T,N);)P++,N=v[P];if(P===v.length){v=!0;break e}else for(T=T.child;T!==null;)m.push(T,P),T=T.sibling}}v=!1}return v;case j2:if(m.tag===5&&fe(m.stateNode,v.value))return!0;break;case X2:if((m.tag===5||m.tag===6)&&(m=te(m),m!==null&&0<=m.indexOf(v.value)))return!0;break;case q2:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===v.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function uw(m){switch(m.$$typeof){case Q2:return"<"+(b(m.value)||"Unknown")+">";case W2:return":has("+(uw(m)||"")+")";case j2:return'[role="'+m.value+'"]';case X2:return'"'+m.value+'"';case q2:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function AR(m,v){var _=[];m=[m,0];for(var T=0;T<m.length;){var P=m[T++],N=m[T++],le=v[N];if(P.tag!==5||!H(P)){for(;le!=null&&lw(P,le);)N++,le=v[N];if(N===v.length)_.push(P);else for(P=P.child;P!==null;)m.push(P,N),P=P.sibling}}return _}function cw(m,v){if(!Ne)throw Error(o(363));m=aw(m),m=AR(m,v),v=[],m=Array.from(m);for(var _=0;_<m.length;){var T=m[_++];if(T.tag===5)H(T)||v.push(T.stateNode);else for(T=T.child;T!==null;)m.push(T),T=T.sibling}return v}var _Z=Math.ceil,Y2=a.ReactCurrentDispatcher,fw=a.ReactCurrentOwner,Gi=a.ReactCurrentBatchConfig,dn=0,Wi=null,ji=null,br=0,Qs=0,Th=ft(0),Zi=0,s0=null,Mh=0,K2=0,hw=0,o0=null,ys=null,dw=0,pw=1/0;function Ih(){pw=vi()+500}var J2=!1,mw=null,xu=null,Z2=!1,Su=null,$2=0,a0=0,gw=null,ey=-1,ty=0;function is(){return dn&6?vi():ey!==-1?ey:ey=vi()}function Eu(m){return m.mode&1?dn&2&&br!==0?br&-br:kc.transition!==null?(ty===0&&(m=Al,Al<<=1,!(Al&4194240)&&(Al=64),ty=m),ty):(m=vn,m!==0?m:Se()):1}function Ao(m,v,_){if(50<a0)throw a0=0,gw=null,Error(o(185));var T=ny(m,v);return T===null?null:(Da(T,v,_),(!(dn&2)||T!==Wi)&&(T===Wi&&(!(dn&2)&&(K2|=v),Zi===4&&wu(T,br)),xs(T,_),v===1&&dn===0&&!(m.mode&1)&&(Ih(),Oa&&As())),T)}function ny(m,v){m.lanes|=v;var _=m.alternate;for(_!==null&&(_.lanes|=v),_=m,m=m.return;m!==null;)m.childLanes|=v,_=m.alternate,_!==null&&(_.childLanes|=v),_=m,m=m.return;return _.tag===3?_.stateNode:null}function xs(m,v){var _=m.callbackNode;kp(m,v);var T=Oc(m,m===Wi?br:0);if(T===0)_!==null&&vh(_),m.callbackNode=null,m.callbackPriority=0;else if(v=T&-T,m.callbackPriority!==v){if(_!=null&&vh(_),v===1)m.tag===0?Qp(xR.bind(null,m)):Vp(xR.bind(null,m)),xe?ke(function(){dn===0&&As()}):El(Fc,As),_=null;else{switch(Np(T)){case 1:_=Fc;break;case 4:_=y2;break;case 16:_=Zr;break;case 536870912:_=zp;break;default:_=Zr}_=IR(_,yR.bind(null,m))}m.callbackPriority=v,m.callbackNode=_}}function yR(m,v){if(ey=-1,ty=0,dn&6)throw Error(o(327));var _=m.callbackNode;if(Xc()&&m.callbackNode!==_)return null;var T=Oc(m,m===Wi?br:0);if(T===0)return null;if(T&30||T&m.expiredLanes||v)v=iy(m,T);else{v=T;var P=dn;dn|=2;var N=wR();(Wi!==m||br!==v)&&(Ih(),jc(m,v));do try{TZ();break}catch(Ae){ER(m,Ae)}while(1);yh(),Y2.current=N,dn=P,ji!==null?v=0:(Wi=null,br=0,v=Zi)}if(v!==0){if(v===2&&(P=Sl(m),P!==0&&(T=P,v=vw(m,P))),v===1)throw _=s0,jc(m,0),wu(m,T),xs(m,vi()),_;if(v===6)wu(m,T);else{if(P=m.current.alternate,!(T&30)&&!CZ(P)&&(v=iy(m,T),v===2&&(N=Sl(m),N!==0&&(T=N,v=vw(m,N))),v===1))throw _=s0,jc(m,0),wu(m,T),xs(m,vi()),_;switch(m.finishedWork=P,m.finishedLanes=T,v){case 0:case 1:throw Error(o(345));case 2:qc(m,ys);break;case 3:if(wu(m,T),(T&130023424)===T&&(v=dw+500-vi(),10<v)){if(Oc(m,0)!==0)break;if(P=m.suspendedLanes,(P&T)!==T){is(),m.pingedLanes|=m.suspendedLanes&P;break}m.timeoutHandle=oe(qc.bind(null,m,ys),v);break}qc(m,ys);break;case 4:if(wu(m,T),(T&4194240)===T)break;for(v=m.eventTimes,P=-1;0<T;){var le=31-ei(T);N=1<<le,le=v[le],le>P&&(P=le),T&=~N}if(T=P,T=vi()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*_Z(T/1960))-T,10<T){m.timeoutHandle=oe(qc.bind(null,m,ys),T);break}qc(m,ys);break;case 5:qc(m,ys);break;default:throw Error(o(329))}}}return xs(m,vi()),m.callbackNode===_?yR.bind(null,m):null}function vw(m,v){var _=o0;return m.current.memoizedState.isDehydrated&&(jc(m,v).flags|=256),m=iy(m,v),m!==2&&(v=ys,ys=_,v!==null&&Aw(v)),m}function Aw(m){ys===null?ys=m:ys.push.apply(ys,m)}function CZ(m){for(var v=m;;){if(v.flags&16384){var _=v.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var T=0;T<_.length;T++){var P=_[T],N=P.getSnapshot;P=P.value;try{if(!Ns(N(),P))return!1}catch{return!1}}}if(_=v.child,v.subtreeFlags&16384&&_!==null)_.return=v,v=_;else{if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function wu(m,v){for(v&=~hw,v&=~K2,m.suspendedLanes|=v,m.pingedLanes&=~v,m=m.expirationTimes;0<v;){var _=31-ei(v),T=1<<_;m[_]=-1,v&=~T}}function xR(m){if(dn&6)throw Error(o(327));Xc();var v=Oc(m,0);if(!(v&1))return xs(m,vi()),null;var _=iy(m,v);if(m.tag!==0&&_===2){var T=Sl(m);T!==0&&(v=T,_=vw(m,T))}if(_===1)throw _=s0,jc(m,0),wu(m,v),xs(m,vi()),_;if(_===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=v,qc(m,ys),xs(m,vi()),null}function SR(m){Su!==null&&Su.tag===0&&!(dn&6)&&Xc();var v=dn;dn|=1;var _=Gi.transition,T=vn;try{if(Gi.transition=null,vn=1,m)return m()}finally{vn=T,Gi.transition=_,dn=v,!(dn&6)&&As()}}function yw(){Qs=Th.current,Ft(Th)}function jc(m,v){m.finishedWork=null,m.finishedLanes=0;var _=m.timeoutHandle;if(_!==_e&&(m.timeoutHandle=_e,ie(_)),ji!==null)for(_=ji.return;_!==null;){var T=_;switch(FE(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Kn();break;case 3:Ch(),Ft(Ht),Ft(Ln),VE();break;case 5:zE(T);break;case 4:Ch();break;case 13:Ft(Ai);break;case 19:Ft(Ai);break;case 10:pr(T.type._context);break;case 22:case 23:yw()}_=_.return}if(Wi=m,ji=m=_u(m.current,null),br=Qs=v,Zi=0,s0=null,hw=K2=Mh=0,ys=o0=null,Gs!==null){for(v=0;v<Gs.length;v++)if(_=Gs[v],T=_.interleaved,T!==null){_.interleaved=null;var P=T.next,N=_.pending;if(N!==null){var le=N.next;N.next=P,T.next=le}_.pending=T}Gs=null}return m}function ER(m,v){do{var _=ji;try{if(yh(),I2.current=O2,R2){for(var T=Ti.memoizedState;T!==null;){var P=T.queue;P!==null&&(P.pending=null),T=T.next}R2=!1}if(bh=0,mr=kr=Ti=null,Kp=!1,Jp=0,fw.current=null,_===null||_.return===null){Zi=1,s0=v,ji=null;break}e:{var N=m,le=_.return,Ae=_,We=v;if(v=br,Ae.flags|=32768,We!==null&&typeof We=="object"&&typeof We.then=="function"){var st=We,wt=Ae,en=wt.tag;if(!(wt.mode&1)&&(en===0||en===11||en===15)){var kt=wt.alternate;kt?(wt.updateQueue=kt.updateQueue,wt.memoizedState=kt.memoizedState,wt.lanes=kt.lanes):(wt.updateQueue=null,wt.memoizedState=null)}var Zn=V7(le);if(Zn!==null){Zn.flags&=-257,Q7(Zn,le,Ae,N,v),Zn.mode&1&&H7(N,st,v),v=Zn,We=st;var Pt=v.updateQueue;if(Pt===null){var zr=new Set;zr.add(We),v.updateQueue=zr}else Pt.add(We);break e}else{if(!(v&1)){H7(N,st,v),xw();break e}We=Error(o(426))}}else if(hi&&Ae.mode&1){var xo=V7(le);if(xo!==null){!(xo.flags&65536)&&(xo.flags|=256),Q7(xo,le,Ae,N,v),NE(We);break e}}N=We,Zi!==4&&(Zi=2),o0===null?o0=[N]:o0.push(N),We=KE(We,Ae),Ae=le;do{switch(Ae.tag){case 3:Ae.flags|=65536,v&=-v,Ae.lanes|=v;var Oe=G7(Ae,We,v);l7(Ae,Oe);break e;case 1:N=We;var Ee=Ae.type,Ge=Ae.stateNode;if(!(Ae.flags&128)&&(typeof Ee.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(xu===null||!xu.has(Ge)))){Ae.flags|=65536,v&=-v,Ae.lanes|=v;var mt=z7(Ae,N,v);l7(Ae,mt);break e}}Ae=Ae.return}while(Ae!==null)}CR(_)}catch(It){v=It,ji===_&&_!==null&&(ji=_=_.return);continue}break}while(1)}function wR(){var m=Y2.current;return Y2.current=O2,m===null?O2:m}function xw(){(Zi===0||Zi===3||Zi===2)&&(Zi=4),Wi===null||!(Mh&268435455)&&!(K2&268435455)||wu(Wi,br)}function iy(m,v){var _=dn;dn|=2;var T=wR();Wi===m&&br===v||jc(m,v);do try{bZ();break}catch(P){ER(m,P)}while(1);if(yh(),dn=_,Y2.current=T,ji!==null)throw Error(o(261));return Wi=null,br=0,Zi}function bZ(){for(;ji!==null;)_R(ji)}function TZ(){for(;ji!==null&&!Gp();)_R(ji)}function _R(m){var v=MR(m.alternate,m,Qs);m.memoizedProps=m.pendingProps,v===null?CR(m):ji=v,fw.current=null}function CR(m){var v=m;do{var _=v.alternate;if(m=v.return,v.flags&32768){if(_=yZ(_,v),_!==null){_.flags&=32767,ji=_;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Zi=6,ji=null;return}}else if(_=gZ(_,v,Qs),_!==null){ji=_;return}if(v=v.sibling,v!==null){ji=v;return}ji=v=m}while(v!==null);Zi===0&&(Zi=5)}function qc(m,v){var _=vn,T=Gi.transition;try{Gi.transition=null,vn=1,MZ(m,v,_)}finally{Gi.transition=T,vn=_}return null}function MZ(m,v,_){do Xc();while(Su!==null);if(dn&6)throw Error(o(327));var T=m.finishedWork,P=m.finishedLanes;if(T===null)return null;if(m.finishedWork=null,m.finishedLanes=0,T===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var N=T.lanes|T.childLanes;if(gu(m,N),m===Wi&&(ji=Wi=null,br=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Z2||(Z2=!0,IR(Zr,function(){return Xc(),null})),N=(T.flags&15990)!==0,T.subtreeFlags&15990||N){N=Gi.transition,Gi.transition=null;var le=vn;vn=1;var Ae=dn;dn|=4,fw.current=null,SZ(m,T),EZ(m,T),V(m.containerInfo),m.current=T,wZ(T),A2(),dn=Ae,vn=le,Gi.transition=N}else m.current=T;if(Z2&&(Z2=!1,Su=m,$2=P),N=m.pendingLanes,N===0&&(xu=null),Hp(T.stateNode),xs(m,vi()),v!==null)for(_=m.onRecoverableError,T=0;T<v.length;T++)_(v[T]);if(J2)throw J2=!1,m=mw,mw=null,m;return $2&1&&m.tag!==0&&Xc(),N=m.pendingLanes,N&1?m===gw?a0++:(a0=0,gw=m):a0=0,As(),null}function Xc(){if(Su!==null){var m=Np($2),v=Gi.transition,_=vn;try{if(Gi.transition=null,vn=16>m?16:m,Su===null)var T=!1;else{if(m=Su,Su=null,$2=0,dn&6)throw Error(o(331));var P=dn;for(dn|=4,pt=m.current;pt!==null;){var N=pt,le=N.child;if(pt.flags&16){var Ae=N.deletions;if(Ae!==null){for(var We=0;We<Ae.length;We++){var st=Ae[We];for(pt=st;pt!==null;){var wt=pt;switch(wt.tag){case 0:case 11:case 15:Wc(8,wt,N)}var en=wt.child;if(en!==null)en.return=wt,pt=en;else for(;pt!==null;){wt=pt;var kt=wt.sibling,Zn=wt.return;if(uR(wt),wt===st){pt=null;break}if(kt!==null){kt.return=Zn,pt=kt;break}pt=Zn}}}var Pt=N.alternate;if(Pt!==null){var zr=Pt.child;if(zr!==null){Pt.child=null;do{var xo=zr.sibling;zr.sibling=null,zr=xo}while(zr!==null)}}pt=N}}if(N.subtreeFlags&2064&&le!==null)le.return=N,pt=le;else e:for(;pt!==null;){if(N=pt,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Wc(9,N,N.return)}var Oe=N.sibling;if(Oe!==null){Oe.return=N.return,pt=Oe;break e}pt=N.return}}var Ee=m.current;for(pt=Ee;pt!==null;){le=pt;var Ge=le.child;if(le.subtreeFlags&2064&&Ge!==null)Ge.return=le,pt=Ge;else e:for(le=Ee;pt!==null;){if(Ae=pt,Ae.flags&2048)try{switch(Ae.tag){case 0:case 11:case 15:i0(9,Ae)}}catch(It){Ss(Ae,Ae.return,It)}if(Ae===le){pt=null;break e}var mt=Ae.sibling;if(mt!==null){mt.return=Ae.return,pt=mt;break e}pt=Ae.return}}if(dn=P,As(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(Uc,m)}catch{}T=!0}return T}finally{vn=_,Gi.transition=v}}return!1}function bR(m,v,_){v=KE(_,v),v=G7(m,v,1),yu(m,v),v=is(),m=ny(m,1),m!==null&&(Da(m,1,v),xs(m,v))}function Ss(m,v,_){if(m.tag===3)bR(m,m,_);else for(;v!==null;){if(v.tag===3){bR(v,m,_);break}else if(v.tag===1){var T=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(xu===null||!xu.has(T))){m=KE(_,m),m=z7(v,m,1),yu(v,m),m=is(),v=ny(v,1),v!==null&&(Da(v,1,m),xs(v,m));break}}v=v.return}}function IZ(m,v,_){var T=m.pingCache;T!==null&&T.delete(v),v=is(),m.pingedLanes|=m.suspendedLanes&_,Wi===m&&(br&_)===_&&(Zi===4||Zi===3&&(br&130023424)===br&&500>vi()-dw?jc(m,0):hw|=_),xs(m,v)}function TR(m,v){v===0&&(m.mode&1?(v=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):v=1);var _=is();m=ny(m,v),m!==null&&(Da(m,v,_),xs(m,_))}function RZ(m){var v=m.memoizedState,_=0;v!==null&&(_=v.retryLane),TR(m,_)}function PZ(m,v){var _=0;switch(m.tag){case 13:var T=m.stateNode,P=m.memoizedState;P!==null&&(_=P.retryLane);break;case 19:T=m.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(v),TR(m,_)}var MR;MR=function(m,v,_){if(m!==null)if(m.memoizedProps!==v.pendingProps||Ht.current)Vs=!0;else{if(!(m.lanes&_)&&!(v.flags&128))return Vs=!1,AZ(m,v,_);Vs=!!(m.flags&131072)}else Vs=!1,hi&&v.flags&1048576&&p7(v,b2,v.index);switch(v.lanes=0,v.tag){case 2:var T=v.type;m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),m=v.pendingProps;var P=gn(v,Ln.current);ki(v,_),P=WE(null,v,T,m,P,_);var N=jE();return v.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,kn(T)?(N=!0,bn(v)):N=!1,v.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,BE(v),P.updater=_2,v.stateNode=P,P._reactInternals=v,LE(v,T,m,_),v=$E(null,v,T,!0,N,_)):(v.tag=0,hi&&N&&OE(v),ns(null,v,P,_),v=v.child),v;case 16:T=v.elementType;e:{switch(m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),m=v.pendingProps,P=T._init,T=P(T._payload),v.type=T,P=v.tag=DZ(T),m=es(T,m),P){case 0:v=ZE(null,v,T,m,_);break e;case 1:v=Z7(null,v,T,m,_);break e;case 11:v=q7(null,v,T,m,_);break e;case 14:v=X7(null,v,T,es(T.type,m),_);break e}throw Error(o(306,T,""))}return v;case 0:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:es(T,P),ZE(m,v,T,P,_);case 1:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:es(T,P),Z7(m,v,T,P,_);case 3:e:{if($7(v),m===null)throw Error(o(387));T=v.pendingProps,N=v.memoizedState,P=N.element,a7(m,v),w2(v,T,null,_);var le=v.memoizedState;if(T=le.element,me&&N.isDehydrated)if(N={element:T,isDehydrated:!1,cache:le.cache,transitions:le.transitions},v.updateQueue.baseState=N,v.memoizedState=N,v.flags&256){P=Error(o(423)),v=eR(m,v,T,_,P);break e}else if(T!==P){P=Error(o(424)),v=eR(m,v,T,_,P);break e}else for(me&&(Hs=bi(v.stateNode.containerInfo),zs=v,hi=!0,Xo=null,Wp=!1),_=x7(v,null,T,_),v.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Eh(),T===P){v=Tl(m,v,_);break e}ns(m,v,T,_)}v=v.child}return v;case 5:return S7(v),m===null&&kE(v),T=v.type,P=v.pendingProps,N=m!==null?m.memoizedProps:null,le=P.children,$(T,P)?le=null:N!==null&&$(T,N)&&(v.flags|=32),J7(m,v),ns(m,v,le,_),v.child;case 6:return m===null&&kE(v),null;case 13:return tR(m,v,_);case 4:return GE(v,v.stateNode.containerInfo),T=v.pendingProps,m===null?v.child=wh(v,null,T,_):ns(m,v,T,_),v.child;case 11:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:es(T,P),q7(m,v,T,P,_);case 7:return ns(m,v,v.pendingProps,_),v.child;case 8:return ns(m,v,v.pendingProps.children,_),v.child;case 12:return ns(m,v,v.pendingProps.children,_),v.child;case 10:e:{if(T=v.type._context,P=v.pendingProps,N=v.memoizedProps,le=P.value,S2(v,T,le),N!==null)if(Ns(N.value,le)){if(N.children===P.children&&!Ht.current){v=Tl(m,v,_);break e}}else for(N=v.child,N!==null&&(N.return=v);N!==null;){var Ae=N.dependencies;if(Ae!==null){le=N.child;for(var We=Ae.firstContext;We!==null;){if(We.context===T){if(N.tag===1){We=wl(-1,_&-_),We.tag=2;var st=N.updateQueue;if(st!==null){st=st.shared;var wt=st.pending;wt===null?We.next=We:(We.next=wt.next,wt.next=We),st.pending=We}}N.lanes|=_,We=N.alternate,We!==null&&(We.lanes|=_),ts(N.return,_,v),Ae.lanes|=_;break}We=We.next}}else if(N.tag===10)le=N.type===v.type?null:N.child;else if(N.tag===18){if(le=N.return,le===null)throw Error(o(341));le.lanes|=_,Ae=le.alternate,Ae!==null&&(Ae.lanes|=_),ts(le,_,v),le=N.sibling}else le=N.child;if(le!==null)le.return=N;else for(le=N;le!==null;){if(le===v){le=null;break}if(N=le.sibling,N!==null){N.return=le.return,le=N;break}le=le.return}N=le}ns(m,v,P.children,_),v=v.child}return v;case 9:return P=v.type,T=v.pendingProps.children,ki(v,_),P=Ni(P),T=T(P),v.flags|=1,ns(m,v,T,_),v.child;case 14:return T=v.type,P=es(T,v.pendingProps),P=es(T.type,P),X7(m,v,T,P,_);case 15:return Y7(m,v,v.type,v.pendingProps,_);case 17:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:es(T,P),m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2),v.tag=1,kn(T)?(m=!0,bn(v)):m=!1,ki(v,_),h7(v,T,P),LE(v,T,P,_),$E(null,v,T,!0,m,_);case 19:return sR(m,v,_);case 22:return K7(m,v,_)}throw Error(o(156,v.tag))};function IR(m,v){return El(m,v)}function BZ(m,v,_,T){this.tag=m,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(m,v,_,T){return new BZ(m,v,_,T)}function Sw(m){return m=m.prototype,!(!m||!m.isReactComponent)}function DZ(m){if(typeof m=="function")return Sw(m)?1:0;if(m!=null){if(m=m.$$typeof,m===y)return 11;if(m===x)return 14}return 2}function _u(m,v){var _=m.alternate;return _===null?(_=yo(m.tag,v,m.key,m.mode),_.elementType=m.elementType,_.type=m.type,_.stateNode=m.stateNode,_.alternate=m,m.alternate=_):(_.pendingProps=v,_.type=m.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=m.flags&14680064,_.childLanes=m.childLanes,_.lanes=m.lanes,_.child=m.child,_.memoizedProps=m.memoizedProps,_.memoizedState=m.memoizedState,_.updateQueue=m.updateQueue,v=m.dependencies,_.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},_.sibling=m.sibling,_.index=m.index,_.ref=m.ref,_}function ry(m,v,_,T,P,N){var le=2;if(T=m,typeof m=="function")Sw(m)&&(le=1);else if(typeof m=="string")le=5;else e:switch(m){case c:return Yc(_.children,P,N,v);case f:le=8,P|=8;break;case h:return m=yo(12,_,v,P|2),m.elementType=h,m.lanes=N,m;case A:return m=yo(13,_,v,P),m.elementType=A,m.lanes=N,m;case g:return m=yo(19,_,v,P),m.elementType=g,m.lanes=N,m;case E:return sy(_,P,N,v);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case d:le=10;break e;case p:le=9;break e;case y:le=11;break e;case x:le=14;break e;case S:le=16,T=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return v=yo(le,_,v,P),v.elementType=m,v.type=T,v.lanes=N,v}function Yc(m,v,_,T){return m=yo(7,m,T,v),m.lanes=_,m}function sy(m,v,_,T){return m=yo(22,m,T,v),m.elementType=E,m.lanes=_,m.stateNode={},m}function Ew(m,v,_){return m=yo(6,m,null,v),m.lanes=_,m}function ww(m,v,_){return v=yo(4,m.children!==null?m.children:[],m.key,v),v.lanes=_,v.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},v}function LZ(m,v,_,T,P){this.tag=v,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gh(0),this.expirationTimes=gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gh(0),this.identifierPrefix=T,this.onRecoverableError=P,me&&(this.mutableSourceEagerHydrationData=null)}function RR(m,v,_,T,P,N,le,Ae,We){return m=new LZ(m,v,_,Ae,We),v===1?(v=1,N===!0&&(v|=8)):v=0,N=yo(3,null,null,v),m.current=N,N.stateNode=m,N.memoizedState={element:T,isDehydrated:_,cache:null,transitions:null},BE(N),m}function PR(m){if(!m)return Qt;m=m._reactInternals;e:{if(M(m)!==m||m.tag!==1)throw Error(o(170));var v=m;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(kn(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(o(171))}if(m.tag===1){var _=m.type;if(kn(_))return Jn(m,_,v)}return v}function BR(m){var v=m._reactInternals;if(v===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=F(v),m===null?null:m.stateNode}function DR(m,v){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var _=m.retryLane;m.retryLane=_!==0&&_<v?_:v}}function _w(m,v){DR(m,v),(m=m.alternate)&&DR(m,v)}function OZ(m){return m=F(m),m===null?null:m.stateNode}function FZ(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var v=is();Ao(m,134217728,v),_w(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var v=is(),_=Eu(m);Ao(m,_,v),_w(m,_)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var v=m.stateNode;if(v.current.memoizedState.isDehydrated){var _=xl(v.pendingLanes);_!==0&&(La(v,_|1),xs(v,vi()),!(dn&6)&&(Ih(),As()))}break;case 13:var T=is();SR(function(){return Ao(m,1,T)}),_w(m,1)}},n.batchedUpdates=function(m,v){var _=dn;dn|=1;try{return m(v)}finally{dn=_,dn===0&&(Ih(),Oa&&As())}},n.createComponentSelector=function(m){return{$$typeof:Q2,value:m}},n.createContainer=function(m,v,_,T,P,N,le){return RR(m,v,!1,null,_,T,P,N,le)},n.createHasPseudoClassSelector=function(m){return{$$typeof:W2,value:m}},n.createHydrationContainer=function(m,v,_,T,P,N,le,Ae,We){return m=RR(_,T,!0,m,P,N,le,Ae,We),m.context=PR(null),_=m.current,T=is(),P=Eu(_),N=wl(T,P),N.callback=v??null,yu(_,N),m.current.lanes=P,Da(m,P,T),xs(m,T),m},n.createPortal=function(m,v,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:m,containerInfo:v,implementation:_}},n.createRoleSelector=function(m){return{$$typeof:j2,value:m}},n.createTestNameSelector=function(m){return{$$typeof:q2,value:m}},n.createTextSelector=function(m){return{$$typeof:X2,value:m}},n.deferredUpdates=function(m){var v=vn,_=Gi.transition;try{return Gi.transition=null,vn=16,m()}finally{vn=v,Gi.transition=_}},n.discreteUpdates=function(m,v,_,T,P){var N=vn,le=Gi.transition;try{return Gi.transition=null,vn=1,m(v,_,T,P)}finally{vn=N,Gi.transition=le,dn===0&&Ih()}},n.findAllNodes=cw,n.findBoundingRects=function(m,v){if(!Ne)throw Error(o(363));v=cw(m,v),m=[];for(var _=0;_<v.length;_++)m.push(tt(v[_]));for(v=m.length-1;0<v;v--){_=m[v];for(var T=_.x,P=T+_.width,N=_.y,le=N+_.height,Ae=v-1;0<=Ae;Ae--)if(v!==Ae){var We=m[Ae],st=We.x,wt=st+We.width,en=We.y,kt=en+We.height;if(T>=st&&N>=en&&P<=wt&&le<=kt){m.splice(v,1);break}else if(T!==st||_.width!==We.width||kt<N||en>le){if(!(N!==en||_.height!==We.height||wt<T||st>P)){st>T&&(We.width+=st-T,We.x=T),wt<P&&(We.width=P-st),m.splice(v,1);break}}else{en>N&&(We.height+=en-N,We.y=N),kt<le&&(We.height=le-en),m.splice(v,1);break}}}return m},n.findHostInstance=BR,n.findHostInstanceWithNoPortals=function(m){return m=D(m),m=m!==null?L(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return BR(m)},n.flushControlled=function(m){var v=dn;dn|=1;var _=Gi.transition,T=vn;try{Gi.transition=null,vn=1,m()}finally{vn=T,Gi.transition=_,dn=v,dn===0&&(Ih(),As())}},n.flushPassiveEffects=Xc,n.flushSync=SR,n.focusWithin=function(m,v){if(!Ne)throw Error(o(363));for(m=aw(m),v=AR(m,v),v=Array.from(v),m=0;m<v.length;){var _=v[m++];if(!H(_)){if(_.tag===5&&je(_.stateNode))return!0;for(_=_.child;_!==null;)v.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return vn},n.getFindAllNodesFailureDescription=function(m,v){if(!Ne)throw Error(o(363));var _=0,T=[];m=[aw(m),0];for(var P=0;P<m.length;){var N=m[P++],le=m[P++],Ae=v[le];if((N.tag!==5||!H(N))&&(lw(N,Ae)&&(T.push(uw(Ae)),le++,le>_&&(_=le)),le<v.length))for(N=N.child;N!==null;)m.push(N,le),N=N.sibling}if(_<v.length){for(m=[];_<v.length;_++)m.push(uw(v[_]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return q(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:OZ,findFiberByHostInstance:m.findFiberByHostInstance||FZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(v.isDisabled||!v.supportsFiber)m=!0;else{try{Uc=v.inject(m),ks=v}catch{}m=!!v.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,v,_,T){if(!Ne)throw Error(o(363));m=cw(m,v);var P=Ue(m,_,T).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(m,v){var _=v._getVersion;_=_(v._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[v,_]:m.mutableSourceEagerHydrationData.push(v,_)},n.runWithPriority=function(m,v){var _=vn;try{return vn=m,v()}finally{vn=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,v,_,T){var P=v.current,N=is(),le=Eu(P);return _=PR(_),v.context===null?v.context=_:v.pendingContext=_,v=wl(N,le),v.payload={element:m},T=T===void 0?null:T,T!==null&&(v.callback=T),yu(P,v),m=Ao(P,le,N),m!==null&&E2(m,P,le),le},n};Fq.exports=qfe;var Xfe=Fq.exports;const Yfe=gA(Xfe),Kfe=t=>typeof t=="object"&&typeof t.then=="function",Df=[];function Nq(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function Gq(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of Df)if(Nq(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Df.indexOf(r);s!==-1&&Df.splice(s,1)},promise:(Kfe(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Df.push(r),!n)throw r.promise}const zq=(t,e,n)=>Gq(t,e,!1,n),Jfe=(t,e,n)=>void Gq(t,e,!0,n),Zfe=t=>{if(t===void 0||t.length===0)Df.splice(0,Df.length);else{const e=Df.find(n=>Nq(t,n.keys,n.equal));e&&e.remove()}},Q9={},Z6=t=>void Object.assign(Q9,t);function $fe(t,e){function n(c,{args:f=[],attach:h,...d},p){let y=`${c[0].toUpperCase()}${c.slice(1)}`,A;if(c==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=d.object;A=ad(g,{type:c,root:p,attach:h,primitive:!0})}else{const g=Q9[y];if(!g)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");A=ad(new g(...f),{type:c,root:p,attach:h,memoizedProps:{args:f}})}return A.__r3f.attach===void 0&&(A instanceof Xt?A.__r3f.attach="geometry":A instanceof Li&&(A.__r3f.attach="material")),y!=="inject"&&G4(A,d),A}function i(c,f){let h=!1;if(f){var d,p;(d=f.__r3f)!=null&&d.attach?N4(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(p=c.__r3f)==null||p.objects.push(f),f.__r3f||ad(f,{}),f.__r3f.parent=c,qb(f),ld(f)}}function r(c,f,h){let d=!1;if(f){var p,y;if((p=f.__r3f)!=null&&p.attach)N4(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const A=c.children.filter(x=>x!==f),g=A.indexOf(h);c.children=[...A.slice(0,g),f,...A.slice(g)],d=!0}d||(y=c.__r3f)==null||y.objects.push(f),f.__r3f||ad(f,{}),f.__r3f.parent=c,qb(f),ld(f)}}function s(c,f,h=!1){c&&[...c].forEach(d=>o(f,d,h))}function o(c,f,h){if(f){var d,p,y;if(f.__r3f&&(f.__r3f.parent=null),(d=c.__r3f)!=null&&d.objects&&(c.__r3f.objects=c.__r3f.objects.filter(E=>E!==f)),(p=f.__r3f)!=null&&p.attach)KD(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var A;c.remove(f),(A=f.__r3f)!=null&&A.root&&ohe(f.__r3f.root,f)}const x=(y=f.__r3f)==null?void 0:y.primitive,S=h===void 0?f.dispose!==null&&!x:h;if(!x){var g;s((g=f.__r3f)==null?void 0:g.objects,f,S),s(f.children,f,S)}delete f.__r3f,S&&f.dispose&&f.type!=="Scene"&&Wb.unstable_scheduleCallback(Wb.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),ld(c)}}function a(c,f,h,d){var p;const y=(p=c.__r3f)==null?void 0:p.parent;if(!y)return;const A=n(f,h,c.__r3f.root);if(c.children){for(const g of c.children)g.__r3f&&i(A,g);c.children=c.children.filter(g=>!g.__r3f)}c.__r3f.objects.forEach(g=>i(A,g)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(y,c),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),i(y,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A),[d,d.alternate].forEach(g=>{g!==null&&(g.stateNode=A,g.ref&&(typeof g.ref=="function"?g.ref(A):g.ref.current=A))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Yfe({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,i(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const d=c.getState().scene;d.__r3f&&r(d,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,d){var p;if(((p=c==null?void 0:c.__r3f)!=null?p:{}).primitive&&d.object&&d.object!==c)return[!0];{const{args:A=[],children:g,...x}=d,{args:S=[],children:E,...w}=h;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((b,I)=>b!==S[I]))return[!0];const C=Xq(c,x,w,!0);return C.changes.length?[!1,C]:null}},commitUpdate(c,[f,h],d,p,y,A){f?a(c,d,y,A):G4(c,h)},commitMount(c,f,h,d){var p;const y=(p=c.__r3f)!=null?p:{};c.raycast&&y.handlers&&y.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>ad(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:d}=(f=c.__r3f)!=null?f:{};h&&d&&KD(d,c,h),c.isObject3D&&(c.visible=!1),ld(c)},unhideInstance(c,f){var h;const{attach:d,parent:p}=(h=c.__r3f)!=null?h:{};d&&p&&N4(p,c,d),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),ld(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Cd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ui.fun(performance.now)?performance.now:ui.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ui.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ui.fun(clearTimeout)?clearTimeout:void 0}),applyProps:G4}}var jD,qD;const k4=t=>"colorSpace"in t||"outputColorSpace"in t,Hq=()=>{var t;return(t=Q9.ColorManagement)!=null?t:null},Vq=t=>t&&t.isOrthographicCamera,ehe=t=>t&&t.hasOwnProperty("current"),Pp=typeof window<"u"&&((jD=window.document)!=null&&jD.createElement||((qD=window.navigator)==null?void 0:qD.product)==="ReactNative")?ee.useLayoutEffect:ee.useEffect;function Qq(t){const e=ee.useRef(t);return Pp(()=>void(e.current=t),[t]),e}function the({set:t}){return Pp(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Wq extends ee.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Wq.getDerivedStateFromError=()=>({error:!0});const jq="__default",XD=new Map,nhe=t=>t&&!!t.memoized&&!!t.changes;function qq(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const b0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},ui={obj:t=>t===Object(t)&&!ui.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ui.str(t)||ui.num(t))return t===e;const s=ui.obj(t);if(s&&i==="reference")return t===e;const o=ui.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!ui.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(ui.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function ihe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function rhe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function ad(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function jb(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const YD=/-\d+$/;function N4(t,e,n){if(ui.str(n)){if(YD.test(n)){const s=n.replace(YD,""),{target:o,key:a}=jb(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=jb(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function KD(t,e,n){var i,r;if(ui.str(n)){const{target:s,key:o}=jb(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function Xq(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},h=Object.entries(r),d=[];if(u){const y=Object.keys(l);for(let A=0;A<y.length;A++)r.hasOwnProperty(y[A])||h.unshift([y[A],jq+"remove"])}h.forEach(([y,A])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&y==="object"||ui.equ(A,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return d.push([y,A,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),d.push([y,A,!1,x]);for(const S in r){const E=r[S];S.startsWith(`${y}-`)&&d.push([S,E,!1,S.split("-")])}});const p={...r};return f.memoizedProps&&f.memoizedProps.args&&(p.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(p.attach=f.memoizedProps.attach),{memoized:p,changes:d}}function G4(t,e){var n,i,r;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:u}=nhe(e)?e:Xq(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let h=0;h<u.length;h++){let[d,p,y,A]=u[h];if(k4(t)){const E="srgb",w="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?E:w):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?E:w)}let g=t,x=g[d];if(A.length&&(x=A.reduce((S,E)=>S[E],t),!(x&&x.set))){const[S,...E]=A.reverse();g=E.reverse().reduce((w,C)=>w[C],t),d=S}if(p===jq+"remove")if(g.constructor){let S=XD.get(g.constructor);S||(S=new g.constructor,XD.set(g.constructor,S)),p=S[d]}else p=0;if(y)p?s.handlers[d]=p:delete s.handlers[d],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Gf)){if(Array.isArray(p))x.fromArray?x.fromArray(p):x.set(...p);else if(x.copy&&p&&p.constructor&&x.constructor===p.constructor)x.copy(p);else if(p!==void 0){const S=x instanceof Je;!S&&x.setScalar?x.setScalar(p):x instanceof Gf&&p instanceof Gf?x.mask=p.mask:x.set(p),!Hq()&&!a.linear&&S&&x.convertSRGBToLinear()}}else if(g[d]=p,g[d]instanceof Vn&&g[d].format===Pn&&g[d].type===_n){const S=g[d];k4(S)&&k4(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}ld(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const h=a.internal.interaction.indexOf(t);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(r=t.__r3f)!=null&&r.parent&&qb(t),t}function ld(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function qb(t){t.onUpdate==null||t.onUpdate(t)}function Yq(t,e){t.manual||(Vq(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function v5(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function she(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Cd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Cd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Cd.ContinuousEventPriority;default:return Cd.DefaultEventPriority}}function Kq(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function ohe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{Kq(n.capturedMap,e,i,r)})}function ahe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function i(l,u){const c=t.getState(),f=new Set,h=[],d=u?u(c.internal.interaction):c.internal.interaction;for(let g=0;g<d.length;g++){const x=b0(d[g]);x&&(x.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function p(g){const x=b0(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var S;x.events.compute==null||x.events.compute(l,x,(S=x.previousRoot)==null?void 0:S.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let y=d.flatMap(p).sort((g,x)=>{const S=b0(g.object),E=b0(x.object);return!S||!E?g.distance-x.distance:E.events.priority-S.events.priority||g.distance-x.distance}).filter(g=>{const x=v5(g);return f.has(x)?!1:(f.add(x),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const g of y){let x=g.object;for(;x;){var A;(A=x.__r3f)!=null&&A.eventCount&&h.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let g of c.internal.capturedMap.get(l.pointerId).values())f.has(v5(g.intersection))||h.push(g.intersection);return h}function r(l,u,c,f){const h=t.getState();if(l.length){const d={stopped:!1};for(const p of l){const y=b0(p.object)||h,{raycaster:A,pointer:g,camera:x,internal:S}=y,E=new j(g.x,g.y,0).unproject(x),w=R=>{var D,F;return(D=(F=S.capturedMap.get(R))==null?void 0:F.has(p.eventObject))!=null?D:!1},C=R=>{const D={intersection:p,target:u.target};S.capturedMap.has(R)?S.capturedMap.get(R).set(p.eventObject,D):S.capturedMap.set(R,new Map([[p.eventObject,D]])),u.target.setPointerCapture(R)},b=R=>{const D=S.capturedMap.get(R);D&&Kq(S.capturedMap,p.eventObject,D,R)};let I={};for(let R in u){let D=u[R];typeof D!="function"&&(I[R]=D)}let M={...p,...I,pointer:g,intersections:l,stopped:d.stopped,delta:c,unprojectedPoint:E,ray:A.ray,camera:x,stopPropagation(){const R="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!R||R.has(p.eventObject))&&(M.stopped=d.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(D=>D.eventObject===p.eventObject))){const D=l.slice(0,l.indexOf(p));s([...D,p])}},target:{hasPointerCapture:w,setPointerCapture:C,releasePointerCapture:b},currentTarget:{hasPointerCapture:w,setPointerCapture:C,releasePointerCapture:b},nativeEvent:u};if(f(M),d.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,d=h==null?void 0:h.handlers;if(u.hovered.delete(v5(c)),h!=null&&h.eventCount){const p={...c,intersections:l};d.onPointerOut==null||d.onPointerOut(p),d.onPointerLeave==null||d.onPointerLeave(p)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const d=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(c,d?n:void 0),g=p?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=A.map(S=>S.eventObject)),p&&!A.length&&g<=2&&(o(c,h.interaction),f&&f(c)),d&&s(A);function x(S){const E=S.eventObject,w=E.__r3f,C=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(d){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const b=v5(S),I=h.hovered.get(b);I?I.stopped&&S.stopPropagation():(h.hovered.set(b,S),C.onPointerOver==null||C.onPointerOver(S),C.onPointerEnter==null||C.onPointerEnter(S))}C.onPointerMove==null||C.onPointerMove(S)}else{const b=C[l];b?(!p||h.initialHits.includes(E))&&(o(c,h.interaction.filter(I=>!h.initialHits.includes(I))),b(S)):p&&h.initialHits.includes(E)&&o(c,h.interaction.filter(I=>!h.initialHits.includes(I)))}}r(A,c,g,x)}}return{handlePointer:a}}const lhe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Jq=t=>!!(t!=null&&t.render),W9=ee.createContext(null),uhe=(t,e)=>{const n=Oq((a,l)=>{const u=new j,c=new j,f=new j;function h(g=l().camera,x=c,S=l().size){const{width:E,height:w,top:C,left:b}=S,I=E/w;x instanceof j?f.copy(x):f.set(...x);const M=g.getWorldPosition(u).distanceTo(f);if(Vq(g))return{width:E/g.zoom,height:w/g.zoom,top:C,left:b,factor:1,distance:M,aspect:I};{const R=g.fov*Math.PI/180,D=2*Math.tan(R/2)*M,F=D*(E/w);return{width:F,height:D,top:C,left:b,factor:E/F,distance:M,aspect:I}}}let d;const p=g=>a(x=>({performance:{...x.performance,current:g}})),y=new he;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new J6,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();d&&clearTimeout(d),g.performance.current!==g.performance.min&&p(g.performance.min),d=setTimeout(()=>p(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,S,E,w)=>{const C=l().camera,b={width:g,height:x,top:E||0,left:w||0,updateStyle:S};a(I=>({size:b,viewport:{...I.viewport,...h(C,c,b)}}))},setDpr:g=>a(x=>{const S=qq(g);return{viewport:{...x.viewport,dpr:S,initialDpr:x.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ee.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,S)=>{const E=l().internal;return E.priority=E.priority+(x>0?1:0),E.subscribers.push({ref:g,priority:x,store:S}),E.subscribers=E.subscribers.sort((w,C)=>w.priority-C.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(x>0?1:0),w.subscribers=w.subscribers.filter(C=>C.ref!==g))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l!==r||u.dpr!==s){var h;r=l,s=u.dpr,Yq(a,l),c.setPixelRatio(u.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,d)}a!==o&&(o=a,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function che(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let A5,Zq=new Set,fhe=new Set,hhe=new Set;const dhe=t=>che(t,Zq);function z4(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function T0(t,e){switch(t){case"before":return z4(Zq,e);case"after":return z4(fhe,e);case"tail":return z4(hhe,e)}}let H4,V4;function Q4(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),H4=e.internal.subscribers,A5=0;A5<H4.length;A5++)V4=H4[A5],V4.ref.current(V4.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function phe(t){let e=!1,n,i,r;function s(l){i=requestAnimationFrame(s),e=!0,n=0,T0("before",l);for(const c of t.values()){var u;r=c.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((u=r.gl.xr)!=null&&u.isPresenting)&&(n+=Q4(l,r))}if(T0("after",l),n===0)return T0("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,u=1){var c;if(!l)return t.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&T0("before",l),c)Q4(l,c,f);else for(const h of t.values())Q4(l,h.store.getState());u&&T0("after",l)}return{loop:s,invalidate:o,advance:a}}function mhe(t){const e=ee.useRef(null);return Pp(()=>void(e.current=t.current.__r3f),[t]),e}function j9(){const t=ee.useContext(W9);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function cn(t=n=>n,e){return j9()(t,e)}function Qo(t,e=0){const n=j9(),i=n.getState().internal.subscribe,r=Qq(t);return Pp(()=>i(r,e,n),[e,i,n]),null}const JD=new WeakMap;function $q(t,e){return function(n,...i){let r=JD.get(n);return r||(r=new n,JD.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,ihe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function ch(t,e,n,i){const r=Array.isArray(e)?e:[e],s=zq($q(n,i),[t,...r],{equal:ui.equ});return Array.isArray(e)?s:s[0]}ch.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return Jfe($q(n),[t,...i])};ch.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Zfe([t,...n])};const up=new Map,{invalidate:ZD,advance:$D}=phe(up),{reconciler:rA,applyProps:Wu}=$fe(up,she),$h={objects:"shallow",strict:!1},ghe=(t,e)=>{const n=typeof t=="function"?t(e):t;return Jq(n)?n:new g9({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function vhe(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Ahe(t){const e=up.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||uhe(ZD,$D),o=n||rA.createContainer(s,Cd.ConcurrentRoot,null,!1,null,"",r,null);e||up.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:d,events:p,onCreated:y,shadows:A=!1,linear:g=!1,flat:x=!1,legacy:S=!1,orthographic:E=!1,frameloop:w="always",dpr:C=[1,2],performance:b,raycaster:I,camera:M,onPointerMissed:R}=c,D=s.getState(),F=D.gl;D.gl||D.set({gl:F=ghe(f,t)});let O=D.raycaster;O||D.set({raycaster:O=new V9});const{params:L,...U}=I||{};if(ui.equ(U,O,$h)||Wu(O,{...U}),ui.equ(L,O.params,$h)||Wu(O,{params:{...O.params,...L}}),!D.camera||D.camera===u&&!ui.equ(u,M,$h)){u=M;const z=M instanceof bp,ne=z?M:E?new fa(0,0,0,0,.1,1e3):new Qn(75,0,.1,1e3);z||(ne.position.z=5,M&&Wu(ne,M),!D.camera&&!(M!=null&&M.rotation)&&ne.lookAt(0,0,0)),D.set({camera:ne})}if(!D.scene){let z;d instanceof iu?z=d:(z=new iu,d&&Wu(z,d)),D.set({scene:ad(z)})}if(!D.xr){var q;const z=($,X)=>{const oe=s.getState();oe.frameloop!=="never"&&$D($,!0,oe,X)},ne=()=>{const $=s.getState();$.gl.xr.enabled=$.gl.xr.isPresenting,$.gl.xr.setAnimationLoop($.gl.xr.isPresenting?z:null),$.gl.xr.isPresenting||ZD($)},J={connect(){const $=s.getState().gl;$.xr.addEventListener("sessionstart",ne),$.xr.addEventListener("sessionend",ne)},disconnect(){const $=s.getState().gl;$.xr.removeEventListener("sessionstart",ne),$.xr.removeEventListener("sessionend",ne)}};typeof((q=F.xr)==null?void 0:q.addEventListener)=="function"&&J.connect(),D.set({xr:J})}if(F.shadowMap){const z=F.shadowMap.enabled,ne=F.shadowMap.type;if(F.shadowMap.enabled=!!A,ui.boo(A))F.shadowMap.type=n3;else if(ui.str(A)){var K;const J={basic:tj,percentage:v6,soft:n3,variance:ia};F.shadowMap.type=(K=J[A])!=null?K:n3}else ui.obj(A)&&Object.assign(F.shadowMap,A);(z!==F.shadowMap.enabled||ne!==F.shadowMap.type)&&(F.shadowMap.needsUpdate=!0)}const k=Hq();k&&("enabled"in k?k.enabled=!S:"legacyMode"in k&&(k.legacyMode=S)),Wu(F,{outputEncoding:g?3e3:3001,toneMapping:x?Do:t9}),D.legacy!==S&&D.set(()=>({legacy:S})),D.linear!==g&&D.set(()=>({linear:g})),D.flat!==x&&D.set(()=>({flat:x})),f&&!ui.fun(f)&&!Jq(f)&&!ui.equ(f,F,$h)&&Wu(F,f),p&&!D.events.handlers&&D.set({events:p(s)});const G=vhe(t,h);return ui.equ(G,D.size,$h)||D.setSize(G.width,G.height,G.updateStyle,G.top,G.left),C&&D.viewport.dpr!==qq(C)&&D.setDpr(C),D.frameloop!==w&&D.setFrameloop(w),D.onPointerMissed||D.set({onPointerMissed:R}),b&&!ui.equ(b,D.performance,$h)&&D.set(z=>({performance:{...z.performance,...b}})),a=y,l=!0,this},render(c){return l||this.configure(),rA.updateContainer(ee.createElement(yhe,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){eX(t)}}}function yhe({store:t,children:e,onCreated:n,rootElement:i}){return Pp(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ee.createElement(W9.Provider,{value:t},e)}function eX(t,e){const n=up.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),rA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),rhe(r),up.delete(t),e&&e(t)}catch{}},500)})}}function q9(t,e,n){return ee.createElement(xhe,{key:e.uuid,children:t,container:e,state:n})}function xhe({state:t={},children:e,container:n}){const{events:i,size:r,...s}=t,o=j9(),[a]=ee.useState(()=>new V9),[l]=ee.useState(()=>new he),u=ee.useCallback((f,h)=>{const d={...f};Object.keys(f).forEach(y=>{(lhe.includes(y)||f[y]!==h[y]&&h[y])&&delete d[y]});let p;if(h&&r){const y=h.camera;p=f.viewport.getCurrentViewport(y,new j,r),y!==f.camera&&Yq(y,r)}return{...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...h==null?void 0:h.events,...i},size:{...f.size,...r},viewport:{...f.viewport,...p},...s}},[t]),[c]=ee.useState(()=>{const f=o.getState();return Oq((d,p)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...i},size:{...f.size,...r},...s,set:d,get:p,setEvents:y=>d(A=>({...A,events:{...A.events,...y}}))}))});return ee.useEffect(()=>{const f=o.subscribe(h=>c.setState(d=>u(h,d)));return()=>{f(),c.destroy()}},[]),ee.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),ee.createElement(ee.Fragment,null,rA.createPortal(ee.createElement(W9.Provider,{value:c},e),c,null))}rA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ee.version});function Yi(){return Yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yi.apply(this,arguments)}function Xb(t,e,n){var i,r,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=t.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}Xb.debounce=Xb;var She=Xb;const eL=gA(She);function Ehe(t){let{debounce:e,scroll:n,polyfill:i,offsetSize:r}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=ee.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ee.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=ee.useRef(!1);ee.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,d,p]=ee.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:S,top:E,width:w,height:C,bottom:b,right:I,x:M,y:R}=l.current.element.getBoundingClientRect(),D={left:S,top:E,width:w,height:C,bottom:b,right:I,x:M,y:R};l.current.element instanceof HTMLElement&&r&&(D.height=l.current.element.offsetHeight,D.width=l.current.element.offsetWidth),Object.freeze(D),f.current&&!bhe(l.current.lastBounds,D)&&a(l.current.lastBounds=D)};return[x,c?eL(x,c):x,u?eL(x,u):x]},[a,r,u,c]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function A(){l.current.element&&(l.current.resizeObserver=new s(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",p,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(y(),l.current.element=x,l.current.scrollContainers=tX(x),A())};return _he(p,!!n),whe(d),ee.useEffect(()=>{y(),A()},[n,p,d]),ee.useEffect(()=>y,[]),[g,o,h]}function whe(t){ee.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function _he(t,e){ee.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function tX(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...tX(t.parentElement)]}const Che=["x","y","top","bottom","left","right","width","height"],bhe=(t,e)=>Che.every(n=>t[n]===e[n]);var The=Object.defineProperty,Mhe=Object.defineProperties,Ihe=Object.getOwnPropertyDescriptors,tL=Object.getOwnPropertySymbols,Rhe=Object.prototype.hasOwnProperty,Phe=Object.prototype.propertyIsEnumerable,nL=(t,e,n)=>e in t?The(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iL=(t,e)=>{for(var n in e||(e={}))Rhe.call(e,n)&&nL(t,n,e[n]);if(tL)for(var n of tL(e))Phe.call(e,n)&&nL(t,n,e[n]);return t},Bhe=(t,e)=>Mhe(t,Ihe(e));function nX(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=nX(i,e,n);if(r)return r;i=e?null:i.sibling}}function iX(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const X9=iX(ee.createContext(null));class rX extends ee.Component{render(){return ee.createElement(X9.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:rL,ReactCurrentDispatcher:sL}=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Dhe(){const t=ee.useContext(X9);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ee.useId();return ee.useMemo(()=>{for(const i of[rL==null?void 0:rL.current,t,t==null?void 0:t.alternate]){if(!i)continue;const r=nX(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function Lhe(){var t,e;const n=Dhe(),[i]=ee.useState(()=>new Map);i.clear();let r=n;for(;r;){const s=(t=r.type)==null?void 0:t._context;s&&s!==X9&&!i.has(s)&&i.set(s,(e=sL==null?void 0:sL.current)==null?void 0:e.readContext(iX(s))),r=r.return}return i}function Ohe(){const t=Lhe();return ee.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>ee.createElement(e,null,ee.createElement(n.Provider,Bhe(iL({},i),{value:t.get(n)}))),e=>ee.createElement(rX,iL({},e))),[t])}const W4={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Fhe(t){const{handlePointer:e}=ahe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(W4).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=W4[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=W4[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const Uhe=ee.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=Fhe,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:p,dpr:y,performance:A,raycaster:g,camera:x,scene:S,onPointerMissed:E,onCreated:w,...C},b){ee.useMemo(()=>Z6(Dq),[]);const I=Ohe(),[M,R]=Ehe({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=ee.useRef(null),F=ee.useRef(null);ee.useImperativeHandle(b,()=>D.current);const O=Qq(E),[L,U]=ee.useState(!1),[q,K]=ee.useState(!1);if(L)throw L;if(q)throw q;const k=ee.useRef(null);Pp(()=>{const V=D.current;R.width>0&&R.height>0&&V&&(k.current||(k.current=Ahe(V)),k.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:p,dpr:y,performance:A,raycaster:g,camera:x,scene:S,size:R,onPointerMissed:(...G)=>O.current==null?void 0:O.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?ehe(a)?a.current:a:F.current),l&&G.setEvents({compute:(z,ne)=>{const J=z[l+"X"],$=z[l+"Y"];ne.pointer.set(J/ne.size.width*2-1,-($/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)}}),w==null||w(G)}}),k.current.render(ee.createElement(I,null,ee.createElement(Wq,{set:K},ee.createElement(ee.Suspense,{fallback:ee.createElement(the,{set:U})},e)))))}),ee.useEffect(()=>{const V=D.current;if(V)return()=>eX(V)},[]);const W=a?"none":"auto";return ee.createElement("div",Yi({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...r}},C),ee.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},ee.createElement("canvas",{ref:D,style:{display:"block"}},n)))}),QA=ee.forwardRef(function(e,n){return ee.createElement(rX,null,ee.createElement(Uhe,Yi({},e,{ref:n})))});function khe(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function l3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Nhe(t,e){if(t){if(typeof t=="string")return Yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(t,e)}}function Ghe(t){if(Array.isArray(t))return Yb(t)}function zhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vhe(t){return Ghe(t)||zhe(t)||Nhe(t)||Hhe()}new he;new he;function Qhe(t,e,n){return Math.max(e,Math.min(n,t))}function Whe(t,e){return Qhe(t-Math.floor(t/e)*e,0,e)}function jhe(t,e){var n=Whe(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function sX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Eo=function t(e,n,i){var r=this;sX(this,t),l3(this,"dot2",function(s,o){return r.x*s+r.y*o}),l3(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=n,this.z=i},qhe=[new Eo(1,1,0),new Eo(-1,1,0),new Eo(1,-1,0),new Eo(-1,-1,0),new Eo(1,0,1),new Eo(-1,0,1),new Eo(1,0,-1),new Eo(-1,0,-1),new Eo(0,1,1),new Eo(0,-1,1),new Eo(0,1,-1),new Eo(0,-1,-1)],oL=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],aL=new Array(512),lL=new Array(512),Xhe=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=oL[n]^e&255:i=oL[n]^e>>8&255,aL[n]=aL[n+256]=i,lL[n]=lL[n+256]=qhe[i%12]}};Xhe(0);function Yhe(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function uL(t){var e=Yhe(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var Khe=function t(e){var n=this;sX(this,t),l3(this,"seed",0),l3(this,"init",function(i){n.seed=i,n.value=uL(i)}),l3(this,"value",uL(this.seed)),this.init(e)};new Khe(Math.random());var Jhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*r)/n)},oX=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function sr(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:oX,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;i=Math.max(1e-4,i);var u=2/i,c=o(u*r),f=t[e]-n,h=n,d=s*i;f=Math.min(Math.max(f,-d),d),n=t[e]-f;var p=(t.__damp[l]+u*f)*r;t.__damp[l]=(t.__damp[l]-u*p)*c;var y=n+(f+p)*c;return h-t[e]>0==y>h&&(y=h,t.__damp[l]=(y-h)/r),t[e]=y,!0}function Gd(t,e,n,i,r,s,o,a){return sr(t,e,t[e]+jhe(t[e],n),i,r,s,o,a)}var M0=new he,cL,fL;function Zhe(t,e,n,i,r,s,o){return typeof e=="number"?M0.setScalar(e):Array.isArray(e)?M0.set(e[0],e[1]):M0.copy(e),cL=sr(t,"x",M0.x,n,i,r,s,o),fL=sr(t,"y",M0.y,n,i,r,s,o),cL||fL}var ed=new j,hL,dL,pL;function Kb(t,e,n,i,r,s,o){return typeof e=="number"?ed.setScalar(e):Array.isArray(e)?ed.set(e[0],e[1],e[2]):ed.copy(e),hL=sr(t,"x",ed.x,n,i,r,s,o),dL=sr(t,"y",ed.y,n,i,r,s,o),pL=sr(t,"z",ed.z,n,i,r,s,o),hL||dL||pL}var af=new qt,mL,gL,vL,AL;function $he(t,e,n,i,r,s,o){return typeof e=="number"?af.setScalar(e):Array.isArray(e)?af.set(e[0],e[1],e[2],e[3]):af.copy(e),mL=sr(t,"x",af.x,n,i,r,s,o),gL=sr(t,"y",af.y,n,i,r,s,o),vL=sr(t,"z",af.z,n,i,r,s,o),AL=sr(t,"w",af.w,n,i,r,s,o),mL||gL||vL||AL}var I0=new Cp,yL,xL,SL;function ede(t,e,n,i,r,s,o){return Array.isArray(e)?I0.set(e[0],e[1],e[2],e[3]):I0.copy(e),yL=Gd(t,"x",I0.x,n,i,r,s,o),xL=Gd(t,"y",I0.y,n,i,r,s,o),SL=Gd(t,"z",I0.z,n,i,r,s,o),yL||xL||SL}var td=new Je,EL,wL,_L;function tde(t,e,n,i,r,s,o){return e instanceof Je?td.copy(e):Array.isArray(e)?td.setRGB(e[0],e[1],e[2]):td.set(e),EL=sr(t,"r",td.r,n,i,r,s,o),wL=sr(t,"g",td.g,n,i,r,s,o),_L=sr(t,"b",td.b,n,i,r,s,o),EL||wL||_L}var $o=new mi,Ol=new qt,CL=new qt,R0=new qt,bL,TL,ML,IL;function aX(t,e,n,i,r,s,o){var a=t;Array.isArray(e)?$o.set(e[0],e[1],e[2],e[3]):$o.copy(e);var l=t.dot($o)>0?1:-1;return $o.x*=l,$o.y*=l,$o.z*=l,$o.w*=l,bL=sr(t,"x",$o.x,n,i,r,s,o),TL=sr(t,"y",$o.y,n,i,r,s,o),ML=sr(t,"z",$o.z,n,i,r,s,o),IL=sr(t,"w",$o.w,n,i,r,s,o),Ol.set(t.x,t.y,t.z,t.w).normalize(),CL.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),R0.copy(Ol).multiplyScalar(CL.dot(Ol)/Ol.dot(Ol)),a.__damp.velocity_x-=R0.x,a.__damp.velocity_y-=R0.y,a.__damp.velocity_z-=R0.z,a.__damp.velocity_w-=R0.w,t.set(Ol.x,Ol.y,Ol.z,Ol.w),bL||TL||ML||IL}var P0=new fS,RL,PL,BL;function nde(t,e,n,i,r,s,o){return Array.isArray(e)?P0.set(e[0],e[1],e[2]):P0.copy(e),RL=sr(t,"radius",P0.radius,n,i,r,s,o),PL=Gd(t,"phi",P0.phi,n,i,r,s,o),BL=Gd(t,"theta",P0.theta,n,i,r,s,o),RL||PL||BL}var y5=new it,DL=new j,LL=new mi,OL=new j,FL,UL,kL;function ide(t,e,n,i,r,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new j,rotation:new mi,scale:new j},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?y5.set.apply(y5,Vhe(e)):y5.copy(e),y5.decompose(DL,LL,OL),FL=Kb(a.__damp.position,DL,n,i,r,s,o),UL=aX(a.__damp.rotation,LL,n,i,r,s,o),kL=Kb(a.__damp.scale,OL,n,i,r,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),FL||UL||kL}var lX=Object.freeze({__proto__:null,rsqw:Jhe,exp:oX,damp:sr,dampAngle:Gd,damp2:Zhe,damp3:Kb,damp4:$he,dampE:ede,dampC:tde,dampQ:aX,dampS:nde,dampM:ide});let Y9=jA();const Bn=t=>WA(t,Y9);let K9=jA();Bn.write=t=>WA(t,K9);let $6=jA();Bn.onStart=t=>WA(t,$6);let J9=jA();Bn.onFrame=t=>WA(t,J9);let Z9=jA();Bn.onFinish=t=>WA(t,Z9);let zd=[];Bn.setTimeout=(t,e)=>{let n=Bn.now()+e,i=()=>{let s=zd.findIndex(o=>o.cancel==i);~s&&zd.splice(s,1),$u-=~s?1:0},r={time:n,handler:t,cancel:i};return zd.splice(uX(n),0,r),$u+=1,cX(),r};let uX=t=>~(~zd.findIndex(e=>e.time>t)||~zd.length);Bn.cancel=t=>{$6.delete(t),J9.delete(t),Z9.delete(t),Y9.delete(t),K9.delete(t)};Bn.sync=t=>{Jb=!0,Bn.batchedUpdates(t),Jb=!1};Bn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function i(...r){e=r,Bn.onStart(n)}return i.handler=t,i.cancel=()=>{$6.delete(n),e=null},i};let $9=typeof window<"u"?window.requestAnimationFrame:()=>{};Bn.use=t=>$9=t;Bn.now=typeof performance<"u"?()=>performance.now():Date.now;Bn.batchedUpdates=t=>t();Bn.catch=console.error;Bn.frameLoop="always";Bn.advance=()=>{Bn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):hX()};let Zu=-1,$u=0,Jb=!1;function WA(t,e){Jb?(e.delete(t),t(0)):(e.add(t),cX())}function cX(){Zu<0&&(Zu=0,Bn.frameLoop!=="demand"&&$9(fX))}function rde(){Zu=-1}function fX(){~Zu&&($9(fX),Bn.batchedUpdates(hX))}function hX(){let t=Zu;Zu=Bn.now();let e=uX(Zu);if(e&&(dX(zd.splice(0,e),n=>n.handler()),$u-=e),!$u){rde();return}$6.flush(),Y9.flush(t?Math.min(64,Zu-t):16.667),J9.flush(),K9.flush(),Z9.flush()}function jA(){let t=new Set,e=t;return{add(n){$u+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return $u-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,$u-=e.size,dX(e,i=>i(n)&&t.add(i)),$u+=t.size,e=t)}}}function dX(t,e){t.forEach(n=>{try{e(n)}catch(i){Bn.catch(i)}})}function sde(){}const ode=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Oi={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function ade(t,e){if(Oi.arr(t)){if(!Oi.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const Yl=(t,e)=>t.forEach(e);function Zb(t,e,n){if(Oi.arr(t)){for(let i=0;i<t.length;i++)e.call(n,t[i],`${i}`);return}for(const i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i)}const x5=t=>Oi.und(t)?[]:Oi.arr(t)?t:[t],eI=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let tI,pX,dc=null,mX=!1,nI=sde;const lde=t=>{t.to&&(pX=t.to),t.now&&(Bn.now=t.now),t.colors!==void 0&&(dc=t.colors),t.skipAnimation!=null&&(mX=t.skipAnimation),t.createStringInterpolator&&(tI=t.createStringInterpolator),t.requestAnimationFrame&&Bn.use(t.requestAnimationFrame),t.batchedUpdates&&(Bn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(nI=t.willAdvance),t.frameLoop&&(Bn.frameLoop=t.frameLoop)};var sA=Object.freeze({__proto__:null,get createStringInterpolator(){return tI},get to(){return pX},get colors(){return dc},get skipAnimation(){return mX},get willAdvance(){return nI},assign:lde});const u3=new Set;let Io=[],j4=[],hS=0;const iI={get idle(){return!u3.size&&!Io.length},start(t){hS>t.priority?(u3.add(t),Bn.onStart(ude)):(gX(t),Bn($b))},advance:$b,sort(t){if(hS)Bn.onFrame(()=>iI.sort(t));else{const e=Io.indexOf(t);~e&&(Io.splice(e,1),vX(t))}},clear(){Io=[],u3.clear()}};function ude(){u3.forEach(gX),u3.clear(),Bn($b)}function gX(t){Io.includes(t)||vX(t)}function vX(t){Io.splice(cde(Io,e=>e.priority>t.priority),0,t)}function $b(t){const e=j4;for(let n=0;n<Io.length;n++){const i=Io[n];hS=i.priority,i.idle||(nI(i),i.advance(t),i.idle||e.push(i))}return hS=0,j4=Io,j4.length=0,Io=e,Io.length>0}function cde(t,e){const n=t.findIndex(e);return n<0?t.length:n}const fde=(t,e,n)=>Math.min(Math.max(n,t),e),hde={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},la="[-+]?\\d*\\.?\\d+",dS=la+"%";function eE(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const dde=new RegExp("rgb"+eE(la,la,la)),pde=new RegExp("rgba"+eE(la,la,la,la)),mde=new RegExp("hsl"+eE(la,dS,dS)),gde=new RegExp("hsla"+eE(la,dS,dS,la)),vde=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ade=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,yde=/^#([0-9a-fA-F]{6})$/,xde=/^#([0-9a-fA-F]{8})$/;function Sde(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=yde.exec(t))?parseInt(e[1]+"ff",16)>>>0:dc&&dc[t]!==void 0?dc[t]:(e=dde.exec(t))?(nd(e[1])<<24|nd(e[2])<<16|nd(e[3])<<8|255)>>>0:(e=pde.exec(t))?(nd(e[1])<<24|nd(e[2])<<16|nd(e[3])<<8|zL(e[4]))>>>0:(e=vde.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=xde.exec(t))?parseInt(e[1],16)>>>0:(e=Ade.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=mde.exec(t))?(NL(GL(e[1]),S5(e[2]),S5(e[3]))|255)>>>0:(e=gde.exec(t))?(NL(GL(e[1]),S5(e[2]),S5(e[3]))|zL(e[4]))>>>0:null}function q4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function NL(t,e,n){const i=n<.5?n*(1+e):n+e-n*e,r=2*n-i,s=q4(r,i,t+1/3),o=q4(r,i,t),a=q4(r,i,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function nd(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function GL(t){return(parseFloat(t)%360+360)%360/360}function zL(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function S5(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function HL(t){let e=Sde(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${i}, ${r}, ${s})`}const oA=(t,e,n)=>{if(Oi.fun(t))return t;if(Oi.arr(t))return oA({range:t,output:e,extrapolate:n});if(Oi.str(t.output[0]))return tI(t);const i=t,r=i.output,s=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(u=>u);return u=>{const c=wde(u,s);return Ede(u,s[c],s[c+1],r[c],r[c+1],l,o,a,i.map)}};function Ede(t,e,n,i,r,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return i===r?i:e===n?t<=e?i:r:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),i===-1/0?u=-u:r===1/0?u=u+i:u=u*(r-i)+i,u)}function wde(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}const _de=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const i=n*t,r=e==="end"?Math.floor(i):Math.ceil(i);return fde(0,1,r/t)},pS=1.70158,E5=pS*1.525,VL=pS+1,QL=2*Math.PI/3,WL=2*Math.PI/4.5,w5=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Cde={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>VL*t*t*t-pS*t*t,easeOutBack:t=>1+VL*Math.pow(t-1,3)+pS*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((E5+1)*2*t-E5)/2:(Math.pow(2*t-2,2)*((E5+1)*(t*2-2)+E5)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*QL),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*QL)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*WL))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*WL)/2+1,easeInBounce:t=>1-w5(1-t),easeOutBounce:w5,easeInOutBounce:t=>t<.5?(1-w5(1-2*t))/2:(1+w5(2*t-1))/2,steps:_de};function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},eT.apply(this,arguments)}const cp=Symbol.for("FluidValue.get"),fp=Symbol.for("FluidValue.observers"),mS=t=>!!(t&&t[cp]),gS=t=>t&&t[cp]?t[cp]():t;function bde(t,e){t.eventObserved?t.eventObserved(e):t(e)}function tT(t,e){let n=t[fp];n&&n.forEach(i=>{bde(i,e)})}class Tde{constructor(e){if(this[cp]=void 0,this[fp]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Mde(this,e)}}const Mde=(t,e)=>yX(t,cp,e);function AX(t,e){if(t[cp]){let n=t[fp];n||yX(t,fp,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function nT(t,e){let n=t[fp];if(n&&n.has(e)){const i=n.size-1;i?n.delete(e):t[fp]=null,t.observerRemoved&&t.observerRemoved(i,e)}}const yX=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),vx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ide=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,jL=new RegExp(`(${vx.source})(%|[a-z]+)`,"i"),Rde=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,tE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,xX=t=>{const[e,n]=Pde(t);if(!e||eI())return t;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(n&&n.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(n);return r||t}else{if(n&&tE.test(n))return xX(n);if(n)return n}return t},Pde=t=>{const e=tE.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]};let X4;const Bde=(t,e,n,i,r)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(i)}, ${r})`,SX=t=>{X4||(X4=dc?new RegExp(`(${Object.keys(dc).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>gS(s).replace(tE,xX).replace(Ide,HL).replace(X4,HL)),n=e.map(s=>s.match(vx).map(Number)),r=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>oA(eT({},t,{output:s})));return s=>{var o;const a=!jL.test(e[0])&&((o=e.find(u=>jL.test(u)))==null?void 0:o.replace(vx,""));let l=0;return e[0].replace(vx,()=>`${r[l++](s)}${a||""}`).replace(Rde,Bde)}},EX="react-spring: ",wX=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${EX}once requires a function parameter`);return(...i)=>{n||(e(...i),n=!0)}},Dde=wX(console.warn);function Lde(){Dde(`${EX}The "interpolate" function is deprecated in v9 (use "to" instead)`)}wX(console.warn);function _X(t){return Oi.str(t)&&(t[0]=="#"||/\d/.test(t)||!eI()&&tE.test(t)||t in(dc||{}))}const CX=eI()?ee.useEffect:ee.useLayoutEffect,Ode=()=>{const t=ee.useRef(!1);return CX(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Fde(){const t=ee.useState()[1],e=Ode();return()=>{e.current&&t(Math.random())}}function Ude(t,e){const[n]=ee.useState(()=>({inputs:e,result:t()})),i=ee.useRef(),r=i.current;let s=r;return s?e&&s.inputs&&kde(e,s.inputs)||(s={inputs:e,result:t()}):s=n,ee.useEffect(()=>{i.current=s,r==n&&(n.inputs=n.result=void 0)},[s]),s.result}function kde(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const Nde=t=>ee.useEffect(t,Gde),Gde=[],aA=Symbol.for("Animated:node"),zde=t=>!!t&&t[aA]===t,rI=t=>t&&t[aA],bX=(t,e)=>ode(t,aA,e),sI=t=>t&&t[aA]&&t[aA].getPayload();class TX{constructor(){this.payload=void 0,bX(this,this)}getPayload(){return this.payload||[]}}class qA extends TX{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,Oi.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new qA(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return Oi.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Oi.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class nE extends qA{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=oA({output:[e,e]})}static create(e){return new nE(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Oi.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=oA({output:[this.getValue(),e]})),this._value=0,super.reset()}}const vS={dependencies:null};class oI extends TX{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return Zb(this.source,(i,r)=>{zde(i)?n[r]=i.getValue(e):mS(i)?n[r]=gS(i):e||(n[r]=i)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Yl(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return Zb(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){vS.dependencies&&mS(e)&&vS.dependencies.add(e);const n=sI(e);n&&Yl(n,i=>this.add(i))}}class aI extends oI{constructor(e){super(e)}static create(e){return new aI(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((i,r)=>i.setValue(e[r])).some(Boolean):(super.setValue(e.map(Hde)),!0)}}function Hde(t){return(_X(t)?nE:qA).create(t)}function Vde(t){const e=rI(t);return e?e.constructor:Oi.arr(t)?aI:_X(t)?nE:qA}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},AS.apply(this,arguments)}const qL=(t,e)=>{const n=!Oi.fun(t)||t.prototype&&t.prototype.isReactComponent;return ee.forwardRef((i,r)=>{const s=ee.useRef(null),o=n&&ee.useCallback(p=>{s.current=jde(r,p)},[r]),[a,l]=Wde(i,e),u=Fde(),c=()=>{const p=s.current;if(n&&!p)return;(p?e.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&u()},f=new Qde(c,l),h=ee.useRef();CX(()=>(h.current=f,Yl(l,p=>AX(p,f)),()=>{h.current&&(Yl(h.current.deps,p=>nT(p,h.current)),Bn.cancel(h.current.update))})),ee.useEffect(c,[]),Nde(()=>()=>{const p=h.current;Yl(p.deps,y=>nT(y,p))});const d=e.getComponentProps(a.getValue());return ee.createElement(t,AS({},d,{ref:o}))})};class Qde{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){e.type=="change"&&Bn.write(this.update)}}function Wde(t,e){const n=new Set;return vS.dependencies=n,t.style&&(t=AS({},t,{style:e.createAnimatedStyle(t.style)})),t=new oI(t),vS.dependencies=null,[t,n]}function jde(t,e){return t&&(Oi.fun(t)?t(e):t.current=e),e}const XL=Symbol.for("AnimatedComponent"),qde=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=r=>new oI(r),getComponentProps:i=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:i},s=o=>{const a=YL(o)||"Anonymous";return Oi.str(o)?o=s[o]||(s[o]=qL(o,r)):o=o[XL]||(o[XL]=qL(o,r)),o.displayName=`Animated(${a})`,o};return Zb(t,(o,a)=>{Oi.arr(t)&&(a=YL(o)),s[a]=s(o)}),{animated:s}},YL=t=>Oi.str(t)?t:t&&Oi.str(t.displayName)?t.displayName:Oi.fun(t)&&t.name||null;function iT(){return iT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iT.apply(this,arguments)}const Xde={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};iT({},Xde.default,{mass:1,damping:1,easing:Cde.linear,clamp:!1});const KL=t=>t instanceof MX;let Yde=1;class MX extends Tde{constructor(...e){super(...e),this.id=Yde++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=rI(this);return e&&e.getValue()}to(...e){return sA.to(this,e)}interpolate(...e){return Lde(),sA.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){tT(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||iI.sort(this),tT(this,{type:"priority",parent:this,priority:e})}}function Kde(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}const Jde=["children"],lI=t=>{let{children:e}=t,n=Kde(t,Jde);const i=ee.useContext(yS),r=n.pause||!!i.pause,s=n.immediate||!!i.immediate;n=Ude(()=>({pause:r,immediate:s}),[r,s]);const{Provider:o}=yS;return ee.createElement(o,{value:n},e)},yS=Zde(lI,{});lI.Provider=yS.Provider;lI.Consumer=yS.Consumer;function Zde(t,e){return Object.assign(t,ee.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}let JL;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(JL||(JL={}));class $de extends MX{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=oA(...n);const i=this._get(),r=Vde(i);bX(this,r.create(i))}advance(e){const n=this._get(),i=this.get();ade(n,i)||(rI(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&ZL(this._active)&&Y4(this)}_get(){const e=Oi.arr(this.source)?this.source.map(gS):x5(gS(this.source));return this.calc(...e)}_start(){this.idle&&!ZL(this._active)&&(this.idle=!1,Yl(sI(this),e=>{e.done=!1}),sA.skipAnimation?(Bn.batchedUpdates(()=>this.advance()),Y4(this)):iI.start(this))}_attach(){let e=1;Yl(x5(this.source),n=>{mS(n)&&AX(n,this),KL(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){Yl(x5(this.source),e=>{mS(e)&&nT(e,this)}),this._active.clear(),Y4(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=x5(this.source).reduce((n,i)=>Math.max(n,(KL(i)?i.priority:0)+1),0))}}function epe(t){return t.idle!==!1}function ZL(t){return!t.size||Array.from(t).every(epe)}function Y4(t){t.idle||(t.idle=!0,Yl(sI(t),e=>{e.done=!0}),tT(t,{type:"idle",parent:t}))}sA.assign({createStringInterpolator:SX,to:(t,e)=>new $de(t,e)});const tpe=["primitive"].concat(Object.keys(Dq).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));sA.assign({createStringInterpolator:SX,colors:hde,frameLoop:"demand"});dhe(()=>{Bn.advance()});qde(tpe,{applyAnimatedValues:Wu});var Ro=Uint8Array,ec=Uint16Array,rT=Uint32Array,IX=new Ro([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),RX=new Ro([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),npe=new Ro([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PX=function(t,e){for(var n=new ec(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new rT(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return[n,r]},BX=PX(IX,2),DX=BX[0],ipe=BX[1];DX[28]=258,ipe[258]=28;var rpe=PX(RX,0),spe=rpe[0],sT=new ec(32768);for(var ci=0;ci<32768;++ci){var Lu=(ci&43690)>>>1|(ci&21845)<<1;Lu=(Lu&52428)>>>2|(Lu&13107)<<2,Lu=(Lu&61680)>>>4|(Lu&3855)<<4,sT[ci]=((Lu&65280)>>>8|(Lu&255)<<8)>>>1}var c3=function(t,e,n){for(var i=t.length,r=0,s=new ec(e);r<i;++r)++s[t[r]-1];var o=new ec(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(n){a=new ec(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var u=r<<4|t[r],c=e-t[r],f=o[t[r]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)a[sT[f]>>>l]=u}else for(a=new ec(i),r=0;r<i;++r)t[r]&&(a[r]=sT[o[t[r]-1]++]>>>15-t[r]);return a},XA=new Ro(288);for(var ci=0;ci<144;++ci)XA[ci]=8;for(var ci=144;ci<256;++ci)XA[ci]=9;for(var ci=256;ci<280;++ci)XA[ci]=7;for(var ci=280;ci<288;++ci)XA[ci]=8;var LX=new Ro(32);for(var ci=0;ci<32;++ci)LX[ci]=5;var ope=c3(XA,9,1),ape=c3(LX,5,1),K4=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ea=function(t,e,n){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&n},J4=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},lpe=function(t){return(t/8|0)+(t&7&&1)},upe=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof ec?ec:t instanceof rT?rT:Ro)(n-e);return i.set(t.subarray(e,n)),i},cpe=function(t,e,n){var i=t.length;if(!i||n&&!n.l&&i<5)return e||new Ro(0);var r=!e||n,s=!n||n.i;n||(n={}),e||(e=new Ro(i*3));var o=function(X){var oe=e.length;if(X>oe){var ie=new Ro(Math.max(oe*2,X));ie.set(e),e=ie}},a=n.f||0,l=n.p||0,u=n.b||0,c=n.l,f=n.d,h=n.m,d=n.n,p=i*8;do{if(!c){n.f=a=ea(t,l,1);var y=ea(t,l+1,3);if(l+=3,y)if(y==1)c=ope,f=ape,h=9,d=5;else if(y==2){var S=ea(t,l,31)+257,E=ea(t,l+10,15)+4,w=S+ea(t,l+5,31)+1;l+=14;for(var C=new Ro(w),b=new Ro(19),I=0;I<E;++I)b[npe[I]]=ea(t,l+I*3,7);l+=E*3;for(var M=K4(b),R=(1<<M)-1,D=c3(b,M,1),I=0;I<w;){var F=D[ea(t,l,R)];l+=F&15;var A=F>>>4;if(A<16)C[I++]=A;else{var O=0,L=0;for(A==16?(L=3+ea(t,l,3),l+=2,O=C[I-1]):A==17?(L=3+ea(t,l,7),l+=3):A==18&&(L=11+ea(t,l,127),l+=7);L--;)C[I++]=O}}var U=C.subarray(0,S),q=C.subarray(S);h=K4(U),d=K4(q),c=c3(U,h,1),f=c3(q,d,1)}else throw"invalid block type";else{var A=lpe(l)+4,g=t[A-4]|t[A-3]<<8,x=A+g;if(x>i){if(s)throw"unexpected EOF";break}r&&o(u+g),e.set(t.subarray(A,x),u),n.b=u+=g,n.p=l=x*8;continue}if(l>p){if(s)throw"unexpected EOF";break}}r&&o(u+131072);for(var K=(1<<h)-1,k=(1<<d)-1,W=l;;W=l){var O=c[J4(t,l)&K],V=O>>>4;if(l+=O&15,l>p){if(s)throw"unexpected EOF";break}if(!O)throw"invalid length/literal";if(V<256)e[u++]=V;else if(V==256){W=l,c=null;break}else{var G=V-254;if(V>264){var I=V-257,z=IX[I];G=ea(t,l,(1<<z)-1)+DX[I],l+=z}var ne=f[J4(t,l)&k],J=ne>>>4;if(!ne)throw"invalid distance";l+=ne&15;var q=spe[J];if(J>3){var z=RX[J];q+=J4(t,l)&(1<<z)-1,l+=z}if(l>p){if(s)throw"unexpected EOF";break}r&&o(u+131072);for(var $=u+G;u<$;u+=4)e[u]=e[u-q],e[u+1]=e[u+1-q],e[u+2]=e[u+2-q],e[u+3]=e[u+3-q];u=$}}n.l=c,n.p=W,n.b=u,c&&(a=1,n.m=h,n.d=f,n.n=d)}while(!a);return u==e.length?e:upe(e,0,u)},fpe=new Ro(0),hpe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function _5(t,e){return cpe((hpe(t),t.subarray(2,-4)),e)}var dpe=typeof TextDecoder<"u"&&new TextDecoder,ppe=0;try{dpe.decode(fpe,{stream:!0}),ppe=1}catch{}function uI(){}uI.prototype.s2u=function(t){for(var e=this.s2uTable,n="",i=0;i<t.length;){var r=t[i++];if(!(r>=0&&r<=126||r>=161&&r<=223)&&i<t.length&&(r=r<<8|t[i++]),e[r]===void 0)return console.error("unknown char code "+r+"."),n;n+=String.fromCharCode(e[r])}return n};uI.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function $L(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new uI}$L.prototype={constructor:$L,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var i=[],r=0;r<e;r++)i.push(this.getIndex(t,n));return i},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function eO(){}eO.prototype={constructor:eO,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],i=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=i}};const OX=0,mpe=2,gpe=0,vpe=0,Ape=2,ype=0,xpe=0,Spe=1,oT=2,Epe=1,wpe=64,FX=0,UX=9,cI=15,kX=16,fI=22,NX=37,hI=43,GX=76,zX=83,HX=97,VX=100,QX=103,WX=109;class _pe{constructor(){this.vkFormat=FX,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=OX,this.levels=[],this.dataFormatDescriptor=[{vendorId:vpe,descriptorType:gpe,descriptorBlockSize:0,versionNumber:Ape,colorModel:ype,colorPrimaries:Epe,transferFunction:oT,flags:xpe,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class B0{constructor(e,n,i,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+n,i),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),n=this._dataView.getUint32(this._offset+4,this._littleEndian),i=e+2**32*n;return this._offset+=8,i}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const i=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==n&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,r)}}const ss=[171,75,84,88,32,50,48,187,13,10,26,10];function tO(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function Cpe(t){const e=new Uint8Array(t.buffer,t.byteOffset,ss.length);if(e[0]!==ss[0]||e[1]!==ss[1]||e[2]!==ss[2]||e[3]!==ss[3]||e[4]!==ss[4]||e[5]!==ss[5]||e[6]!==ss[6]||e[7]!==ss[7]||e[8]!==ss[8]||e[9]!==ss[9]||e[10]!==ss[10]||e[11]!==ss[11])throw new Error("Missing KTX 2.0 identifier.");const n=new _pe,i=17*Uint32Array.BYTES_PER_ELEMENT,r=new B0(t,ss.length,i,!0);n.vkFormat=r._nextUint32(),n.typeSize=r._nextUint32(),n.pixelWidth=r._nextUint32(),n.pixelHeight=r._nextUint32(),n.pixelDepth=r._nextUint32(),n.layerCount=r._nextUint32(),n.faceCount=r._nextUint32();const s=r._nextUint32();n.supercompressionScheme=r._nextUint32();const o=r._nextUint32(),a=r._nextUint32(),l=r._nextUint32(),u=r._nextUint32(),c=r._nextUint64(),f=r._nextUint64(),h=s*3*8,d=new B0(t,ss.length+i,h,!0);for(let V=0;V<s;V++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});const p=new B0(t,o,a,!0),y={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},A=6,g=4,x=(y.descriptorBlockSize/4-A)/g;for(let V=0;V<x;V++){const G={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelType:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};G.channelType&wpe?(G.sampleLower=p._nextInt32(),G.sampleUpper=p._nextInt32()):(G.sampleLower=p._nextUint32(),G.sampleUpper=p._nextUint32()),y.samples[V]=G}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(y);const S=new B0(t,l,u,!0);for(;S._offset<u;){const V=S._nextUint32(),G=S._scan(V),z=tO(G),ne=S._scan(V-G.byteLength);n.keyValue[z]=z.match(/^ktx/i)?tO(ne):ne,S._offset%4&&S._skip(4-S._offset%4)}if(f<=0)return n;const E=new B0(t,c,f,!0),w=E._nextUint16(),C=E._nextUint16(),b=E._nextUint32(),I=E._nextUint32(),M=E._nextUint32(),R=E._nextUint32(),D=[];for(let V=0;V<s;V++)D.push({imageFlags:E._nextUint32(),rgbSliceByteOffset:E._nextUint32(),rgbSliceByteLength:E._nextUint32(),alphaSliceByteOffset:E._nextUint32(),alphaSliceByteLength:E._nextUint32()});const F=c+E._offset,O=F+b,L=O+I,U=L+M,q=new Uint8Array(t.buffer,t.byteOffset+F,b),K=new Uint8Array(t.buffer,t.byteOffset+O,I),k=new Uint8Array(t.buffer,t.byteOffset+L,M),W=new Uint8Array(t.buffer,t.byteOffset+U,R);return n.globalData={endpointCount:w,selectorCount:C,imageDescs:D,endpointsData:q,selectorsData:K,tablesData:k,extendedData:W},n}let Z4,kl,aT;const $4={env:{emscripten_notify_memory_growth:function(t){aT=new Uint8Array(kl.exports.memory.buffer)}}};class bpe{init(){return Z4||(Z4=typeof fetch<"u"?fetch("data:application/wasm;base64,"+nO).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,$4)).then(this._init):WebAssembly.instantiate(Buffer.from(nO,"base64"),$4).then(this._init),Z4)}_init(e){kl=e.instance,$4.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!kl)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,r=kl.exports.malloc(i);aT.set(e,r),n=n||Number(kl.exports.ZSTD_findDecompressedSize(r,i));const s=kl.exports.malloc(n),o=kl.exports.ZSTD_decompress(s,n,r,i),a=aT.slice(s,s+o);return kl.exports.free(r),kl.exports.free(s),a}}const nO="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},i=Object.defineProperty,r=i(n,n,n)&&i}catch{}return r}(),e=function(n){if(this==null)throw TypeError();var i=String(this),r=i.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=r)){var o=i.charCodeAt(s),a;return o>=55296&&o<=56319&&r>s+1&&(a=i.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function jX(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var Tpe=new jX,Mpe=new jX,qX=new Uint8Array(30),XX=new Uint16Array(30),Ipe=new Uint8Array(30),Rpe=new Uint16Array(30);function YX(t,e,n,i){var r,s;for(r=0;r<n;++r)t[r]=0;for(r=0;r<30-n;++r)t[r+n]=r/n|0;for(s=i,r=0;r<30;++r)e[r]=s,s+=1<<t[r]}function Ppe(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}Ppe(Tpe,Mpe);YX(qX,XX,4,3);YX(Ipe,Rpe,2,1);qX[28]=0;XX[28]=258;function id(t,e,n,i,r){return Math.pow(1-r,3)*t+3*Math.pow(1-r,2)*r*e+3*(1-r)*Math.pow(r,2)*n+Math.pow(r,3)*i}function Rc(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Rc.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Rc.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Rc.prototype.addX=function(t){this.addPoint(t,null)};Rc.prototype.addY=function(t){this.addPoint(null,t)};Rc.prototype.addBezier=function(t,e,n,i,r,s,o,a){var l=[t,e],u=[n,i],c=[r,s],f=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var h=0;h<=1;h++){var d=6*l[h]-12*u[h]+6*c[h],p=-3*l[h]+9*u[h]-9*c[h]+3*f[h],y=3*u[h]-3*l[h];if(p===0){if(d===0)continue;var A=-y/d;0<A&&A<1&&(h===0&&this.addX(id(l[h],u[h],c[h],f[h],A)),h===1&&this.addY(id(l[h],u[h],c[h],f[h],A)));continue}var g=Math.pow(d,2)-4*y*p;if(!(g<0)){var x=(-d+Math.sqrt(g))/(2*p);0<x&&x<1&&(h===0&&this.addX(id(l[h],u[h],c[h],f[h],x)),h===1&&this.addY(id(l[h],u[h],c[h],f[h],x)));var S=(-d-Math.sqrt(g))/(2*p);0<S&&S<1&&(h===0&&this.addX(id(l[h],u[h],c[h],f[h],S)),h===1&&this.addY(id(l[h],u[h],c[h],f[h],S)))}}};Rc.prototype.addQuad=function(t,e,n,i,r,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(i-e),l=o+1/3*(r-t),u=a+1/3*(s-e);this.addBezier(t,e,o,a,l,u,r,s)};function cr(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}cr.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};cr.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};cr.prototype.curveTo=cr.prototype.bezierCurveTo=function(t,e,n,i,r,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:i,x:r,y:s})};cr.prototype.quadTo=cr.prototype.quadraticCurveTo=function(t,e,n,i){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:i})};cr.prototype.close=cr.prototype.closePath=function(){this.commands.push({type:"Z"})};cr.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Rc){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};cr.prototype.getBoundingBox=function(){for(var t=new Rc,e=0,n=0,i=0,r=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=i=o.x,n=r=o.y;break;case"L":t.addPoint(o.x,o.y),i=o.x,r=o.y;break;case"Q":t.addQuad(i,r,o.x1,o.y1,o.x,o.y),i=o.x,r=o.y;break;case"C":t.addBezier(i,r,o.x1,o.y1,o.x2,o.y2,o.x,o.y),i=o.x,r=o.y;break;case"Z":i=e,r=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};cr.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};cr.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var u=o[l];u>=0&&l>0&&(a+=" "),a+=e(u)}return a}for(var i="",r=0;r<this.commands.length;r+=1){var s=this.commands[r];s.type==="M"?i+="M"+n(s.x,s.y):s.type==="L"?i+="L"+n(s.x,s.y):s.type==="C"?i+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?i+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(i+="Z")}return i};cr.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};cr.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function KX(t){throw new Error(t)}function iO(t,e){t||KX(e)}var $t={fail:KX,argument:iO,assert:iO},rO=32768,sO=2147483648,hp={},dt={},Kt={};function Ca(t){return function(){return t}}dt.BYTE=function(t){return $t.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};Kt.BYTE=Ca(1);dt.CHAR=function(t){return[t.charCodeAt(0)]};Kt.CHAR=Ca(1);dt.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};Kt.CHARARRAY=function(t){return typeof t>"u"?0:t.length};dt.USHORT=function(t){return[t>>8&255,t&255]};Kt.USHORT=Ca(2);dt.SHORT=function(t){return t>=rO&&(t=-(2*rO-t)),[t>>8&255,t&255]};Kt.SHORT=Ca(2);dt.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};Kt.UINT24=Ca(3);dt.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};Kt.ULONG=Ca(4);dt.LONG=function(t){return t>=sO&&(t=-(2*sO-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};Kt.LONG=Ca(4);dt.FIXED=dt.ULONG;Kt.FIXED=Kt.ULONG;dt.FWORD=dt.SHORT;Kt.FWORD=Kt.SHORT;dt.UFWORD=dt.USHORT;Kt.UFWORD=Kt.USHORT;dt.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};Kt.LONGDATETIME=Ca(8);dt.TAG=function(t){return $t.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};Kt.TAG=Ca(4);dt.Card8=dt.BYTE;Kt.Card8=Kt.BYTE;dt.Card16=dt.USHORT;Kt.Card16=Kt.USHORT;dt.OffSize=dt.BYTE;Kt.OffSize=Kt.BYTE;dt.SID=dt.USHORT;Kt.SID=Kt.USHORT;dt.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?dt.NUMBER16(t):dt.NUMBER32(t)};Kt.NUMBER=function(t){return dt.NUMBER(t).length};dt.NUMBER16=function(t){return[28,t>>8&255,t&255]};Kt.NUMBER16=Ca(3);dt.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};Kt.NUMBER32=Ca(5);dt.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var i=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*i)/i).toString()}for(var r="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?r+=e[++s]==="-"?"c":"b":a==="."?r+="a":a==="-"?r+="e":r+=a}r+=r.length&1?"f":"ff";for(var l=[30],u=0,c=r.length;u<c;u+=2)l.push(parseInt(r.substr(u,2),16));return l};Kt.REAL=function(t){return dt.REAL(t).length};dt.NAME=dt.CHARARRAY;Kt.NAME=Kt.CHARARRAY;dt.STRING=dt.CHARARRAY;Kt.STRING=Kt.CHARARRAY;hp.UTF8=function(t,e,n){for(var i=[],r=n,s=0;s<r;s++,e+=1)i[s]=t.getUint8(e);return String.fromCharCode.apply(null,i)};hp.UTF16=function(t,e,n){for(var i=[],r=n/2,s=0;s<r;s++,e+=2)i[s]=t.getUint16(e);return String.fromCharCode.apply(null,i)};dt.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e[e.length]=i>>8&255,e[e.length]=i&255}return e};Kt.UTF16=function(t){return t.length*2};var lT={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};hp.MACSTRING=function(t,e,n,i){var r=lT[i];if(r!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=r[a&127]}return s}};var C5=typeof WeakMap=="function"&&new WeakMap,b5,Bpe=function(t){if(!b5){b5={};for(var e in lT)b5[e]=new String(e)}var n=b5[t];if(n!==void 0){if(C5){var i=C5.get(n);if(i!==void 0)return i}var r=lT[t];if(r!==void 0){for(var s={},o=0;o<r.length;o++)s[r.charCodeAt(o)]=o+128;return C5&&C5.set(n,s),s}}};dt.MACSTRING=function(t,e){var n=Bpe(e);if(n!==void 0){for(var i=[],r=0;r<t.length;r++){var s=t.charCodeAt(r);if(s>=128&&(s=n[s],s===void 0))return;i[r]=s}return i}};Kt.MACSTRING=function(t,e){var n=dt.MACSTRING(t,e);return n!==void 0?n.length:0};function uT(t){return t>=-128&&t<=127}function Dpe(t,e,n){for(var i=0,r=t.length;e<r&&i<64&&t[e]===0;)++e,++i;return n.push(128|i-1),e}function Lpe(t,e,n){for(var i=0,r=t.length,s=e;s<r&&i<64;){var o=t[s];if(!uT(o)||o===0&&s+1<r&&t[s+1]===0)break;++s,++i}n.push(i-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function Ope(t,e,n){for(var i=0,r=t.length,s=e;s<r&&i<64;){var o=t[s];if(o===0||uT(o)&&s+1<r&&uT(t[s+1]))break;++s,++i}n.push(64|i-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}dt.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var i=t[e];i===0?e=Dpe(t,e,n):i>=-128&&i<=127?e=Lpe(t,e,n):e=Ope(t,e,n)}return n};dt.INDEX=function(t){for(var e=1,n=[e],i=[],r=0;r<t.length;r+=1){var s=dt.OBJECT(t[r]);Array.prototype.push.apply(i,s),e+=s.length,n.push(e)}if(i.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,dt.BYTE,dt.USHORT,dt.UINT24,dt.ULONG][a],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(o,c)}return Array.prototype.concat(dt.Card16(t.length),dt.OffSize(a),o,i)};Kt.INDEX=function(t){return dt.INDEX(t).length};dt.DICT=function(t){for(var e=[],n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var s=parseInt(n[r],0),o=t[s];e=e.concat(dt.OPERAND(o.value,o.type)),e=e.concat(dt.OPERATOR(s))}return e};Kt.DICT=function(t){return dt.DICT(t).length};dt.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};dt.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=1)$t.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(dt.OPERAND(t[i],e[i]));else if(e==="SID")n=n.concat(dt.NUMBER(t));else if(e==="offset")n=n.concat(dt.NUMBER32(t));else if(e==="number")n=n.concat(dt.NUMBER(t));else if(e==="real")n=n.concat(dt.REAL(t));else throw new Error("Unknown operand type "+e);return n};dt.OP=dt.BYTE;Kt.OP=Kt.BYTE;var T5=typeof WeakMap=="function"&&new WeakMap;dt.CHARSTRING=function(t){if(T5){var e=T5.get(t);if(e!==void 0)return e}for(var n=[],i=t.length,r=0;r<i;r+=1){var s=t[r];n=n.concat(dt[s.type](s.value))}return T5&&T5.set(t,n),n};Kt.CHARSTRING=function(t){return dt.CHARSTRING(t).length};dt.OBJECT=function(t){var e=dt[t.type];return $t.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};Kt.OBJECT=function(t){var e=Kt[t.type];return $t.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};dt.TABLE=function(t){for(var e=[],n=t.fields.length,i=[],r=[],s=0;s<n;s+=1){var o=t.fields[s],a=dt[o.type];$t.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var u=a(l);o.type==="TABLE"?(r.push(e.length),e=e.concat([0,0]),i.push(u)):e=e.concat(u)}for(var c=0;c<i.length;c+=1){var f=r[c],h=e.length;$t.argument(h<65536,"Table "+t.tableName+" too big."),e[f]=h>>8,e[f+1]=h&255,e=e.concat(i[c])}return e};Kt.TABLE=function(t){for(var e=0,n=t.fields.length,i=0;i<n;i+=1){var r=t.fields[i],s=Kt[r.type];$t.argument(s!==void 0,"No sizeOf function for field type "+r.type+" ("+r.name+")");var o=t[r.name];o===void 0&&(o=r.value),e+=s(o),r.type==="TABLE"&&(e+=2)}return e};dt.RECORD=dt.TABLE;Kt.RECORD=Kt.TABLE;dt.LITERAL=function(t){return t};Kt.LITERAL=function(t){return t.length};function Sr(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var i=0;i<e.length;i+=1){var r=e[i];this[r.name]=r.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}Sr.prototype.encode=function(){return dt.TABLE(this)};Sr.prototype.sizeOf=function(){return Kt.TABLE(this)};function lA(t,e,n){n===void 0&&(n=e.length);var i=new Array(e.length+1);i[0]={name:t+"Count",type:"USHORT",value:n};for(var r=0;r<e.length;r++)i[r+1]={name:t+r,type:"USHORT",value:e[r]};return i}function cT(t,e,n){var i=e.length,r=new Array(i+1);r[0]={name:t+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return r}function uA(t,e,n){var i=e.length,r=[];r[0]={name:t+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r=r.concat(n(e[s],s));return r}function xS(t){t.format===1?Sr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(lA("glyph",t.glyphs))):t.format===2?Sr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(uA("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):$t.assert(!1,"Coverage format must be 1 or 2.")}xS.prototype=Object.create(Sr.prototype);xS.prototype.constructor=xS;function SS(t){Sr.call(this,"scriptListTable",uA("scriptRecord",t,function(e,n){var i=e.script,r=i.defaultLangSys;return $t.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Sr("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Sr("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(lA("featureIndex",r.featureIndexes)))}].concat(uA("langSys",i.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new Sr("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(lA("featureIndex",a.featureIndexes)))}]})))}]}))}SS.prototype=Object.create(Sr.prototype);SS.prototype.constructor=SS;function ES(t){Sr.call(this,"featureListTable",uA("featureRecord",t,function(e,n){var i=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Sr("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat(lA("lookupListIndex",i.lookupListIndexes)))}]}))}ES.prototype=Object.create(Sr.prototype);ES.prototype.constructor=ES;function wS(t,e){Sr.call(this,"lookupListTable",cT("lookup",t,function(n){var i=e[n.lookupType];return $t.assert(!!i,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Sr("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(cT("subtable",n.subtables,i)))}))}wS.prototype=Object.create(Sr.prototype);wS.prototype.constructor=wS;var Ct={Table:Sr,Record:Sr,Coverage:xS,ScriptList:SS,FeatureList:ES,LookupList:wS,ushortList:lA,tableList:cT,recordList:uA};function oO(t,e){return t.getUint8(e)}function _S(t,e){return t.getUint16(e,!1)}function Fpe(t,e){return t.getInt16(e,!1)}function dI(t,e){return t.getUint32(e,!1)}function JX(t,e){var n=t.getInt16(e,!1),i=t.getUint16(e+2,!1);return n+i/65535}function Upe(t,e){for(var n="",i=e;i<e+4;i+=1)n+=String.fromCharCode(t.getInt8(i));return n}function kpe(t,e,n){for(var i=0,r=0;r<n;r+=1)i<<=8,i+=t.getUint8(e+r);return i}function Npe(t,e,n){for(var i=[],r=e;r<n;r+=1)i.push(t.getUint8(r));return i}function Gpe(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var zpe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ve(t,e){this.data=t,this.offset=e,this.relativeOffset=0}Ve.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ve.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ve.prototype.parseCard8=Ve.prototype.parseByte;Ve.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ve.prototype.parseCard16=Ve.prototype.parseUShort;Ve.prototype.parseSID=Ve.prototype.parseUShort;Ve.prototype.parseOffset16=Ve.prototype.parseUShort;Ve.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ve.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};Ve.prototype.parseULong=function(){var t=dI(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ve.prototype.parseOffset32=Ve.prototype.parseULong;Ve.prototype.parseFixed=function(){var t=JX(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ve.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,i="";this.relativeOffset+=t;for(var r=0;r<t;r++)i+=String.fromCharCode(e.getUint8(n+r));return i};Ve.prototype.parseTag=function(){return this.parseString(4)};Ve.prototype.parseLongDateTime=function(){var t=dI(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};Ve.prototype.parseVersion=function(t){var e=_S(this.data,this.offset+this.relativeOffset),n=_S(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};Ve.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=zpe[t]*e};Ve.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint32(i),i+=4;return this.relativeOffset+=t*4,e};Ve.prototype.parseOffset16List=Ve.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint16(i),i+=2;return this.relativeOffset+=t*2,e};Ve.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getInt16(i),i+=2;return this.relativeOffset+=t*2,e};Ve.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint8(i++);return this.relativeOffset+=t,e};Ve.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),i=0;i<t;i++)n[i]=e.call(this);return n};Ve.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),i=0;i<t;i++)n[i]=e.call(this);return n};Ve.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),i=Object.keys(e),r=0;r<t;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}n[r]=s}return n};Ve.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),i=Object.keys(e),r=0;r<t;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}n[r]=s}return n};Ve.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i],s=t[r];n[r]=s.call(this)}return n};Ve.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};Ve.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),i=0;i<e;i++)n[i]=this.parseValueRecord(t);return n};Ve.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new Ve(this.data,this.offset+e).parseStruct(t)};Ve.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new Ve(this.data,this.offset+e).parseStruct(t)};Ve.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,i=this.relativeOffset,r=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){r[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=o+a[u],l[u]=t.call(this);r[s]=l}else r[s]=this.parseUShortList()}return this.relativeOffset=i,r};Ve.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var i=new Array(n),r=0;r<n;r++)i[r]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};Ve.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:Ve.uShort,end:Ve.uShort,classId:Ve.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};Ve.list=function(t,e){return function(){return this.parseList(t,e)}};Ve.list32=function(t,e){return function(){return this.parseList32(t,e)}};Ve.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};Ve.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};Ve.pointer=function(t){return function(){return this.parsePointer(t)}};Ve.pointer32=function(t){return function(){return this.parsePointer32(t)}};Ve.tag=Ve.prototype.parseTag;Ve.byte=Ve.prototype.parseByte;Ve.uShort=Ve.offset16=Ve.prototype.parseUShort;Ve.uShortList=Ve.prototype.parseUShortList;Ve.uLong=Ve.offset32=Ve.prototype.parseULong;Ve.uLongList=Ve.prototype.parseULongList;Ve.struct=Ve.prototype.parseStruct;Ve.coverage=Ve.prototype.parseCoverage;Ve.classDef=Ve.prototype.parseClassDef;var aO={reserved:Ve.uShort,reqFeatureIndex:Ve.uShort,featureIndexes:Ve.uShortList};Ve.prototype.parseScriptList=function(){return this.parsePointer(Ve.recordList({tag:Ve.tag,script:Ve.pointer({defaultLangSys:Ve.pointer(aO),langSysRecords:Ve.recordList({tag:Ve.tag,langSys:Ve.pointer(aO)})})}))||[]};Ve.prototype.parseFeatureList=function(){return this.parsePointer(Ve.recordList({tag:Ve.tag,feature:Ve.pointer({featureParams:Ve.offset16,lookupListIndexes:Ve.uShortList})}))||[]};Ve.prototype.parseLookupList=function(t){return this.parsePointer(Ve.list(Ve.pointer(function(){var e=this.parseUShort();$t.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),i=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(Ve.pointer(t[e])),markFilteringSet:i?this.parseUShort():void 0}})))||[]};Ve.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();$t.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:Ve.offset32,featureTableSubstitutionOffset:Ve.offset32});return n})||[]};var on={getByte:oO,getCard8:oO,getUShort:_S,getCard16:_S,getShort:Fpe,getULong:dI,getFixed:JX,getTag:Upe,getOffset:kpe,getBytes:Npe,bytesToString:Gpe,Parser:Ve};function Hpe(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var i=0;i<n;i+=1)for(var r=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=r;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function Vpe(t,e,n,i,r){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new on.Parser(n,i+r+14),a=new on.Parser(n,i+r+16+s*2),l=new on.Parser(n,i+r+16+s*4),u=new on.Parser(n,i+r+16+s*6),c=i+r+16+s*8,f=0;f<s-1;f+=1)for(var h=void 0,d=o.parseUShort(),p=a.parseUShort(),y=l.parseShort(),A=u.parseUShort(),g=p;g<=d;g+=1)A!==0?(c=u.offset+u.relativeOffset-2,c+=A,c+=(g-p)*2,h=on.getUShort(n,c),h!==0&&(h=h+y&65535)):h=g+y&65535,t.glyphIndexMap[g]=h}function Qpe(t,e){var n={};n.version=on.getUShort(t,e),$t.argument(n.version===0,"cmap table version should be 0."),n.numTables=on.getUShort(t,e+2);for(var i=-1,r=n.numTables-1;r>=0;r-=1){var s=on.getUShort(t,e+4+r*8),o=on.getUShort(t,e+4+r*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){i=on.getULong(t,e+4+r*8+4);break}}if(i===-1)throw new Error("No valid cmap sub-tables found.");var a=new on.Parser(t,e+i);if(n.format=a.parseUShort(),n.format===12)Hpe(n,a);else if(n.format===4)Vpe(n,a,t,e,i);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function Wpe(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function jpe(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function qpe(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var i=t.get(n);if(i.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new Ct.Table("cmap",r);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)Wpe(s,o.unicodes[a],n);s.segments=s.segments.sort(function(x,S){return x.start-S.start})}jpe(s);var l=s.segments.length,u=0,c=[],f=[],h=[],d=[],p=[],y=[];for(n=0;n<l;n+=1){var A=s.segments[n];A.end<=65535&&A.start<=65535?(c=c.concat({name:"end_"+n,type:"USHORT",value:A.end}),f=f.concat({name:"start_"+n,type:"USHORT",value:A.start}),h=h.concat({name:"idDelta_"+n,type:"SHORT",value:A.delta}),d=d.concat({name:"idRangeOffset_"+n,type:"USHORT",value:A.offset}),A.glyphId!==void 0&&(p=p.concat({name:"glyph_"+n,type:"USHORT",value:A.glyphId}))):u+=1,!e&&A.glyphIndex!==void 0&&(y=y.concat({name:"cmap12Start_"+n,type:"ULONG",value:A.start}),y=y.concat({name:"cmap12End_"+n,type:"ULONG",value:A.end}),y=y.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:A.glyphIndex}))}if(s.segCountX2=(l-u)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-u)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(c),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(f),s.fields=s.fields.concat(h),s.fields=s.fields.concat(d),s.fields=s.fields.concat(p),s.cmap4Length=14+c.length*2+2+f.length*2+h.length*2+d.length*2+p.length*2,!e){var g=16+y.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:g},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:y.length/3}]),s.fields=s.fields.concat(y)}return s}var Xpe={parse:Qpe,make:qpe},Ax=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ype=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Kpe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],lO=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ZX(t){this.font=t}ZX.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var i=0;i<n.length;i+=1)for(var r=n.get(i),s=0;s<r.unicodes.length;s+=1)if(r.unicodes[s]===e)return i}return null};function CS(t,e){this.encoding=t,this.charset=e}CS.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function Jpe(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()}var lf={line:Jpe};function Zpe(t,e){var n=e||new cr;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(i){n=i}}}function Wo(t){this.bindConstructorValues(t)}Wo.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",Zpe(this,t.path))};Wo.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Wo.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Wo.prototype.getPath=function(t,e,n,i,r){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;i||(i={});var a=i.xScale,l=i.yScale;if(i.hinting&&r&&r.hinting&&(o=this.path&&r.hinting.exec(this,n)),o)s=r.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=u),l===void 0&&(l=u)}for(var c=new cr,f=0;f<s.length;f+=1){var h=s[f];h.type==="M"?c.moveTo(t+h.x*a,e+-h.y*l):h.type==="L"?c.lineTo(t+h.x*a,e+-h.y*l):h.type==="Q"?c.quadraticCurveTo(t+h.x1*a,e+-h.y1*l,t+h.x*a,e+-h.y*l):h.type==="C"?c.curveTo(t+h.x1*a,e+-h.y1*l,t+h.x2*a,e+-h.y2*l,t+h.x*a,e+-h.y*l):h.type==="Z"&&c.closePath()}return c};Wo.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var i=this.points[n];e.push(i),i.lastPointOfContour&&(t.push(e),e=[])}return $t.argument(e.length===0,"There are still points left in the current contour."),t};Wo.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],i=0;i<t.length;i+=1){var r=t[i];r.type!=="Z"&&(e.push(r.x),n.push(r.y)),(r.type==="Q"||r.type==="C")&&(e.push(r.x1),n.push(r.y1)),r.type==="C"&&(e.push(r.x2),n.push(r.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};Wo.prototype.draw=function(t,e,n,i,r){this.getPath(e,n,i,r).draw(t)};Wo.prototype.drawPoints=function(t,e,n,i){function r(f,h,d,p){t.beginPath();for(var y=0;y<f.length;y+=1)t.moveTo(h+f[y].x*p,d+f[y].y*p),t.arc(h+f[y].x*p,d+f[y].y*p,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:24;for(var s=1/this.path.unitsPerEm*i,o=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];c.x!==void 0&&o.push({x:c.x,y:-c.y}),c.x1!==void 0&&a.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&a.push({x:c.x2,y:-c.y2})}t.fillStyle="blue",r(o,e,n,s),t.fillStyle="red",r(a,e,n,s)};Wo.prototype.drawMetrics=function(t,e,n,i){var r;e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:24,r=1/this.path.unitsPerEm*i,t.lineWidth=1,t.strokeStyle="black",lf.line(t,e,-1e4,e,1e4),lf.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;t.strokeStyle="blue",lf.line(t,e+s*r,-1e4,e+s*r,1e4),lf.line(t,e+a*r,-1e4,e+a*r,1e4),lf.line(t,-1e4,n+-o*r,1e4,n+-o*r),lf.line(t,-1e4,n+-l*r,1e4,n+-l*r),t.strokeStyle="green",lf.line(t,e+u*r,-1e4,e+u*r,1e4)};function M5(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(i){t[n]=i},enumerable:!0,configurable:!0})}function pI(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];i.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=i}this.length=e&&e.length||0}pI.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var i=0;i<n.unicodes.length;i++)e.addUnicode(n.unicodes[i]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};pI.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function $pe(t,e){return new Wo({index:e,font:t})}function e0e(t,e,n,i,r,s){return function(){var o=new Wo({index:e,font:t});return o.path=function(){n(o,i,r);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},M5(o,"xMin","_xMin"),M5(o,"xMax","_xMax"),M5(o,"yMin","_yMin"),M5(o,"yMax","_yMax"),o}}function t0e(t,e,n,i){return function(){var r=new Wo({index:e,font:t});return r.path=function(){var s=n(t,r,i);return s.unitsPerEm=t.unitsPerEm,s},r}}var sl={GlyphSet:pI,glyphLoader:$pe,ttfGlyphLoader:e0e,cffGlyphLoader:t0e};function $X(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!$X(t[n],e[n]))return!1;return!0}else return!1}function fT(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function Hu(t,e,n){var i=[],r=[],s=on.getCard16(t,e),o,a;if(s!==0){var l=on.getByte(t,e+2);o=e+(s+1)*l+2;for(var u=e+3,c=0;c<s+1;c+=1)i.push(on.getOffset(t,u,l)),u+=l;a=o+i[s]}else a=e+2;for(var f=0;f<i.length-1;f+=1){var h=on.getBytes(t,o+i[f],o+i[f+1]);n&&(h=n(h)),r.push(h)}return{objects:r,startOffset:e,endOffset:a}}function n0e(t,e){var n=[],i=on.getCard16(t,e),r,s;if(i!==0){var o=on.getByte(t,e+2);r=e+(i+1)*o+2;for(var a=e+3,l=0;l<i+1;l+=1)n.push(on.getOffset(t,a,o)),a+=o;s=r+n[i]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function i0e(t,e,n,i,r){var s=on.getCard16(n,i),o=0;if(s!==0){var a=on.getByte(n,i+2);o=i+(s+1)*a+2}var l=on.getBytes(n,o+e[t],o+e[t+1]);return r&&(l=r(l)),l}function r0e(t){for(var e="",n=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=t.parseByte(),s=r>>4,o=r&15;if(s===n||(e+=i[s],o===n))break;e+=i[o]}return parseFloat(e)}function s0e(t,e){var n,i,r,s;if(e===28)return n=t.parseByte(),i=t.parseByte(),n<<8|i;if(e===29)return n=t.parseByte(),i=t.parseByte(),r=t.parseByte(),s=t.parseByte(),n<<24|i<<16|r<<8|s;if(e===30)return r0e(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function o0e(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n][0],r=t[n][1],s=void 0;if(r.length===1?s=r[0]:s=r,e.hasOwnProperty(i)&&!isNaN(e[i]))throw new Error("Object "+e+" already has key "+i);e[i]=s}return e}function eY(t,e,n){e=e!==void 0?e:0;var i=new on.Parser(t,e),r=[],s=[];for(n=n!==void 0?n:t.length;i.relativeOffset<n;){var o=i.parseByte();o<=21?(o===12&&(o=1200+i.parseByte()),r.push([o,s]),s=[]):s.push(s0e(i,o))}return o0e(r)}function f3(t,e){return e<=390?e=Ax[e]:e=t[e-391],e}function tY(t,e,n){for(var i={},r,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)r=t[o.op]!==void 0?t[o.op][l]:void 0,r===void 0&&(r=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(r=f3(n,r)),a[l]=r;i[o.name]=a}else r=t[o.op],r===void 0&&(r=o.value!==void 0?o.value:null),o.type==="SID"&&(r=f3(n,r)),i[o.name]=r}return i}function a0e(t,e){var n={};return n.formatMajor=on.getCard8(t,e),n.formatMinor=on.getCard8(t,e+1),n.size=on.getCard8(t,e+2),n.offsetSize=on.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var nY=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],iY=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function l0e(t,e){var n=eY(t,0,t.byteLength);return tY(n,nY,e)}function rY(t,e,n,i){var r=eY(t,e,n);return tY(r,iY,i)}function uO(t,e,n,i){for(var r=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=l0e(o,i);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],u=a.private[1];if(l!==0&&u!==0){var c=rY(t,u+e,l,i);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,c.subrs!==0){var f=u+c.subrs,h=Hu(t,f+e);a._subrs=h.objects,a._subrsBias=fT(a._subrs)}a._privateDict=c}r.push(a)}return r}function u0e(t,e,n,i){var r,s,o=new on.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var u=0;u<n;u+=1)r=o.parseSID(),a.push(f3(i,r));else if(l===1)for(;a.length<=n;){r=o.parseSID(),s=o.parseCard8();for(var c=0;c<=s;c+=1)a.push(f3(i,r)),r+=1}else if(l===2)for(;a.length<=n;){r=o.parseSID(),s=o.parseCard16();for(var f=0;f<=s;f+=1)a.push(f3(i,r)),r+=1}else throw new Error("Unknown charset format "+l);return a}function c0e(t,e,n){var i,r={},s=new on.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)i=s.parseCard8(),r[i]=l;else if(o===1){var u=s.parseCard8();i=1;for(var c=0;c<u;c+=1)for(var f=s.parseCard8(),h=s.parseCard8(),d=f;d<=f+h;d+=1)r[d]=i,i+=1}else throw new Error("Unknown encoding format "+o);return new CS(r,n)}function cO(t,e,n){var i,r,s,o,a=new cr,l=[],u=0,c=!1,f=!1,h=0,d=0,p,y,A,g;if(t.isCIDFont){var x=t.tables.cff.topDict._fdSelect[e.index],S=t.tables.cff.topDict._fdArray[x];p=S._subrs,y=S._subrsBias,A=S._defaultWidthX,g=S._nominalWidthX}else p=t.tables.cff.topDict._subrs,y=t.tables.cff.topDict._subrsBias,A=t.tables.cff.topDict._defaultWidthX,g=t.tables.cff.topDict._nominalWidthX;var E=A;function w(I,M){f&&a.closePath(),a.moveTo(I,M),f=!0}function C(){var I;I=l.length%2!==0,I&&!c&&(E=l.shift()+g),u+=l.length>>1,l.length=0,c=!0}function b(I){for(var M,R,D,F,O,L,U,q,K,k,W,V,G=0;G<I.length;){var z=I[G];switch(G+=1,z){case 1:C();break;case 3:C();break;case 4:l.length>1&&!c&&(E=l.shift()+g,c=!0),d+=l.pop(),w(h,d);break;case 5:for(;l.length>0;)h+=l.shift(),d+=l.shift(),a.lineTo(h,d);break;case 6:for(;l.length>0&&(h+=l.shift(),a.lineTo(h,d),l.length!==0);)d+=l.shift(),a.lineTo(h,d);break;case 7:for(;l.length>0&&(d+=l.shift(),a.lineTo(h,d),l.length!==0);)h+=l.shift(),a.lineTo(h,d);break;case 8:for(;l.length>0;)i=h+l.shift(),r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(i,r,s,o,h,d);break;case 10:O=l.pop()+y,L=p[O],L&&b(L);break;case 11:return;case 12:switch(z=I[G],G+=1,z){case 35:i=h+l.shift(),r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),U=s+l.shift(),q=o+l.shift(),K=U+l.shift(),k=q+l.shift(),W=K+l.shift(),V=k+l.shift(),h=W+l.shift(),d=V+l.shift(),l.shift(),a.curveTo(i,r,s,o,U,q),a.curveTo(K,k,W,V,h,d);break;case 34:i=h+l.shift(),r=d,s=i+l.shift(),o=r+l.shift(),U=s+l.shift(),q=o,K=U+l.shift(),k=o,W=K+l.shift(),V=d,h=W+l.shift(),a.curveTo(i,r,s,o,U,q),a.curveTo(K,k,W,V,h,d);break;case 36:i=h+l.shift(),r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),U=s+l.shift(),q=o,K=U+l.shift(),k=o,W=K+l.shift(),V=k+l.shift(),h=W+l.shift(),a.curveTo(i,r,s,o,U,q),a.curveTo(K,k,W,V,h,d);break;case 37:i=h+l.shift(),r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),U=s+l.shift(),q=o+l.shift(),K=U+l.shift(),k=q+l.shift(),W=K+l.shift(),V=k+l.shift(),Math.abs(W-h)>Math.abs(V-d)?h=W+l.shift():d=V+l.shift(),a.curveTo(i,r,s,o,U,q),a.curveTo(K,k,W,V,h,d);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+z),l.length=0}break;case 14:l.length>0&&!c&&(E=l.shift()+g,c=!0),f&&(a.closePath(),f=!1);break;case 18:C();break;case 19:case 20:C(),G+=u+7>>3;break;case 21:l.length>2&&!c&&(E=l.shift()+g,c=!0),d+=l.pop(),h+=l.pop(),w(h,d);break;case 22:l.length>1&&!c&&(E=l.shift()+g,c=!0),h+=l.pop(),w(h,d);break;case 23:C();break;case 24:for(;l.length>2;)i=h+l.shift(),r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(i,r,s,o,h,d);h+=l.shift(),d+=l.shift(),a.lineTo(h,d);break;case 25:for(;l.length>6;)h+=l.shift(),d+=l.shift(),a.lineTo(h,d);i=h+l.shift(),r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(i,r,s,o,h,d);break;case 26:for(l.length%2&&(h+=l.shift());l.length>0;)i=h,r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),h=s,d=o+l.shift(),a.curveTo(i,r,s,o,h,d);break;case 27:for(l.length%2&&(d+=l.shift());l.length>0;)i=h+l.shift(),r=d,s=i+l.shift(),o=r+l.shift(),h=s+l.shift(),d=o,a.curveTo(i,r,s,o,h,d);break;case 28:M=I[G],R=I[G+1],l.push((M<<24|R<<16)>>16),G+=2;break;case 29:O=l.pop()+t.gsubrsBias,L=t.gsubrs[O],L&&b(L);break;case 30:for(;l.length>0&&(i=h,r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),h=s+l.shift(),d=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,h,d),l.length!==0);)i=h+l.shift(),r=d,s=i+l.shift(),o=r+l.shift(),d=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,h,d);break;case 31:for(;l.length>0&&(i=h+l.shift(),r=d,s=i+l.shift(),o=r+l.shift(),d=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,h,d),l.length!==0);)i=h,r=d+l.shift(),s=i+l.shift(),o=r+l.shift(),h=s+l.shift(),d=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,h,d);break;default:z<32?console.log("Glyph "+e.index+": unknown operator "+z):z<247?l.push(z-139):z<251?(M=I[G],G+=1,l.push((z-247)*256+M+108)):z<255?(M=I[G],G+=1,l.push(-(z-251)*256-M-108)):(M=I[G],R=I[G+1],D=I[G+2],F=I[G+3],G+=4,l.push((M<<24|R<<16|D<<8|F)/65536))}}}return b(n),e.advanceWidth=E,a}function f0e(t,e,n,i){var r=[],s,o=new on.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");r.push(s)}else if(a===3){var u=o.parseCard16(),c=o.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var f,h=0;h<u;h++){if(s=o.parseCard8(),f=o.parseCard16(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");if(f>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+f);for(;c<f;c++)r.push(s);c=f}if(f!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+f)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return r}function h0e(t,e,n,i){n.tables.cff={};var r=a0e(t,e),s=Hu(t,r.endOffset,on.bytesToString),o=Hu(t,s.endOffset),a=Hu(t,o.endOffset,on.bytesToString),l=Hu(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=fT(n.gsubrs);var u=uO(t,e,o.objects,a.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var f=c.fdArray,h=c.fdSelect;if(f===0||h===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");f+=e;var d=Hu(t,f),p=uO(t,e,d.objects,a.objects);c._fdArray=p,h+=e,c._fdSelect=f0e(t,h,n.numGlyphs,p.length)}var y=e+c.private[1],A=rY(t,y,c.private[0],a.objects);if(n.defaultWidthX=A.defaultWidthX,n.nominalWidthX=A.nominalWidthX,A.subrs!==0){var g=y+A.subrs,x=Hu(t,g);n.subrs=x.objects,n.subrsBias=fT(n.subrs)}else n.subrs=[],n.subrsBias=0;var S;i.lowMemory?(S=n0e(t,e+c.charStrings),n.nGlyphs=S.offsets.length):(S=Hu(t,e+c.charStrings),n.nGlyphs=S.objects.length);var E=u0e(t,e+c.charset,n.nGlyphs,a.objects);if(c.encoding===0?n.cffEncoding=new CS(Ype,E):c.encoding===1?n.cffEncoding=new CS(Kpe,E):n.cffEncoding=c0e(t,e+c.encoding,E),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new sl.GlyphSet(n),i.lowMemory)n._push=function(b){var I=i0e(b,S.offsets,t,e+c.charStrings);n.glyphs.push(b,sl.cffGlyphLoader(n,b,cO,I))};else for(var w=0;w<n.nGlyphs;w+=1){var C=S.objects[w];n.glyphs.push(w,sl.cffGlyphLoader(n,w,cO,C))}}function sY(t,e){var n,i=Ax.indexOf(t);return i>=0&&(n=i),i=e.indexOf(t),i>=0?n=i+Ax.length:(n=Ax.length+e.length,e.push(t)),n}function d0e(){return new Ct.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function p0e(t){var e=new Ct.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function oY(t,e,n){for(var i={},r=0;r<t.length;r+=1){var s=t[r],o=e[s.name];o!==void 0&&!$X(o,s.value)&&(s.type==="SID"&&(o=sY(o,n)),i[s.op]={name:s.name,type:s.type,value:o})}return i}function fO(t,e){var n=new Ct.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=oY(nY,t,e),n}function hO(t){var e=new Ct.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function m0e(t){var e=new Ct.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function g0e(){return new Ct.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function v0e(t,e){for(var n=new Ct.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<t.length;i+=1){var r=t[i],s=sY(r,e);n.fields.push({name:"glyph_"+i,type:"SID",value:s})}return n}function A0e(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var i=0,r=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var u=.3333333333333333,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*i+c*l.x1),y1:Math.round(u*r+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if(l.type==="M")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="C"){var f=Math.round(l.x1-i),h=Math.round(l.y1-r),d=Math.round(l.x2-l.x1),p=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:f}),e.push({name:"dy1",type:"NUMBER",value:h}),e.push({name:"dx2",type:"NUMBER",value:d}),e.push({name:"dy2",type:"NUMBER",value:p}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(l.x),r=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function y0e(t){for(var e=new Ct.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var i=t.get(n),r=A0e(i);e.charStrings.push({name:i.name,type:"CHARSTRING",value:r})}return e}function x0e(t,e){var n=new Ct.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=oY(iY,t,e),n}function S0e(t,e){for(var n=new Ct.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/e.unitsPerEm,r={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var u=[];n.header=d0e(),n.nameIndex=p0e([e.postScriptName]);var c=fO(r,u);n.topDictIndex=hO(c),n.globalSubrIndex=g0e(),n.charsets=v0e(o,u),n.charStringsIndex=y0e(t),n.privateDict=x0e(s,u),n.stringIndex=m0e(u);var f=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return r.charset=f,r.encoding=0,r.charStrings=r.charset+n.charsets.sizeOf(),r.private[1]=r.charStrings+n.charStringsIndex.sizeOf(),c=fO(r,u),n.topDictIndex=hO(c),n}var E0e={parse:h0e,make:S0e};function w0e(t,e){var n={},i=new on.Parser(t,e);return n.version=i.parseVersion(),n.fontRevision=Math.round(i.parseFixed()*1e3)/1e3,n.checkSumAdjustment=i.parseULong(),n.magicNumber=i.parseULong(),$t.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=i.parseUShort(),n.unitsPerEm=i.parseUShort(),n.created=i.parseLongDateTime(),n.modified=i.parseLongDateTime(),n.xMin=i.parseShort(),n.yMin=i.parseShort(),n.xMax=i.parseShort(),n.yMax=i.parseShort(),n.macStyle=i.parseUShort(),n.lowestRecPPEM=i.parseUShort(),n.fontDirectionHint=i.parseShort(),n.indexToLocFormat=i.parseShort(),n.glyphDataFormat=i.parseShort(),n}function _0e(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new Ct.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var C0e={parse:w0e,make:_0e};function b0e(t,e){var n={},i=new on.Parser(t,e);return n.version=i.parseVersion(),n.ascender=i.parseShort(),n.descender=i.parseShort(),n.lineGap=i.parseShort(),n.advanceWidthMax=i.parseUShort(),n.minLeftSideBearing=i.parseShort(),n.minRightSideBearing=i.parseShort(),n.xMaxExtent=i.parseShort(),n.caretSlopeRise=i.parseShort(),n.caretSlopeRun=i.parseShort(),n.caretOffset=i.parseShort(),i.relativeOffset+=8,n.metricDataFormat=i.parseShort(),n.numberOfHMetrics=i.parseUShort(),n}function T0e(t){return new Ct.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var M0e={parse:b0e,make:T0e};function I0e(t,e,n,i,r){for(var s,o,a=new on.Parser(t,e),l=0;l<i;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var u=r.get(l);u.advanceWidth=s,u.leftSideBearing=o}}function R0e(t,e,n,i,r){t._hmtxTableData={};for(var s,o,a=new on.Parser(e,n),l=0;l<r;l+=1)l<i&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function P0e(t,e,n,i,r,s,o){o.lowMemory?R0e(t,e,n,i,r):I0e(e,n,i,r,s)}function B0e(t){for(var e=new Ct.Table("hmtx",[]),n=0;n<t.length;n+=1){var i=t.get(n),r=i.advanceWidth||0,s=i.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:r}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var D0e={parse:P0e,make:B0e};function L0e(t){for(var e=new Ct.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",i=12+t.length*4,r=0;r<t.length;++r){var s=n.indexOf(t[r]);s<0&&(s=n.length,n+=t[r]),e.fields.push({name:"offset "+r,type:"USHORT",value:i+s}),e.fields.push({name:"length "+r,type:"USHORT",value:t[r].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function O0e(t,e){var n=new on.Parser(t,e),i=n.parseULong();$t.argument(i===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var r=n.parseULong(),s=[],o=0;o<r;o++){for(var a="",l=e+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)a+=String.fromCharCode(t.getInt8(c));s.push(a)}return s}var F0e={make:L0e,parse:O0e};function U0e(t,e){var n={},i=new on.Parser(t,e);return n.version=i.parseVersion(),n.numGlyphs=i.parseUShort(),n.version===1&&(n.maxPoints=i.parseUShort(),n.maxContours=i.parseUShort(),n.maxCompositePoints=i.parseUShort(),n.maxCompositeContours=i.parseUShort(),n.maxZones=i.parseUShort(),n.maxTwilightPoints=i.parseUShort(),n.maxStorage=i.parseUShort(),n.maxFunctionDefs=i.parseUShort(),n.maxInstructionDefs=i.parseUShort(),n.maxStackElements=i.parseUShort(),n.maxSizeOfInstructions=i.parseUShort(),n.maxComponentElements=i.parseUShort(),n.maxComponentDepth=i.parseUShort()),n}function k0e(t){return new Ct.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var N0e={parse:U0e,make:k0e},aY=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],lY={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},G0e={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},uY={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function z0e(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return lY[e];case 3:return uY[e]}}var hT="utf-16",H0e={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},V0e={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function cY(t,e,n){switch(t){case 0:return hT;case 1:return V0e[n]||H0e[e];case 3:if(e===1||e===10)return hT;break}}function Q0e(t,e,n){for(var i={},r=new on.Parser(t,e),s=r.parseUShort(),o=r.parseUShort(),a=r.offset+r.parseUShort(),l=0;l<o;l++){var u=r.parseUShort(),c=r.parseUShort(),f=r.parseUShort(),h=r.parseUShort(),d=aY[h]||h,p=r.parseUShort(),y=r.parseUShort(),A=z0e(u,f,n),g=cY(u,c,f);if(g!==void 0&&A!==void 0){var x=void 0;if(g===hT?x=hp.UTF16(t,a+y,p):x=hp.MACSTRING(t,a+y,p,g),x){var S=i[d];S===void 0&&(S=i[d]={}),S[A]=x}}}return s===1&&r.parseUShort(),i}function e_(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function dO(t,e,n,i,r,s){return new Ct.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:r},{name:"offset",type:"USHORT",value:s}])}function W0e(t,e){var n=t.length,i=e.length-n+1;e:for(var r=0;r<i;r++)for(;r<i;r++){for(var s=0;s<n;s++)if(e[r+s]!==t[s])continue e;return r}return-1}function pO(t,e){var n=W0e(t,e);if(n<0){n=e.length;for(var i=0,r=t.length;i<r;++i)e.push(t[i])}return n}function j0e(t,e){var n,i=[],r={},s=e_(aY);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');r[n]=t[o],i.push(n)}for(var l=e_(lY),u=e_(uY),c=[],f=[],h=0;h<i.length;h++){n=i[h];var d=r[n];for(var p in d){var y=d[p],A=1,g=l[p],x=G0e[g],S=cY(A,x,g),E=dt.MACSTRING(y,S);E===void 0&&(A=0,g=e.indexOf(p),g<0&&(g=e.length,e.push(p)),x=4,E=dt.UTF16(y));var w=pO(E,f);c.push(dO(A,x,g,n,E.length,w));var C=u[p];if(C!==void 0){var b=dt.UTF16(y),I=pO(b,f);c.push(dO(3,1,C,n,b.length,I))}}}c.sort(function(D,F){return D.platformID-F.platformID||D.encodingID-F.encodingID||D.languageID-F.languageID||D.nameID-F.nameID});for(var M=new Ct.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),R=0;R<c.length;R++)M.fields.push({name:"record_"+R,type:"RECORD",value:c[R]});return M.fields.push({name:"strings",type:"LITERAL",value:f}),M}var q0e={parse:Q0e,make:j0e},dT=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function X0e(t){for(var e=0;e<dT.length;e+=1){var n=dT[e];if(t>=n.begin&&t<n.end)return e}return-1}function Y0e(t,e){var n={},i=new on.Parser(t,e);n.version=i.parseUShort(),n.xAvgCharWidth=i.parseShort(),n.usWeightClass=i.parseUShort(),n.usWidthClass=i.parseUShort(),n.fsType=i.parseUShort(),n.ySubscriptXSize=i.parseShort(),n.ySubscriptYSize=i.parseShort(),n.ySubscriptXOffset=i.parseShort(),n.ySubscriptYOffset=i.parseShort(),n.ySuperscriptXSize=i.parseShort(),n.ySuperscriptYSize=i.parseShort(),n.ySuperscriptXOffset=i.parseShort(),n.ySuperscriptYOffset=i.parseShort(),n.yStrikeoutSize=i.parseShort(),n.yStrikeoutPosition=i.parseShort(),n.sFamilyClass=i.parseShort(),n.panose=[];for(var r=0;r<10;r++)n.panose[r]=i.parseByte();return n.ulUnicodeRange1=i.parseULong(),n.ulUnicodeRange2=i.parseULong(),n.ulUnicodeRange3=i.parseULong(),n.ulUnicodeRange4=i.parseULong(),n.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),n.fsSelection=i.parseUShort(),n.usFirstCharIndex=i.parseUShort(),n.usLastCharIndex=i.parseUShort(),n.sTypoAscender=i.parseShort(),n.sTypoDescender=i.parseShort(),n.sTypoLineGap=i.parseShort(),n.usWinAscent=i.parseUShort(),n.usWinDescent=i.parseUShort(),n.version>=1&&(n.ulCodePageRange1=i.parseULong(),n.ulCodePageRange2=i.parseULong()),n.version>=2&&(n.sxHeight=i.parseShort(),n.sCapHeight=i.parseShort(),n.usDefaultChar=i.parseUShort(),n.usBreakChar=i.parseUShort(),n.usMaxContent=i.parseUShort()),n}function K0e(t){return new Ct.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var mO={parse:Y0e,make:K0e,unicodeRanges:dT,getUnicodeRange:X0e};function J0e(t,e){var n={},i=new on.Parser(t,e);switch(n.version=i.parseVersion(),n.italicAngle=i.parseFixed(),n.underlinePosition=i.parseShort(),n.underlineThickness=i.parseShort(),n.isFixedPitch=i.parseULong(),n.minMemType42=i.parseULong(),n.maxMemType42=i.parseULong(),n.minMemType1=i.parseULong(),n.maxMemType1=i.parseULong(),n.version){case 1:n.names=lO.slice();break;case 2:n.numberOfGlyphs=i.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var r=0;r<n.numberOfGlyphs;r++)n.glyphNameIndex[r]=i.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=lO.length){var o=i.parseChar();n.names.push(i.parseString(o))}break;case 2.5:n.numberOfGlyphs=i.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=i.parseChar();break}return n}function Z0e(){return new Ct.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var $0e={parse:J0e,make:Z0e},va=new Array(9);va[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ve.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ve.coverage),substitute:this.parseOffset16List()};$t.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};va[2]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ve.coverage),sequences:this.parseListOfLists()}};va[3]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ve.coverage),alternateSets:this.parseListOfLists()}};va[4]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ve.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Hd={sequenceIndex:Ve.uShort,lookupListIndex:Ve.uShort};va[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(Ve.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Hd)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(Ve.coverage),classDef:this.parsePointer(Ve.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Hd)}})};if(n===3){var i=this.parseUShort(),r=this.parseUShort();return{substFormat:n,coverages:this.parseList(i,Ve.pointer(Ve.coverage)),lookupRecords:this.parseRecordList(r,Hd)}}$t.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};va[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ve.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Hd)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ve.coverage),backtrackClassDef:this.parsePointer(Ve.classDef),inputClassDef:this.parsePointer(Ve.classDef),lookaheadClassDef:this.parsePointer(Ve.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Hd)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(Ve.pointer(Ve.coverage)),inputCoverage:this.parseList(Ve.pointer(Ve.coverage)),lookaheadCoverage:this.parseList(Ve.pointer(Ve.coverage)),lookupRecords:this.parseRecordList(Hd)};$t.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};va[7]=function(){var e=this.parseUShort();$t.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),i=new Ve(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:va[n].call(i)}};va[8]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ve.coverage),backtrackCoverage:this.parseList(Ve.pointer(Ve.coverage)),lookaheadCoverage:this.parseList(Ve.pointer(Ve.coverage)),substitutes:this.parseUShortList()}};function eme(t,e){e=e||0;var n=new Ve(t,e),i=n.parseVersion(1);return $t.argument(i===1||i===1.1,"Unsupported GSUB table version."),i===1?{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(va)}:{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(va),variations:n.parseFeatureVariationsList()}}var Bp=new Array(9);Bp[1]=function(e){return e.substFormat===1?new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ct.Coverage(e.coverage)}].concat(Ct.ushortList("substitute",e.substitute)))};Bp[2]=function(e){return $t.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(e.coverage)}].concat(Ct.tableList("seqSet",e.sequences,function(n){return new Ct.Table("sequenceSetTable",Ct.ushortList("sequence",n))})))};Bp[3]=function(e){return $t.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(e.coverage)}].concat(Ct.tableList("altSet",e.alternateSets,function(n){return new Ct.Table("alternateSetTable",Ct.ushortList("alternate",n))})))};Bp[4]=function(e){return $t.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(e.coverage)}].concat(Ct.tableList("ligSet",e.ligatureSets,function(n){return new Ct.Table("ligatureSetTable",Ct.tableList("ligature",n,function(i){return new Ct.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:i.ligGlyph}].concat(Ct.ushortList("component",i.components,i.components.length+1)))}))})))};Bp[6]=function(e){if(e.substFormat===1){var n=new Ct.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Ct.Coverage(e.coverage)}].concat(Ct.tableList("chainRuleSet",e.chainRuleSets,function(s){return new Ct.Table("chainRuleSetTable",Ct.tableList("chainRule",s,function(o){var a=Ct.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(Ct.ushortList("inputGlyph",o.input,o.input.length+1)).concat(Ct.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(Ct.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,u){a=a.concat({name:"sequenceIndex"+u,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:l.lookupListIndex})}),new Ct.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)$t.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var i=[{name:"substFormat",type:"USHORT",value:e.substFormat}];i.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){i.push({name:"backtrackCoverage"+o,type:"TABLE",value:new Ct.Coverage(s)})}),i.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){i.push({name:"inputCoverage"+o,type:"TABLE",value:new Ct.Coverage(s)})}),i.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){i.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new Ct.Coverage(s)})}),i.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){i=i.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var r=new Ct.Table("chainContextTable",i);return r}$t.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function tme(t){return new Ct.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ct.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new Ct.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new Ct.LookupList(t.lookups,Bp)}])}var nme={parse:eme,make:tme};function ime(t,e){var n=new on.Parser(t,e),i=n.parseULong();$t.argument(i===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var r=n.parseULong(),s={},o=0;o<r;o++){var a=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=hp.UTF8(t,e+l,u);s[a]=c}return s}function rme(t){var e=Object.keys(t).length,n="",i=16+e*12,r=new Ct.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],r.fields.push({name:"tag "+s,type:"TAG",value:s}),r.fields.push({name:"offset "+s,type:"ULONG",value:i+o}),r.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),r}var sme={parse:ime,make:rme};function gO(t){return Math.log(t)/Math.log(2)|0}function mI(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function vO(t,e,n,i){return new Ct.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:i!==void 0?i:0}])}function fY(t){var e=new Ct.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,gO(e.numTables));e.searchRange=16*n,e.entrySelector=gO(n),e.rangeShift=e.numTables*16-e.searchRange;for(var i=[],r=[],s=e.sizeOf()+vO().sizeOf()*e.numTables;s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];$t.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=vO(a.tableName,mI(a.encode()),s,l);for(i.push({name:u.tag+" Table Record",type:"RECORD",value:u}),r.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,$t.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0})}return i.sort(function(c,f){return c.value.tag>f.value.tag?1:-1}),e.fields=e.fields.concat(i),e.fields=e.fields.concat(r),e}function AO(t,e,n){for(var i=0;i<e.length;i+=1){var r=t.charToGlyphIndex(e[i]);if(r>0){var s=t.glyphs.get(r);return s.getMetrics()}}return n}function ome(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function ame(t){for(var e=[],n=[],i=[],r=[],s=[],o=[],a=[],l,u=0,c=0,f=0,h=0,d=0,p=0;p<t.glyphs.length;p+=1){var y=t.glyphs.get(p),A=y.unicode|0;if(isNaN(y.advanceWidth))throw new Error("Glyph "+y.name+" ("+p+"): advanceWidth is not a number.");(l>A||l===void 0)&&A>0&&(l=A),u<A&&(u=A);var g=mO.getUnicodeRange(A);if(g<32)c|=1<<g;else if(g<64)f|=1<<g-32;else if(g<96)h|=1<<g-64;else if(g<123)d|=1<<g-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(y.name!==".notdef"){var x=y.getMetrics();e.push(x.xMin),n.push(x.yMin),i.push(x.xMax),r.push(x.yMax),o.push(x.leftSideBearing),a.push(x.rightSideBearing),s.push(y.advanceWidth)}}var S={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,r),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:ome(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};S.ascender=t.ascender,S.descender=t.descender;var E=C0e.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:S.xMin,yMin:S.yMin,xMax:S.xMax,yMax:S.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),w=M0e.make({ascender:S.ascender,descender:S.descender,advanceWidthMax:S.advanceWidthMax,minLeftSideBearing:S.minLeftSideBearing,minRightSideBearing:S.minRightSideBearing,xMaxExtent:S.maxLeftSideBearing+(S.xMax-S.xMin),numberOfHMetrics:t.glyphs.length}),C=N0e.make(t.glyphs.length),b=mO.make(Object.assign({xAvgCharWidth:Math.round(S.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:f,ulUnicodeRange3:h,ulUnicodeRange4:d,sTypoAscender:S.ascender,sTypoDescender:S.descender,sTypoLineGap:0,usWinAscent:S.yMax,usWinDescent:Math.abs(S.yMin),ulCodePageRange1:1,sxHeight:AO(t,"xyvw",{yMax:Math.round(S.ascender/2)}).yMax,sCapHeight:AO(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",S).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),I=D0e.make(t.glyphs),M=Xpe.make(t.glyphs),R=t.getEnglishName("fontFamily"),D=t.getEnglishName("fontSubfamily"),F=R+" "+D,O=t.getEnglishName("postScriptName");O||(O=R.replace(/\s/g,"")+"-"+D);var L={};for(var U in t.names)L[U]=t.names[U];L.uniqueID||(L.uniqueID={en:t.getEnglishName("manufacturer")+":"+F}),L.postScriptName||(L.postScriptName={en:O}),L.preferredFamily||(L.preferredFamily=t.names.fontFamily),L.preferredSubfamily||(L.preferredSubfamily=t.names.fontSubfamily);var q=[],K=q0e.make(L,q),k=q.length>0?F0e.make(q):void 0,W=$0e.make(),V=E0e.make(t.glyphs,{version:t.getEnglishName("version"),fullName:F,familyName:R,weightName:D,postScriptName:O,unitsPerEm:t.unitsPerEm,fontBBox:[0,S.yMin,S.ascender,S.advanceWidthMax]}),G=t.metas&&Object.keys(t.metas).length>0?sme.make(t.metas):void 0,z=[E,w,C,b,K,M,W,V,I];k&&z.push(k),t.tables.gsub&&z.push(nme.make(t.tables.gsub)),G&&z.push(G);for(var ne=fY(z),J=ne.encode(),$=mI(J),X=ne.fields,oe=!1,ie=0;ie<X.length;ie+=1)if(X[ie].name==="head table"){X[ie].value.checkSumAdjustment=2981146554-$,oe=!0;break}if(!oe)throw new Error("Could not find head table with checkSum to adjust.");return ne}var lme={make:fY,fontToTable:ame,computeCheckSum:mI};function t_(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>>1,s=t[r].tag;if(s===e)return r;s<e?n=r+1:i=r-1}return-n-1}function yO(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>>1,s=t[r];if(s===e)return r;s<e?n=r+1:i=r-1}return-n-1}function xO(t,e){for(var n,i=0,r=t.length-1;i<=r;){var s=i+r>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?i=s+1:r=s-1}if(i>0)return n=t[i-1],e>n.end?0:n}function YA(t,e){this.font=t,this.tableName=e}YA.prototype={searchTag:t_,binSearch:yO,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var i=t.scripts[n].tag;if(i==="DFLT")return i;i==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var i=n.scripts,r=t_(n.scripts,t);if(r>=0)return i[r].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-r,0,s),s.script}}},getLangSysTable:function(t,e,n){var i=this.getScriptTable(t,n);if(i){if(!e||e==="dflt"||e==="DFLT")return i.defaultLangSys;var r=t_(i.langSysRecords,e);if(r>=0)return i.langSysRecords[r].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-r,0,s),s.langSys}}},getFeatureTable:function(t,e,n,i){var r=this.getLangSysTable(t,e,i);if(r){for(var s,o=r.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(i){var u=a.length;return $t.assert(u===0||n>=a[u-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(u),s.feature}}},getLookupTables:function(t,e,n,i,r){var s=this.getFeatureTable(t,e,n,r),o=[];if(s){for(var a,l=s.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)a=u[l[c]],a.lookupType===i&&o.push(a);if(o.length===0&&r){a={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var f=u.length;return u.push(a),l.push(f),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=xO(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=yO(t.glyphs,e);return n>=0?n:-1;case 2:var i=xO(t.ranges,e);return i?i.index+e-i.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,i=0;i<n.length;i++)for(var r=n[i],s=r.start,o=r.end,a=s;a<=o;a++)e.push(a);return e}};function KA(t){YA.call(this,t,"gpos")}KA.prototype=YA.prototype;KA.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};KA.prototype.getKerningValue=function(t,e,n){for(var i=0;i<t.length;i++)for(var r=t[i].subtables,s=0;s<r.length;s++){var o=r[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var f=this.getGlyphClass(o.classDef1,e),h=this.getGlyphClass(o.classDef2,n),d=o.classRecords[f][h];return d.value1&&d.value1.xAdvance||0}}return 0};KA.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function co(t){YA.call(this,t,"gsub")}function ume(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function gI(t,e,n){for(var i=t.subtables,r=0;r<i.length;r++){var s=i[r];if(s.substFormat===e)return s}if(n)return i.push(n),n}co.prototype=YA.prototype;co.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};co.prototype.getSingle=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,1),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;if(l.substFormat===1){var f=l.deltaGlyphId;for(c=0;c<u.length;c++){var h=u[c];i.push({sub:h,by:h+f})}}else{var d=l.substitute;for(c=0;c<u.length;c++)i.push({sub:u[c],by:d[c]})}}return i};co.prototype.getMultiple=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,2),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var f=u[c],h=l.sequences[c];i.push({sub:f,by:h})}}return i};co.prototype.getAlternates=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,3),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.alternateSets,f=0;f<u.length;f++)i.push({sub:u[f],by:c[f]});return i};co.prototype.getLigatures=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,4),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.ligatureSets,f=0;f<u.length;f++)for(var h=u[f],d=c[f],p=0;p<d.length;p++){var y=d[p];i.push({sub:[h].concat(y.components),by:y.ligGlyph})}return i};co.prototype.addSingle=function(t,e,n,i){var r=this.getLookupTables(n,i,t,1,!0)[0],s=gI(r,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});$t.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};co.prototype.addMultiple=function(t,e,n,i){$t.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var r=this.getLookupTables(n,i,t,2,!0)[0],s=gI(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});$t.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};co.prototype.addAlternate=function(t,e,n,i){var r=this.getLookupTables(n,i,t,3,!0)[0],s=gI(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});$t.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};co.prototype.addLigature=function(t,e,n,i){var r=this.getLookupTables(n,i,t,4,!0)[0],s=r.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},r.subtables[0]=s),$t.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(s.coverage.glyphs,o);if(u>=0){for(var c=s.ligatureSets[u],f=0;f<c.length;f++)if(ume(c[f].components,a))return;c.push(l)}else u=-1-u,s.coverage.glyphs.splice(u,0,o),s.ligatureSets.splice(u,0,[l])};co.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};co.prototype.add=function(t,e,n,i){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,i);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,i):this.addAlternate(t,e,n,i);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,i);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,i):this.addLigature(t,e,n,i)}};function cme(){return typeof window<"u"}function fme(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),i=0;i<e.length;++i)e[i]=n[i];return e}function D0(t,e){if(!t)throw e}function SO(t,e,n,i,r){var s;return(e&i)>0?(s=t.parseByte(),e&r||(s=-s),s=n+s):(e&r)>0?s=n:s=n+t.parseShort(),s}function hY(t,e,n){var i=new on.Parser(e,n);t.numberOfContours=i.parseShort(),t._xMin=i.parseShort(),t._yMin=i.parseShort(),t._xMax=i.parseShort(),t._yMax=i.parseShort();var r,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(i.parseUShort());t.instructionLength=i.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(i.parseByte());var u=o[o.length-1]+1;r=[];for(var c=0;c<u;c+=1)if(s=i.parseByte(),r.push(s),(s&8)>0)for(var f=i.parseByte(),h=0;h<f;h+=1)r.push(s),c+=1;if($t.argument(r.length===u,"Bad flags."),o.length>0){var d=[],p;if(u>0){for(var y=0;y<u;y+=1)s=r[y],p={},p.onCurve=!!(s&1),p.lastPointOfContour=o.indexOf(y)>=0,d.push(p);for(var A=0,g=0;g<u;g+=1)s=r[g],p=d[g],p.x=SO(i,s,A,2,16),A=p.x;for(var x=0,S=0;S<u;S+=1)s=r[S],p=d[S],p.y=SO(i,s,x,4,32),x=p.y}t.points=d}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var E=!0;E;){r=i.parseUShort();var w={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(r&1)>0?(r&2)>0?(w.dx=i.parseShort(),w.dy=i.parseShort()):w.matchedPoints=[i.parseUShort(),i.parseUShort()]:(r&2)>0?(w.dx=i.parseChar(),w.dy=i.parseChar()):w.matchedPoints=[i.parseByte(),i.parseByte()],(r&8)>0?w.xScale=w.yScale=i.parseF2Dot14():(r&64)>0?(w.xScale=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()):(r&128)>0&&(w.xScale=i.parseF2Dot14(),w.scale01=i.parseF2Dot14(),w.scale10=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()),t.components.push(w),E=!!(r&32)}if(r&256){t.instructionLength=i.parseUShort(),t.instructions=[];for(var C=0;C<t.instructionLength;C+=1)t.instructions.push(i.parseByte())}}}function n_(t,e){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],s={x:e.xScale*r.x+e.scale01*r.y+e.dx,y:e.scale10*r.x+e.yScale*r.y+e.dy,onCurve:r.onCurve,lastPointOfContour:r.lastPointOfContour};n.push(s)}return n}function hme(t){for(var e=[],n=[],i=0;i<t.length;i+=1){var r=t[i];n.push(r),r.lastPointOfContour&&(e.push(n),n=[])}return $t.argument(n.length===0,"There are still points left in the current contour."),e}function dY(t){var e=new cr;if(!t)return e;for(var n=hme(t),i=0;i<n.length;++i){var r=n[i],s=null,o=r[r.length-1],a=r[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var u=0;u<r.length;++u)if(s=o,o=a,a=r[(u+1)%r.length],o.onCurve)e.lineTo(o.x,o.y);else{var c=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(c={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,c.x,c.y)}e.closePath()}return e}function pY(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var i=e.components[n],r=t.get(i.glyphIndex);if(r.getPath(),r.points){var s=void 0;if(i.matchedPoints===void 0)s=n_(r.points,i);else{if(i.matchedPoints[0]>e.points.length-1||i.matchedPoints[1]>r.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[i.matchedPoints[0]],a=r.points[i.matchedPoints[1]],l={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};a=n_([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=n_(r.points,l)}e.points=e.points.concat(s)}}return dY(e.points)}function dme(t,e,n,i){for(var r=new sl.GlyphSet(i),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?r.push(s,sl.ttfGlyphLoader(i,s,hY,t,e+o,pY)):r.push(s,sl.glyphLoader(i,s))}return r}function pme(t,e,n,i){var r=new sl.GlyphSet(i);return i._push=function(s){var o=n[s],a=n[s+1];o!==a?r.push(s,sl.ttfGlyphLoader(i,s,hY,t,e+o,pY)):r.push(s,sl.glyphLoader(i,s))},r}function mme(t,e,n,i,r){return r.lowMemory?pme(t,e,n,i):dme(t,e,n,i)}var gme={getPath:dY,parse:mme},mY,$f,gY,pT;function vY(t){this.font=t,this.getCommands=function(e){return gme.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function vme(t){return t}function AY(t){return Math.sign(t)*Math.round(Math.abs(t))}function Ame(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function yme(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function xme(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Sme(t){return Math.sign(t)*Math.floor(Math.abs(t))}var yY=function(t){var e=this.srPeriod,n=this.srPhase,i=this.srThreshold,r=1;return t<0&&(t=-t,r=-1),t+=i-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*r:t*r},Za={x:1,y:0,axis:"x",distance:function(t,e,n,i){return(n?t.xo:t.x)-(i?e.xo:e.x)},interpolate:function(t,e,n,i){var r,s,o,a,l,u,c;if(!i||i===this){if(r=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,u=n.x-n.xo,o=Math.abs(r),a=Math.abs(s),c=o+a,c===0){t.x=t.xo+(l+u)/2;return}t.x=t.xo+(l*a+u*o)/c;return}if(r=i.distance(t,e,!0,!0),s=i.distance(t,n,!0,!0),l=i.distance(e,e,!1,!0),u=i.distance(n,n,!1,!0),o=Math.abs(r),a=Math.abs(s),c=o+a,c===0){Za.setRelative(t,t,(l+u)/2,i,!0);return}Za.setRelative(t,t,(l*a+u*o)/c,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,i,r){if(!i||i===this){t.x=(r?e.xo:e.x)+n;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y;t.x=a+(t.y-l)/i.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},jl={x:0,y:1,axis:"y",distance:function(t,e,n,i){return(n?t.yo:t.y)-(i?e.yo:e.y)},interpolate:function(t,e,n,i){var r,s,o,a,l,u,c;if(!i||i===this){if(r=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,u=n.y-n.yo,o=Math.abs(r),a=Math.abs(s),c=o+a,c===0){t.y=t.yo+(l+u)/2;return}t.y=t.yo+(l*a+u*o)/c;return}if(r=i.distance(t,e,!0,!0),s=i.distance(t,n,!0,!0),l=i.distance(e,e,!1,!0),u=i.distance(n,n,!1,!0),o=Math.abs(r),a=Math.abs(s),c=o+a,c===0){jl.setRelative(t,t,(l+u)/2,i,!0);return}jl.setRelative(t,t,(l*a+u*o)/c,i,!0)},normalSlope:0,setRelative:function(t,e,n,i,r){if(!i||i===this){t.y=(r?e.yo:e.y)+n;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y;t.y=l+i.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Za);Object.freeze(jl);function JA(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}JA.prototype.distance=function(t,e,n,i){return this.x*Za.distance(t,e,n,i)+this.y*jl.distance(t,e,n,i)};JA.prototype.interpolate=function(t,e,n,i){var r,s,o,a,l,u,c;if(o=i.distance(t,e,!0,!0),a=i.distance(t,n,!0,!0),r=i.distance(e,e,!1,!0),s=i.distance(n,n,!1,!0),l=Math.abs(o),u=Math.abs(a),c=l+u,c===0){this.setRelative(t,t,(r+s)/2,i,!0);return}this.setRelative(t,t,(r*u+s*l)/c,i,!0)};JA.prototype.setRelative=function(t,e,n,i,r){i=i||this;var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y,u=i.normalSlope,c=this.slope,f=t.x,h=t.y;t.x=(c*f-u*a+l-h)/(c-u),t.y=c*(t.x-f)+h};JA.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function ZA(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Za:t===0&&e===1?jl:new JA(t,e)}function Kl(t,e,n,i){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Kl.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Kl.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var cA=Object.freeze(new Kl(0,0)),Eme={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function tc(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Za,this.round=AY}}vY.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,i=this._prepState;if(!i||i.ppem!==e){var r=this._fpgmState;if(!r){tc.prototype=Eme,r=this._fpgmState=new tc("fpgm",n.tables.fpgm),r.funcs=[],r.font=n,Xe.DEBUG&&(console.log("---EXEC FPGM---"),r.step=-1);try{$f(r)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}tc.prototype=r,i=this._prepState=new tc("prep",n.tables.prep),i.ppem=e;var s=n.tables.cvt;if(s)for(var o=i.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else i.cvt=[];Xe.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{$f(i)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return gY(t,i)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};gY=function(t,e){var n=e.ppem/e.font.unitsPerEm,i=n,r=t.components,s,o,a;if(tc.prototype=e,!r)a=new tc("glyf",t.instructions),Xe.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),pT(t,a,n,i),o=a.gZone;else{var l=e.font;o=[],s=[];for(var u=0;u<r.length;u++){var c=r[u],f=l.glyphs.get(c.glyphIndex);a=new tc("glyf",f.instructions),Xe.DEBUG&&(console.log("---EXEC COMP "+u+"---"),a.step=-1),pT(f,a,n,i);for(var h=Math.round(c.dx*n),d=Math.round(c.dy*i),p=a.gZone,y=a.contours,A=0;A<p.length;A++){var g=p[A];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+h,g.yo=g.y=g.y+d}var x=o.length;o.push.apply(o,p);for(var S=0;S<y.length;S++)s.push(y[S]+x)}t.instructions&&!a.inhibitGridFit&&(a=new tc("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new Kl(0,0),new Kl(Math.round(t.advanceWidth*n),0)),Xe.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),$f(a),o.length-=2)}return o};pT=function(t,e,n,i){for(var r=t.points||[],s=r.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,u=0;u<s;u++)l=r[u],o[u]=new Kl(l.x*n,l.y*i,l.lastPointOfContour,l.onCurve);for(var c,f,h=0;h<s;h++)l=o[h],c||(c=l,a.push(h)),l.lastPointOfContour?(l.nextPointOnContour=c,c.prevPointOnContour=l,c=void 0):(f=o[h+1],l.nextPointOnContour=f,f.prevPointOnContour=l);if(!e.inhibitGridFit){if(Xe.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var d=0;d<s;d++)console.log(d,o[d].x,o[d].y)}if(o.push(new Kl(0,0),new Kl(Math.round(t.advanceWidth*n),0)),$f(e),o.length-=2,Xe.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var p=0;p<s;p++)console.log(p,o[p].x,o[p].y)}}};$f=function(t){var e=t.prog;if(e){var n=e.length,i;for(t.ip=0;t.ip<n;t.ip++){if(Xe.DEBUG&&t.step++,i=mY[e[t.ip]],!i)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));i(t)}}};function iE(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Kl(0,0)}function xY(t,e){var n=t.prog,i=t.ip,r=1,s;do if(s=n[++i],s===88)r++;else if(s===89)r--;else if(s===64)i+=n[i+1]+1;else if(s===65)i+=2*n[i+1]+1;else if(s>=176&&s<=183)i+=s-176+1;else if(s>=184&&s<=191)i+=(s-184+1)*2;else if(e&&r===1&&s===27)break;while(r>0);t.ip=i}function EO(t,e){Xe.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function wO(t,e){Xe.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function _O(t,e){Xe.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function CO(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];Xe.DEBUG&&console.log("SPVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=ZA(a,l)}function bO(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];Xe.DEBUG&&console.log("SFVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=ZA(a,l)}function wme(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"SPVFS[]",n,i),t.pv=t.dpv=ZA(i,n)}function _me(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"SPVFS[]",n,i),t.fv=ZA(i,n)}function Cme(t){var e=t.stack,n=t.pv;Xe.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function bme(t){var e=t.stack,n=t.fv;Xe.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Tme(t){t.fv=t.pv,Xe.DEBUG&&console.log(t.step,"SFVTPV[]")}function Mme(t){var e=t.stack,n=e.pop(),i=e.pop(),r=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,u=a[n],c=a[i],f=l[r],h=l[s],d=t.z2[o];Xe.DEBUG&&console.log("ISECT[], ",n,i,r,s,o);var p=u.x,y=u.y,A=c.x,g=c.y,x=f.x,S=f.y,E=h.x,w=h.y,C=(p-A)*(S-w)-(y-g)*(x-E),b=p*g-y*A,I=x*w-S*E;d.x=(b*(x-E)-I*(p-A))/C,d.y=(b*(S-w)-I*(y-g))/C}function Ime(t){t.rp0=t.stack.pop(),Xe.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function Rme(t){t.rp1=t.stack.pop(),Xe.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function Pme(t){t.rp2=t.stack.pop(),Xe.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function Bme(t){var e=t.stack.pop();switch(Xe.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||iE(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Dme(t){var e=t.stack.pop();switch(Xe.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||iE(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Lme(t){var e=t.stack.pop();switch(Xe.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||iE(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Ome(t){var e=t.stack.pop();switch(Xe.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||iE(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Fme(t){t.loop=t.stack.pop(),Xe.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function Ume(t){Xe.DEBUG&&console.log(t.step,"RTG[]"),t.round=AY}function kme(t){Xe.DEBUG&&console.log(t.step,"RTHG[]"),t.round=yme}function Nme(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function Gme(t){Xe.DEBUG&&console.log(t.step,"ELSE[]"),xY(t,!1)}function zme(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function Hme(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function Vme(t){var e=t.stack;Xe.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function i_(t){Xe.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Qme(t){Xe.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function Wme(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(i)}function jme(t){var e=t.stack;Xe.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function qme(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"LOOPCALL[]",n,i);var r=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<i;o++)$f(t),Xe.DEBUG&&console.log(++t.step,o+1<i?"next loopcall":"done loopcall",o);t.ip=r,t.prog=s}function Xme(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,i=t.prog;t.prog=t.funcs[e],$f(t),t.ip=n,t.prog=i,Xe.DEBUG&&console.log(++t.step,"returning from",e)}function Yme(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function Kme(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function Jme(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,i=t.ip,r=e.pop(),s=i;for(Xe.DEBUG&&console.log(t.step,"FDEF[]",r);n[++i]!==45;);t.ip=i,t.funcs[r]=n.slice(s+1,i)}function TO(t,e){var n=e.stack.pop(),i=e.z0[n],r=e.fv,s=e.pv;Xe.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(i,cA);t&&(o=e.round(o)),r.setRelative(i,cA,o,s),r.touch(i),e.rp0=e.rp1=n}function MO(t,e){var n=e.z2,i=n.length-2,r,s,o;Xe.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<i;a++)r=n[a],!t.touched(r)&&(s=r.prevTouched(t),s!==r&&(o=r.nextTouched(t),s===o&&t.setRelative(r,r,t.distance(s,s,!1,!0),t,!0),t.interpolate(r,s,o,t)))}function IO(t,e){for(var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var u=n.pop(),c=l[u],f=o.distance(r,r,!1,!0);s.setRelative(c,c,f,o),s.touch(c),Xe.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",u)}e.loop=1}function RO(t,e){var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],u=l;Xe.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var c=o.distance(r,r,!1,!0);do u!==r&&s.setRelative(u,u,c,o),u=u.nextPointOnContour;while(u!==l)}function PO(t,e){var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=n.pop();Xe.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=o.distance(r,r,!1,!0),f=l.length-2,h=0;h<f;h++)u=l[h],s.setRelative(u,u,c,o)}function Zme(t){for(var e=t.stack,n=t.loop,i=t.fv,r=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];Xe.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,r),i.setRelative(a,a,r),i.touch(a)}t.loop=1}function $me(t){for(var e=t.stack,n=t.rp1,i=t.rp2,r=t.loop,s=t.z0[n],o=t.z1[i],a=t.fv,l=t.dpv,u=t.z2;r--;){var c=e.pop(),f=u[c];Xe.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"IP[]",c,n,"<->",i),a.interpolate(f,s,o,l),a.touch(f)}t.loop=1}function BO(t,e){var n=e.stack,i=n.pop()/64,r=n.pop(),s=e.z1[r],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,i,l),a.touch(s),Xe.DEBUG&&console.log(e.step,"MSIRP["+t+"]",i,r),e.rp1=e.rp0,e.rp2=r,t&&(e.rp0=r)}function ege(t){for(var e=t.stack,n=t.rp0,i=t.z0[n],r=t.loop,s=t.fv,o=t.pv,a=t.z1;r--;){var l=e.pop(),u=a[l];Xe.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"ALIGNRP[]",l),s.setRelative(u,i,0,o),s.touch(u)}t.loop=1}function tge(t){Xe.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Ame}function DO(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z0[r],o=e.fv,a=e.pv,l=e.cvt[i];Xe.DEBUG&&console.log(e.step,"MIAP["+t+"]",i,"(",l,")",r);var u=a.distance(s,cA);t&&(Math.abs(u-l)<e.cvCutIn&&(u=l),u=e.round(u)),o.setRelative(s,cA,u,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=r}function nge(t){var e=t.prog,n=t.ip,i=t.stack,r=e[++n];Xe.DEBUG&&console.log(t.step,"NPUSHB[]",r);for(var s=0;s<r;s++)i.push(e[++n]);t.ip=n}function ige(t){var e=t.ip,n=t.prog,i=t.stack,r=n[++e];Xe.DEBUG&&console.log(t.step,"NPUSHW[]",r);for(var s=0;s<r;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),i.push(o)}t.ip=e}function rge(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var i=e.pop(),r=e.pop();Xe.DEBUG&&console.log(t.step,"WS",i,r),n[r]=i}function sge(t){var e=t.stack,n=t.store,i=e.pop();Xe.DEBUG&&console.log(t.step,"RS",i);var r=n&&n[i]||0;e.push(r)}function oge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"WCVTP",n,i),t.cvt[i]=n/64}function age(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function LO(t,e){var n=e.stack,i=n.pop(),r=e.z2[i];Xe.DEBUG&&console.log(e.step,"GC["+t+"]",i),n.push(e.dpv.distance(r,cA,t,!1)*64)}function OO(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z1[i],o=e.z0[r],a=e.dpv.distance(o,s,t,t);Xe.DEBUG&&console.log(e.step,"MD["+t+"]",i,r,"->",a),e.stack.push(Math.round(a*64))}function lge(t){Xe.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function uge(t){Xe.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function cge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"LT[]",n,i),e.push(i<n?1:0)}function fge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"LTEQ[]",n,i),e.push(i<=n?1:0)}function hge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"GT[]",n,i),e.push(i>n?1:0)}function dge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"GTEQ[]",n,i),e.push(i>=n?1:0)}function pge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"EQ[]",n,i),e.push(n===i?1:0)}function mge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"NEQ[]",n,i),e.push(n!==i?1:0)}function gge(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function vge(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function Age(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"IF[]",e),e||(xY(t,!0),Xe.DEBUG&&console.log(t.step,"EIF[]"))}function yge(t){Xe.DEBUG&&console.log(t.step,"EIF[]")}function xge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"AND[]",n,i),e.push(n&&i?1:0)}function Sge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"OR[]",n,i),e.push(n||i?1:0)}function Ege(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function r_(t,e){var n=e.stack,i=n.pop(),r=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,u=e.z0;Xe.DEBUG&&console.log(e.step,"DELTAP["+t+"]",i,n);for(var c=0;c<i;c++){var f=n.pop(),h=n.pop(),d=a+((h&240)>>4);if(d===o){var p=(h&15)-8;p>=0&&p++,Xe.DEBUG&&console.log(e.step,"DELTAPFIX",f,"by",p*l);var y=u[f];r.setRelative(y,y,p*l,s)}}}function wge(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function _ge(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function Cge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"ADD[]",n,i),e.push(i+n)}function bge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"SUB[]",n,i),e.push(i-n)}function Tge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"DIV[]",n,i),e.push(i*64/n)}function Mge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"MUL[]",n,i),e.push(i*n/64)}function Ige(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function Rge(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function Pge(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function Bge(t){var e=t.stack,n=e.pop();Xe.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function I5(t,e){var n=e.stack,i=n.pop();Xe.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(i/64)*64)}function Dge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"WCVTF[]",n,i),t.cvt[i]=n*t.ppem/t.font.unitsPerEm}function s_(t,e){var n=e.stack,i=n.pop(),r=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;Xe.DEBUG&&console.log(e.step,"DELTAC["+t+"]",i,n);for(var a=0;a<i;a++){var l=n.pop(),u=n.pop(),c=s+((u&240)>>4);if(c===r){var f=(u&15)-8;f>=0&&f++;var h=f*o;Xe.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",h),e.cvt[l]+=h}}}function Lge(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=yY;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function Oge(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=yY;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function Fge(t){Xe.DEBUG&&console.log(t.step,"ROFF[]"),t.round=vme}function Uge(t){Xe.DEBUG&&console.log(t.step,"RUTG[]"),t.round=xme}function kge(t){Xe.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Sme}function Nge(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function FO(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];Xe.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=ZA(a,l)}function Gge(t){var e=t.stack,n=e.pop(),i=0;Xe.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(i=35),n&32&&(i|=4096),e.push(i)}function zge(t){var e=t.stack,n=e.pop(),i=e.pop(),r=e.pop();Xe.DEBUG&&console.log(t.step,"ROLL[]"),e.push(i),e.push(n),e.push(r)}function Hge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"MAX[]",n,i),e.push(Math.max(i,n))}function Vge(t){var e=t.stack,n=e.pop(),i=e.pop();Xe.DEBUG&&console.log(t.step,"MIN[]",n,i),e.push(Math.min(i,n))}function Qge(t){var e=t.stack.pop();Xe.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function Wge(t){var e=t.stack.pop(),n=t.stack.pop();switch(Xe.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Ou(t,e){var n=e.stack,i=e.prog,r=e.ip;Xe.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(i[++r]);e.ip=r}function Fu(t,e){var n=e.ip,i=e.prog,r=e.stack;Xe.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=i[++n]<<8|i[++n];o&32768&&(o=-((o^65535)+1)),r.push(o)}e.ip=n}function _t(t,e,n,i,r,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),u=s.rp0,c=s.z0[u],f=s.z1[l],h=s.minDis,d=s.fv,p=s.dpv,y,A,g,x;A=y=p.distance(f,c,!0,!0),g=A>=0?1:-1,A=Math.abs(A),t&&(x=s.cvt[a],i&&Math.abs(A-x)<s.cvCutIn&&(A=x)),n&&A<h&&(A=h),i&&(A=s.round(A)),d.setRelative(f,c,g*A,p),d.touch(f),Xe.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(i?"R":"_")+(r===0?"Gr":r===1?"Bl":r===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+x+")":"",l,"(d =",y,"->",g*A,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}mY=[EO.bind(void 0,jl),EO.bind(void 0,Za),wO.bind(void 0,jl),wO.bind(void 0,Za),_O.bind(void 0,jl),_O.bind(void 0,Za),CO.bind(void 0,0),CO.bind(void 0,1),bO.bind(void 0,0),bO.bind(void 0,1),wme,_me,Cme,bme,Tme,Mme,Ime,Rme,Pme,Bme,Dme,Lme,Ome,Fme,Ume,kme,Nme,Gme,zme,Hme,void 0,void 0,Vme,i_,Qme,Wme,jme,Yme,Kme,void 0,void 0,void 0,qme,Xme,Jme,void 0,TO.bind(void 0,0),TO.bind(void 0,1),MO.bind(void 0,jl),MO.bind(void 0,Za),IO.bind(void 0,0),IO.bind(void 0,1),RO.bind(void 0,0),RO.bind(void 0,1),PO.bind(void 0,0),PO.bind(void 0,1),Zme,$me,BO.bind(void 0,0),BO.bind(void 0,1),ege,tge,DO.bind(void 0,0),DO.bind(void 0,1),nge,ige,rge,sge,oge,age,LO.bind(void 0,0),LO.bind(void 0,1),void 0,OO.bind(void 0,0),OO.bind(void 0,1),lge,void 0,uge,void 0,void 0,cge,fge,hge,dge,pge,mge,gge,vge,Age,yge,xge,Sge,Ege,r_.bind(void 0,1),wge,_ge,Cge,bge,Tge,Mge,Ige,Rge,Pge,Bge,I5.bind(void 0,0),I5.bind(void 0,1),I5.bind(void 0,2),I5.bind(void 0,3),void 0,void 0,void 0,void 0,Dge,r_.bind(void 0,2),r_.bind(void 0,3),s_.bind(void 0,1),s_.bind(void 0,2),s_.bind(void 0,3),Lge,Oge,void 0,void 0,Fge,void 0,Uge,kge,i_,i_,void 0,void 0,void 0,void 0,void 0,Nge,FO.bind(void 0,0),FO.bind(void 0,1),Gge,void 0,zge,Hge,Vge,Qge,Wge,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ou.bind(void 0,1),Ou.bind(void 0,2),Ou.bind(void 0,3),Ou.bind(void 0,4),Ou.bind(void 0,5),Ou.bind(void 0,6),Ou.bind(void 0,7),Ou.bind(void 0,8),Fu.bind(void 0,1),Fu.bind(void 0,2),Fu.bind(void 0,3),Fu.bind(void 0,4),Fu.bind(void 0,5),Fu.bind(void 0,6),Fu.bind(void 0,7),Fu.bind(void 0,8),_t.bind(void 0,0,0,0,0,0),_t.bind(void 0,0,0,0,0,1),_t.bind(void 0,0,0,0,0,2),_t.bind(void 0,0,0,0,0,3),_t.bind(void 0,0,0,0,1,0),_t.bind(void 0,0,0,0,1,1),_t.bind(void 0,0,0,0,1,2),_t.bind(void 0,0,0,0,1,3),_t.bind(void 0,0,0,1,0,0),_t.bind(void 0,0,0,1,0,1),_t.bind(void 0,0,0,1,0,2),_t.bind(void 0,0,0,1,0,3),_t.bind(void 0,0,0,1,1,0),_t.bind(void 0,0,0,1,1,1),_t.bind(void 0,0,0,1,1,2),_t.bind(void 0,0,0,1,1,3),_t.bind(void 0,0,1,0,0,0),_t.bind(void 0,0,1,0,0,1),_t.bind(void 0,0,1,0,0,2),_t.bind(void 0,0,1,0,0,3),_t.bind(void 0,0,1,0,1,0),_t.bind(void 0,0,1,0,1,1),_t.bind(void 0,0,1,0,1,2),_t.bind(void 0,0,1,0,1,3),_t.bind(void 0,0,1,1,0,0),_t.bind(void 0,0,1,1,0,1),_t.bind(void 0,0,1,1,0,2),_t.bind(void 0,0,1,1,0,3),_t.bind(void 0,0,1,1,1,0),_t.bind(void 0,0,1,1,1,1),_t.bind(void 0,0,1,1,1,2),_t.bind(void 0,0,1,1,1,3),_t.bind(void 0,1,0,0,0,0),_t.bind(void 0,1,0,0,0,1),_t.bind(void 0,1,0,0,0,2),_t.bind(void 0,1,0,0,0,3),_t.bind(void 0,1,0,0,1,0),_t.bind(void 0,1,0,0,1,1),_t.bind(void 0,1,0,0,1,2),_t.bind(void 0,1,0,0,1,3),_t.bind(void 0,1,0,1,0,0),_t.bind(void 0,1,0,1,0,1),_t.bind(void 0,1,0,1,0,2),_t.bind(void 0,1,0,1,0,3),_t.bind(void 0,1,0,1,1,0),_t.bind(void 0,1,0,1,1,1),_t.bind(void 0,1,0,1,1,2),_t.bind(void 0,1,0,1,1,3),_t.bind(void 0,1,1,0,0,0),_t.bind(void 0,1,1,0,0,1),_t.bind(void 0,1,1,0,0,2),_t.bind(void 0,1,1,0,0,3),_t.bind(void 0,1,1,0,1,0),_t.bind(void 0,1,1,0,1,1),_t.bind(void 0,1,1,0,1,2),_t.bind(void 0,1,1,0,1,3),_t.bind(void 0,1,1,1,0,0),_t.bind(void 0,1,1,1,0,1),_t.bind(void 0,1,1,1,0,2),_t.bind(void 0,1,1,1,0,3),_t.bind(void 0,1,1,1,1,0),_t.bind(void 0,1,1,1,1,1),_t.bind(void 0,1,1,1,1,2),_t.bind(void 0,1,1,1,1,3)];function Dp(t){this.char=t,this.state={},this.activeState=null}function vI(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function jge(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function Aa(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function rE(t){this.eventId=t,this.subscribers=[]}function qge(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(r){Object.defineProperty(e.events,r,{value:new rE(r)})}),t&&n.forEach(function(r){var s=t[r];typeof s=="function"&&e.events[r].subscribe(s)});var i=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];i.forEach(function(r){e.events[r].subscribe(e.updateContextsRanges)})}function Fi(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],qge.call(this,t)}Dp.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Dp.prototype.getState=function(t){return this.state[t]||null};Fi.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};Fi.prototype.composeRUD=function(t){var e=this,n=!0,i=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),r=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(i.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:i.filter(r)};this.dispatch("composeRUD",[i.filter(function(s){return!r(s)})])};Fi.prototype.replaceRange=function(t,e,n,i){e=e!==null?e:this.tokens.length;var r=n.every(function(o){return o instanceof Dp});if(!isNaN(t)&&this.inboundIndex(t)&&r){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return i||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Fi.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Dp){var i=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[i[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};Fi.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var i=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[i,t,e]),i};Fi.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};Fi.prototype.insertToken=function(t,e,n){var i=t.every(function(r){return r instanceof Dp});return i?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};Fi.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(i,r){var s=[i,r],o=e===null||e.apply(this,s)===!0,a=[i,r];if(o){var l=n.apply(this,a);i.setState(t,l)}}),this.registeredModifiers.push(t)};rE.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};rE.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};Aa.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};Aa.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};Fi.prototype.rangeToText=function(t){if(t instanceof vI)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};Fi.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};Fi.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};Fi.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};Fi.prototype.dispatch=function(t,e){var n=this,i=this.events[t];i instanceof rE&&i.subscribers.forEach(function(r){r.apply(n,e||[])})};Fi.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var i=new jge(t,e,n);return this.registeredContexts[t]=i,this.contextCheckers.push(i),i};Fi.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};Fi.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};Fi.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};Fi.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(i){return i.char}),e=0;e<t.length;e++){var n=new Aa(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Fi.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,i=new vI(n,t,e),r=this.getContext(e).ranges;return i.rangeId=e+"."+r.length,r.push(i),this.getContext(e).openRange=null,i};Fi.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(i){var r=i.contextName,s=e.getContext(r).openRange;if(!s&&i.checkStart(t)&&(s=new vI(n,null,r),e.getContext(r).openRange=s,e.dispatch("contextStart",[r,n])),s&&i.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,r);e.dispatch("contextEnd",[r,a])}})};Fi.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var i=e[n],r=new Aa(e,n);this.dispatch("next",[r]),this.runContextCheck(r);var s=new Dp(i);this.tokens.push(s),this.dispatch("newToken",[s,r])}return this.dispatch("end",[this.tokens]),this.tokens};function pc(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function SY(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function xc(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function yx(t){return/[A-z]/.test(t)}function Xge(t){return/\s/.test(t)}function fo(t){this.font=t,this.features={}}function Ef(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function $A(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,i=0;i<n.length;i++){var r=n[i];if(t>=r.start&&t<=r.end){var s=t-r.start;return r.index+s}}break;default:return-1}return-1}function Yge(t,e){var n=$A(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function Kge(t,e){var n=$A(t,e.coverage);return n===-1?null:e.substitute[n]}function o_(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i],s=e.current;s=Array.isArray(s)?s[0]:s;var o=$A(s,r);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function Jge(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var i=o_(e.inputCoverage,t);if(i===-1)return[];var r=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(r);s.length&&xc(s[0].char);)s.shift();var o=new Aa(s,0),a=o_(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&xc(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var u=new Aa(l,0),c=o_(e.backtrackCoverage,u),f=i.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&c.length===e.backtrackCoverage.length,h=[];if(f)for(var d=0;d<e.lookupRecords.length;d++)for(var p=e.lookupRecords[d],y=p.lookupListIndex,A=this.getLookupByIndex(y),g=0;g<A.subtables.length;g++){var x=A.subtables[g],S=this.getLookupMethod(A,x),E=this.getSubstitutionType(A,x);if(E==="12")for(var w=0;w<i.length;w++){var C=t.get(w),b=S(C);b&&h.push(b)}}return h}function Zge(t,e){var n=t.current,i=$A(n,e.coverage);if(i===-1)return null;for(var r,s=e.ligatureSets[i],o=0;o<s.length;o++){r=s[o];for(var a=0;a<r.components.length;a++){var l=t.lookahead[a],u=r.components[a];if(l!==u)break;if(a===r.components.length-1)return r}}return null}function $ge(t,e){var n=$A(t,e.coverage);return n===-1?null:e.sequences[n]}fo.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};fo.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,i=0;i<n.length;i++){var r=n[i];if(r.tag===t&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var s=r.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};fo.prototype.mapTagsToFeatures=function(t,e){for(var n={},i=0;i<t.length;i++){var r=t[i].tag,s=t[i].feature;n[r]=s}this.features[e].tags=n};fo.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var i=this.font.tables.gsub;return e=n.map(function(r){return i.features[r]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};fo.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),i=e.substFormat.toString();return n+i};fo.prototype.getLookupMethod=function(t,e){var n=this,i=this.getSubstitutionType(t,e);switch(i){case"11":return function(r){return Yge.apply(n,[r,e])};case"12":return function(r){return Kge.apply(n,[r,e])};case"63":return function(r){return Jge.apply(n,[r,e])};case"41":return function(r){return Zge.apply(n,[r,e])};case"21":return function(r){return $ge.apply(n,[r,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};fo.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,i=this.getFeature({tag:t.tag,script:t.script});if(!i)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var r=this.getFeatureLookups(i),s=[].concat(e.context),o=0;o<r.length;o++)for(var a=r[o],l=this.getLookupSubtables(a),u=0;u<l.length;u++){var c=l[u],f=this.getSubstitutionType(a,c),h=this.getLookupMethod(a,c),d=void 0;switch(f){case"11":d=h(e.current),d&&s.splice(n,1,new Ef({id:11,tag:t.tag,substitution:d}));break;case"12":d=h(e.current),d&&s.splice(n,1,new Ef({id:12,tag:t.tag,substitution:d}));break;case"63":d=h(e),Array.isArray(d)&&d.length&&s.splice(n,1,new Ef({id:63,tag:t.tag,substitution:d}));break;case"41":d=h(e),d&&s.splice(n,1,new Ef({id:41,tag:t.tag,substitution:d}));break;case"21":d=h(e.current),d&&s.splice(n,1,new Ef({id:21,tag:t.tag,substitution:d}));break}e=new Aa(s,n),!(Array.isArray(d)&&!d.length)&&(d=null)}return s.length?s:null};fo.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(i){return i.tag===t.tag});return e&&n};fo.prototype.getLookupSubtables=function(t){return t.subtables||null};fo.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};fo.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};fo.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function eve(t){var e=t.current,n=t.get(-1);return n===null&&pc(e)||!pc(n)&&pc(e)}function tve(t){var e=t.get(1);return e===null||!pc(e)}var nve={startCheck:eve,endCheck:tve};function ive(t){var e=t.current,n=t.get(-1);return(pc(e)||xc(e))&&!pc(n)}function rve(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!pc(e)&&!xc(e)):var n=Xge(e);if(!n)return!0;if(n){var i=!1;if(i=t.lookahead.some(function(r){return pc(r)||xc(r)}),!i)return!0}break;default:return!1}}var sve={startCheck:ive,endCheck:rve};function ove(t,e,n){e[n].setState(t.tag,t.substitution)}function ave(t,e,n){e[n].setState(t.tag,t.substitution)}function lve(t,e,n){t.substitution.forEach(function(i,r){var s=e[n+r];s.setState(t.tag,i)})}function uve(t,e,n){var i=e[n];i.setState(t.tag,t.substitution.ligGlyph);for(var r=t.substitution.components.length,s=0;s<r;s++)i=e[n+s+1],i.setState("deleted",!0)}var UO={11:ove,12:ave,63:lve,41:uve};function AI(t,e,n){t instanceof Ef&&UO[t.id]&&UO[t.id](t,e,n)}function cve(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var i=e[n],r=SY(i),s=xc(i);if(!r&&!s)return!0;if(r)return!1}return!1}function fve(t){if(SY(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],i=xc(n);if(!i)return!0}return!1}function hve(t){var e=this,n="arab",i=this.featuresTags[n],r=this.tokenizer.getRangeTokens(t);if(r.length!==1){var s=new Aa(r.map(function(a){return a.getState("glyphIndex")}),0),o=new Aa(r.map(function(a){return a.char}),0);r.forEach(function(a,l){if(!xc(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var u=0;cve(o)&&(u|=1),fve(o)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(i.indexOf(c)!==-1){var f=e.query.lookupFeature({tag:c,script:n,contextParams:s});if(f instanceof Error)return console.info(f.message);f.forEach(function(h,d){h instanceof Ef&&(AI(h,r,d),s.context[d]=h.substitution)})}}})}}function kO(t,e){var n=t.map(function(i){return i.activeState.value});return new Aa(n,e||0)}function dve(t){var e=this,n="arab",i=this.tokenizer.getRangeTokens(t),r=kO(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:r});a.length&&(a.forEach(function(l){return AI(l,i,o)}),r=kO(i))})}function pve(t){var e=t.current,n=t.get(-1);return n===null&&yx(e)||!yx(n)&&yx(e)}function mve(t){var e=t.get(1);return e===null||!yx(e)}var gve={startCheck:pve,endCheck:mve};function NO(t,e){var n=t.map(function(i){return i.activeState.value});return new Aa(n,e||0)}function vve(t){var e=this,n="latn",i=this.tokenizer.getRangeTokens(t),r=NO(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:r});a.length&&(a.forEach(function(l){return AI(l,i,o)}),r=NO(i))})}function ba(t){this.baseDir=t||"ltr",this.tokenizer=new Fi,this.featuresTags={}}ba.prototype.setText=function(t){this.text=t};ba.prototype.contextChecks={latinWordCheck:gve,arabicWordCheck:nve,arabicSentenceCheck:sve};function a_(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function Ave(){return a_.call(this,"latinWord"),a_.call(this,"arabicWord"),a_.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function yve(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var i=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,i.reverse())})}ba.prototype.registerFeatures=function(t,e){var n=this,i=e.filter(function(r){return n.query.supports({script:t,tag:r})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(i):this.featuresTags[t]=i};ba.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new fo(t));for(var n=0;n<e.length;n++){var i=e[n];this.query.supports({script:i.script})&&this.registerFeatures(i.script,i.tags)}};ba.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function yI(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function xve(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){yI.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(i){hve.call(t,i)})}}function Sve(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){yI.call(this);var i=this.tokenizer.getContextRanges("arabicWord");i.forEach(function(r){dve.call(t,r)})}}}function Eve(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){yI.call(this);var i=this.tokenizer.getContextRanges("latinWord");i.forEach(function(r){vve.call(t,r)})}}}ba.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};ba.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(xve.call(this),Sve.call(this)),this.checkContextReady("latinWord")&&Eve.call(this),this.checkContextReady("arabicSentence")&&yve.call(this)};ba.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),Ave.call(this),this.applyFeaturesToContexts())};ba.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};ba.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var i=this.tokenizer.tokens[n];if(!i.state.deleted){var r=i.activeState.value;e.push(Array.isArray(r)?r[0]:r)}}return e};function oi(t){t=t||{},t.tables=t.tables||{},t.empty||(D0(t.familyName,"When creating a new Font object, familyName is required."),D0(t.styleName,"When creating a new Font object, styleName is required."),D0(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),D0(t.ascender,"When creating a new Font object, ascender is required."),D0(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new sl.GlyphSet(this,t.glyphs||[]),this.encoding=new ZX(this),this.position=new KA(this),this.substitution=new co(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new vY(this)}})}oi.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};oi.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};oi.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};oi.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};oi.prototype.stringToGlyphs=function(t,e){var n=this,i=new ba,r=function(f){return n.charToGlyphIndex(f.char)};i.registerModifier("glyphIndex",null,r);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;i.applyFeatures(this,s);for(var o=i.getTextGlyphs(t),a=o.length,l=new Array(a),u=this.glyphs.get(0),c=0;c<a;c+=1)l[c]=this.glyphs.get(o[c])||u;return l};oi.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};oi.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};oi.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};oi.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};oi.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};oi.prototype.forEachGlyph=function(t,e,n,i,r,s){e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:72,r=Object.assign({},this.defaultRenderOptions,r);var o=1/this.unitsPerEm*i,a=this.stringToGlyphs(t,r),l;if(r.kerning){var u=r.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(u,r.language)}for(var c=0;c<a.length;c+=1){var f=a[c];if(s.call(this,f,e,n,i,r),f.advanceWidth&&(e+=f.advanceWidth*o),r.kerning&&c<a.length-1){var h=l?this.position.getKerningValue(l,f.index,a[c+1].index):this.getKerningValue(f,a[c+1]);e+=h*o}r.letterSpacing?e+=r.letterSpacing*i:r.tracking&&(e+=r.tracking/1e3*i)}return e};oi.prototype.getPath=function(t,e,n,i,r){var s=new cr;return this.forEachGlyph(t,e,n,i,r,function(o,a,l,u){var c=o.getPath(a,l,u,r,this);s.extend(c)}),s};oi.prototype.getPaths=function(t,e,n,i,r){var s=[];return this.forEachGlyph(t,e,n,i,r,function(o,a,l,u){var c=o.getPath(a,l,u,r,this);s.push(c)}),s};oi.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};oi.prototype.draw=function(t,e,n,i,r,s){this.getPath(e,n,i,r,s).draw(t)};oi.prototype.drawPoints=function(t,e,n,i,r,s){this.forEachGlyph(e,n,i,r,s,function(o,a,l,u){o.drawPoints(t,a,l,u)})};oi.prototype.drawMetrics=function(t,e,n,i,r,s){this.forEachGlyph(e,n,i,r,s,function(o,a,l,u){o.drawMetrics(t,a,l,u)})};oi.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};oi.prototype.validate=function(){var t=this;function e(i,r){}function n(i){var r=t.getEnglishName(i);r&&r.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};oi.prototype.toTables=function(){return lme.fontToTable(this)};oi.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};oi.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e[r];return n};oi.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var i=this.toArrayBuffer();if(cme())if(window.URL=window.URL||window.webkitURL,window.URL){var r=new DataView(i),s=new Blob([r],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),u=fme(i);l.writeFileSync(t,u)}};oi.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};oi.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};oi.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var fu=new Array(10);fu[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(Ve.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(Ve.coverage),values:this.parseValueRecordList()};$t.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};fu[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();$t.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(Ve.coverage),r=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:i,valueFormat1:r,valueFormat2:s,pairSets:this.parseList(Ve.pointer(Ve.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(Ve.classDef),a=this.parsePointer(Ve.classDef),l=this.parseUShort(),u=this.parseUShort();return{posFormat:n,coverage:i,valueFormat1:r,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:u,classRecords:this.parseList(l,Ve.list(u,function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}}))}}};fu[3]=function(){return{error:"GPOS Lookup 3 not supported"}};fu[4]=function(){return{error:"GPOS Lookup 4 not supported"}};fu[5]=function(){return{error:"GPOS Lookup 5 not supported"}};fu[6]=function(){return{error:"GPOS Lookup 6 not supported"}};fu[7]=function(){return{error:"GPOS Lookup 7 not supported"}};fu[8]=function(){return{error:"GPOS Lookup 8 not supported"}};fu[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var wve=Object.defineProperty,_ve=(t,e,n)=>e in t?wve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e,n)=>(_ve(t,typeof e!="symbol"?e+"":e,n),n);let L0;function Cve(){var t;if(L0!==void 0)return L0;try{let e;const n=document.createElement("canvas");return L0=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),L0}catch{return L0=!1}}function GO(t,e){if(e===_j)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===sS||e===u9){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(n)if(e===sS)for(let o=1;o<=i;o++)r.push(n.getX(0)),r.push(n.getX(o)),r.push(n.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(n.getX(o)),r.push(n.getX(o+1)),r.push(n.getX(o+2))):(r.push(n.getX(o+2)),r.push(n.getX(o+1)),r.push(n.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}new Je;const EY=class{parse(t,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:EY.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(t instanceof Xt&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const n=t.geometry,i=DracoEncoderModule(),r=new i.Encoder;let s,o;if(!n.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof yn&&t.isMesh){s=new i.MeshBuilder,o=new i.Mesh;const h=n.getAttribute("position");s.AddFloatAttributeToMesh(o,i.POSITION,h.count,h.itemSize,h.array);const d=n.getIndex();if(d!==null)s.AddFacesToMesh(o,d.count/3,d.array);else{const p=new(h.count>65535?Uint32Array:Uint16Array)(h.count);for(let y=0;y<p.length;y++)p[y]=y;s.AddFacesToMesh(o,h.count,p)}if(e.exportNormals){const p=n.getAttribute("normal");p!==void 0&&s.AddFloatAttributeToMesh(o,i.NORMAL,p.count,p.itemSize,p.array)}if(e.exportUvs){const p=n.getAttribute("uv");p!==void 0&&s.AddFloatAttributeToMesh(o,i.TEX_COORD,p.count,p.itemSize,p.array)}if(e.exportColor){const p=n.getAttribute("color");p!==void 0&&s.AddFloatAttributeToMesh(o,i.COLOR,p.count,p.itemSize,p.array)}}else if(t instanceof L6&&t.isPoints){s=new i.PointCloudBuilder,o=new i.PointCloud;const h=n.getAttribute("position");if(s.AddFloatAttribute(o,i.POSITION,h.count,h.itemSize,h.array),e.exportColor){const d=n.getAttribute("color");d!==void 0&&s.AddFloatAttribute(o,i.COLOR,d.count,d.itemSize,d.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new i.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,u=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(r.SetSpeedOptions(l,u),e.encoderMethod!==void 0&&r.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let h=0;h<5;h++)e.quantization[h]!==void 0&&r.SetAttributeQuantization(h,e.quantization[h]);let c;if(t instanceof yn&&t.isMesh?c=r.EncodeMeshToDracoBuffer(o,a):c=r.EncodePointCloudToDracoBuffer(o,!0,a),i.destroy(o),c===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const f=new Int8Array(new ArrayBuffer(c));for(let h=0;h<c;h++)f[h]=a.GetValue(h);return i.destroy(a),i.destroy(r),i.destroy(s),f}};let fl=EY;et(fl,"MESH_EDGEBREAKER_ENCODING",1);et(fl,"MESH_SEQUENTIAL_ENCODING",0);et(fl,"POINT_CLOUD",0);et(fl,"TRIANGULAR_MESH",1);et(fl,"INVALID",-1);et(fl,"POSITION",0);et(fl,"NORMAL",1);et(fl,"COLOR",2);et(fl,"TEX_COORD",3);et(fl,"GENERIC",4);const wY=class extends yn{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new Qn;const n=this,i=e.color!==void 0?new Je(e.color):new Je(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||wY.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,u=new Mo,c=new j,f=new j,h=new j,d=new it,p=new j(0,0,-1),y=new qt,A=new j,g=new j,x=new qt,S=new it,E=this.camera,w=new Rt(r,s,{samples:l,type:hn}),C=new yt({uniforms:$n.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});C.uniforms.tDiffuse.value=w.texture,C.uniforms.color.value=i,C.uniforms.textureMatrix.value=S,this.material=C,this.onBeforeRender=function(b,I,M){if(f.setFromMatrixPosition(n.matrixWorld),h.setFromMatrixPosition(M.matrixWorld),d.extractRotation(n.matrixWorld),c.set(0,0,1),c.applyMatrix4(d),A.subVectors(f,h),A.dot(c)>0)return;A.reflect(c).negate(),A.add(f),d.extractRotation(M.matrixWorld),p.set(0,0,-1),p.applyMatrix4(d),p.add(h),g.subVectors(f,p),g.reflect(c).negate(),g.add(f),E.position.copy(A),E.up.set(0,1,0),E.up.applyMatrix4(d),E.up.reflect(c),E.lookAt(g),E.far=M.far,E.updateMatrixWorld(),E.projectionMatrix.copy(M.projectionMatrix),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(E.projectionMatrix),S.multiply(E.matrixWorldInverse),S.multiply(n.matrixWorld),u.setFromNormalAndCoplanarPoint(c,f),u.applyMatrix4(E.matrixWorldInverse),y.set(u.normal.x,u.normal.y,u.normal.z,u.constant);const R=E.projectionMatrix;x.x=(Math.sign(y.x)+R.elements[8])/R.elements[0],x.y=(Math.sign(y.y)+R.elements[9])/R.elements[5],x.z=-1,x.w=(1+R.elements[10])/R.elements[14],y.multiplyScalar(2/y.dot(x)),R.elements[2]=y.x,R.elements[6]=y.y,R.elements[10]=y.z+1-o,R.elements[14]=y.w,n.visible=!1;const D=b.getRenderTarget(),F=b.xr.enabled,O=b.shadowMap.autoUpdate,L=b.toneMapping;let U=!1;"outputColorSpace"in b?U=b.outputColorSpace==="srgb":U=b.outputEncoding===3001,b.xr.enabled=!1,b.shadowMap.autoUpdate=!1,"outputColorSpace"in b?b.outputColorSpace="linear-srgb":b.outputEncoding=3e3,b.toneMapping=Do,b.setRenderTarget(w),b.state.buffers.depth.setMask(!0),b.autoClear===!1&&b.clear(),b.render(I,E),b.xr.enabled=F,b.shadowMap.autoUpdate=O,b.toneMapping=L,"outputColorSpace"in b?b.outputColorSpace=U?"srgb":"srgb-linear":b.outputEncoding=U?3001:3e3,b.setRenderTarget(D);const q=M.viewport;q!==void 0&&b.state.viewport(q),n.visible=!0},this.getRenderTarget=function(){return w},this.dispose=function(){w.dispose(),n.material.dispose()}}};let mT=wY;et(mT,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Lr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const _Y=class extends yn{constructor(t,e={}){super(t),this.isRefractor=!0,this.type="Refractor",this.camera=new Qn;const n=this,i=e.color!==void 0?new Je(e.color):new Je(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||_Y.RefractorShader,l=e.multisample!==void 0?e.multisample:4,u=this.camera;u.matrixAutoUpdate=!1,u.userData.refractor=!0;const c=new Mo,f=new it,h=new Rt(r,s,{samples:l,type:hn});this.material=new yt({uniforms:$n.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=i,this.material.uniforms.tDiffuse.value=h.texture,this.material.uniforms.textureMatrix.value=f;const d=function(){const x=new j,S=new j,E=new it,w=new j,C=new j;return function(I){return x.setFromMatrixPosition(n.matrixWorld),S.setFromMatrixPosition(I.matrixWorld),w.subVectors(x,S),E.extractRotation(n.matrixWorld),C.set(0,0,1),C.applyMatrix4(E),w.dot(C)<0}}(),p=function(){const x=new j,S=new j,E=new mi,w=new j;return function(){n.matrixWorld.decompose(S,E,w),x.set(0,0,1).applyQuaternion(E).normalize(),x.negate(),c.setFromNormalAndCoplanarPoint(x,S)}}(),y=function(){const x=new Mo,S=new qt,E=new qt;return function(C){u.matrixWorld.copy(C.matrixWorld),u.matrixWorldInverse.copy(u.matrixWorld).invert(),u.projectionMatrix.copy(C.projectionMatrix),u.far=C.far,x.copy(c),x.applyMatrix4(u.matrixWorldInverse),S.set(x.normal.x,x.normal.y,x.normal.z,x.constant);const b=u.projectionMatrix;E.x=(Math.sign(S.x)+b.elements[8])/b.elements[0],E.y=(Math.sign(S.y)+b.elements[9])/b.elements[5],E.z=-1,E.w=(1+b.elements[10])/b.elements[14],S.multiplyScalar(2/S.dot(E)),b.elements[2]=S.x,b.elements[6]=S.y,b.elements[10]=S.z+1-o,b.elements[14]=S.w}}();function A(x){f.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),f.multiply(x.projectionMatrix),f.multiply(x.matrixWorldInverse),f.multiply(n.matrixWorld)}function g(x,S,E){n.visible=!1;const w=x.getRenderTarget(),C=x.xr.enabled,b=x.shadowMap.autoUpdate,I=x.toneMapping;let M=!1;"outputColorSpace"in x?M=x.outputColorSpace==="srgb":M=x.outputEncoding===3001,x.xr.enabled=!1,x.shadowMap.autoUpdate=!1,"outputColorSpace"in x?x.outputColorSpace="linear-srgb":x.outputEncoding=3e3,x.toneMapping=Do,x.setRenderTarget(h),x.autoClear===!1&&x.clear(),x.render(S,u),x.xr.enabled=C,x.shadowMap.autoUpdate=b,x.toneMapping=I,x.setRenderTarget(w),"outputColorSpace"in x?x.outputColorSpace=M?"srgb":"srgb-linear":x.outputEncoding=M?3001:3e3;const R=E.viewport;R!==void 0&&x.state.viewport(R),n.visible=!0}this.onBeforeRender=function(x,S,E){E.userData.refractor!==!0&&d(E)&&(p(),A(E),y(E),g(x,S,E))},this.getRenderTarget=function(){return h},this.dispose=function(){h.dispose(),n.material.dispose()}}};let gT=_Y;et(gT,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Lr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const bve=new Xt,vT=class extends yn{constructor(){super(vT.Geometry,new xr({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new j,e=new j,n=new Bs(new Uint8Array(16*16*3),16,16,Pn);n.minFilter=vt,n.magFilter=vt,n.wrapS=ri,n.wrapT=ri;const i=new Bs(new Uint8Array(16*16*3),16,16,Pn);i.minFilter=vt,i.magFilter=vt,i.wrapS=ri,i.wrapT=ri;const r=vT.Geometry,s=new a3({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new a3({uniforms:{map:{value:n},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new yn(r,s),l=[],u=CY.Shader,c=new a3({uniforms:{map:{value:null},occlusionMap:{value:i},color:{value:new Je(16777215)},scale:{value:new he},screenPosition:{value:new j}},vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:F3,transparent:!0,depthWrite:!1}),f=new yn(r,c);this.addElement=function(A){l.push(A)};const h=new he,d=new he,p=new Iq,y=new qt;this.onBeforeRender=function(A,g,x){A.getCurrentViewport(y);const S=y.w/y.z,E=y.z/2,w=y.w/2;let C=16/y.w;if(h.set(C*S,C),p.min.set(y.x,y.y),p.max.set(y.x+(y.z-16),y.y+(y.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(x.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(x.projectionMatrix),d.x=y.x+t.x*E+E-8,d.y=y.y+t.y*w+w-8,p.containsPoint(d))){A.copyFramebufferToTexture(d,n);let b=s.uniforms;b.scale.value=h,b.screenPosition.value=t,A.renderBufferDirect(x,null,r,s,a,null),A.copyFramebufferToTexture(d,i),b=o.uniforms,b.scale.value=h,b.screenPosition.value=t,A.renderBufferDirect(x,null,r,o,a,null);const I=-t.x*2,M=-t.y*2;for(let R=0,D=l.length;R<D;R++){const F=l[R],O=c.uniforms;O.color.value.copy(F.color),O.map.value=F.texture,O.screenPosition.value.x=t.x+I*F.distance,O.screenPosition.value.y=t.y+M*F.distance,C=F.size/y.w;const L=y.w/y.z;O.scale.value.set(C*L,C),c.uniformsNeedUpdate=!0,A.renderBufferDirect(x,null,r,c,f,null)}}},this.dispose=function(){s.dispose(),o.dispose(),c.dispose(),n.dispose(),i.dispose();for(let A=0,g=l.length;A<g;A++)l[A].texture.dispose()}}};let Tve=vT;et(Tve,"Geometry",bve);class CY{constructor(e,n=1,i=0,r=new Je(16777215)){this.texture=e,this.size=n,this.distance=i,this.color=r}}et(CY,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class h3{constructor(e=Math){et(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),et(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),et(this,"p",[]),et(this,"perm",[]),et(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),et(this,"dot",(n,i,r)=>n[0]*i+n[1]*r),et(this,"dot3",(n,i,r,s)=>n[0]*i+n[1]*r+n[2]*s),et(this,"dot4",(n,i,r,s,o)=>n[0]*i+n[1]*r+n[2]*s+n[3]*o),et(this,"noise",(n,i)=>{let r,s,o;const a=.5*(Math.sqrt(3)-1),l=(n+i)*a,u=Math.floor(n+l),c=Math.floor(i+l),f=(3-Math.sqrt(3))/6,h=(u+c)*f,d=u-h,p=c-h,y=n-d,A=i-p;let g=0,x=1;y>A&&(g=1,x=0);const S=y-g+f,E=A-x+f,w=y-1+2*f,C=A-1+2*f,b=u&255,I=c&255,M=this.perm[b+this.perm[I]]%12,R=this.perm[b+g+this.perm[I+x]]%12,D=this.perm[b+1+this.perm[I+1]]%12;let F=.5-y*y-A*A;F<0?r=0:(F*=F,r=F*F*this.dot(this.grad3[M],y,A));let O=.5-S*S-E*E;O<0?s=0:(O*=O,s=O*O*this.dot(this.grad3[R],S,E));let L=.5-w*w-C*C;return L<0?o=0:(L*=L,o=L*L*this.dot(this.grad3[D],w,C)),70*(r+s+o)}),et(this,"noise3d",(n,i,r)=>{let s,o,a,l;const u=.3333333333333333,c=(n+i+r)*u,f=Math.floor(n+c),h=Math.floor(i+c),d=Math.floor(r+c),p=1/6,y=(f+h+d)*p,A=f-y,g=h-y,x=d-y,S=n-A,E=i-g,w=r-x;let C,b,I,M,R,D;S>=E?E>=w?(C=1,b=0,I=0,M=1,R=1,D=0):S>=w?(C=1,b=0,I=0,M=1,R=0,D=1):(C=0,b=0,I=1,M=1,R=0,D=1):E<w?(C=0,b=0,I=1,M=0,R=1,D=1):S<w?(C=0,b=1,I=0,M=0,R=1,D=1):(C=0,b=1,I=0,M=1,R=1,D=0);const F=S-C+p,O=E-b+p,L=w-I+p,U=S-M+2*p,q=E-R+2*p,K=w-D+2*p,k=S-1+3*p,W=E-1+3*p,V=w-1+3*p,G=f&255,z=h&255,ne=d&255,J=this.perm[G+this.perm[z+this.perm[ne]]]%12,$=this.perm[G+C+this.perm[z+b+this.perm[ne+I]]]%12,X=this.perm[G+M+this.perm[z+R+this.perm[ne+D]]]%12,oe=this.perm[G+1+this.perm[z+1+this.perm[ne+1]]]%12;let ie=.6-S*S-E*E-w*w;ie<0?s=0:(ie*=ie,s=ie*ie*this.dot3(this.grad3[J],S,E,w));let _e=.6-F*F-O*O-L*L;_e<0?o=0:(_e*=_e,o=_e*_e*this.dot3(this.grad3[$],F,O,L));let Re=.6-U*U-q*q-K*K;Re<0?a=0:(Re*=Re,a=Re*Re*this.dot3(this.grad3[X],U,q,K));let pe=.6-k*k-W*W-V*V;return pe<0?l=0:(pe*=pe,l=pe*pe*this.dot3(this.grad3[oe],k,W,V)),32*(s+o+a+l)}),et(this,"noise4d",(n,i,r,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,u=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20;let f,h,d,p,y;const A=(n+i+r+s)*u,g=Math.floor(n+A),x=Math.floor(i+A),S=Math.floor(r+A),E=Math.floor(s+A),w=(g+x+S+E)*c,C=g-w,b=x-w,I=S-w,M=E-w,R=n-C,D=i-b,F=r-I,O=s-M,L=R>D?32:0,U=R>F?16:0,q=D>F?8:0,K=R>O?4:0,k=D>O?2:0,W=F>O?1:0,V=L+U+q+K+k+W;let G,z,ne,J,$,X,oe,ie,_e,Re,pe,Y;G=a[V][0]>=3?1:0,z=a[V][1]>=3?1:0,ne=a[V][2]>=3?1:0,J=a[V][3]>=3?1:0,$=a[V][0]>=2?1:0,X=a[V][1]>=2?1:0,oe=a[V][2]>=2?1:0,ie=a[V][3]>=2?1:0,_e=a[V][0]>=1?1:0,Re=a[V][1]>=1?1:0,pe=a[V][2]>=1?1:0,Y=a[V][3]>=1?1:0;const me=R-G+c,ge=D-z+c,de=F-ne+c,Se=O-J+c,Qe=R-$+2*c,xe=D-X+2*c,ke=F-oe+2*c,Ne=O-ie+2*c,De=R-_e+3*c,tt=D-Re+3*c,te=F-pe+3*c,H=O-Y+3*c,fe=R-1+4*c,je=D-1+4*c,Ue=F-1+4*c,Pe=O-1+4*c,$e=g&255,Ke=x&255,we=S&255,ae=E&255,Te=l[$e+l[Ke+l[we+l[ae]]]]%32,Me=l[$e+G+l[Ke+z+l[we+ne+l[ae+J]]]]%32,Fe=l[$e+$+l[Ke+X+l[we+oe+l[ae+ie]]]]%32,qe=l[$e+_e+l[Ke+Re+l[we+pe+l[ae+Y]]]]%32,rt=l[$e+1+l[Ke+1+l[we+1+l[ae+1]]]]%32;let ut=.6-R*R-D*D-F*F-O*O;ut<0?f=0:(ut*=ut,f=ut*ut*this.dot4(o[Te],R,D,F,O));let ce=.6-me*me-ge*ge-de*de-Se*Se;ce<0?h=0:(ce*=ce,h=ce*ce*this.dot4(o[Me],me,ge,de,Se));let Ce=.6-Qe*Qe-xe*xe-ke*ke-Ne*Ne;Ce<0?d=0:(Ce*=Ce,d=Ce*Ce*this.dot4(o[Fe],Qe,xe,ke,Ne));let be=.6-De*De-tt*tt-te*te-H*H;be<0?p=0:(be*=be,p=be*be*this.dot4(o[qe],De,tt,te,H));let Ze=.6-fe*fe-je*je-Ue*Ue-Pe*Pe;return Ze<0?y=0:(Ze*=Ze,y=Ze*Ze*this.dot4(o[rt],fe,je,Ue,Pe)),27*(f+h+d+p+y)});for(let n=0;n<256;n++)this.p[n]=Math.floor(e.random()*256);for(let n=0;n<512;n++)this.perm[n]=this.p[n&255]}}const as=class extends Xt{constructor(t={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(as.copyParameters(t,t)),this.createMesh()}static createRandomGenerator(){const e=[];for(let i=0;i<2053;i++)e.push(Math.random());const n={currentSeed:0,random:function(){const i=e[n.currentSeed];return n.currentSeed=(n.currentSeed+1)%2053,i},getSeed:function(){return n.currentSeed/2053},setSeed:function(i){n.currentSeed=Math.floor(i*2053)%2053}};return n}static copyParameters(t={},e={}){const n=function(i){return e===t?i:i.clone()};return t.sourceOffset=e.sourceOffset!==void 0?n(e.sourceOffset):new j(0,100,0),t.destOffset=e.destOffset!==void 0?n(e.destOffset):new j(0,0,0),t.timeScale=e.timeScale!==void 0?e.timeScale:1,t.roughness=e.roughness!==void 0?e.roughness:.9,t.straightness=e.straightness!==void 0?e.straightness:.7,t.up0=e.up0!==void 0?n(e.up0):new j(0,0,1),t.up1=e.up1!==void 0?n(e.up1):new j(0,0,1),t.radius0=e.radius0!==void 0?e.radius0:1,t.radius1=e.radius1!==void 0?e.radius1:1,t.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,t.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,t.minRadius=e.minRadius!==void 0?e.minRadius:.2,t.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,t.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,t.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,t.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,t.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,t.isStatic=e.isStatic!==void 0?e.isStatic:!1,t.ramification=e.ramification!==void 0?e.ramification:5,t.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,t.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,t.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,t.randomGenerator=e.randomGenerator,t.noiseSeed=e.noiseSeed,t.onDecideSubrayCreation=e.onDecideSubrayCreation,t.onSubrayCreation=e.onSubrayCreation,t}update(t){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=t&&t<=this.rayParameters.deathTime?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this.state=as.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this.state=as.RAY_VANISHING:this.state=as.RAY_STEADY,this.visible=!0):(this.visible=!1,t<this.rayParameters.birthTime?this.state=as.RAY_UNBORN:this.state=as.RAY_EXTINGUISHED))}init(t){this.rayParameters=t,this.maxIterations=t.maxIterations!==void 0?Math.floor(t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=t.isStatic!==void 0?t.isStatic:!1,t.isStatic=this.isStatic,this.ramification=t.ramification!==void 0?Math.floor(t.ramification):5,t.ramification=this.ramification,this.maxSubrayRecursion=t.maxSubrayRecursion!==void 0?Math.floor(t.maxSubrayRecursion):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=t.recursionProbability!==void 0?t.recursionProbability:.6,t.recursionProbability=this.recursionProbability,this.generateUVs=t.generateUVs!==void 0?t.generateUVs:!1,t.generateUVs=this.generateUVs,t.randomGenerator!==void 0?(this.randomGenerator=t.randomGenerator,this.seedGenerator=t.randomGenerator,t.noiseSeed!==void 0&&this.seedGenerator.setSeed(t.noiseSeed)):(this.randomGenerator=as.createRandomGenerator(),this.seedGenerator=Math),t.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=t.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),t.onSubrayCreation!==void 0&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=as.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),t.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new h3(this.seedGenerator),this.simplexY=new h3(this.seedGenerator),this.simplexZ=new h3(this.seedGenerator),this.forwards=new j,this.forwardsFill=new j,this.side=new j,this.down=new j,this.middlePos=new j,this.middleLinPos=new j,this.newPos=new j,this.vPos=new j,this.cross1=new j}createMesh(){const t=1<<this.maxIterations,e=3*(t+1)*this.maxSubrays,n=18*t*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new b6(this.indices,1)),this.positionAttribute=new Et(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new Et(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=mx,this.positionAttribute.usage=mx,this.generateUVs&&(this.uvsAttribute.usage=mx)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(t){this.fillMesh(t),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(t){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(t,function(i){const r=e.currentSubray;t<r.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):t<r.endPropagationTime?e.timeFraction>=i.fraction0*r.propagationTimeFactor&&(e.createPrism(i),e.onDecideSubrayCreation(i,e)):t<r.beginVanishingTime?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):(e.timeFraction<=r.vanishingTimeFactor+i.fraction1*(1-r.vanishingTimeFactor)&&e.createPrism(i),e.onDecideSubrayCreation(i,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(t,e){t.pos0.copy(e.sourceOffset),t.pos1.copy(e.destOffset),t.up0.copy(e.up0),t.up1.copy(e.up1),t.radius0=e.radius0,t.radius1=e.radius1,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.timeScale=e.timeScale,t.roughness=e.roughness,t.straightness=e.straightness,t.propagationTimeFactor=e.propagationTimeFactor,t.vanishingTimeFactor=e.vanishingTimeFactor,t.maxIterations=this.maxIterations,t.seed=e.noiseSeed!==void 0?e.noiseSeed:0,t.recursion=0}fractalRay(t,e){this.time=t,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this.numSubrays;n++){const i=this.subrays[n];this.currentSubray=i,this.randomGenerator.setSeed(i.seed),i.endPropagationTime=cs.lerp(i.birthTime,i.deathTime,i.propagationTimeFactor),i.beginVanishingTime=cs.lerp(i.deathTime,i.birthTime,1-i.vanishingTimeFactor);const r=this.randomGenerator.random;i.linPos0.set(r(),r(),r()).multiplyScalar(1e3),i.linPos1.set(r(),r(),r()).multiplyScalar(1e3),this.timeFraction=(t-i.birthTime)/(i.deathTime-i.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(i.pos0),s.pos1.copy(i.pos1),s.linPos0.copy(i.linPos0),s.linPos1.copy(i.linPos1),s.up0.copy(i.up0),s.up1.copy(i.up1),s.radius0=i.radius0,s.radius1=i.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-i.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,i.recursion)/(1<<i.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(t){if(t.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(t);return}this.forwards.subVectors(t.pos1,t.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const n=(t.radius0+t.radius1)*.5,i=(t.fraction0+t.fraction1)*.5,r=this.time*this.currentSubray.timeScale*Math.pow(2,t.iteration);this.middlePos.lerpVectors(t.pos0,t.pos1,.5),this.middleLinPos.lerpVectors(t.linPos0,t.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,r),this.simplexY.noise4d(s.x,s.y,s.z,r),this.simplexZ.noise4d(s.x,s.y,s.z,r)),this.newPos.multiplyScalar(t.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(t.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(t.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(t.up0),o.up1.copy(t.up1),o.radius0=t.radius0,o.radius1=n,o.fraction0=t.fraction0,o.fraction1=i,o.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,o.iteration=t.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(t.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(t.linPos1),this.cross1.crossVectors(t.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(t.up1),a.radius0=n,a.radius1=t.radius1,a.fraction0=i,a.fraction1=t.fraction1,a.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,a.iteration=t.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(t){this.forwardsFill.subVectors(t.pos1,t.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this.forwardsFill,t.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this.forwardsFill,t.radius1,t.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,e,n,i){this.side.crossVectors(e,n).multiplyScalar(i*as.COS30DEG),this.down.copy(e).multiplyScalar(-i*as.SIN30DEG);const r=this.vPos,s=this.vertices;r.copy(t).sub(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(t).add(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(e).multiplyScalar(i).add(t),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,e,n,i,r){this.side.crossVectors(e,n).multiplyScalar(i*as.COS30DEG),this.down.copy(e).multiplyScalar(-i*as.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(t).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=0,s.copy(t).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(i).add(t),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(t){const e=this.indices;t=this.currentVertex-6,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,u=o.rayParameters.subrayDutyCycle,c=o.rayParameters.isEternal&&a.recursion==0?-t()*l:cs.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-t()*l,f=o.time-c,h=Math.floor(f/l),d=t()*(h+1),p=f%l<=u*l;let y=0;if(p&&(y=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&t()<y){const A=o.addNewSubray(),g=o.randomGenerator.getSeed();A.seed=d,o.randomGenerator.setSeed(d),A.recursion=a.recursion+1,A.maxIterations=Math.max(1,a.maxIterations-1),A.linPos0.set(t(),t(),t()).multiplyScalar(1e3),A.linPos1.set(t(),t(),t()).multiplyScalar(1e3),A.up0.copy(a.up0),A.up1.copy(a.up1),A.radius0=s.radius0*o.rayParameters.radius0Factor,A.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),A.birthTime=c+h*l,A.deathTime=A.birthTime+l*u,!o.rayParameters.isEternal&&a.recursion==0&&(A.birthTime=Math.max(A.birthTime,a.birthTime),A.deathTime=Math.min(A.deathTime,a.deathTime)),A.timeScale=a.timeScale*2,A.roughness=a.roughness,A.straightness=a.straightness,A.propagationTimeFactor=a.propagationTimeFactor,A.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,A,o),o.randomGenerator.setSeed(g)}};const e=new j,n=new j,i=new j,r=new j;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,u,c){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(t()*l));const f=e.length();i.crossVectors(o.up0,n);const h=2*Math.PI*t();i.multiplyScalar(Math.cos(h)),r.copy(o.up0).multiplyScalar(Math.sin(h)),a.pos1.copy(i).add(r).multiplyScalar(f*u*(c+t()*(1-c))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,u,c){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*t()-1)*l));const f=e.length();i.crossVectors(o.up0,n);const h=2*Math.PI*t();i.multiplyScalar(Math.cos(h)),r.copy(o.up0).multiplyScalar(Math.sin(h)),a.pos1.copy(i).add(r).multiplyScalar(f*u*(c+t()*(1-c))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new j,pos1:new j,linPos0:new j,linPos1:new j,up0:new j,up1:new j,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new j,pos1:new j,linPos0:new j,linPos1:new j,up0:new j,up1:new j,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){return super.copy(t),this.init(as.copyParameters({},t.rayParameters)),this}clone(){return new this.constructor(as.copyParameters({},this.rayParameters))}};let Pc=as;et(Pc,"RAY_INITIALIZED",0);et(Pc,"RAY_UNBORN",1);et(Pc,"RAY_PROPAGATING",2);et(Pc,"RAY_STEADY",3);et(Pc,"RAY_VANISHING",4);et(Pc,"RAY_EXTINGUISHED",5);et(Pc,"COS30DEG",Math.cos(30*Math.PI/180));et(Pc,"SIN30DEG",Math.sin(30*Math.PI/180));const vf=class extends yn{constructor(t,e={}){super(t),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const n=this,i=e.color!==void 0?new Je(e.color):new Je(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||vf.ReflectorShader,l=e.useDepthTexture===!0,u=new j(0,1,0),c=new j,f=new j;n.needsUpdate=!1,n.maxDistance=vf.ReflectorShader.uniforms.maxDistance.value,n.opacity=vf.ReflectorShader.uniforms.opacity.value,n.color=i,n.resolution=e.resolution||new he(window.innerWidth,window.innerHeight),n._distanceAttenuation=vf.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(n,"distanceAttenuation",{get(){return n._distanceAttenuation},set(D){n._distanceAttenuation!==D&&(n._distanceAttenuation=D,n.material.defines.DISTANCE_ATTENUATION=D,n.material.needsUpdate=!0)}}),n._fresnel=vf.ReflectorShader.defines.FRESNEL,Object.defineProperty(n,"fresnel",{get(){return n._fresnel},set(D){n._fresnel!==D&&(n._fresnel=D,n.material.defines.FRESNEL=D,n.material.needsUpdate=!0)}});const h=new j,d=new j,p=new j,y=new it,A=new j(0,0,-1),g=new j,x=new j,S=new it,E=new Qn;let w;l&&(w=new cu,w.type=sh,w.minFilter=vt,w.magFilter=vt);const C={depthTexture:l?w:null,type:hn},b=new Rt(r,s,C),I=new yt({transparent:l,defines:Object.assign({},vf.ReflectorShader.defines,{useDepthTexture:l}),uniforms:$n.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});I.uniforms.tDiffuse.value=b.texture,I.uniforms.color.value=n.color,I.uniforms.textureMatrix.value=S,l&&(I.uniforms.tDepth.value=b.depthTexture),this.material=I;const R=[new Mo(new j(0,1,0),o)];this.doRender=function(D,F,O){if(I.uniforms.maxDistance.value=n.maxDistance,I.uniforms.color.value=n.color,I.uniforms.opacity.value=n.opacity,c.copy(O.position).normalize(),f.copy(c).reflect(u),I.uniforms.fresnelCoe.value=(c.dot(f)+1)/2,d.setFromMatrixPosition(n.matrixWorld),p.setFromMatrixPosition(O.matrixWorld),y.extractRotation(n.matrixWorld),h.set(0,0,1),h.applyMatrix4(y),g.subVectors(d,p),g.dot(h)>0)return;g.reflect(h).negate(),g.add(d),y.extractRotation(O.matrixWorld),A.set(0,0,-1),A.applyMatrix4(y),A.add(p),x.subVectors(d,A),x.reflect(h).negate(),x.add(d),E.position.copy(g),E.up.set(0,1,0),E.up.applyMatrix4(y),E.up.reflect(h),E.lookAt(x),E.far=O.far,E.updateMatrixWorld(),E.projectionMatrix.copy(O.projectionMatrix),I.uniforms.virtualCameraNear.value=O.near,I.uniforms.virtualCameraFar.value=O.far,I.uniforms.virtualCameraMatrixWorld.value=E.matrixWorld,I.uniforms.virtualCameraProjectionMatrix.value=O.projectionMatrix,I.uniforms.virtualCameraProjectionMatrixInverse.value=O.projectionMatrixInverse,I.uniforms.resolution.value=n.resolution,S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(E.projectionMatrix),S.multiply(E.matrixWorldInverse),S.multiply(n.matrixWorld);const L=D.getRenderTarget(),U=D.xr.enabled,q=D.shadowMap.autoUpdate,K=D.clippingPlanes;D.xr.enabled=!1,D.shadowMap.autoUpdate=!1,D.clippingPlanes=R,D.setRenderTarget(b),D.state.buffers.depth.setMask(!0),D.autoClear===!1&&D.clear(),D.render(F,E),D.xr.enabled=U,D.shadowMap.autoUpdate=q,D.clippingPlanes=K,D.setRenderTarget(L);const k=O.viewport;k!==void 0&&D.state.viewport(k)},this.getRenderTarget=function(){return b}}};let Mve=vf;et(Mve,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new it},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new it},virtualCameraMatrixWorld:{value:new it},virtualCameraProjectionMatrixInverse:{value:new it},resolution:{value:new he}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const xx={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new j},up:{value:new j(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(Lr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},bY=new yt({name:"SkyShader",fragmentShader:xx.fragmentShader,vertexShader:xx.vertexShader,uniforms:$n.clone(xx.uniforms),side:Vi,depthWrite:!1});class TY extends yn{constructor(){super(new Tc(1,1,1),bY)}}et(TY,"SkyShader",xx);et(TY,"material",bY);const MY=class extends yn{constructor(t,e={}){super(t),this.isWater=!0,this.type="Water";const n=this,i=e.color!==void 0?new Je(e.color):new Je(16777215),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new he(1,0),l=e.flowSpeed||.03,u=e.reflectivity||.02,c=e.scale||1,f=e.shader||MY.WaterShader,h=e.encoding!==void 0?e.encoding:3e3,d=e.flowMap||void 0,p=e.normalMap0,y=e.normalMap1,A=.15,g=A*.5,x=new it,S=new J6;if(mT===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(gT===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const E=new mT(t,{textureWidth:r,textureHeight:s,clipBias:o,encoding:h}),w=new gT(t,{textureWidth:r,textureHeight:s,clipBias:o,encoding:h});E.matrixAutoUpdate=!1,w.matrixAutoUpdate=!1,this.material=new yt({uniforms:$n.merge([ct.fog,f.uniforms]),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,transparent:!0,fog:!0}),d!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:d}):this.material.uniforms.flowDirection={type:"v2",value:a},p.wrapS=p.wrapT=Ki,y.wrapS=y.wrapT=Ki,this.material.uniforms.tReflectionMap.value=E.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=w.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=p,this.material.uniforms.tNormalMap1.value=y,this.material.uniforms.color.value=i,this.material.uniforms.reflectivity.value=u,this.material.uniforms.textureMatrix.value=x,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=g,this.material.uniforms.config.value.z=g,this.material.uniforms.config.value.w=c;function C(I){x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(I.projectionMatrix),x.multiply(I.matrixWorldInverse),x.multiply(n.matrixWorld)}function b(){const I=S.getDelta(),M=n.material.uniforms.config;M.value.x+=l*I,M.value.y=M.value.x+g,M.value.x>=A?(M.value.x=0,M.value.y=g):M.value.y>=A&&(M.value.y=M.value.y-A)}this.onBeforeRender=function(I,M,R){C(R),b(),n.visible=!1,E.matrixWorld.copy(n.matrixWorld),w.matrixWorld.copy(n.matrixWorld),E.onBeforeRender(I,M,R),w.onBeforeRender(I,M,R),n.visible=!0}}};let Ive=MY;et(Ive,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new qt}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(Lr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const Rve=t=>t&&t.isCubeTexture;class Pve extends yn{constructor(e,n){var i,r;const s=Rve(e),a=((r=s?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,h=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],d=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,p=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(Lr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},A=new GA(1,16),g=new yt({uniforms:y,fragmentShader:p,vertexShader:d,side:yr});super(A,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const l_={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)},zO=(t,e)=>(t%e+e)%e;let Bve=class extends uo{constructor(e,n){super(),et(this,"object"),et(this,"domElement"),et(this,"enabled",!0),et(this,"target",new j),et(this,"minDistance",0),et(this,"maxDistance",1/0),et(this,"minZoom",0),et(this,"maxZoom",1/0),et(this,"minPolarAngle",0),et(this,"maxPolarAngle",Math.PI),et(this,"minAzimuthAngle",-1/0),et(this,"maxAzimuthAngle",1/0),et(this,"enableDamping",!1),et(this,"dampingFactor",.05),et(this,"enableZoom",!0),et(this,"zoomSpeed",1),et(this,"enableRotate",!0),et(this,"rotateSpeed",1),et(this,"enablePan",!0),et(this,"panSpeed",1),et(this,"screenSpacePanning",!0),et(this,"keyPanSpeed",7),et(this,"autoRotate",!1),et(this,"autoRotateSpeed",2),et(this,"reverseOrbit",!1),et(this,"reverseHorizontalOrbit",!1),et(this,"reverseVerticalOrbit",!1),et(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),et(this,"mouseButtons",{LEFT:pf.ROTATE,MIDDLE:pf.DOLLY,RIGHT:pf.PAN}),et(this,"touches",{ONE:mf.ROTATE,TWO:mf.DOLLY_PAN}),et(this,"target0"),et(this,"position0"),et(this,"zoom0"),et(this,"_domElementKeyEvents",null),et(this,"getPolarAngle"),et(this,"getAzimuthalAngle"),et(this,"setPolarAngle"),et(this,"setAzimuthalAngle"),et(this,"getDistance"),et(this,"listenToKeyEvents"),et(this,"stopListenToKeyEvents"),et(this,"saveState"),et(this,"reset"),et(this,"update"),et(this,"connect"),et(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ae=>{let Te=zO(ae,2*Math.PI),Me=c.phi;Me<0&&(Me+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Fe=Math.abs(Te-Me);2*Math.PI-Fe<Fe&&(Te<Me?Te+=2*Math.PI:Me+=2*Math.PI),f.phi=Te-Me,i.update()},this.setAzimuthalAngle=ae=>{let Te=zO(ae,2*Math.PI),Me=c.theta;Me<0&&(Me+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Fe=Math.abs(Te-Me);2*Math.PI-Fe<Fe&&(Te<Me?Te+=2*Math.PI:Me+=2*Math.PI),f.theta=Te-Me,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",H),this._domElementKeyEvents=ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",H),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const ae=new j,Te=new j(0,1,0),Me=new mi().setFromUnitVectors(e.up,Te),Fe=Me.clone().invert(),qe=new j,rt=new mi,ut=2*Math.PI;return function(){const Ce=i.object.position;Me.setFromUnitVectors(e.up,Te),Fe.copy(Me).invert(),ae.copy(Ce).sub(i.target),ae.applyQuaternion(Me),c.setFromVector3(ae),i.autoRotate&&l===a.NONE&&F(R()),i.enableDamping?(c.theta+=f.theta*i.dampingFactor,c.phi+=f.phi*i.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let be=i.minAzimuthAngle,Ze=i.maxAzimuthAngle;return isFinite(be)&&isFinite(Ze)&&(be<-Math.PI?be+=ut:be>Math.PI&&(be-=ut),Ze<-Math.PI?Ze+=ut:Ze>Math.PI&&(Ze-=ut),be<=Ze?c.theta=Math.max(be,Math.min(Ze,c.theta)):c.theta=c.theta>(be+Ze)/2?Math.max(be,c.theta):Math.min(Ze,c.theta)),c.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=h,c.radius=Math.max(i.minDistance,Math.min(i.maxDistance,c.radius)),i.enableDamping===!0?i.target.addScaledVector(d,i.dampingFactor):i.target.add(d),ae.setFromSpherical(c),ae.applyQuaternion(Fe),Ce.copy(i.target).add(ae),i.object.lookAt(i.target),i.enableDamping===!0?(f.theta*=1-i.dampingFactor,f.phi*=1-i.dampingFactor,d.multiplyScalar(1-i.dampingFactor)):(f.set(0,0,0),d.set(0,0,0)),h=1,p||qe.distanceToSquared(i.object.position)>u||8*(1-rt.dot(i.object.quaternion))>u?(i.dispatchEvent(r),qe.copy(i.object.position),rt.copy(i.object.quaternion),p=!1,!0):!1}})(),this.connect=ae=>{ae===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=ae,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ue),i.domElement.addEventListener("pointerdown",Qe),i.domElement.addEventListener("pointercancel",Ne),i.domElement.addEventListener("wheel",te)},this.dispose=()=>{var ae,Te,Me,Fe,qe,rt;(ae=i.domElement)==null||ae.removeEventListener("contextmenu",Ue),(Te=i.domElement)==null||Te.removeEventListener("pointerdown",Qe),(Me=i.domElement)==null||Me.removeEventListener("pointercancel",Ne),(Fe=i.domElement)==null||Fe.removeEventListener("wheel",te),(qe=i.domElement)==null||qe.ownerDocument.removeEventListener("pointermove",xe),(rt=i.domElement)==null||rt.ownerDocument.removeEventListener("pointerup",ke),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",H)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new fS,f=new fS;let h=1;const d=new j;let p=!1;const y=new he,A=new he,g=new he,x=new he,S=new he,E=new he,w=new he,C=new he,b=new he,I=[],M={};function R(){return 2*Math.PI/60/60*i.autoRotateSpeed}function D(){return Math.pow(.95,i.zoomSpeed)}function F(ae){i.reverseOrbit||i.reverseHorizontalOrbit?f.theta+=ae:f.theta-=ae}function O(ae){i.reverseOrbit||i.reverseVerticalOrbit?f.phi+=ae:f.phi-=ae}const L=(()=>{const ae=new j;return function(Me,Fe){ae.setFromMatrixColumn(Fe,0),ae.multiplyScalar(-Me),d.add(ae)}})(),U=(()=>{const ae=new j;return function(Me,Fe){i.screenSpacePanning===!0?ae.setFromMatrixColumn(Fe,1):(ae.setFromMatrixColumn(Fe,0),ae.crossVectors(i.object.up,ae)),ae.multiplyScalar(Me),d.add(ae)}})(),q=(()=>{const ae=new j;return function(Me,Fe){const qe=i.domElement;if(qe&&i.object instanceof Qn&&i.object.isPerspectiveCamera){const rt=i.object.position;ae.copy(rt).sub(i.target);let ut=ae.length();ut*=Math.tan(i.object.fov/2*Math.PI/180),L(2*Me*ut/qe.clientHeight,i.object.matrix),U(2*Fe*ut/qe.clientHeight,i.object.matrix)}else qe&&i.object instanceof fa&&i.object.isOrthographicCamera?(L(Me*(i.object.right-i.object.left)/i.object.zoom/qe.clientWidth,i.object.matrix),U(Fe*(i.object.top-i.object.bottom)/i.object.zoom/qe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function K(ae){i.object instanceof Qn&&i.object.isPerspectiveCamera?h/=ae:i.object instanceof fa&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*ae)),i.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function k(ae){i.object instanceof Qn&&i.object.isPerspectiveCamera?h*=ae:i.object instanceof fa&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/ae)),i.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function W(ae){y.set(ae.clientX,ae.clientY)}function V(ae){w.set(ae.clientX,ae.clientY)}function G(ae){x.set(ae.clientX,ae.clientY)}function z(ae){A.set(ae.clientX,ae.clientY),g.subVectors(A,y).multiplyScalar(i.rotateSpeed);const Te=i.domElement;Te&&(F(2*Math.PI*g.x/Te.clientHeight),O(2*Math.PI*g.y/Te.clientHeight)),y.copy(A),i.update()}function ne(ae){C.set(ae.clientX,ae.clientY),b.subVectors(C,w),b.y>0?K(D()):b.y<0&&k(D()),w.copy(C),i.update()}function J(ae){S.set(ae.clientX,ae.clientY),E.subVectors(S,x).multiplyScalar(i.panSpeed),q(E.x,E.y),x.copy(S),i.update()}function $(ae){ae.deltaY<0?k(D()):ae.deltaY>0&&K(D()),i.update()}function X(ae){let Te=!1;switch(ae.code){case i.keys.UP:q(0,i.keyPanSpeed),Te=!0;break;case i.keys.BOTTOM:q(0,-i.keyPanSpeed),Te=!0;break;case i.keys.LEFT:q(i.keyPanSpeed,0),Te=!0;break;case i.keys.RIGHT:q(-i.keyPanSpeed,0),Te=!0;break}Te&&(ae.preventDefault(),i.update())}function oe(){if(I.length==1)y.set(I[0].pageX,I[0].pageY);else{const ae=.5*(I[0].pageX+I[1].pageX),Te=.5*(I[0].pageY+I[1].pageY);y.set(ae,Te)}}function ie(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const ae=.5*(I[0].pageX+I[1].pageX),Te=.5*(I[0].pageY+I[1].pageY);x.set(ae,Te)}}function _e(){const ae=I[0].pageX-I[1].pageX,Te=I[0].pageY-I[1].pageY,Me=Math.sqrt(ae*ae+Te*Te);w.set(0,Me)}function Re(){i.enableZoom&&_e(),i.enablePan&&ie()}function pe(){i.enableZoom&&_e(),i.enableRotate&&oe()}function Y(ae){if(I.length==1)A.set(ae.pageX,ae.pageY);else{const Me=we(ae),Fe=.5*(ae.pageX+Me.x),qe=.5*(ae.pageY+Me.y);A.set(Fe,qe)}g.subVectors(A,y).multiplyScalar(i.rotateSpeed);const Te=i.domElement;Te&&(F(2*Math.PI*g.x/Te.clientHeight),O(2*Math.PI*g.y/Te.clientHeight)),y.copy(A)}function me(ae){if(I.length==1)S.set(ae.pageX,ae.pageY);else{const Te=we(ae),Me=.5*(ae.pageX+Te.x),Fe=.5*(ae.pageY+Te.y);S.set(Me,Fe)}E.subVectors(S,x).multiplyScalar(i.panSpeed),q(E.x,E.y),x.copy(S)}function ge(ae){const Te=we(ae),Me=ae.pageX-Te.x,Fe=ae.pageY-Te.y,qe=Math.sqrt(Me*Me+Fe*Fe);C.set(0,qe),b.set(0,Math.pow(C.y/w.y,i.zoomSpeed)),K(b.y),w.copy(C)}function de(ae){i.enableZoom&&ge(ae),i.enablePan&&me(ae)}function Se(ae){i.enableZoom&&ge(ae),i.enableRotate&&Y(ae)}function Qe(ae){var Te,Me;i.enabled!==!1&&(I.length===0&&((Te=i.domElement)==null||Te.ownerDocument.addEventListener("pointermove",xe),(Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointerup",ke)),Pe(ae),ae.pointerType==="touch"?fe(ae):De(ae))}function xe(ae){i.enabled!==!1&&(ae.pointerType==="touch"?je(ae):tt(ae))}function ke(ae){var Te,Me,Fe;$e(ae),I.length===0&&((Te=i.domElement)==null||Te.releasePointerCapture(ae.pointerId),(Me=i.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",xe),(Fe=i.domElement)==null||Fe.ownerDocument.removeEventListener("pointerup",ke)),i.dispatchEvent(o),l=a.NONE}function Ne(ae){$e(ae)}function De(ae){let Te;switch(ae.button){case 0:Te=i.mouseButtons.LEFT;break;case 1:Te=i.mouseButtons.MIDDLE;break;case 2:Te=i.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case pf.DOLLY:if(i.enableZoom===!1)return;V(ae),l=a.DOLLY;break;case pf.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(i.enablePan===!1)return;G(ae),l=a.PAN}else{if(i.enableRotate===!1)return;W(ae),l=a.ROTATE}break;case pf.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(i.enableRotate===!1)return;W(ae),l=a.ROTATE}else{if(i.enablePan===!1)return;G(ae),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function tt(ae){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;z(ae);break;case a.DOLLY:if(i.enableZoom===!1)return;ne(ae);break;case a.PAN:if(i.enablePan===!1)return;J(ae);break}}function te(ae){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ae.preventDefault(),i.dispatchEvent(s),$(ae),i.dispatchEvent(o))}function H(ae){i.enabled===!1||i.enablePan===!1||X(ae)}function fe(ae){switch(Ke(ae),I.length){case 1:switch(i.touches.ONE){case mf.ROTATE:if(i.enableRotate===!1)return;oe(),l=a.TOUCH_ROTATE;break;case mf.PAN:if(i.enablePan===!1)return;ie(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case mf.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Re(),l=a.TOUCH_DOLLY_PAN;break;case mf.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;pe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function je(ae){switch(Ke(ae),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Y(ae),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;me(ae),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;de(ae),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Se(ae),i.update();break;default:l=a.NONE}}function Ue(ae){i.enabled!==!1&&ae.preventDefault()}function Pe(ae){I.push(ae)}function $e(ae){delete M[ae.pointerId];for(let Te=0;Te<I.length;Te++)if(I[Te].pointerId==ae.pointerId){I.splice(Te,1);return}}function Ke(ae){let Te=M[ae.pointerId];Te===void 0&&(Te=new he,M[ae.pointerId]=Te),Te.set(ae.pageX,ae.pageY)}function we(ae){const Te=ae.pointerId===I[0].pointerId?I[1]:I[0];return M[Te.pointerId]}n!==void 0&&this.connect(n),this.update()}},sE=class{constructor(){et(this,"enabled",!0),et(this,"needsSwap",!0),et(this,"clear",!1),et(this,"renderToScreen",!1)}setSize(e,n){}render(e,n,i,r,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}};class oE{constructor(e){et(this,"camera",new fa(-1,1,1,-1,0,1)),et(this,"geometry",new cl(2,2)),et(this,"mesh"),this.mesh=new yn(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const ol={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},O0={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new he},cameraProjectionMatrix:{value:new it},cameraInverseProjectionMatrix:{value:new it},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},R5={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},P5={uniforms:{tDiffuse:{value:null},resolution:{value:new he}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},Af=class extends sE{constructor(t,e,n,i){super(),this.width=n!==void 0?n:512,this.height=i!==void 0?i:512,this.clear=!0,this.camera=e,this.scene=t,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const r=new cu;r.format=nu,r.type=nl,this.beautyRenderTarget=new Rt(this.width,this.height),this.normalRenderTarget=new Rt(this.width,this.height,{minFilter:vt,magFilter:vt,depthTexture:r}),this.ssaoRenderTarget=new Rt(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),O0===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new yt({defines:Object.assign({},O0.defines),uniforms:$n.clone(O0.uniforms),vertexShader:O0.vertexShader,fragmentShader:O0.fragmentShader,blending:Ut}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Ip,this.normalMaterial.blending=Ut,this.blurMaterial=new yt({defines:Object.assign({},P5.defines),uniforms:$n.clone(P5.uniforms),vertexShader:P5.vertexShader,fragmentShader:P5.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new yt({defines:Object.assign({},R5.defines),uniforms:$n.clone(R5.uniforms),vertexShader:R5.vertexShader,fragmentShader:R5.fragmentShader,blending:Ut}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new yt({uniforms:$n.clone(ol.uniforms),vertexShader:ol.vertexShader,fragmentShader:ol.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:y6,blendDst:ep,blendEquation:Ks,blendSrcAlpha:A6,blendDstAlpha:ep,blendEquationAlpha:Ks}),this.fsQuad=new oE(null),this.originalClearColor=new Je}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.capabilities.isWebGL2===!1&&(this.noiseTexture.format=PA),t.setRenderTarget(this.beautyRenderTarget),t.clear(),t.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case Af.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Af.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Af.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Af.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Af.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Af.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=U3,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(t,e,n,i,r){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,i,r){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.beautyRenderTarget.setSize(t,e),this.ssaoRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.ssaoMaterial.uniforms.resolution.value.set(t,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e)}generateSampleKernel(){const t=this.kernelSize,e=this.kernel;for(let n=0;n<t;n++){const i=new j;i.x=Math.random()*2-1,i.y=Math.random()*2-1,i.z=Math.random(),i.normalize();let r=n/t;r=cs.lerp(.1,1,r*r),i.multiplyScalar(r),e.push(i)}}generateRandomKernelRotations(){h3===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const n=new h3,i=4*4,r=new Float32Array(i);for(let s=0;s<i;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;r[s]=n.noise3d(o,a,l)}this.noiseTexture=new Bs(r,4,4,Ka,Mn),this.noiseTexture.wrapS=Ki,this.noiseTexture.wrapT=Ki,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){e.set(n,n.visible),(n.isPoints||n.isLine)&&(n.visible=!1)})}restoreVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){const i=e.get(n);n.visible=i}),e.clear()}};let Dve=Af;et(Dve,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const Lve={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Je(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},AT=class extends sE{constructor(t,e,n,i){super(),this.strength=e!==void 0?e:1,this.radius=n,this.threshold=i,this.resolution=t!==void 0?new he(t.x,t.y):new he(256,256),this.clearColor=new Je(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new Rt(r,s,{type:hn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let c=0;c<this.nMips;c++){const f=new Rt(r,s,{type:hn});f.texture.name="UnrealBloomPass.h"+c,f.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(f);const h=new Rt(r,s,{type:hn});h.texture.name="UnrealBloomPass.v"+c,h.texture.generateMipmaps=!1,this.renderTargetsVertical.push(h),r=Math.round(r/2),s=Math.round(s/2)}const o=Lve;this.highPassUniforms=$n.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new yt({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let c=0;c<this.nMips;c++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[c])),this.separableBlurMaterials[c].uniforms.texSize.value=new he(r,s),r=Math.round(r/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new j(1,1,1),new j(1,1,1),new j(1,1,1),new j(1,1,1),new j(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const u=ol;this.copyUniforms=$n.clone(u.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new yt({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:F3,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Je,this.oldClearAlpha=1,this.basic=new xr,this.fsQuad=new oE(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let n=Math.round(t/2),i=Math.round(e/2);this.renderTargetBright.setSize(n,i);for(let r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(n,i),this.renderTargetsVertical[r].setSize(n,i),this.separableBlurMaterials[r].uniforms.texSize.value=new he(n,i),n=Math.round(n/2),i=Math.round(i/2)}render(t,e,n,i,r){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),r&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=AT.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[a]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=AT.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[a]),t.clear(),this.fsQuad.render(t),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){return new yt({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new he(.5,.5)},direction:{value:new he(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(t){return new yt({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let IY=AT;et(IY,"BlurDirectionX",new he(1,0));et(IY,"BlurDirectionY",new he(0,1));const B5={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new he(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new it},cameraInverseProjectionMatrix:{value:new it},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},Uu={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new he(512,512)},sampleUvOffsets:{value:[new he(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},bS={createSampleWeights:(t,e)=>{const n=(r,s)=>Math.exp(-(r*r)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),i=[];for(let r=0;r<=t;r++)i.push(n(r,e));return i},createSampleOffsets:(t,e)=>{const n=[];for(let i=0;i<=t;i++)n.push(e.clone().multiplyScalar(i));return n},configure:(t,e,n,i)=>{t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=bS.createSampleOffsets(e,i),t.uniforms.sampleWeights.value=bS.createSampleWeights(e,n),t.needsUpdate=!0}};class Ove extends sE{constructor(e,n,i=!1,r=!1,s=new he(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=i,this.supportsNormalTexture=r,this.originalClearColor=new Je,this._oldClearColor=new Je,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new he(s.x,s.y),this.saoRenderTarget=new Rt(this.resolution.x,this.resolution.y,{type:hn}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new Rt(this.resolution.x,this.resolution.y,{minFilter:vt,magFilter:vt,type:hn}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new cu,o.type=sh,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new oh,this.depthMaterial.depthPacking=zo,this.depthMaterial.blending=Ut,this.normalMaterial=new Ip,this.normalMaterial.blending=Ut,this.saoMaterial=new yt({defines:Object.assign({},B5.defines),fragmentShader:B5.fragmentShader,vertexShader:B5.vertexShader,uniforms:$n.clone(B5.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Ut,this.vBlurMaterial=new yt({uniforms:$n.clone(Uu.uniforms),defines:Object.assign({},Uu.defines),vertexShader:Uu.vertexShader,fragmentShader:Uu.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Ut,this.hBlurMaterial=new yt({uniforms:$n.clone(Uu.uniforms),defines:Object.assign({},Uu.defines),vertexShader:Uu.vertexShader,fragmentShader:Uu.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Ut,this.materialCopy=new yt({uniforms:$n.clone(ol.uniforms),vertexShader:ol.vertexShader,fragmentShader:ol.fragmentShader,blending:Ut}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=U3,this.materialCopy.blendSrc=y6,this.materialCopy.blendDst=ep,this.materialCopy.blendEquation=Ks,this.materialCopy.blendSrcAlpha=A6,this.materialCopy.blendDstAlpha=ep,this.materialCopy.blendEquationAlpha=Ks,this.depthCopy=new yt({uniforms:$n.clone(l_.uniforms),vertexShader:l_.vertexShader,fragmentShader:l_.fragmentShader,blending:Ut}),this.fsQuad=new oE(null)}render(e,n,i){if(this.renderToScreen&&(this.materialCopy.blending=Ut,this.materialCopy.uniforms.tDiffuse.value=i.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(bS.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new he(0,1)),bS.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new he(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=U3:o.blending=Ut,this.renderPass(e,o,this.renderToScreen?null:i),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}renderPass(e,n,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,n,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r=n.clearColor||r,s=n.clearAlpha||s,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}et(Ove,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const Ga={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new he},cameraProjectionMatrix:{value:new it},cameraInverseProjectionMatrix:{value:new it},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},D5={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},ku={uniforms:{tDiffuse:{value:null},resolution:{value:new he},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},yf=class extends sE{constructor({renderer:t,scene:e,camera:n,width:i,height:r,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=i!==void 0?i:512,this.height=r!==void 0?r:512,this.clear=!0,this.renderer=t,this.scene=e,this.camera=n,this.groundReflector=a,this.opacity=Ga.uniforms.opacity.value,this.output=0,this.maxDistance=Ga.uniforms.maxDistance.value,this.thickness=Ga.uniforms.thickness.value,this.tempColor=new Je,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(u){this._selects!==u&&(this._selects=u,Array.isArray(u)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(u){this._bouncing!==u&&(this._bouncing=u,u?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=Ga.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(u){this._distanceAttenuation!==u&&(this._distanceAttenuation=u,this.ssrMaterial.defines.DISTANCE_ATTENUATION=u,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=Ga.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(u){this._fresnel!==u&&(this._fresnel=u,this.ssrMaterial.defines.FRESNEL=u,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=Ga.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(u){this._infiniteThick!==u&&(this._infiniteThick=u,this.ssrMaterial.defines.INFINITE_THICK=u,this.ssrMaterial.needsUpdate=!0)}});const l=new cu;l.type=sh,l.minFilter=vt,l.magFilter=vt,this.beautyRenderTarget=new Rt(this.width,this.height,{minFilter:vt,magFilter:vt,type:hn,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new Rt(this.width,this.height,{minFilter:vt,magFilter:vt}),this.normalRenderTarget=new Rt(this.width,this.height,{minFilter:vt,magFilter:vt,type:hn}),this.metalnessRenderTarget=new Rt(this.width,this.height,{minFilter:vt,magFilter:vt,type:hn}),this.ssrRenderTarget=new Rt(this.width,this.height,{minFilter:vt,magFilter:vt}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new yt({defines:Object.assign({},Ga.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:$n.clone(Ga.uniforms),vertexShader:Ga.vertexShader,fragmentShader:Ga.fragmentShader,blending:Ut}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Ip,this.normalMaterial.blending=Ut,this.metalnessOnMaterial=new xr({color:"white"}),this.metalnessOffMaterial=new xr({color:"black"}),this.blurMaterial=new yt({defines:Object.assign({},ku.defines),uniforms:$n.clone(ku.uniforms),vertexShader:ku.vertexShader,fragmentShader:ku.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new yt({defines:Object.assign({},ku.defines),uniforms:$n.clone(ku.uniforms),vertexShader:ku.vertexShader,fragmentShader:ku.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new yt({defines:Object.assign({},D5.defines),uniforms:$n.clone(D5.uniforms),vertexShader:D5.vertexShader,fragmentShader:D5.fragmentShader,blending:Ut}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new yt({uniforms:$n.clone(ol.uniforms),vertexShader:ol.vertexShader,fragmentShader:ol.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:k3,blendDst:N3,blendEquation:Ks,blendSrcAlpha:k3,blendDstAlpha:N3,blendEquationAlpha:Ks}),this.fsQuad=new oE(null),this.originalClearColor=new Je}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.setRenderTarget(this.beautyRenderTarget),t.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),t.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(t,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(t,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.renderPass(t,this.blurMaterial2,this.blurRenderTarget2)),this.output){case yf.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=tl,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=tl,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e));break;case yf.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=tl,this.renderPass(t,this.copyMaterial,this.prevRenderTarget));break;case yf.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case yf.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case yf.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case yf.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Ut,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderMetalness(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),t.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(t*t+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(t,e),this.prevRenderTarget.setSize(t,e),this.ssrRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.metalnessRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.blurRenderTarget2.setSize(t,e),this.ssrMaterial.uniforms.resolution.value.set(t,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e),this.blurMaterial2.uniforms.resolution.value.set(t,e)}};let Fve=yf;et(Fve,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class xI extends Cr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new zve(n)}),this.register(function(n){return new Yve(n)}),this.register(function(n){return new Kve(n)}),this.register(function(n){return new Jve(n)}),this.register(function(n){return new Vve(n)}),this.register(function(n){return new Qve(n)}),this.register(function(n){return new Wve(n)}),this.register(function(n){return new jve(n)}),this.register(function(n){return new Gve(n)}),this.register(function(n){return new qve(n)}),this.register(function(n){return new Hve(n)}),this.register(function(n){return new Xve(n)}),this.register(function(n){return new kve(n)}),this.register(function(n){return new Zve(n)}),this.register(function(n){return new $ve(n)})}load(e,n,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=rl.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ar(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(rl.decodeText(new Uint8Array(e.slice(0,4)))===RY){try{o[Tn.KHR_BINARY_GLTF]=new e1e(e)}catch(c){r&&r(c);return}s=JSON.parse(o[Tn.KHR_BINARY_GLTF].content)}else s=JSON.parse(rl.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new d1e(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case Tn.KHR_MATERIALS_UNLIT:o[c]=new Nve;break;case Tn.KHR_DRACO_MESH_COMPRESSION:o[c]=new t1e(s,this.dracoLoader);break;case Tn.KHR_TEXTURE_TRANSFORM:o[c]=new n1e;break;case Tn.KHR_MESH_QUANTIZATION:o[c]=new i1e;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,s){i.parse(e,n,r,s)})}}function Uve(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Tn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class kve{constructor(e){this.parser=e,this.name=Tn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Je(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new N9(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new k9(c),u.distance=f;break;case"spot":u=new U9(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,ju(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(n.cache,a,l)})}}class Nve{constructor(){this.name=Tn.KHR_MATERIALS_UNLIT}getMaterialType(){return xr}extendParams(e,n,i){const r=[];e.color=new Je(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class Gve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class zve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new he(a,a)}return Promise.all(s)}}class Hve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Vve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Je(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Qve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Wve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Je(a[0],a[1],a[2]),Promise.all(s)}}class jve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class qve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Je(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Xve{constructor(e){this.parser=e,this.name=Tn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:wa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Yve{constructor(e){this.parser=e,this.name=Tn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class Kve{constructor(e){this.parser=e,this.name=Tn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Jve{constructor(e){this.parser=e,this.name=Tn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Zve{constructor(e){this.name=Tn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,c=r.count,f=r.byteStride,h=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,h,r.mode,r.filter).then(function(d){return d.buffer}):o.ready.then(function(){const d=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(d),c,f,h,r.mode,r.filter),d})})}else return null}}class $ve{constructor(e){this.name=Tn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==_o.TRIANGLES&&u.mode!==_o.TRIANGLE_STRIP&&u.mode!==_o.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,d=[];for(const p of f){const y=new it,A=new j,g=new mi,x=new j(1,1,1),S=new y9(p.geometry,p.material,h);for(let E=0;E<h;E++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,E),l.SCALE&&x.fromBufferAttribute(l.SCALE,E),S.setMatrixAt(E,y.compose(A,g,x));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&p.geometry.setAttribute(E,l[E]);In.prototype.copy.call(S,p),this.parser.assignFinalMaterial(S),d.push(S)}return c.isGroup?(c.clear(),c.add(...d),c):d[0]}))}}const RY="glTF",F0=12,HO={JSON:1313821514,BIN:5130562};class e1e{constructor(e){this.name=Tn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,F0);if(this.header={magic:rl.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==RY)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-F0,r=new DataView(e,F0);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===HO.JSON){const l=new Uint8Array(e,F0+s,o);this.content=rl.decodeText(l)}else if(a===HO.BIN){const l=F0+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class t1e{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Tn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=yT[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=yT[c]||c.toLowerCase();if(o[c]!==void 0){const h=i.accessors[e.attributes[c]],d=Vd[h.componentType];u[f]=d.name,l[f]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(f){r.decodeDracoFile(c,function(h){for(const d in h.attributes){const p=h.attributes[d],y=l[d];y!==void 0&&(p.normalized=y)}f(h)},a,u)})})}}class n1e{constructor(){this.name=Tn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class i1e{constructor(){this.name=Tn.KHR_MESH_QUANTIZATION}}class PY extends Rp{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)n[o]=i[s+o];return n}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=r-n,f=(i-n)/c,h=f*f,d=h*f,p=e*u,y=p-u,A=-2*d+3*h,g=d-h,x=1-A,S=g-h+f;for(let E=0;E!==a;E++){const w=o[y+E+a],C=o[y+E+l]*c,b=o[p+E+a],I=o[p+E]*c;s[E]=x*w+S*C+A*b+g*I}return s}}const r1e=new mi;class s1e extends PY{interpolate_(e,n,i,r){const s=super.interpolate_(e,n,i,r);return r1e.fromArray(s).normalize().toArray(s),s}}const _o={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Vd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},VO={9728:vt,9729:At,9984:V3,9985:E6,9986:Od,9987:Go},QO={33071:ri,33648:np,10497:Ki},u_={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Lr.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Nu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},o1e={CUBICSPLINE:void 0,LINEAR:Yf,STEP:ip},c_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function a1e(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new VA({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:No})),t.DefaultMaterial}function uf(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function ju(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function l1e(t,e,n){let i=!1,r=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(i){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(h)}if(r){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return i&&(t.morphAttributes.position=c),r&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function u1e(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function c1e(t){let e;const n=t.extensions&&t.extensions[Tn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+f_(n.attributes):e=t.indices+":"+f_(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+f_(t.targets[i]);return e}function f_(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function xT(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function f1e(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const h1e=new it;class d1e{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Uve,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new O9(this.options.manager):this.textureLoader=new Cq(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ar(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};uf(s,a,r),ju(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=n.length;r<s;r++){const o=n[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const s=e(n[r]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Tn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(rl.resolveURL(n.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=u_[r.type],a=Vd[r.componentType],l=r.normalized===!0,u=new a(r.count*o);return Promise.resolve(new An(u,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=u_[r.type],u=Vd[r.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=r.byteOffset||0,d=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,p=r.normalized===!0;let y,A;if(d&&d!==f){const g=Math.floor(h/d),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let S=n.cache.get(x);S||(y=new u(a,g*d,r.count*d/c),S=new FA(y,d/c),n.cache.add(x,S)),A=new Ms(S,l,h%d/c,p)}else a===null?y=new u(r.count*l):y=new u(a,h,r.count*l),A=new An(y,l,p);if(r.sparse!==void 0){const g=u_.SCALAR,x=Vd[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,w=new x(o[1],S,r.sparse.count*g),C=new u(o[2],E,r.sparse.count*l);a!==null&&(A=new An(A.array.slice(),A.itemSize,A.normalized));for(let b=0,I=w.length;b<I;b++){const M=w[b];if(A.setX(M,C[b*l]),l>=2&&A.setY(M,C[b*l+1]),l>=3&&A.setZ(M,C[b*l+2]),l>=4&&A.setW(M,C[b*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const n=this.json,i=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const r=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,i).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return c.magFilter=VO[h.magFilter]||At,c.minFilter=VO[h.minFilter]||Go,c.wrapS=QO[h.wrapS]||Ki,c.wrapT=QO[h.wrapT]||Ki,r.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,d){let p=h;n.isImageBitmapLoader===!0&&(p=function(y){const A=new Vn(y);A.needsUpdate=!0,h(A)}),n.load(rl.resolveURL(f,s.path),p,void 0,d)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||f1e(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,n,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Tn.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Tn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Tn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new D6,Li.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Jr,Li.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return VA}loadMaterial(e){const n=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Tn.KHR_MATERIALS_UNLIT]){const f=r[Tn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Je(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=yr);const c=s.alphaMode||c_.OPAQUE;if(c===c_.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===c_.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==xr&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new he(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==xr&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==xr&&(a.emissive=new Je().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==xr&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),ju(f,s),n.associations.set(f,{materials:e}),s.extensions&&uf(r,f,s),f})}createUniqueName(e){const n=Rn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Tn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return WO(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=c1e(u),f=r[c];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[Tn.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=WO(new Xt,u,n),r[c]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const n=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?a1e(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let d=0,p=c.length;d<p;d++){const y=c[d],A=o[d];let g;const x=u[d];if(A.mode===_o.TRIANGLES||A.mode===_o.TRIANGLE_STRIP||A.mode===_o.TRIANGLE_FAN||A.mode===void 0)g=s.isSkinnedMesh===!0?new A9(y,x):new yn(y,x),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),A.mode===_o.TRIANGLE_STRIP?g.geometry=GO(g.geometry,u9):A.mode===_o.TRIANGLE_FAN&&(g.geometry=GO(g.geometry,sS));else if(A.mode===_o.LINES)g=new Sa(y,x);else if(A.mode===_o.LINE_STRIP)g=new ru(y,x);else if(A.mode===_o.LINE_LOOP)g=new x9(y,x);else if(A.mode===_o.POINTS)g=new L6(y,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(g.geometry.morphAttributes).length>0&&u1e(g,s),g.name=n.createUniqueName(s.name||"mesh_"+e),ju(g,s),A.extensions&&uf(r,g,A),n.assignFinalMaterial(g),f.push(g)}for(let d=0,p=f.length;d<p;d++)n.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return s.extensions&&uf(r,f[0],s),f[0];const h=new Wl;s.extensions&&uf(r,h,s),n.associations.set(h,{meshes:e});for(let d=0,p=f.length;d<p;d++)h.add(f[d]);return h})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new Qn(cs.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new fa(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),ju(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,s=n.joints.length;r<s;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const h=new it;s!==null&&h.fromArray(s.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new UA(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let c=0,f=i.channels.length;c<f;c++){const h=i.channels[c],d=i.samplers[h.sampler],p=h.target,y=p.node,A=i.parameters!==void 0?i.parameters[d.input]:d.input,g=i.parameters!==void 0?i.parameters[d.output]:d.output;p.node!==void 0&&(s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",A)),a.push(this.getDependency("accessor",g)),l.push(d),u.push(p))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const f=c[0],h=c[1],d=c[2],p=c[3],y=c[4],A=[];for(let g=0,x=f.length;g<x;g++){const S=f[g],E=h[g],w=d[g],C=p[g],b=y[g];if(S===void 0)continue;S.updateMatrix();let I;switch(Nu[b.path]){case Nu.weights:I=op;break;case Nu.rotation:I=yc;break;case Nu.position:case Nu.scale:default:I=ap;break}const M=S.name?S.name:S.uuid,R=C.interpolation!==void 0?o1e[C.interpolation]:Yf,D=[];Nu[b.path]===Nu.weights?S.traverse(function(O){O.morphTargetInfluences&&D.push(O.name?O.name:O.uuid)}):D.push(M);let F=w.array;if(w.normalized){const O=xT(F.constructor),L=new Float32Array(F.length);for(let U=0,q=F.length;U<q;U++)L[U]=F[U]*O;F=L}for(let O=0,L=D.length;O<L;O++){const U=new I(D[O]+"."+Nu[b.path],E.array,F,R);C.interpolation==="CUBICSPLINE"&&(U.createInterpolant=function(K){const k=this instanceof yc?s1e:PY;return new k(this.times,this.values,this.getValueSize()/3,K)},U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(U)}}return new lp(r,void 0,A)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let u=0,c=a.length;u<c;u++)o.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(d){d.isSkinnedMesh&&d.bind(h,h1e)});for(let d=0,p=f.length;d<p;d++)c.add(f[d]);return c})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new B6:u.length>1?c=new Wl:u.length===1?c=u[0]:c=new In,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),ju(c,s),s.extensions&&uf(i,c,s),s.matrix!==void 0){const f=new it;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return r.associations.has(c)||r.associations.set(c,{}),r.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,s=new Wl;i.name&&(s.name=r.createUniqueName(i.name)),ju(s,i),i.extensions&&uf(n,s,i);const o=i.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[h,d]of r.associations)(h instanceof Li||h instanceof Vn)&&f.set(h,d);return c.traverse(h=>{const d=r.associations.get(h);d!=null&&f.set(h,d)}),f};return r.associations=u(s),s})}}function p1e(t,e,n){const i=e.attributes,r=new Or;if(i.POSITION!==void 0){const a=n.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new j(l[0],l[1],l[2]),new j(u[0],u[1],u[2])),a.normalized){const c=xT(Vd[a.componentType]);r.min.multiplyScalar(c),r.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new j,l=new j;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],d=h.min,p=h.max;if(d!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(p[2]))),h.normalized){const y=xT(Vd[h.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}t.boundingBox=r;const o=new Fr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=o}function WO(t,e,n){const i=e.attributes,r=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in i){const a=yT[o]||o.toLowerCase();a in t.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});r.push(o)}return ju(t,e),p1e(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?l1e(t,e.targets,n):t})}const ST=class{static createButton(t,e={}){const n=document.createElement("button");function i(){let a=null;async function l(c){c.addEventListener("end",u),await t.xr.setSession(c),n.textContent="EXIT VR",a=c}function u(){a.removeEventListener("end",u),n.textContent="ENTER VR",a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{var c;if(a===null){const f=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(c=navigator.xr)==null||c.requestSession("immersive-vr",{...e,optionalFeatures:f}).then(l)}else a.end()}}function r(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){r(),n.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?i():s(),a&&ST.xrSessionIsGranted&&n.click()}),n;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{ST.xrSessionIsGranted=!0})}};let m1e=ST;et(m1e,"xrSessionIsGranted",!1);const g1e={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},v1e={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class BY{constructor(e){et(this,"data"),this.data=e}generateShapes(e,n=100,i){const r=[],s={letterSpacing:0,lineHeight:1,...i},o=A1e(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(r,o[a].toShapes(!1));return r}}et(BY,"isFont");et(BY,"type");function A1e(t,e,n,i){const r=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,u=0;for(let c=0;c<r.length;c++){const f=r[c];if(f===`
`)l=0,u-=o*i.lineHeight;else{const h=y1e(f,s,l,u,n);h&&(l+=h.offsetX+i.letterSpacing,a.push(h.path))}}return a}function y1e(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");return}const o=new Bq;let a,l,u,c,f,h,d,p;if(s.o){const y=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let A=0,g=y.length;A<g;)switch(y[A++]){case"m":a=parseInt(y[A++])*e+n,l=parseInt(y[A++])*e+i,o.moveTo(a,l);break;case"l":a=parseInt(y[A++])*e+n,l=parseInt(y[A++])*e+i,o.lineTo(a,l);break;case"q":u=parseInt(y[A++])*e+n,c=parseInt(y[A++])*e+i,f=parseInt(y[A++])*e+n,h=parseInt(y[A++])*e+i,o.quadraticCurveTo(f,h,u,c);break;case"b":u=parseInt(y[A++])*e+n,c=parseInt(y[A++])*e+i,f=parseInt(y[A++])*e+n,h=parseInt(y[A++])*e+i,d=parseInt(y[A++])*e+n,p=parseInt(y[A++])*e+i,o.bezierCurveTo(f,h,d,p,u,c);break}}return{offsetX:s.ha*e,path:o}}class x1e extends Vn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=vt,this.minFilter=vt,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var S1e=typeof global=="object"&&global&&global.Object===Object&&global;const DY=S1e;var E1e=typeof self=="object"&&self&&self.Object===Object&&self,w1e=DY||E1e||Function("return this")();const hl=w1e;var _1e=hl.Symbol;const Ho=_1e;var LY=Object.prototype,C1e=LY.hasOwnProperty,b1e=LY.toString,U0=Ho?Ho.toStringTag:void 0;function T1e(t){var e=C1e.call(t,U0),n=t[U0];try{t[U0]=void 0;var i=!0}catch{}var r=b1e.call(t);return i&&(e?t[U0]=n:delete t[U0]),r}var M1e=Object.prototype,I1e=M1e.toString;function R1e(t){return I1e.call(t)}var P1e="[object Null]",B1e="[object Undefined]",jO=Ho?Ho.toStringTag:void 0;function Bc(t){return t==null?t===void 0?B1e:P1e:jO&&jO in Object(t)?T1e(t):R1e(t)}function ya(t){return t!=null&&typeof t=="object"}var D1e="[object Symbol]";function aE(t){return typeof t=="symbol"||ya(t)&&Bc(t)==D1e}function e2(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var L1e=Array.isArray;const Un=L1e;var O1e=1/0,qO=Ho?Ho.prototype:void 0,XO=qO?qO.toString:void 0;function OY(t){if(typeof t=="string")return t;if(Un(t))return e2(t,OY)+"";if(aE(t))return XO?XO.call(t):"";var e=t+"";return e=="0"&&1/t==-O1e?"-0":e}var F1e=/\s/;function U1e(t){for(var e=t.length;e--&&F1e.test(t.charAt(e)););return e}var k1e=/^\s+/;function N1e(t){return t&&t.slice(0,U1e(t)+1).replace(k1e,"")}function Vo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var YO=0/0,G1e=/^[-+]0x[0-9a-f]+$/i,z1e=/^0b[01]+$/i,H1e=/^0o[0-7]+$/i,V1e=parseInt;function Q1e(t){if(typeof t=="number")return t;if(aE(t))return YO;if(Vo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=N1e(t);var n=z1e.test(t);return n||H1e.test(t)?V1e(t.slice(2),n?2:8):G1e.test(t)?YO:+t}var KO=1/0,W1e=17976931348623157e292;function j1e(t){if(!t)return t===0?t:0;if(t=Q1e(t),t===KO||t===-KO){var e=t<0?-1:1;return e*W1e}return t===t?t:0}function t2(t){var e=j1e(t),n=e%1;return e===e?n?e-n:e:0}function dp(t){return t}var q1e="[object AsyncFunction]",X1e="[object Function]",Y1e="[object GeneratorFunction]",K1e="[object Proxy]";function hu(t){if(!Vo(t))return!1;var e=Bc(t);return e==X1e||e==Y1e||e==q1e||e==K1e}var J1e=hl["__core-js_shared__"];const h_=J1e;var JO=function(){var t=/[^.]+$/.exec(h_&&h_.keys&&h_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Z1e(t){return!!JO&&JO in t}var $1e=Function.prototype,e3e=$1e.toString;function fh(t){if(t!=null){try{return e3e.call(t)}catch{}try{return t+""}catch{}}return""}var t3e=/[\\^$.*+?()[\]{}|]/g,n3e=/^\[object .+?Constructor\]$/,i3e=Function.prototype,r3e=Object.prototype,s3e=i3e.toString,o3e=r3e.hasOwnProperty,a3e=RegExp("^"+s3e.call(o3e).replace(t3e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l3e(t){if(!Vo(t)||Z1e(t))return!1;var e=hu(t)?a3e:n3e;return e.test(fh(t))}function u3e(t,e){return t==null?void 0:t[e]}function hh(t,e){var n=u3e(t,e);return l3e(n)?n:void 0}var c3e=hh(hl,"WeakMap");const ET=c3e;var ZO=Object.create,f3e=function(){function t(){}return function(e){if(!Vo(e))return{};if(ZO)return ZO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const h3e=f3e;function d3e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function er(){}function p3e(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var m3e=800,g3e=16,v3e=Date.now;function A3e(t){var e=0,n=0;return function(){var i=v3e(),r=g3e-(i-n);if(n=i,r>0){if(++e>=m3e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function y3e(t){return function(){return t}}var x3e=function(){try{var t=hh(Object,"defineProperty");return t({},"",{}),t}catch{}}();const TS=x3e;var S3e=TS?function(t,e){return TS(t,"toString",{configurable:!0,enumerable:!1,value:y3e(e),writable:!0})}:dp;const E3e=S3e;var w3e=A3e(E3e);const _3e=w3e;function FY(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function UY(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function C3e(t){return t!==t}function b3e(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function SI(t,e,n){return e===e?b3e(t,e,n):UY(t,C3e,n)}function kY(t,e){var n=t==null?0:t.length;return!!n&&SI(t,e,0)>-1}var T3e=9007199254740991,M3e=/^(?:0|[1-9]\d*)$/;function lE(t,e){var n=typeof t;return e=e??T3e,!!e&&(n=="number"||n!="symbol"&&M3e.test(t))&&t>-1&&t%1==0&&t<e}function EI(t,e,n){e=="__proto__"&&TS?TS(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function n2(t,e){return t===e||t!==t&&e!==e}var I3e=Object.prototype,R3e=I3e.hasOwnProperty;function uE(t,e,n){var i=t[e];(!(R3e.call(t,e)&&n2(i,n))||n===void 0&&!(e in t))&&EI(t,e,n)}function i2(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?EI(n,a,l):uE(n,a,l)}return n}var $O=Math.max;function P3e(t,e,n){return e=$O(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=$O(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(o),d3e(t,this,a)}}function wI(t,e){return _3e(P3e(t,e,dp),t+"")}var B3e=9007199254740991;function _I(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=B3e}function dl(t){return t!=null&&_I(t.length)&&!hu(t)}function cE(t,e,n){if(!Vo(n))return!1;var i=typeof e;return(i=="number"?dl(n)&&lE(e,n.length):i=="string"&&e in n)?n2(n[e],t):!1}function D3e(t){return wI(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,o&&cE(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}var L3e=Object.prototype;function r2(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||L3e;return t===n}function O3e(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var F3e="[object Arguments]";function eF(t){return ya(t)&&Bc(t)==F3e}var NY=Object.prototype,U3e=NY.hasOwnProperty,k3e=NY.propertyIsEnumerable,N3e=eF(function(){return arguments}())?eF:function(t){return ya(t)&&U3e.call(t,"callee")&&!k3e.call(t,"callee")};const fE=N3e;function G3e(){return!1}var GY=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,tF=GY&&typeof Zs=="object"&&Zs&&!Zs.nodeType&&Zs,z3e=tF&&tF.exports===GY,nF=z3e?hl.Buffer:void 0,H3e=nF?nF.isBuffer:void 0,V3e=H3e||G3e;const fA=V3e;var Q3e="[object Arguments]",W3e="[object Array]",j3e="[object Boolean]",q3e="[object Date]",X3e="[object Error]",Y3e="[object Function]",K3e="[object Map]",J3e="[object Number]",Z3e="[object Object]",$3e="[object RegExp]",eAe="[object Set]",tAe="[object String]",nAe="[object WeakMap]",iAe="[object ArrayBuffer]",rAe="[object DataView]",sAe="[object Float32Array]",oAe="[object Float64Array]",aAe="[object Int8Array]",lAe="[object Int16Array]",uAe="[object Int32Array]",cAe="[object Uint8Array]",fAe="[object Uint8ClampedArray]",hAe="[object Uint16Array]",dAe="[object Uint32Array]",li={};li[sAe]=li[oAe]=li[aAe]=li[lAe]=li[uAe]=li[cAe]=li[fAe]=li[hAe]=li[dAe]=!0;li[Q3e]=li[W3e]=li[iAe]=li[j3e]=li[rAe]=li[q3e]=li[X3e]=li[Y3e]=li[K3e]=li[J3e]=li[Z3e]=li[$3e]=li[eAe]=li[tAe]=li[nAe]=!1;function pAe(t){return ya(t)&&_I(t.length)&&!!li[Bc(t)]}function s2(t){return function(e){return t(e)}}var zY=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,d3=zY&&typeof Zs=="object"&&Zs&&!Zs.nodeType&&Zs,mAe=d3&&d3.exports===zY,d_=mAe&&DY.process,gAe=function(){try{var t=d3&&d3.require&&d3.require("util").types;return t||d_&&d_.binding&&d_.binding("util")}catch{}}();const Sc=gAe;var iF=Sc&&Sc.isTypedArray,vAe=iF?s2(iF):pAe;const CI=vAe;var AAe=Object.prototype,yAe=AAe.hasOwnProperty;function HY(t,e){var n=Un(t),i=!n&&fE(t),r=!n&&!i&&fA(t),s=!n&&!i&&!r&&CI(t),o=n||i||r||s,a=o?O3e(t.length,String):[],l=a.length;for(var u in t)(e||yAe.call(t,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lE(u,l)))&&a.push(u);return a}function VY(t,e){return function(n){return t(e(n))}}var xAe=VY(Object.keys,Object);const SAe=xAe;var EAe=Object.prototype,wAe=EAe.hasOwnProperty;function QY(t){if(!r2(t))return SAe(t);var e=[];for(var n in Object(t))wAe.call(t,n)&&n!="constructor"&&e.push(n);return e}function no(t){return dl(t)?HY(t):QY(t)}var _Ae=Object.prototype,CAe=_Ae.hasOwnProperty,bAe=D3e(function(t,e){if(r2(e)||dl(e)){i2(e,no(e),t);return}for(var n in e)CAe.call(e,n)&&uE(t,n,e[n])});const io=bAe;function TAe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var MAe=Object.prototype,IAe=MAe.hasOwnProperty;function RAe(t){if(!Vo(t))return TAe(t);var e=r2(t),n=[];for(var i in t)i=="constructor"&&(e||!IAe.call(t,i))||n.push(i);return n}function hE(t){return dl(t)?HY(t,!0):RAe(t)}var PAe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BAe=/^\w*$/;function bI(t,e){if(Un(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||aE(t)?!0:BAe.test(t)||!PAe.test(t)||e!=null&&t in Object(e)}var DAe=hh(Object,"create");const hA=DAe;function LAe(){this.__data__=hA?hA(null):{},this.size=0}function OAe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var FAe="__lodash_hash_undefined__",UAe=Object.prototype,kAe=UAe.hasOwnProperty;function NAe(t){var e=this.__data__;if(hA){var n=e[t];return n===FAe?void 0:n}return kAe.call(e,t)?e[t]:void 0}var GAe=Object.prototype,zAe=GAe.hasOwnProperty;function HAe(t){var e=this.__data__;return hA?e[t]!==void 0:zAe.call(e,t)}var VAe="__lodash_hash_undefined__";function QAe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hA&&e===void 0?VAe:e,this}function eh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}eh.prototype.clear=LAe;eh.prototype.delete=OAe;eh.prototype.get=NAe;eh.prototype.has=HAe;eh.prototype.set=QAe;function WAe(){this.__data__=[],this.size=0}function dE(t,e){for(var n=t.length;n--;)if(n2(t[n][0],e))return n;return-1}var jAe=Array.prototype,qAe=jAe.splice;function XAe(t){var e=this.__data__,n=dE(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():qAe.call(e,n,1),--this.size,!0}function YAe(t){var e=this.__data__,n=dE(e,t);return n<0?void 0:e[n][1]}function KAe(t){return dE(this.__data__,t)>-1}function JAe(t,e){var n=this.__data__,i=dE(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}du.prototype.clear=WAe;du.prototype.delete=XAe;du.prototype.get=YAe;du.prototype.has=KAe;du.prototype.set=JAe;var ZAe=hh(hl,"Map");const dA=ZAe;function $Ae(){this.size=0,this.__data__={hash:new eh,map:new(dA||du),string:new eh}}function e2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function pE(t,e){var n=t.__data__;return e2e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function t2e(t){var e=pE(this,t).delete(t);return this.size-=e?1:0,e}function n2e(t){return pE(this,t).get(t)}function i2e(t){return pE(this,t).has(t)}function r2e(t,e){var n=pE(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function pu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}pu.prototype.clear=$Ae;pu.prototype.delete=t2e;pu.prototype.get=n2e;pu.prototype.has=i2e;pu.prototype.set=r2e;var s2e="Expected a function";function TI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(s2e);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(TI.Cache||pu),n}TI.Cache=pu;var o2e=500;function a2e(t){var e=TI(t,function(i){return n.size===o2e&&n.clear(),i}),n=e.cache;return e}var l2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u2e=/\\(\\)?/g,c2e=a2e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(l2e,function(n,i,r,s){e.push(r?s.replace(u2e,"$1"):i||n)}),e});const f2e=c2e;function h2e(t){return t==null?"":OY(t)}function mE(t,e){return Un(t)?t:bI(t,e)?[t]:f2e(h2e(t))}var d2e=1/0;function o2(t){if(typeof t=="string"||aE(t))return t;var e=t+"";return e=="0"&&1/t==-d2e?"-0":e}function MI(t,e){e=mE(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[o2(e[n++])];return n&&n==i?t:void 0}function p2e(t,e,n){var i=t==null?void 0:MI(t,e);return i===void 0?n:i}function II(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var rF=Ho?Ho.isConcatSpreadable:void 0;function m2e(t){return Un(t)||fE(t)||!!(rF&&t&&t[rF])}function gE(t,e,n,i,r){var s=-1,o=t.length;for(n||(n=m2e),r||(r=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?gE(a,e-1,n,i,r):II(r,a):i||(r[r.length]=a)}return r}function ha(t){var e=t==null?0:t.length;return e?gE(t,1):[]}var g2e=VY(Object.getPrototypeOf,Object);const WY=g2e;function jY(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=t[i+e];return s}function v2e(t,e,n,i){var r=-1,s=t==null?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function A2e(){this.__data__=new du,this.size=0}function y2e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function x2e(t){return this.__data__.get(t)}function S2e(t){return this.__data__.has(t)}var E2e=200;function w2e(t,e){var n=this.__data__;if(n instanceof du){var i=n.__data__;if(!dA||i.length<E2e-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new pu(i)}return n.set(t,e),this.size=n.size,this}function al(t){var e=this.__data__=new du(t);this.size=e.size}al.prototype.clear=A2e;al.prototype.delete=y2e;al.prototype.get=x2e;al.prototype.has=S2e;al.prototype.set=w2e;function _2e(t,e){return t&&i2(e,no(e),t)}function C2e(t,e){return t&&i2(e,hE(e),t)}var qY=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,sF=qY&&typeof Zs=="object"&&Zs&&!Zs.nodeType&&Zs,b2e=sF&&sF.exports===qY,oF=b2e?hl.Buffer:void 0,aF=oF?oF.allocUnsafe:void 0;function T2e(t,e){if(e)return t.slice();var n=t.length,i=aF?aF(n):new t.constructor(n);return t.copy(i),i}function RI(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function XY(){return[]}var M2e=Object.prototype,I2e=M2e.propertyIsEnumerable,lF=Object.getOwnPropertySymbols,R2e=lF?function(t){return t==null?[]:(t=Object(t),RI(lF(t),function(e){return I2e.call(t,e)}))}:XY;const PI=R2e;function P2e(t,e){return i2(t,PI(t),e)}var B2e=Object.getOwnPropertySymbols,D2e=B2e?function(t){for(var e=[];t;)II(e,PI(t)),t=WY(t);return e}:XY;const YY=D2e;function L2e(t,e){return i2(t,YY(t),e)}function KY(t,e,n){var i=e(t);return Un(t)?i:II(i,n(t))}function wT(t){return KY(t,no,PI)}function JY(t){return KY(t,hE,YY)}var O2e=hh(hl,"DataView");const _T=O2e;var F2e=hh(hl,"Promise");const CT=F2e;var U2e=hh(hl,"Set");const Qd=U2e;var uF="[object Map]",k2e="[object Object]",cF="[object Promise]",fF="[object Set]",hF="[object WeakMap]",dF="[object DataView]",N2e=fh(_T),G2e=fh(dA),z2e=fh(CT),H2e=fh(Qd),V2e=fh(ET),xf=Bc;(_T&&xf(new _T(new ArrayBuffer(1)))!=dF||dA&&xf(new dA)!=uF||CT&&xf(CT.resolve())!=cF||Qd&&xf(new Qd)!=fF||ET&&xf(new ET)!=hF)&&(xf=function(t){var e=Bc(t),n=e==k2e?t.constructor:void 0,i=n?fh(n):"";if(i)switch(i){case N2e:return dF;case G2e:return uF;case z2e:return cF;case H2e:return fF;case V2e:return hF}return e});const pp=xf;var Q2e=Object.prototype,W2e=Q2e.hasOwnProperty;function j2e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&W2e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var q2e=hl.Uint8Array;const MS=q2e;function BI(t){var e=new t.constructor(t.byteLength);return new MS(e).set(new MS(t)),e}function X2e(t,e){var n=e?BI(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Y2e=/\w*$/;function K2e(t){var e=new t.constructor(t.source,Y2e.exec(t));return e.lastIndex=t.lastIndex,e}var pF=Ho?Ho.prototype:void 0,mF=pF?pF.valueOf:void 0;function J2e(t){return mF?Object(mF.call(t)):{}}function Z2e(t,e){var n=e?BI(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var $2e="[object Boolean]",eye="[object Date]",tye="[object Map]",nye="[object Number]",iye="[object RegExp]",rye="[object Set]",sye="[object String]",oye="[object Symbol]",aye="[object ArrayBuffer]",lye="[object DataView]",uye="[object Float32Array]",cye="[object Float64Array]",fye="[object Int8Array]",hye="[object Int16Array]",dye="[object Int32Array]",pye="[object Uint8Array]",mye="[object Uint8ClampedArray]",gye="[object Uint16Array]",vye="[object Uint32Array]";function Aye(t,e,n){var i=t.constructor;switch(e){case aye:return BI(t);case $2e:case eye:return new i(+t);case lye:return X2e(t,n);case uye:case cye:case fye:case hye:case dye:case pye:case mye:case gye:case vye:return Z2e(t,n);case tye:return new i;case nye:case sye:return new i(t);case iye:return K2e(t);case rye:return new i;case oye:return J2e(t)}}function yye(t){return typeof t.constructor=="function"&&!r2(t)?h3e(WY(t)):{}}var xye="[object Map]";function Sye(t){return ya(t)&&pp(t)==xye}var gF=Sc&&Sc.isMap,Eye=gF?s2(gF):Sye;const wye=Eye;var _ye="[object Set]";function Cye(t){return ya(t)&&pp(t)==_ye}var vF=Sc&&Sc.isSet,bye=vF?s2(vF):Cye;const Tye=bye;var Mye=1,Iye=2,Rye=4,ZY="[object Arguments]",Pye="[object Array]",Bye="[object Boolean]",Dye="[object Date]",Lye="[object Error]",$Y="[object Function]",Oye="[object GeneratorFunction]",Fye="[object Map]",Uye="[object Number]",eK="[object Object]",kye="[object RegExp]",Nye="[object Set]",Gye="[object String]",zye="[object Symbol]",Hye="[object WeakMap]",Vye="[object ArrayBuffer]",Qye="[object DataView]",Wye="[object Float32Array]",jye="[object Float64Array]",qye="[object Int8Array]",Xye="[object Int16Array]",Yye="[object Int32Array]",Kye="[object Uint8Array]",Jye="[object Uint8ClampedArray]",Zye="[object Uint16Array]",$ye="[object Uint32Array]",ti={};ti[ZY]=ti[Pye]=ti[Vye]=ti[Qye]=ti[Bye]=ti[Dye]=ti[Wye]=ti[jye]=ti[qye]=ti[Xye]=ti[Yye]=ti[Fye]=ti[Uye]=ti[eK]=ti[kye]=ti[Nye]=ti[Gye]=ti[zye]=ti[Kye]=ti[Jye]=ti[Zye]=ti[$ye]=!0;ti[Lye]=ti[$Y]=ti[Hye]=!1;function Sx(t,e,n,i,r,s){var o,a=e&Mye,l=e&Iye,u=e&Rye;if(n&&(o=r?n(t,i,r,s):n(t)),o!==void 0)return o;if(!Vo(t))return t;var c=Un(t);if(c){if(o=j2e(t),!a)return p3e(t,o)}else{var f=pp(t),h=f==$Y||f==Oye;if(fA(t))return T2e(t,a);if(f==eK||f==ZY||h&&!r){if(o=l||h?{}:yye(t),!a)return l?L2e(t,C2e(o,t)):P2e(t,_2e(o,t))}else{if(!ti[f])return r?t:{};o=Aye(t,f,a)}}s||(s=new al);var d=s.get(t);if(d)return d;s.set(t,o),Tye(t)?t.forEach(function(A){o.add(Sx(A,e,n,A,t,s))}):wye(t)&&t.forEach(function(A,g){o.set(g,Sx(A,e,n,g,t,s))});var p=u?l?JY:wT:l?hE:no,y=c?void 0:p(t);return FY(y||t,function(A,g){y&&(g=A,A=t[g]),uE(o,g,Sx(A,e,n,g,t,s))}),o}var e5e=4;function Yr(t){return Sx(t,e5e)}function a2(t){for(var e=-1,n=t==null?0:t.length,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r}var t5e="__lodash_hash_undefined__";function n5e(t){return this.__data__.set(t,t5e),this}function i5e(t){return this.__data__.has(t)}function mp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pu;++e<n;)this.add(t[e])}mp.prototype.add=mp.prototype.push=n5e;mp.prototype.has=i5e;function tK(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function DI(t,e){return t.has(e)}var r5e=1,s5e=2;function nK(t,e,n,i,r,s){var o=n&r5e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,d=n&s5e?new mp:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],y=e[f];if(i)var A=o?i(y,p,f,e,t,s):i(p,y,f,t,e,s);if(A!==void 0){if(A)continue;h=!1;break}if(d){if(!tK(e,function(g,x){if(!DI(d,x)&&(p===g||r(p,g,n,i,s)))return d.push(x)})){h=!1;break}}else if(!(p===y||r(p,y,n,i,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function o5e(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function LI(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var a5e=1,l5e=2,u5e="[object Boolean]",c5e="[object Date]",f5e="[object Error]",h5e="[object Map]",d5e="[object Number]",p5e="[object RegExp]",m5e="[object Set]",g5e="[object String]",v5e="[object Symbol]",A5e="[object ArrayBuffer]",y5e="[object DataView]",AF=Ho?Ho.prototype:void 0,p_=AF?AF.valueOf:void 0;function x5e(t,e,n,i,r,s,o){switch(n){case y5e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A5e:return!(t.byteLength!=e.byteLength||!s(new MS(t),new MS(e)));case u5e:case c5e:case d5e:return n2(+t,+e);case f5e:return t.name==e.name&&t.message==e.message;case p5e:case g5e:return t==e+"";case h5e:var a=o5e;case m5e:var l=i&a5e;if(a||(a=LI),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;i|=l5e,o.set(t,e);var c=nK(a(t),a(e),i,r,s,o);return o.delete(t),c;case v5e:if(p_)return p_.call(t)==p_.call(e)}return!1}var S5e=1,E5e=Object.prototype,w5e=E5e.hasOwnProperty;function _5e(t,e,n,i,r,s){var o=n&S5e,a=wT(t),l=a.length,u=wT(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:w5e.call(e,h)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var y=!0;s.set(t,e),s.set(e,t);for(var A=o;++f<l;){h=a[f];var g=t[h],x=e[h];if(i)var S=o?i(x,g,h,e,t,s):i(g,x,h,t,e,s);if(!(S===void 0?g===x||r(g,x,n,i,s):S)){y=!1;break}A||(A=h=="constructor")}if(y&&!A){var E=t.constructor,w=e.constructor;E!=w&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof w=="function"&&w instanceof w)&&(y=!1)}return s.delete(t),s.delete(e),y}var C5e=1,yF="[object Arguments]",xF="[object Array]",L5="[object Object]",b5e=Object.prototype,SF=b5e.hasOwnProperty;function T5e(t,e,n,i,r,s){var o=Un(t),a=Un(e),l=o?xF:pp(t),u=a?xF:pp(e);l=l==yF?L5:l,u=u==yF?L5:u;var c=l==L5,f=u==L5,h=l==u;if(h&&fA(t)){if(!fA(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new al),o||CI(t)?nK(t,e,n,i,r,s):x5e(t,e,l,n,i,r,s);if(!(n&C5e)){var d=c&&SF.call(t,"__wrapped__"),p=f&&SF.call(e,"__wrapped__");if(d||p){var y=d?t.value():t,A=p?e.value():e;return s||(s=new al),r(y,A,n,i,s)}}return h?(s||(s=new al),_5e(t,e,n,i,r,s)):!1}function OI(t,e,n,i,r){return t===e?!0:t==null||e==null||!ya(t)&&!ya(e)?t!==t&&e!==e:T5e(t,e,n,i,OI,r)}var M5e=1,I5e=2;function R5e(t,e,n,i){var r=n.length,s=r,o=!i;if(t==null)return!s;for(t=Object(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new al;if(i)var h=i(u,c,l,t,e,f);if(!(h===void 0?OI(c,u,M5e|I5e,i,f):h))return!1}}return!0}function iK(t){return t===t&&!Vo(t)}function P5e(t){for(var e=no(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,iK(r)]}return e}function rK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function B5e(t){var e=P5e(t);return e.length==1&&e[0][2]?rK(e[0][0],e[0][1]):function(n){return n===t||R5e(n,t,e)}}function D5e(t,e){return t!=null&&e in Object(t)}function sK(t,e,n){e=mE(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var o=o2(e[i]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&_I(r)&&lE(o,r)&&(Un(t)||fE(t)))}function L5e(t,e){return t!=null&&sK(t,e,D5e)}var O5e=1,F5e=2;function U5e(t,e){return bI(t)&&iK(e)?rK(o2(t),e):function(n){var i=p2e(n,t);return i===void 0&&i===e?L5e(n,t):OI(e,i,O5e|F5e)}}function k5e(t){return function(e){return e==null?void 0:e[t]}}function N5e(t){return function(e){return MI(e,t)}}function G5e(t){return bI(t)?k5e(o2(t)):N5e(t)}function pl(t){return typeof t=="function"?t:t==null?dp:typeof t=="object"?Un(t)?U5e(t[0],t[1]):B5e(t):G5e(t)}function z5e(t,e,n,i){for(var r=-1,s=t==null?0:t.length;++r<s;){var o=t[r];e(i,o,n(o),t)}return i}function H5e(t){return function(e,n,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++r];if(n(s[l],l,s)===!1)break}return e}}var V5e=H5e();const Q5e=V5e;function W5e(t,e){return t&&Q5e(t,e,no)}function j5e(t,e){return function(n,i){if(n==null)return n;if(!dl(n))return t(n,i);for(var r=n.length,s=e?r:-1,o=Object(n);(e?s--:++s<r)&&i(o[s],s,o)!==!1;);return n}}var q5e=j5e(W5e);const dh=q5e;function X5e(t,e,n,i){return dh(t,function(r,s,o){e(i,r,n(r),o)}),i}function Y5e(t,e){return function(n,i){var r=Un(n)?z5e:X5e,s=e?e():{};return r(n,t,pl(i),s)}}var oK=Object.prototype,K5e=oK.hasOwnProperty,J5e=wI(function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&cE(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],o=hE(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||n2(c,oK[u])&&!K5e.call(t,u))&&(t[u]=s[u])}return t});const FI=J5e;function EF(t){return ya(t)&&dl(t)}function aK(t,e,n){for(var i=-1,r=t==null?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}var Z5e=200;function $5e(t,e,n,i){var r=-1,s=kY,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=e2(e,s2(n))),i?(s=aK,o=!1):e.length>=Z5e&&(s=DI,o=!1,e=new mp(e));e:for(;++r<a;){var c=t[r],f=n==null?c:n(c);if(c=i||c!==0?c:0,o&&f===f){for(var h=u;h--;)if(e[h]===f)continue e;l.push(c)}else s(e,f,i)||l.push(c)}return l}var exe=wI(function(t,e){return EF(t)?$5e(t,gE(e,1,EF,!0)):[]});const vE=exe;function gp(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Rr(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:t2(e),jY(t,e<0?0:e,i)):[]}function pA(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:t2(e),e=i-e,jY(t,0,e<0?0:e)):[]}function txe(t){return typeof t=="function"?t:dp}function Vt(t,e){var n=Un(t)?FY:dh;return n(t,txe(e))}function nxe(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ixe(t,e){var n=!0;return dh(t,function(i,r,s){return n=!!e(i,r,s),n}),n}function da(t,e,n){var i=Un(t)?nxe:ixe;return n&&cE(t,e,n)&&(e=void 0),i(t,pl(e))}function lK(t,e){var n=[];return dh(t,function(i,r,s){e(i,r,s)&&n.push(i)}),n}function jo(t,e){var n=Un(t)?RI:lK;return n(t,pl(e))}function rxe(t){return function(e,n,i){var r=Object(e);if(!dl(e)){var s=pl(n);e=no(e),n=function(a){return s(r[a],a,r)}}var o=t(e,n,i);return o>-1?r[s?e[o]:o]:void 0}}var sxe=Math.max;function oxe(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:t2(n);return r<0&&(r=sxe(i+r,0)),UY(t,pl(e),r)}var axe=rxe(oxe);const vp=axe;function xa(t){return t&&t.length?t[0]:void 0}function lxe(t,e){var n=-1,i=dl(t)?Array(t.length):[];return dh(t,function(r,s,o){i[++n]=e(r,s,o)}),i}function Bt(t,e){var n=Un(t)?e2:lxe;return n(t,pl(e))}function Oo(t,e){return gE(Bt(t,e),1)}var uxe=Object.prototype,cxe=uxe.hasOwnProperty,fxe=Y5e(function(t,e,n){cxe.call(t,n)?t[n].push(e):EI(t,n,[e])});const hxe=fxe;var dxe=Object.prototype,pxe=dxe.hasOwnProperty;function mxe(t,e){return t!=null&&pxe.call(t,e)}function zt(t,e){return t!=null&&sK(t,e,mxe)}var gxe="[object String]";function Ls(t){return typeof t=="string"||!Un(t)&&ya(t)&&Bc(t)==gxe}function vxe(t,e){return e2(e,function(n){return t[n]})}function nr(t){return t==null?[]:vxe(t,no(t))}var Axe=Math.max;function ms(t,e,n,i){t=dl(t)?t:nr(t),n=n&&!i?t2(n):0;var r=t.length;return n<0&&(n=Axe(r+n,0)),Ls(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&SI(t,e,n)>-1}var yxe=Math.max;function wF(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:t2(n);return r<0&&(r=yxe(i+r,0)),SI(t,e,r)}var xxe="[object Map]",Sxe="[object Set]",Exe=Object.prototype,wxe=Exe.hasOwnProperty;function si(t){if(t==null)return!0;if(dl(t)&&(Un(t)||typeof t=="string"||typeof t.splice=="function"||fA(t)||CI(t)||fE(t)))return!t.length;var e=pp(t);if(e==xxe||e==Sxe)return!t.size;if(r2(t))return!QY(t).length;for(var n in t)if(wxe.call(t,n))return!1;return!0}var _xe="[object RegExp]";function Cxe(t){return ya(t)&&Bc(t)==_xe}var _F=Sc&&Sc.isRegExp,bxe=_F?s2(_F):Cxe;const su=bxe;function ou(t){return t===void 0}var Txe="Expected a function";function Mxe(t){if(typeof t!="function")throw new TypeError(Txe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ixe(t,e,n,i){if(!Vo(t))return t;e=mE(e,t);for(var r=-1,s=e.length,o=s-1,a=t;a!=null&&++r<s;){var l=o2(e[r]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=o){var c=a[l];u=i?i(c,l,a):void 0,u===void 0&&(u=Vo(c)?c:lE(e[r+1])?[]:{})}uE(a,l,u),a=a[l]}return t}function Rxe(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=MI(t,o);n(a,o)&&Ixe(s,mE(o,t),a)}return s}function Ta(t,e){if(t==null)return{};var n=e2(JY(t),function(i){return[i]});return e=pl(e),Rxe(t,n,function(i,r){return e(i,r[0])})}function Pxe(t,e,n,i,r){return r(t,function(s,o,a){n=i?(i=!1,s):e(n,s,o,a)}),n}function ro(t,e,n){var i=Un(t)?v2e:Pxe,r=arguments.length<3;return i(t,pl(e),n,r,dh)}function AE(t,e){var n=Un(t)?RI:lK;return n(t,Mxe(pl(e)))}function Bxe(t,e){var n;return dh(t,function(i,r,s){return n=e(i,r,s),!n}),!!n}function uK(t,e,n){var i=Un(t)?tK:Bxe;return n&&cE(t,e,n)&&(e=void 0),i(t,pl(e))}var Dxe=1/0,Lxe=Qd&&1/LI(new Qd([,-0]))[1]==Dxe?function(t){return new Qd(t)}:er;const Oxe=Lxe;var Fxe=200;function Uxe(t,e,n){var i=-1,r=kY,s=t.length,o=!0,a=[],l=a;if(n)o=!1,r=aK;else if(s>=Fxe){var u=e?null:Oxe(t);if(u)return LI(u);o=!1,r=DI,l=new mp}else l=e?[]:a;e:for(;++i<s;){var c=t[i],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else r(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}function UI(t){return t&&t.length?Uxe(t):[]}function bT(t){console&&console.error&&console.error(`Error: ${t}`)}function cK(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function fK(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function hK(t){function e(){}e.prototype=t;const n=new e;function i(){return typeof n.bar}return i(),i(),t}function kxe(t){return Nxe(t)?t.LABEL:t.name}function Nxe(t){return Ls(t.LABEL)&&t.LABEL!==""}class ml{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Vt(this.definition,n=>{n.accept(e)})}}class so extends ml{constructor(e){super([]),this.idx=1,io(this,Ta(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class Lp extends ml{constructor(e){super(e.definition),this.orgText="",io(this,Ta(e,n=>n!==void 0))}}class Os extends ml{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,io(this,Ta(e,n=>n!==void 0))}}class Ds extends ml{constructor(e){super(e.definition),this.idx=1,io(this,Ta(e,n=>n!==void 0))}}class gl extends ml{constructor(e){super(e.definition),this.idx=1,io(this,Ta(e,n=>n!==void 0))}}class vl extends ml{constructor(e){super(e.definition),this.idx=1,io(this,Ta(e,n=>n!==void 0))}}class ir extends ml{constructor(e){super(e.definition),this.idx=1,io(this,Ta(e,n=>n!==void 0))}}class Ma extends ml{constructor(e){super(e.definition),this.idx=1,io(this,Ta(e,n=>n!==void 0))}}class Ia extends ml{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,io(this,Ta(e,n=>n!==void 0))}}class _i{constructor(e){this.idx=1,io(this,Ta(e,n=>n!==void 0))}accept(e){e.visit(this)}}function Gxe(t){return Bt(t,Ex)}function Ex(t){function e(n){return Bt(n,Ex)}if(t instanceof so){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Ls(t.label)&&(n.label=t.label),n}else{if(t instanceof Os)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Ds)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof gl)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof vl)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Ex(new _i({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ma)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Ex(new _i({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ir)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Ia)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof _i){const n={type:"Terminal",name:t.terminalType.name,label:kxe(t.terminalType),idx:t.idx};Ls(t.label)&&(n.terminalLabel=t.label);const i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=su(i)?i.source:i),n}else{if(t instanceof Lp)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class Op{visit(e){const n=e;switch(n.constructor){case so:return this.visitNonTerminal(n);case Os:return this.visitAlternative(n);case Ds:return this.visitOption(n);case gl:return this.visitRepetitionMandatory(n);case vl:return this.visitRepetitionMandatoryWithSeparator(n);case Ma:return this.visitRepetitionWithSeparator(n);case ir:return this.visitRepetition(n);case Ia:return this.visitAlternation(n);case _i:return this.visitTerminal(n);case Lp:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function zxe(t){return t instanceof Os||t instanceof Ds||t instanceof ir||t instanceof gl||t instanceof vl||t instanceof Ma||t instanceof _i||t instanceof Lp}function IS(t,e=[]){return t instanceof Ds||t instanceof ir||t instanceof Ma?!0:t instanceof Ia?uK(t.definition,i=>IS(i,e)):t instanceof so&&ms(e,t)?!1:t instanceof ml?(t instanceof so&&e.push(t),da(t.definition,i=>IS(i,e))):!1}function Hxe(t){return t instanceof Ia}function ja(t){if(t instanceof so)return"SUBRULE";if(t instanceof Ds)return"OPTION";if(t instanceof Ia)return"OR";if(t instanceof gl)return"AT_LEAST_ONE";if(t instanceof vl)return"AT_LEAST_ONE_SEP";if(t instanceof Ma)return"MANY_SEP";if(t instanceof ir)return"MANY";if(t instanceof _i)return"CONSUME";throw Error("non exhaustive match")}class yE{walk(e,n=[]){Vt(e.definition,(i,r)=>{const s=Rr(e.definition,r+1);if(i instanceof so)this.walkProdRef(i,s,n);else if(i instanceof _i)this.walkTerminal(i,s,n);else if(i instanceof Os)this.walkFlat(i,s,n);else if(i instanceof Ds)this.walkOption(i,s,n);else if(i instanceof gl)this.walkAtLeastOne(i,s,n);else if(i instanceof vl)this.walkAtLeastOneSep(i,s,n);else if(i instanceof Ma)this.walkManySep(i,s,n);else if(i instanceof ir)this.walkMany(i,s,n);else if(i instanceof Ia)this.walkOr(i,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,i){}walkProdRef(e,n,i){}walkFlat(e,n,i){const r=n.concat(i);this.walk(e,r)}walkOption(e,n,i){const r=n.concat(i);this.walk(e,r)}walkAtLeastOne(e,n,i){const r=[new Ds({definition:e.definition})].concat(n,i);this.walk(e,r)}walkAtLeastOneSep(e,n,i){const r=CF(e,n,i);this.walk(e,r)}walkMany(e,n,i){const r=[new Ds({definition:e.definition})].concat(n,i);this.walk(e,r)}walkManySep(e,n,i){const r=CF(e,n,i);this.walk(e,r)}walkOr(e,n,i){const r=n.concat(i);Vt(e.definition,s=>{const o=new Os({definition:[s]});this.walk(o,r)})}}function CF(t,e,n){return[new Ds({definition:[new _i({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function l2(t){if(t instanceof so)return l2(t.referencedRule);if(t instanceof _i)return Wxe(t);if(zxe(t))return Vxe(t);if(Hxe(t))return Qxe(t);throw Error("non exhaustive match")}function Vxe(t){let e=[];const n=t.definition;let i=0,r=n.length>i,s,o=!0;for(;r&&o;)s=n[i],o=IS(s),e=e.concat(l2(s)),i=i+1,r=n.length>i;return UI(e)}function Qxe(t){const e=Bt(t.definition,n=>l2(n));return UI(ha(e))}function Wxe(t){return[t.terminalType]}const dK="_~IN~_";class jxe extends yE{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,i){}walkProdRef(e,n,i){const r=Xxe(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(i),o=new Os({definition:s}),a=l2(o);this.follows[r]=a}}function qxe(t){const e={};return Vt(t,n=>{const i=new jxe(n).startWalking();io(e,i)}),e}function Xxe(t,e){return t.name+e+dK}function jt(t){return t.charCodeAt(0)}function m_(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function k0(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function rd(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Yxe(){throw Error("Internal Error - Should never get here!")}function bF(t){return t.type==="Character"}const RS=[];for(let t=jt("0");t<=jt("9");t++)RS.push(t);const PS=[jt("_")].concat(RS);for(let t=jt("a");t<=jt("z");t++)PS.push(t);for(let t=jt("A");t<=jt("Z");t++)PS.push(t);const TF=[jt(" "),jt("\f"),jt(`
`),jt("\r"),jt("	"),jt("\v"),jt("	"),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt(""),jt("\u2028"),jt("\u2029"),jt(""),jt(""),jt(""),jt("\uFEFF")],Kxe=/[0-9a-fA-F]/,O5=/[0-9]/,Jxe=/[1-9]/;class Zxe{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const i={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":k0(i,"global");break;case"i":k0(i,"ignoreCase");break;case"m":k0(i,"multiLine");break;case"u":k0(i,"unicode");break;case"y":k0(i,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:i,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}rd(n);const i=this.disjunction();return this.consumeChar(")"),{type:n,value:i,loc:this.loc(e)}}return Yxe()}quantifier(e=!1){let n;const i=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const r=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:r,atMost:r};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:r,atMost:s}):n={atLeast:r,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;rd(n);break}if(!(e===!0&&n===void 0)&&rd(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(i),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),rd(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[jt(`
`),jt("\r"),jt("\u2028"),jt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=RS;break;case"D":e=RS,n=!0;break;case"s":e=TF;break;case"S":e=TF,n=!0;break;case"w":e=PS;break;case"W":e=PS,n=!0;break}if(rd(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=jt("\f");break;case"n":e=jt(`
`);break;case"r":e=jt("\r");break;case"t":e=jt("	");break;case"v":e=jt("\v");break}if(rd(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:jt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:jt(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:jt(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const i=this.classAtom();if(i.type,bF(i)&&this.isRangeDash()){this.consumeChar("-");const r=this.classAtom();if(r.type,bF(r)){if(r.value<i.value)throw Error("Range out of order in character class");e.push({from:i.value,to:r.value})}else m_(i.value,e),e.push(jt("-")),m_(r.value,e)}else m_(i.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:jt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const i={type:"Group",capturing:e,value:n};return e&&(i.idx=this.groupIdx),i}positiveInteger(){let e=this.popChar();if(Jxe.test(e)===!1)throw Error("Expecting a positive integer");for(;O5.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(O5.test(e)===!1)throw Error("Expecting an integer");for(;O5.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:jt(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return O5.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let r=0;r<e;r++){const s=this.popChar();if(Kxe.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class kI{visitChildren(e){for(const n in e){const i=e[n];e.hasOwnProperty(n)&&(i.type!==void 0?this.visit(i):Array.isArray(i)&&i.forEach(r=>{this.visit(r)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let wx={};const $xe=new Zxe;function xE(t){const e=t.toString();if(wx.hasOwnProperty(e))return wx[e];{const n=$xe.pattern(e);return wx[e]=n,n}}function eSe(){wx={}}const pK="Complement Sets are not supported for first char optimization",BS=`Unable to use "first char" lexer optimizations:
`;function tSe(t,e=!1){try{const n=xE(t);return TT(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===pK)e&&cK(`${BS}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let i="";e&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),bT(`${BS}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+i)}}return[]}function TT(t,e,n){switch(t.type){case"Disjunction":for(let r=0;r<t.value.length;r++)TT(t.value[r],e,n);break;case"Alternative":const i=t.value;for(let r=0;r<i.length;r++){const s=i[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":F5(o.value,e,n);break;case"Set":if(o.complement===!0)throw Error(pK);Vt(o.value,l=>{if(typeof l=="number")F5(l,e,n);else{const u=l;if(n===!0)for(let c=u.from;c<=u.to;c++)F5(c,e,n);else{for(let c=u.from;c<=u.to&&c<G1;c++)F5(c,e,n);if(u.to>=G1){const c=u.from>=G1?u.from:G1,f=u.to,h=Ec(c),d=Ec(f);for(let p=h;p<=d;p++)e[p]=p}}}});break;case"Group":TT(o.value,e,n);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&MT(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return nr(e)}function F5(t,e,n){const i=Ec(t);e[i]=i,n===!0&&nSe(t,e)}function nSe(t,e){const n=String.fromCharCode(t),i=n.toUpperCase();if(i!==n){const r=Ec(i.charCodeAt(0));e[r]=r}else{const r=n.toLowerCase();if(r!==n){const s=Ec(r.charCodeAt(0));e[s]=s}}}function MF(t,e){return vp(t.value,n=>{if(typeof n=="number")return ms(e,n);{const i=n;return vp(e,r=>i.from<=r&&r<=i.to)!==void 0}})}function MT(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Un(t.value)?da(t.value,MT):MT(t.value):!1}class iSe extends kI{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){ms(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?MF(e,this.targetCharCodes)===void 0&&(this.found=!0):MF(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function NI(t,e){if(e instanceof RegExp){const n=xE(e),i=new iSe(t);return i.visit(n),i.found}else return vp(e,n=>ms(t,n.charCodeAt(0)))!==void 0}const th="PATTERN",N1="defaultMode",U5="modes";let mK=typeof new RegExp("(?:)").sticky=="boolean";function rSe(t,e){e=FI(e,{useSticky:mK,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(x,S)=>S()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{TSe()});let i;n("Reject Lexer.NA",()=>{i=AE(t,x=>x[th]===Fo.NA)});let r=!1,s;n("Transform Patterns",()=>{r=!1,s=Bt(i,x=>{const S=x[th];if(su(S)){const E=S.source;return E.length===1&&E!=="^"&&E!=="$"&&E!=="."&&!S.ignoreCase?E:E.length===2&&E[0]==="\\"&&!ms(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],E[1])?E[1]:e.useSticky?RF(S):IF(S)}else{if(hu(S))return r=!0,{exec:S};if(typeof S=="object")return r=!0,S;if(typeof S=="string"){if(S.length===1)return S;{const E=S.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(E);return e.useSticky?RF(w):IF(w)}}else throw Error("non exhaustive match")}})});let o,a,l,u,c;n("misc mapping",()=>{o=Bt(i,x=>x.tokenTypeIdx),a=Bt(i,x=>{const S=x.GROUP;if(S!==Fo.SKIPPED){if(Ls(S))return S;if(ou(S))return!1;throw Error("non exhaustive match")}}),l=Bt(i,x=>{const S=x.LONGER_ALT;if(S)return Un(S)?Bt(S,w=>wF(i,w)):[wF(i,S)]}),u=Bt(i,x=>x.PUSH_MODE),c=Bt(i,x=>zt(x,"POP_MODE"))});let f;n("Line Terminator Handling",()=>{const x=AK(e.lineTerminatorCharacters);f=Bt(i,S=>!1),e.positionTracking!=="onlyOffset"&&(f=Bt(i,S=>zt(S,"LINE_BREAKS")?!!S.LINE_BREAKS:vK(S,x)===!1&&NI(x,S.PATTERN)))});let h,d,p,y;n("Misc Mapping #2",()=>{h=Bt(i,gK),d=Bt(s,_Se),p=ro(i,(x,S)=>{const E=S.GROUP;return Ls(E)&&E!==Fo.SKIPPED&&(x[E]=[]),x},{}),y=Bt(s,(x,S)=>({pattern:s[S],longerAlt:l[S],canLineTerminator:f[S],isCustom:h[S],short:d[S],group:a[S],push:u[S],pop:c[S],tokenTypeIdx:o[S],tokenType:i[S]}))});let A=!0,g=[];return e.safeMode||n("First Char Optimization",()=>{g=ro(i,(x,S,E)=>{if(typeof S.PATTERN=="string"){const w=S.PATTERN.charCodeAt(0),C=Ec(w);g_(x,C,y[E])}else if(Un(S.START_CHARS_HINT)){let w;Vt(S.START_CHARS_HINT,C=>{const b=typeof C=="string"?C.charCodeAt(0):C,I=Ec(b);w!==I&&(w=I,g_(x,I,y[E]))})}else if(su(S.PATTERN))if(S.PATTERN.unicode)A=!1,e.ensureOptimizations&&bT(`${BS}	Unable to analyze < ${S.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const w=tSe(S.PATTERN,e.ensureOptimizations);si(w)&&(A=!1),Vt(w,C=>{g_(x,C,y[E])})}else e.ensureOptimizations&&bT(`${BS}	TokenType: <${S.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),A=!1;return x},[])}),{emptyGroups:p,patternIdxToConfig:y,charCodeToPatternIdxToConfig:g,hasCustom:r,canBeOptimized:A}}function sSe(t,e){let n=[];const i=aSe(t);n=n.concat(i.errors);const r=lSe(i.valid),s=r.valid;return n=n.concat(r.errors),n=n.concat(oSe(s)),n=n.concat(gSe(s)),n=n.concat(vSe(s,e)),n=n.concat(ASe(s)),n}function oSe(t){let e=[];const n=jo(t,i=>su(i[th]));return e=e.concat(cSe(n)),e=e.concat(dSe(n)),e=e.concat(pSe(n)),e=e.concat(mSe(n)),e=e.concat(fSe(n)),e}function aSe(t){const e=jo(t,r=>!zt(r,th)),n=Bt(e,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:Di.MISSING_PATTERN,tokenTypes:[r]})),i=vE(t,e);return{errors:n,valid:i}}function lSe(t){const e=jo(t,r=>{const s=r[th];return!su(s)&&!hu(s)&&!zt(s,"exec")&&!Ls(s)}),n=Bt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Di.INVALID_PATTERN,tokenTypes:[r]})),i=vE(t,e);return{errors:n,valid:i}}const uSe=/[^\\][$]/;function cSe(t){class e extends kI{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=jo(t,r=>{const s=r.PATTERN;try{const o=xE(s),a=new e;return a.visit(o),a.found}catch{return uSe.test(s.source)}});return Bt(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Di.EOI_ANCHOR_FOUND,tokenTypes:[r]}))}function fSe(t){const e=jo(t,i=>i.PATTERN.test(""));return Bt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' must not match an empty string",type:Di.EMPTY_MATCH_PATTERN,tokenTypes:[i]}))}const hSe=/[^\\[][\^]|^\^/;function dSe(t){class e extends kI{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=jo(t,r=>{const s=r.PATTERN;try{const o=xE(s),a=new e;return a.visit(o),a.found}catch{return hSe.test(s.source)}});return Bt(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Di.SOI_ANCHOR_FOUND,tokenTypes:[r]}))}function pSe(t){const e=jo(t,i=>{const r=i[th];return r instanceof RegExp&&(r.multiline||r.global)});return Bt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Di.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[i]}))}function mSe(t){const e=[];let n=Bt(t,s=>ro(t,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!ms(e,a)&&a.PATTERN!==Fo.NA&&(e.push(a),o.push(a)),o),[]));n=a2(n);const i=jo(n,s=>s.length>1);return Bt(i,s=>{const o=Bt(s,l=>l.name);return{message:`The same RegExp pattern ->${xa(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:Di.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function gSe(t){const e=jo(t,i=>{if(!zt(i,"GROUP"))return!1;const r=i.GROUP;return r!==Fo.SKIPPED&&r!==Fo.NA&&!Ls(r)});return Bt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Di.INVALID_GROUP_TYPE_FOUND,tokenTypes:[i]}))}function vSe(t,e){const n=jo(t,r=>r.PUSH_MODE!==void 0&&!ms(e,r.PUSH_MODE));return Bt(n,r=>({message:`Token Type: ->${r.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${r.PUSH_MODE}<-which does not exist`,type:Di.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}))}function ASe(t){const e=[],n=ro(t,(i,r,s)=>{const o=r.PATTERN;return o===Fo.NA||(Ls(o)?i.push({str:o,idx:s,tokenType:r}):su(o)&&xSe(o)&&i.push({str:o.source,idx:s,tokenType:r})),i},[]);return Vt(t,(i,r)=>{Vt(n,({str:s,idx:o,tokenType:a})=>{if(r<o&&ySe(s,i.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${i.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Di.UNREACHABLE_PATTERN,tokenTypes:[i,a]})}})}),e}function ySe(t,e){if(su(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(hu(e))return e(t,0,[],{});if(zt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function xSe(t){return vp([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function IF(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function RF(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function SSe(t,e,n){const i=[];return zt(t,N1)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+N1+`> property in its definition
`,type:Di.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),zt(t,U5)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+U5+`> property in its definition
`,type:Di.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),zt(t,U5)&&zt(t,N1)&&!zt(t.modes,t.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${N1}: <${t.defaultMode}>which does not exist
`,type:Di.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),zt(t,U5)&&Vt(t.modes,(r,s)=>{Vt(r,(o,a)=>{if(ou(o))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:Di.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(zt(o,"LONGER_ALT")){const l=Un(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];Vt(l,u=>{!ou(u)&&!ms(r,u)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${o.name}> outside of mode <${s}>
`,type:Di.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),i}function ESe(t,e,n){const i=[];let r=!1;const s=a2(ha(nr(t.modes))),o=AE(s,l=>l[th]===Fo.NA),a=AK(n);return e&&Vt(o,l=>{const u=vK(l,a);if(u!==!1){const f={message:bSe(l,u),type:u.issue,tokenType:l};i.push(f)}else zt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(r=!0):NI(a,l.PATTERN)&&(r=!0)}),e&&!r&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Di.NO_LINE_BREAKS_FLAGS}),i}function wSe(t){const e={},n=no(t);return Vt(n,i=>{const r=t[i];if(Un(r))e[i]=[];else throw Error("non exhaustive match")}),e}function gK(t){const e=t.PATTERN;if(su(e))return!1;if(hu(e))return!0;if(zt(e,"exec"))return!0;if(Ls(e))return!1;throw Error("non exhaustive match")}function _Se(t){return Ls(t)&&t.length===1?t.charCodeAt(0):!1}const CSe={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const i=t.charCodeAt(n);if(i===10)return this.lastIndex=n+1,!0;if(i===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function vK(t,e){if(zt(t,"LINE_BREAKS"))return!1;if(su(t.PATTERN)){try{NI(e,t.PATTERN)}catch(n){return{issue:Di.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Ls(t.PATTERN))return!1;if(gK(t))return{issue:Di.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function bSe(t,e){if(e.issue===Di.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Di.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function AK(t){return Bt(t,n=>Ls(n)?n.charCodeAt(0):n)}function g_(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const G1=256;let _x=[];function Ec(t){return t<G1?t:_x[t]}function TSe(){if(si(_x)){_x=new Array(65536);for(let t=0;t<65536;t++)_x[t]=t>255?255+~~(t/255):t}}function u2(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function DS(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let PF=1;const yK={};function c2(t){const e=MSe(t);ISe(e),PSe(e),RSe(e),Vt(e,n=>{n.isParent=n.categoryMatches.length>0})}function MSe(t){let e=Yr(t),n=t,i=!0;for(;i;){n=a2(ha(Bt(n,s=>s.CATEGORIES)));const r=vE(n,e);e=e.concat(r),si(r)?i=!1:n=r}return e}function ISe(t){Vt(t,e=>{SK(e)||(yK[PF]=e,e.tokenTypeIdx=PF++),BF(e)&&!Un(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),BF(e)||(e.CATEGORIES=[]),BSe(e)||(e.categoryMatches=[]),DSe(e)||(e.categoryMatchesMap={})})}function RSe(t){Vt(t,e=>{e.categoryMatches=[],Vt(e.categoryMatchesMap,(n,i)=>{e.categoryMatches.push(yK[i].tokenTypeIdx)})})}function PSe(t){Vt(t,e=>{xK([],e)})}function xK(t,e){Vt(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),Vt(e.CATEGORIES,n=>{const i=t.concat(e);ms(i,n)||xK(i,n)})}function SK(t){return zt(t,"tokenTypeIdx")}function BF(t){return zt(t,"CATEGORIES")}function BSe(t){return zt(t,"categoryMatches")}function DSe(t){return zt(t,"categoryMatchesMap")}function LSe(t){return zt(t,"tokenTypeIdx")}const OSe={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,i,r){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var Di;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Di||(Di={}));const z1={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:OSe,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(z1);class Fo{constructor(e,n=z1){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(r,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${r}>`);const{time:a,value:l}=fK(s),u=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${o}<-- <${r}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=io({},z1,n);const i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===z1.lineTerminatorsPattern)this.config.lineTerminatorsPattern=CSe;else if(this.config.lineTerminatorCharacters===z1.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Un(e)?r={modes:{defaultMode:Yr(e)},defaultMode:N1}:(s=!1,r=Yr(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(SSe(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(ESe(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},Vt(r.modes,(a,l)=>{r.modes[l]=AE(a,u=>ou(u))});const o=no(r.modes);if(Vt(r.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(sSe(a,o))}),si(this.lexerDefinitionErrors)){c2(a);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=rSe(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=io({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=r.defaultMode,!si(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=Bt(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}Vt(this.lexerDefinitionWarning,a=>{cK(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(mK?(this.chopInput=dp,this.match=this.matchWithTest):(this.updateLastIndex=er,this.match=this.matchWithExec),s&&(this.handleModes=er),this.trackStartLines===!1&&(this.computeNewColumn=dp),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=er),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=ro(this.canModeBeOptimized,(l,u,c)=>(u===!1&&l.push(c),l),[]);if(n.ensureOptimizations&&!si(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{eSe()}),this.TRACE_INIT("toFastProperties",()=>{hK(this)})})}tokenize(e,n=this.defaultMode){if(!si(this.lexerDefinitionErrors)){const r=Bt(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let i,r,s,o,a,l,u,c,f,h,d,p,y,A,g;const x=e,S=x.length;let E=0,w=0;const C=this.hasCustom?0:Math.floor(e.length/10),b=new Array(C),I=[];let M=this.trackStartLines?1:void 0,R=this.trackStartLines?1:void 0;const D=wSe(this.emptyGroups),F=this.trackStartLines,O=this.config.lineTerminatorsPattern;let L=0,U=[],q=[];const K=[],k=[];Object.freeze(k);let W;function V(){return U}function G(X){const oe=Ec(X),ie=q[oe];return ie===void 0?k:ie}const z=X=>{if(K.length===1&&X.tokenType.PUSH_MODE===void 0){const oe=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(X);I.push({offset:X.startOffset,line:X.startLine,column:X.startColumn,length:X.image.length,message:oe})}else{K.pop();const oe=gp(K);U=this.patternIdxToConfig[oe],q=this.charCodeToPatternIdxToConfig[oe],L=U.length;const ie=this.canModeBeOptimized[oe]&&this.config.safeMode===!1;q&&ie?W=G:W=V}};function ne(X){K.push(X),q=this.charCodeToPatternIdxToConfig[X],U=this.patternIdxToConfig[X],L=U.length,L=U.length;const oe=this.canModeBeOptimized[X]&&this.config.safeMode===!1;q&&oe?W=G:W=V}ne.call(this,n);let J;const $=this.config.recoveryEnabled;for(;E<S;){l=null;const X=x.charCodeAt(E),oe=W(X),ie=oe.length;for(i=0;i<ie;i++){J=oe[i];const _e=J.pattern;u=null;const Re=J.short;if(Re!==!1?X===Re&&(l=_e):J.isCustom===!0?(g=_e.exec(x,E,b,D),g!==null?(l=g[0],g.payload!==void 0&&(u=g.payload)):l=null):(this.updateLastIndex(_e,E),l=this.match(_e,e,E)),l!==null){if(a=J.longerAlt,a!==void 0){const pe=a.length;for(s=0;s<pe;s++){const Y=U[a[s]],me=Y.pattern;if(c=null,Y.isCustom===!0?(g=me.exec(x,E,b,D),g!==null?(o=g[0],g.payload!==void 0&&(c=g.payload)):o=null):(this.updateLastIndex(me,E),o=this.match(me,e,E)),o&&o.length>l.length){l=o,u=c,J=Y;break}}}break}}if(l!==null){if(f=l.length,h=J.group,h!==void 0&&(d=J.tokenTypeIdx,p=this.createTokenInstance(l,E,d,J.tokenType,M,R,f),this.handlePayload(p,u),h===!1?w=this.addToken(b,w,p):D[h].push(p)),e=this.chopInput(e,f),E=E+f,R=this.computeNewColumn(R,f),F===!0&&J.canLineTerminator===!0){let _e=0,Re,pe;O.lastIndex=0;do Re=O.test(l),Re===!0&&(pe=O.lastIndex-1,_e++);while(Re===!0);_e!==0&&(M=M+_e,R=f-pe,this.updateTokenEndLineColumnLocation(p,h,pe,_e,M,R,f))}this.handleModes(J,z,ne,p)}else{const _e=E,Re=M,pe=R;let Y=$===!1;for(;Y===!1&&E<S;)for(e=this.chopInput(e,1),E++,r=0;r<L;r++){const me=U[r],ge=me.pattern,de=me.short;if(de!==!1?x.charCodeAt(E)===de&&(Y=!0):me.isCustom===!0?Y=ge.exec(x,E,b,D)!==null:(this.updateLastIndex(ge,E),Y=ge.exec(e)!==null),Y===!0)break}if(y=E-_e,R=this.computeNewColumn(R,y),A=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,_e,y,Re,pe),I.push({offset:_e,line:Re,column:pe,length:y,message:A}),$===!1)break}}return this.hasCustom||(b.length=w),{tokens:b,groups:D,errors:I}}handleModes(e,n,i,r){if(e.pop===!0){const s=e.push;n(r),s!==void 0&&i.call(this,s)}else e.push!==void 0&&i.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,i,r,s,o,a){let l,u;n!==void 0&&(l=i===a-1,u=l?-1:0,r===1&&l===!0||(e.endLine=s+u,e.endColumn=o-1+-u))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,i,r){return{image:e,startOffset:n,tokenTypeIdx:i,tokenType:r}}createStartOnlyToken(e,n,i,r,s,o){return{image:e,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:i,tokenType:r}}createFullToken(e,n,i,r,s,o,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:i,tokenType:r}}addTokenUsingPush(e,n,i){return e.push(i),n}addTokenUsingMemberAccess(e,n,i){return e[n]=i,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,i){return e.test(n)===!0?n.substring(i,e.lastIndex):null}matchWithExec(e,n){const i=e.exec(n);return i!==null?i[0]:null}}Fo.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Fo.NA=/NOT_APPLICABLE/;function p3(t){return EK(t)?t.LABEL:t.name}function EK(t){return Ls(t.LABEL)&&t.LABEL!==""}const FSe="parent",DF="categories",LF="label",OF="group",FF="push_mode",UF="pop_mode",kF="longer_alt",NF="line_breaks",GF="start_chars_hint";function wK(t){return USe(t)}function USe(t){const e=t.pattern,n={};if(n.name=t.name,ou(e)||(n.PATTERN=e),zt(t,FSe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return zt(t,DF)&&(n.CATEGORIES=t[DF]),c2([n]),zt(t,LF)&&(n.LABEL=t[LF]),zt(t,OF)&&(n.GROUP=t[OF]),zt(t,UF)&&(n.POP_MODE=t[UF]),zt(t,FF)&&(n.PUSH_MODE=t[FF]),zt(t,kF)&&(n.LONGER_ALT=t[kF]),zt(t,NF)&&(n.LINE_BREAKS=t[NF]),zt(t,GF)&&(n.START_CHARS_HINT=t[GF]),n}const nh=wK({name:"EOF",pattern:Fo.NA});c2([nh]);function GI(t,e,n,i,r,s,o,a){return{image:e,startOffset:n,endOffset:i,startLine:r,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function kSe(t,e){return u2(t,e)}const _K={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:i}){return`Expecting ${EK(t)?`--> ${p3(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:i,ruleName:r}){const s="Expecting: ",a=`
but found: '`+xa(e).image+"'";if(i)return s+i+a;{const l=ro(t,(h,d)=>h.concat(d),[]),u=Bt(l,h=>`[${Bt(h,d=>p3(d)).join(", ")}]`),f=`one of these possible Token sequences:
${Bt(u,(h,d)=>`  ${d+1}. ${h}`).join(`
`)}`;return s+f+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:i}){const r="Expecting: ",o=`
but found: '`+xa(e).image+"'";if(n)return r+n+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Bt(t,u=>`[${Bt(u,c=>p3(c)).join(",")}]`).join(" ,")}>`;return r+l+o}}};Object.freeze(_K);const NSe={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Lf={buildDuplicateFoundError(t,e){function n(c){return c instanceof _i?c.terminalType.name:c instanceof so?c.nonTerminalName:""}const i=t.name,r=xa(e),s=r.idx,o=ja(r),a=n(r),l=s>0;let u=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${i}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=Bt(t.prefixPath,r=>p3(r)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=Bt(t.prefixPath,r=>p3(r)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let i=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError(t){let e=ja(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=Bt(t.leftRecursionPath,s=>s.name),i=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof Lp?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function GSe(t,e){const n=new zSe(t,e);return n.resolveRefs(),n.errors}class zSe extends Op{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){Vt(nr(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:i,type:hs.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class HSe extends yE{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Yr(this.path.ruleStack).reverse(),this.occurrenceStack=Yr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,i){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=n.concat(i);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){si(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class VSe extends HSe{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,i){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const r=n.concat(i),s=new Os({definition:r});this.possibleTokTypes=l2(s),this.found=!0}}}class SE extends yE{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class QSe extends SE{walkMany(e,n,i){if(e.idx===this.occurrence){const r=xa(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof _i&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkMany(e,n,i)}}class zF extends SE{walkManySep(e,n,i){if(e.idx===this.occurrence){const r=xa(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof _i&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkManySep(e,n,i)}}class WSe extends SE{walkAtLeastOne(e,n,i){if(e.idx===this.occurrence){const r=xa(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof _i&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOne(e,n,i)}}class HF extends SE{walkAtLeastOneSep(e,n,i){if(e.idx===this.occurrence){const r=xa(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof _i&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOneSep(e,n,i)}}function IT(t,e,n=[]){n=Yr(n);let i=[],r=0;function s(a){return a.concat(Rr(t,r+1))}function o(a){const l=IT(s(a),e,n);return i.concat(l)}for(;n.length<e&&r<t.length;){const a=t[r];if(a instanceof Os)return o(a.definition);if(a instanceof so)return o(a.definition);if(a instanceof Ds)i=o(a.definition);else if(a instanceof gl){const l=a.definition.concat([new ir({definition:a.definition})]);return o(l)}else if(a instanceof vl){const l=[new Os({definition:a.definition}),new ir({definition:[new _i({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof Ma){const l=a.definition.concat([new ir({definition:[new _i({terminalType:a.separator})].concat(a.definition)})]);i=o(l)}else if(a instanceof ir){const l=a.definition.concat([new ir({definition:a.definition})]);i=o(l)}else{if(a instanceof Ia)return Vt(a.definition,l=>{si(l.definition)===!1&&(i=o(l.definition))}),i;if(a instanceof _i)n.push(a.terminalType);else throw Error("non exhaustive match")}r++}return i.push({partialPath:n,suffixDef:Rr(t,r)}),i}function CK(t,e,n,i){const r="EXIT_NONE_TERMINAL",s=[r],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,u=l-i-1,c=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!si(f);){const h=f.pop();if(h===o){a&&gp(f).idx<=u&&f.pop();continue}const d=h.def,p=h.idx,y=h.ruleStack,A=h.occurrenceStack;if(si(d))continue;const g=d[0];if(g===r){const x={idx:p,def:Rr(d),ruleStack:pA(y),occurrenceStack:pA(A)};f.push(x)}else if(g instanceof _i)if(p<l-1){const x=p+1,S=e[x];if(n(S,g.terminalType)){const E={idx:x,def:Rr(d),ruleStack:y,occurrenceStack:A};f.push(E)}}else if(p===l-1)c.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:y,occurrenceStack:A}),a=!0;else throw Error("non exhaustive match");else if(g instanceof so){const x=Yr(y);x.push(g.nonTerminalName);const S=Yr(A);S.push(g.idx);const E={idx:p,def:g.definition.concat(s,Rr(d)),ruleStack:x,occurrenceStack:S};f.push(E)}else if(g instanceof Ds){const x={idx:p,def:Rr(d),ruleStack:y,occurrenceStack:A};f.push(x),f.push(o);const S={idx:p,def:g.definition.concat(Rr(d)),ruleStack:y,occurrenceStack:A};f.push(S)}else if(g instanceof gl){const x=new ir({definition:g.definition,idx:g.idx}),S=g.definition.concat([x],Rr(d)),E={idx:p,def:S,ruleStack:y,occurrenceStack:A};f.push(E)}else if(g instanceof vl){const x=new _i({terminalType:g.separator}),S=new ir({definition:[x].concat(g.definition),idx:g.idx}),E=g.definition.concat([S],Rr(d)),w={idx:p,def:E,ruleStack:y,occurrenceStack:A};f.push(w)}else if(g instanceof Ma){const x={idx:p,def:Rr(d),ruleStack:y,occurrenceStack:A};f.push(x),f.push(o);const S=new _i({terminalType:g.separator}),E=new ir({definition:[S].concat(g.definition),idx:g.idx}),w=g.definition.concat([E],Rr(d)),C={idx:p,def:w,ruleStack:y,occurrenceStack:A};f.push(C)}else if(g instanceof ir){const x={idx:p,def:Rr(d),ruleStack:y,occurrenceStack:A};f.push(x),f.push(o);const S=new ir({definition:g.definition,idx:g.idx}),E=g.definition.concat([S],Rr(d)),w={idx:p,def:E,ruleStack:y,occurrenceStack:A};f.push(w)}else if(g instanceof Ia)for(let x=g.definition.length-1;x>=0;x--){const S=g.definition[x],E={idx:p,def:S.definition.concat(Rr(d)),ruleStack:y,occurrenceStack:A};f.push(E),f.push(o)}else if(g instanceof Os)f.push({idx:p,def:g.definition.concat(Rr(d)),ruleStack:y,occurrenceStack:A});else if(g instanceof Lp)f.push(jSe(g,p,y,A));else throw Error("non exhaustive match")}return c}function jSe(t,e,n,i){const r=Yr(n);r.push(t.name);const s=Yr(i);return s.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:s}}var Bi;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Bi||(Bi={}));function bK(t){if(t instanceof Ds||t==="Option")return Bi.OPTION;if(t instanceof ir||t==="Repetition")return Bi.REPETITION;if(t instanceof gl||t==="RepetitionMandatory")return Bi.REPETITION_MANDATORY;if(t instanceof vl||t==="RepetitionMandatoryWithSeparator")return Bi.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ma||t==="RepetitionWithSeparator")return Bi.REPETITION_WITH_SEPARATOR;if(t instanceof Ia||t==="Alternation")return Bi.ALTERNATION;throw Error("non exhaustive match")}function qSe(t,e,n,i,r,s){const o=zI(t,e,n),a=IK(o)?DS:u2;return s(o,i,a,r)}function XSe(t,e,n,i,r,s){const o=HI(t,e,r,n),a=IK(o)?DS:u2;return s(o[0],a,i)}function YSe(t,e,n,i){const r=t.length,s=da(t,o=>da(o,a=>a.length===1));if(e)return function(o){const a=Bt(o,l=>l.GATE);for(let l=0;l<r;l++){const u=t[l],c=u.length,f=a[l];if(!(f!==void 0&&f.call(this)===!1))e:for(let h=0;h<c;h++){const d=u[h],p=d.length;for(let y=0;y<p;y++){const A=this.LA(y+1);if(n(A,d[y])===!1)continue e}return l}}};if(s&&!i){const o=Bt(t,l=>ha(l)),a=ro(o,(l,u,c)=>(Vt(u,f=>{zt(l,f.tokenTypeIdx)||(l[f.tokenTypeIdx]=c),Vt(f.categoryMatches,h=>{zt(l,h)||(l[h]=c)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<r;o++){const a=t[o],l=a.length;e:for(let u=0;u<l;u++){const c=a[u],f=c.length;for(let h=0;h<f;h++){const d=this.LA(h+1);if(n(d,c[h])===!1)continue e}return o}}}}function KSe(t,e,n){const i=da(t,s=>s.length===1),r=t.length;if(i&&!n){const s=ha(t);if(s.length===1&&si(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=ro(s,(a,l,u)=>(a[l.tokenTypeIdx]=!0,Vt(l.categoryMatches,c=>{a[c]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<r;s++){const o=t[s],a=o.length;for(let l=0;l<a;l++){const u=this.LA(l+1);if(e(u,o[l])===!1)continue e}return!0}return!1}}class JSe extends yE{constructor(e,n,i){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=i}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,i,r){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=i.concat(r),!0):!1}walkOption(e,n,i){this.checkIsTarget(e,Bi.OPTION,n,i)||super.walkOption(e,n,i)}walkAtLeastOne(e,n,i){this.checkIsTarget(e,Bi.REPETITION_MANDATORY,n,i)||super.walkOption(e,n,i)}walkAtLeastOneSep(e,n,i){this.checkIsTarget(e,Bi.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||super.walkOption(e,n,i)}walkMany(e,n,i){this.checkIsTarget(e,Bi.REPETITION,n,i)||super.walkOption(e,n,i)}walkManySep(e,n,i){this.checkIsTarget(e,Bi.REPETITION_WITH_SEPARATOR,n,i)||super.walkOption(e,n,i)}}class TK extends Op{constructor(e,n,i){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=i,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Bi.OPTION)}visitRepetition(e){this.checkIsTarget(e,Bi.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Bi.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Bi.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Bi.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Bi.ALTERNATION)}}function VF(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function v_(t){let e=[""];for(let n=0;n<t.length;n++){const i=t[n],r=[];for(let s=0;s<e.length;s++){const o=e[s];r.push(o+"_"+i.tokenTypeIdx);for(let a=0;a<i.categoryMatches.length;a++){const l="_"+i.categoryMatches[a];r.push(o+l)}}e=r}return e}function ZSe(t,e,n){for(let i=0;i<t.length;i++){if(i===n)continue;const r=t[i];for(let s=0;s<e.length;s++){const o=e[s];if(r[o]===!0)return!1}}return!0}function MK(t,e){const n=Bt(t,o=>IT([o],1)),i=VF(n.length),r=Bt(n,o=>{const a={};return Vt(o,l=>{const u=v_(l.partialPath);Vt(u,c=>{a[c]=!0})}),a});let s=n;for(let o=1;o<=e;o++){const a=s;s=VF(a.length);for(let l=0;l<a.length;l++){const u=a[l];for(let c=0;c<u.length;c++){const f=u[c].partialPath,h=u[c].suffixDef,d=v_(f);if(ZSe(r,d,l)||si(h)||f.length===e){const y=i[l];if(RT(y,f)===!1){y.push(f);for(let A=0;A<d.length;A++){const g=d[A];r[l][g]=!0}}}else{const y=IT(h,o+1,f);s[l]=s[l].concat(y),Vt(y,A=>{const g=v_(A.partialPath);Vt(g,x=>{r[l][x]=!0})})}}}}return i}function zI(t,e,n,i){const r=new TK(t,Bi.ALTERNATION,i);return e.accept(r),MK(r.result,n)}function HI(t,e,n,i){const r=new TK(t,n);e.accept(r);const s=r.result,a=new JSe(e,t,n).startWalking(),l=new Os({definition:s}),u=new Os({definition:a});return MK([l,u],i)}function RT(t,e){e:for(let n=0;n<t.length;n++){const i=t[n];if(i.length===e.length){for(let r=0;r<i.length;r++){const s=e[r],o=i[r];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function $Se(t,e){return t.length<e.length&&da(t,(n,i)=>{const r=e[i];return n===r||r.categoryMatchesMap[n.tokenTypeIdx]})}function IK(t){return da(t,e=>da(e,n=>da(n,i=>si(i.categoryMatches))))}function e6e(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return Bt(e,n=>Object.assign({type:hs.CUSTOM_LOOKAHEAD_VALIDATION},n))}function t6e(t,e,n,i){const r=Oo(t,l=>n6e(l,n)),s=p6e(t,e,n),o=Oo(t,l=>c6e(l,n)),a=Oo(t,l=>s6e(l,t,i,n));return r.concat(s,o,a)}function n6e(t,e){const n=new r6e;t.accept(n);const i=n.allProductions,r=hxe(i,i6e),s=Ta(r,a=>a.length>1);return Bt(nr(s),a=>{const l=xa(a),u=e.buildDuplicateFoundError(t,a),c=ja(l),f={message:u,type:hs.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:c,occurrence:l.idx},h=RK(l);return h&&(f.parameter=h),f})}function i6e(t){return`${ja(t)}_#_${t.idx}_#_${RK(t)}`}function RK(t){return t instanceof _i?t.terminalType.name:t instanceof so?t.nonTerminalName:""}class r6e extends Op{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function s6e(t,e,n,i){const r=[];if(ro(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});r.push({message:o,type:hs.DUPLICATE_RULE_NAME,ruleName:t.name})}return r}function o6e(t,e,n){const i=[];let r;return ms(e,t)||(r=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,i.push({message:r,type:hs.INVALID_RULE_OVERRIDE,ruleName:t})),i}function PK(t,e,n,i=[]){const r=[],s=Cx(e.definition);if(si(s))return[];{const o=t.name;ms(s,t)&&r.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:hs.LEFT_RECURSION,ruleName:o});const l=vE(s,i.concat([t])),u=Oo(l,c=>{const f=Yr(i);return f.push(c),PK(t,c,n,f)});return r.concat(u)}}function Cx(t){let e=[];if(si(t))return e;const n=xa(t);if(n instanceof so)e.push(n.referencedRule);else if(n instanceof Os||n instanceof Ds||n instanceof gl||n instanceof vl||n instanceof Ma||n instanceof ir)e=e.concat(Cx(n.definition));else if(n instanceof Ia)e=ha(Bt(n.definition,s=>Cx(s.definition)));else if(!(n instanceof _i))throw Error("non exhaustive match");const i=IS(n),r=t.length>1;if(i&&r){const s=Rr(t);return e.concat(Cx(s))}else return e}class VI extends Op{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function a6e(t,e){const n=new VI;t.accept(n);const i=n.alternations;return Oo(i,s=>{const o=pA(s.definition);return Oo(o,(a,l)=>{const u=CK([a],[],u2,1);return si(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:hs.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function l6e(t,e,n){const i=new VI;t.accept(i);let r=i.alternations;return r=AE(r,o=>o.ignoreAmbiguities===!0),Oo(r,o=>{const a=o.idx,l=o.maxLookahead||e,u=zI(a,t,l,o),c=h6e(u,o,t,n),f=d6e(u,o,t,n);return c.concat(f)})}class u6e extends Op{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function c6e(t,e){const n=new VI;t.accept(n);const i=n.alternations;return Oo(i,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:hs.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function f6e(t,e,n){const i=[];return Vt(t,r=>{const s=new u6e;r.accept(s);const o=s.allProductions;Vt(o,a=>{const l=bK(a),u=a.maxLookahead||e,c=a.idx,h=HI(c,r,l,u)[0];if(si(ha(h))){const d=n.buildEmptyRepetitionError({topLevelRule:r,repetition:a});i.push({message:d,type:hs.NO_NON_EMPTY_LOOKAHEAD,ruleName:r.name})}})}),i}function h6e(t,e,n,i){const r=[],s=ro(t,(a,l,u)=>(e.definition[u].ignoreAmbiguities===!0||Vt(l,c=>{const f=[u];Vt(t,(h,d)=>{u!==d&&RT(h,c)&&e.definition[d].ignoreAmbiguities!==!0&&f.push(d)}),f.length>1&&!RT(r,c)&&(r.push(c),a.push({alts:f,path:c}))}),a),[]);return Bt(s,a=>{const l=Bt(a.alts,c=>c+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:hs.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function d6e(t,e,n,i){const r=ro(t,(o,a,l)=>{const u=Bt(a,c=>({idx:l,path:c}));return o.concat(u)},[]);return a2(Oo(r,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,u=o.path,c=jo(r,h=>e.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<l&&$Se(h.path,u));return Bt(c,h=>{const d=[h.idx+1,l+1],p=e.idx===0?"":e.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:d,prefixPath:h.path}),type:hs.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:p,alternatives:d}})}))}function p6e(t,e,n){const i=[],r=Bt(e,s=>s.name);return Vt(t,s=>{const o=s.name;if(ms(r,o)){const a=n.buildNamespaceConflictError(s);i.push({message:a,type:hs.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),i}function m6e(t){const e=FI(t,{errMsgProvider:NSe}),n={};return Vt(t.rules,i=>{n[i.name]=i}),GSe(n,e.errMsgProvider)}function g6e(t){return t=FI(t,{errMsgProvider:Lf}),t6e(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const BK="MismatchedTokenException",DK="NoViableAltException",LK="EarlyExitException",OK="NotAllInputParsedException",FK=[BK,DK,LK,OK];Object.freeze(FK);function LS(t){return ms(FK,t.name)}class EE extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class UK extends EE{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=BK}}class v6e extends EE{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=DK}}class A6e extends EE{constructor(e,n){super(e,n),this.name=OK}}class y6e extends EE{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=LK}}const A_={},kK="InRuleRecoveryException";class x6e extends Error{constructor(e){super(e),this.name=kK}}class S6e{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=zt(e,"recoveryEnabled")?e.recoveryEnabled:wc.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=E6e)}getTokenToInsert(e){const n=GI(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,i,r){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const u=this.LA(1);let c=this.LA(1);const f=()=>{const h=this.LA(0),d=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:u,previous:h,ruleName:this.getCurrRuleFullName()}),p=new UK(d,u,this.LA(0));p.resyncedTokens=pA(a),this.SAVE_ERROR(p)};for(;!l;)if(this.tokenMatcher(c,r)){f();return}else if(i.call(this)){f(),e.apply(this,n);return}else this.tokenMatcher(c,s)?l=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,n,i){return!(i===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const i=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(i)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new x6e("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||si(n))return!1;const i=this.LA(1);return vp(n,s=>this.tokenMatcher(i,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),i=this.getFollowSetFromFollowKey(n);return ms(i,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),i=2;for(;;){const r=vp(e,s=>kSe(n,s));if(r!==void 0)return r;n=this.LA(i),i++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return A_;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),i=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(i)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Bt(e,(i,r)=>r===0?A_:{ruleName:this.shortRuleNameToFullName(i),idxInCallingRule:n[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=Bt(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return ha(e)}getFollowSetFromFollowKey(e){if(e===A_)return[nh];const n=e.ruleName+e.idxInCallingRule+dK+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,nh)||n.push(e),n}reSyncTo(e){const n=[];let i=this.LA(1);for(;this.tokenMatcher(i,e)===!1;)i=this.SKIP_TOKEN(),this.addToResyncTokens(i,n);return pA(n)}attemptInRepetitionRecovery(e,n,i,r,s,o,a){}getCurrentGrammarPath(e,n){const i=this.getHumanReadableRuleStack(),r=Yr(this.RULE_OCCURRENCE_STACK);return{ruleStack:i,occurrenceStack:r,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return Bt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function E6e(t,e,n,i,r,s,o){const a=this.getKeyForAutomaticLookahead(i,r);let l=this.firstAfterRepMap[a];if(l===void 0){const h=this.getCurrRuleFullName(),d=this.getGAstProductions()[h];l=new s(d,r).startWalking(),this.firstAfterRepMap[a]=l}let u=l.token,c=l.occurrence;const f=l.isEndOfRule;this.RULE_STACK.length===1&&f&&u===void 0&&(u=nh,c=1),!(u===void 0||c===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,c,o)&&this.tryInRepetitionRecovery(t,e,n,u)}const w6e=4,Dc=8,NK=1<<Dc,GK=2<<Dc,PT=3<<Dc,BT=4<<Dc,DT=5<<Dc,bx=6<<Dc;function y_(t,e,n){return n|e|t}class _6e{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:wc.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(si(n)){const i=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...i,...r,...s]}return n}validateNoLeftRecursion(e){return Oo(e,n=>PK(n,n,Lf))}validateEmptyOrAlternatives(e){return Oo(e,n=>a6e(n,Lf))}validateAmbiguousAlternationAlternatives(e,n){return Oo(e,i=>l6e(i,n,Lf))}validateSomeNonEmptyLookaheadPath(e,n){return f6e(e,n,Lf)}buildLookaheadForAlternation(e){return qSe(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,YSe)}buildLookaheadForOptional(e){return XSe(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,bK(e.prodType),KSe)}}class C6e{initLooksAhead(e){this.dynamicTokensEnabled=zt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:wc.dynamicTokensEnabled,this.maxLookahead=zt(e,"maxLookahead")?e.maxLookahead:wc.maxLookahead,this.lookaheadStrategy=zt(e,"lookaheadStrategy")?e.lookaheadStrategy:new _6e({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Vt(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:i,repetition:r,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=T6e(n);Vt(i,u=>{const c=u.idx===0?"":u.idx;this.TRACE_INIT(`${ja(u)}${c}`,()=>{const f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:n,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),h=y_(this.fullRuleNameToShort[n.name],NK,u.idx);this.setLaFuncCache(h,f)})}),Vt(r,u=>{this.computeLookaheadFunc(n,u.idx,PT,"Repetition",u.maxLookahead,ja(u))}),Vt(s,u=>{this.computeLookaheadFunc(n,u.idx,GK,"Option",u.maxLookahead,ja(u))}),Vt(o,u=>{this.computeLookaheadFunc(n,u.idx,BT,"RepetitionMandatory",u.maxLookahead,ja(u))}),Vt(a,u=>{this.computeLookaheadFunc(n,u.idx,bx,"RepetitionMandatoryWithSeparator",u.maxLookahead,ja(u))}),Vt(l,u=>{this.computeLookaheadFunc(n,u.idx,DT,"RepetitionWithSeparator",u.maxLookahead,ja(u))})})})}computeLookaheadFunc(e,n,i,r,s,o){this.TRACE_INIT(`${o}${n===0?"":n}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),l=y_(this.fullRuleNameToShort[e.name],i,n);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,n){const i=this.getLastExplicitRuleShortName();return y_(i,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class b6e extends Op{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const k5=new b6e;function T6e(t){k5.reset(),t.accept(k5);const e=k5.dslMethods;return k5.reset(),e}function QF(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function WF(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function M6e(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function I6e(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const R6e="name";function zK(t,e){Object.defineProperty(t,R6e,{enumerable:!1,configurable:!0,writable:!1,value:e})}function P6e(t,e){const n=no(t),i=n.length;for(let r=0;r<i;r++){const s=n[r],o=t[s],a=o.length;for(let l=0;l<a;l++){const u=o[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function B6e(t,e){const n=function(){};zK(n,t+"BaseSemantics");const i={visit:function(r,s){if(Un(r)&&(r=r[0]),!ou(r))return this[r.name](r.children,s)},validateVisitor:function(){const r=L6e(this,e);if(!si(r)){const s=Bt(r,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=i,n.prototype.constructor=n,n._RULE_NAMES=e,n}function D6e(t,e,n){const i=function(){};zK(i,t+"BaseSemanticsWithDefaults");const r=Object.create(n.prototype);return Vt(e,s=>{r[s]=P6e}),i.prototype=r,i.prototype.constructor=i,i}var LT;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(LT||(LT={}));function L6e(t,e){return O6e(t,e)}function O6e(t,e){const n=jo(e,r=>hu(t[r])===!1),i=Bt(n,r=>({msg:`Missing visitor method: <${r}> on ${t.constructor.name} CST Visitor.`,type:LT.MISSING_METHOD,methodName:r}));return a2(i)}class F6e{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=zt(e,"nodeLocationTracking")?e.nodeLocationTracking:wc.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=er,this.cstFinallyStateUpdate=er,this.cstPostTerminal=er,this.cstPostNonTerminal=er,this.cstPostRule=er;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=WF,this.setNodeLocationFromNode=WF,this.cstPostRule=er,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=er,this.setNodeLocationFromNode=er,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=QF,this.setNodeLocationFromNode=QF,this.cstPostRule=er,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=er,this.setNodeLocationFromNode=er,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=er,this.setNodeLocationFromNode=er,this.cstPostRule=er,this.setInitialNodeLocation=er;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),i=e.location;i.startOffset<=n.startOffset?(i.endOffset=n.endOffset,i.endLine=n.endLine,i.endColumn=n.endColumn):(i.startOffset=NaN,i.startLine=NaN,i.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),i=e.location;i.startOffset<=n.startOffset?i.endOffset=n.endOffset:i.startOffset=NaN}cstPostTerminal(e,n){const i=this.CST_STACK[this.CST_STACK.length-1];M6e(i,n,e),this.setNodeLocationFromToken(i.location,n)}cstPostNonTerminal(e,n){const i=this.CST_STACK[this.CST_STACK.length-1];I6e(i,n,e),this.setNodeLocationFromNode(i.location,e.location)}getBaseCstVisitorConstructor(){if(ou(this.baseCstVisitorConstructor)){const e=B6e(this.className,no(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(ou(this.baseCstVisitorWithDefaultsConstructor)){const e=D6e(this.className,no(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class U6e{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):FS}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?FS:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class k6e{ACTION(e){return e.call(this)}consume(e,n,i){return this.consumeInternal(n,e,i)}subrule(e,n,i){return this.subruleInternal(n,e,i)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,i=US){if(ms(this.definedRulesNames,e)){const o={message:Lf.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:hs.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const r=this.defineRule(e,n,i);return this[e]=r,r}OVERRIDE_RULE(e,n,i=US){const r=o6e(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const s=this.defineRule(e,n,i);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const i=this.saveRecogState();try{return e.apply(this,n),!0}catch(r){if(LS(r))return!1;throw r}finally{this.reloadRecogState(i),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Gxe(nr(this.gastProductionsCache))}}class N6e{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=DS,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},zt(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Un(e)){if(si(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Un(e))this.tokensMap=ro(e,(s,o)=>(s[o.name]=o,s),{});else if(zt(e,"modes")&&da(ha(nr(e.modes)),LSe)){const s=ha(nr(e.modes)),o=UI(s);this.tokensMap=ro(o,(a,l)=>(a[l.name]=l,a),{})}else if(Vo(e))this.tokensMap=Yr(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=nh;const i=zt(e,"modes")?ha(nr(e.modes)):nr(e),r=da(i,s=>si(s.categoryMatches));this.tokenMatcher=r?DS:u2,c2(nr(this.tokensMap))}defineRule(e,n,i){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=zt(i,"resyncEnabled")?i.resyncEnabled:US.resyncEnabled,s=zt(i,"recoveryValueFunc")?i.recoveryValueFunc:US.recoveryValueFunc,o=this.ruleShortNameIdx<<w6e+Dc;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...c){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,c);const f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}catch(f){return this.invokeRuleCatch(f,r,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...c){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,c)}catch(f){return this.invokeRuleCatch(f,r,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,i){const r=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(LS(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return i(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(r)return this.moveToTerminatedState(),i(e);throw o}}else throw e}optionInternal(e,n){const i=this.getKeyForAutomaticLookahead(GK,n);return this.optionInternalLogic(e,n,i)}optionInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=e;if(r.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const i=this.getKeyForAutomaticLookahead(BT,e);return this.atLeastOneInternalLogic(e,n,i)}atLeastOneInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=n;if(r.call(this)===!0){let o=this.doSingleRepetition(s);for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,Bi.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],r,BT,e,WSe)}atLeastOneSepFirstInternal(e,n){const i=this.getKeyForAutomaticLookahead(bx,e);this.atLeastOneSepFirstInternalLogic(e,n,i)}atLeastOneSepFirstInternalLogic(e,n,i){const r=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,HF],a,bx,e,HF)}else throw this.raiseEarlyExitException(e,Bi.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const i=this.getKeyForAutomaticLookahead(PT,e);return this.manyInternalLogic(e,n,i)}manyInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const l=r;r=()=>a.call(this)&&l.call(this)}}else s=n;let o=!0;for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],r,PT,e,QSe,o)}manySepFirstInternal(e,n){const i=this.getKeyForAutomaticLookahead(DT,e);this.manySepFirstInternalLogic(e,n,i)}manySepFirstInternalLogic(e,n,i){const r=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,zF],a,DT,e,zF)}}repetitionSepSecondInternal(e,n,i,r,s){for(;i();)this.CONSUME(n),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,i,r,s],i,bx,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const i=this.getKeyForAutomaticLookahead(NK,n),r=Un(e)?e:e.DEF,o=this.getLaFuncFromCache(i).call(this,r);if(o!==void 0)return r[o].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new A6e(n,e))}}subruleInternal(e,n,i){let r;try{const s=i!==void 0?i.ARGS:void 0;return this.subruleIdx=n,r=e.apply(this,s),this.cstPostNonTerminal(r,i!==void 0&&i.LABEL!==void 0?i.LABEL:e.ruleName),r}catch(s){throw this.subruleInternalError(s,i,e.ruleName)}}subruleInternalError(e,n,i){throw LS(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:i),delete e.partialCstResult),e}consumeInternal(e,n,i){let r;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),r=s):this.consumeInternalError(e,s,i)}catch(s){r=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(i!==void 0&&i.LABEL!==void 0?i.LABEL:e.name,r),r}consumeInternalError(e,n,i){let r;const s=this.LA(0);throw i!==void 0&&i.ERR_MSG?r=i.ERR_MSG:r=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new UK(r,n,s))}consumeInternalRecovery(e,n,i){if(this.recoveryEnabled&&i.name==="MismatchedTokenException"&&!this.isBackTracking()){const r=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,r)}catch(s){throw s.name===kK?i:s}}else throw i}saveRecogState(){const e=this.errors,n=Yr(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,i){this.RULE_OCCURRENCE_STACK.push(i),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),nh)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class G6e{initErrorHandler(e){this._errors=[],this.errorMessageProvider=zt(e,"errorMessageProvider")?e.errorMessageProvider:wc.errorMessageProvider}SAVE_ERROR(e){if(LS(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Yr(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Yr(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,i){const r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],a=HI(e,s,n,this.maxLookahead)[0],l=[];for(let c=1;c<=this.maxLookahead;c++)l.push(this.LA(c));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:i,ruleName:r});throw this.SAVE_ERROR(new y6e(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const i=this.getCurrRuleFullName(),r=this.getGAstProductions()[i],s=zI(e,r,this.maxLookahead),o=[];for(let u=1;u<=this.maxLookahead;u++)o.push(this.LA(u));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new v6e(l,this.LA(1),a))}}class z6e{initContentAssist(){}computeContentAssist(e,n){const i=this.gastProductionsCache[e];if(ou(i))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return CK([i],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=xa(e.ruleStack),r=this.getGAstProductions()[n];return new VSe(r,e).startWalking()}}const wE={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(wE);const jF=!0,qF=Math.pow(2,Dc)-1,HK=wK({name:"RECORDING_PHASE_TOKEN",pattern:Fo.NA});c2([HK]);const VK=GI(HK,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(VK);const H6e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class V6e{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(i,r){return this.consumeInternalRecord(i,e,r)},this[`SUBRULE${n}`]=function(i,r){return this.subruleInternalRecord(i,e,r)},this[`OPTION${n}`]=function(i){return this.optionInternalRecord(i,e)},this[`OR${n}`]=function(i){return this.orInternalRecord(i,e)},this[`MANY${n}`]=function(i){this.manyInternalRecord(e,i)},this[`MANY_SEP${n}`]=function(i){this.manySepFirstInternalRecord(e,i)},this[`AT_LEAST_ONE${n}`]=function(i){this.atLeastOneInternalRecord(e,i)},this[`AT_LEAST_ONE_SEP${n}`]=function(i){this.atLeastOneSepFirstInternalRecord(e,i)}}this.consume=function(e,n,i){return this.consumeInternalRecord(n,e,i)},this.subrule=function(e,n,i){return this.subruleInternalRecord(n,e,i)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const i=n>0?n:"";delete e[`CONSUME${i}`],delete e[`SUBRULE${i}`],delete e[`OPTION${i}`],delete e[`OR${i}`],delete e[`MANY${i}`],delete e[`MANY_SEP${i}`],delete e[`AT_LEAST_ONE${i}`],delete e[`AT_LEAST_ONE_SEP${i}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return FS}topLevelRuleRecord(e,n){try{const i=new Lp({definition:[],name:e});return i.name=e,this.recordingProdStack.push(i),n.call(this),this.recordingProdStack.pop(),i}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw i}throw i}}optionInternalRecord(e,n){return N0.call(this,Ds,e,n)}atLeastOneInternalRecord(e,n){N0.call(this,gl,n,e)}atLeastOneSepFirstInternalRecord(e,n){N0.call(this,vl,n,e,jF)}manyInternalRecord(e,n){N0.call(this,ir,n,e)}manySepFirstInternalRecord(e,n){N0.call(this,Ma,n,e,jF)}orInternalRecord(e,n){return Q6e.call(this,e,n)}subruleInternalRecord(e,n,i){if(OS(n),!e||zt(e,"ruleName")===!1){const a=new Error(`<SUBRULE${XF(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const r=gp(this.recordingProdStack),s=e.ruleName,o=new so({idx:n,nonTerminalName:s,label:i==null?void 0:i.LABEL,referencedRule:void 0});return r.definition.push(o),this.outputCst?H6e:wE}consumeInternalRecord(e,n,i){if(OS(n),!SK(e)){const o=new Error(`<CONSUME${XF(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const r=gp(this.recordingProdStack),s=new _i({idx:n,terminalType:e,label:i==null?void 0:i.LABEL});return r.definition.push(s),VK}}function N0(t,e,n,i=!1){OS(n);const r=gp(this.recordingProdStack),s=hu(e)?e:e.DEF,o=new t({definition:[],idx:n});return i&&(o.separator=e.SEP),zt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),r.definition.push(o),this.recordingProdStack.pop(),wE}function Q6e(t,e){OS(e);const n=gp(this.recordingProdStack),i=Un(t)===!1,r=i===!1?t:t.DEF,s=new Ia({definition:[],idx:e,ignoreAmbiguities:i&&t.IGNORE_AMBIGUITIES===!0});zt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const o=uK(r,a=>hu(a.GATE));return s.hasPredicates=o,n.definition.push(s),Vt(r,a=>{const l=new Os({definition:[]});s.definition.push(l),zt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:zt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),wE}function XF(t){return t===0?"":`${t}`}function OS(t){if(t<0||t>qF){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${qF+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class W6e{initPerformanceTracer(e){if(zt(e,"traceInitPerf")){const n=e.traceInitPerf,i=typeof n=="number";this.traceInitMaxIdent=i?n:1/0,this.traceInitPerf=i?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=wc.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${i}--> <${e}>`);const{time:r,value:s}=fK(n),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${i}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,s}else return n()}}function j6e(t,e){e.forEach(n=>{const i=n.prototype;Object.getOwnPropertyNames(i).forEach(r=>{if(r==="constructor")return;const s=Object.getOwnPropertyDescriptor(i,r);s&&(s.get||s.set)?Object.defineProperty(t.prototype,r,s):t.prototype[r]=n.prototype[r]})})}const FS=GI(nh,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(FS);const wc=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:_K,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),US=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var hs;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(hs||(hs={}));class _E{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{hK(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Vt(this.definedRulesNames,r=>{const o=this[r].originalGrammarAction;let a;this.TRACE_INIT(`${r} Rule`,()=>{a=this.topLevelRuleRecord(r,o)}),this.gastProductionsCache[r]=a})}finally{this.disableRecording()}});let i=[];if(this.TRACE_INIT("Grammar Resolving",()=>{i=m6e({rules:nr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(i)}),this.TRACE_INIT("Grammar Validations",()=>{if(si(i)&&this.skipValidations===!1){const r=g6e({rules:nr(this.gastProductionsCache),tokenTypes:nr(this.tokensMap),errMsgProvider:Lf,grammarName:n}),s=e6e({lookaheadStrategy:this.lookaheadStrategy,rules:nr(this.gastProductionsCache),tokenTypes:nr(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(r,s)}}),si(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const r=qxe(nr(this.gastProductionsCache));this.resyncFollows=r}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var r,s;(s=(r=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(r,{rules:nr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(nr(this.gastProductionsCache))})),!_E.DEFER_DEFINITION_ERRORS_HANDLING&&!si(this.definitionErrors))throw e=Bt(this.definitionErrors,r=>r.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const i=this;if(i.initErrorHandler(n),i.initLexerAdapter(),i.initLooksAhead(n),i.initRecognizerEngine(e,n),i.initRecoverable(n),i.initTreeBuilder(n),i.initContentAssist(),i.initGastRecorder(n),i.initPerformanceTracer(n),zt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=zt(n,"skipValidations")?n.skipValidations:wc.skipValidations}}_E.DEFER_DEFINITION_ERRORS_HANDLING=!1;j6e(_E,[S6e,C6e,F6e,U6e,N6e,k6e,G6e,z6e,V6e,W6e]);class q6e{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const i=this.workersResolve[e];if(i&&i(n),this.queue.length){const{resolve:r,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=r,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(i=>{const r=this._getIdleWorker();r!==-1?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=i,this.workers[r].postMessage(e,n)):this.queue.push({resolve:i,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class X6e extends Ac{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ri}}const x_=new WeakMap;let S_=0,E_;const H1=class extends Cr{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new q6e,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new ar(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new ar(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const i=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=H1.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(H1.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(H1.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(H1.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),u=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:u},[u]),l})}),S_>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),S_++}return this.transcoderPending}load(t,e,n,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const r=new ar(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials),r.load(t,s=>{if(x_.has(s))return x_.get(s).promise.then(e).catch(i);this._createTexture(s).then(o=>e?e(o):null).catch(i)},n,i)}_createTextureFrom(t,e){const{mipmaps:n,width:i,height:r,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:u}=t;if(o==="error")return Promise.reject(a);const c=e.layerCount>1?new X6e(n,i,r,e.layerCount,s,_n):new Ac(n,i,r,s,_n);return c.minFilter=n.length===1?At:Go,c.magFilter=At,c.generateMipmaps=!1,c.needsUpdate=!0,"colorSpace"in c?c.colorSpace=l===oT?"srgb":"srgb-linear":c.encoding=l===oT?3001:3e3,c.premultiplyAlpha=!!(u&Spe),c}async _createTexture(t,e={}){const n=Cpe(new Uint8Array(t));if(n.vkFormat!==FX)return K6e(n);const i=e,r=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:i},[t])).then(s=>this._createTextureFrom(s.data,n));return x_.set(t,{promise:r}),r}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),S_--,this}};let CE=H1;et(CE,"BasisFormat",{ETC1S:0,UASTC_4x4:1});et(CE,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});et(CE,"EngineFormat",{RGBAFormat:Pn,RGBA_ASTC_4x4_Format:X3,RGBA_BPTC_Format:kd,RGBA_ETC2_EAC_Format:q3,RGBA_PVRTC_4BPPV1_Format:W3,RGBA_S3TC_DXT5_Format:Ud,RGB_ETC1_Format:w6,RGB_ETC2_Format:j3,RGB_PVRTC_4BPPV1_Format:Q3,RGB_S3TC_DXT1_Format:Fd});et(CE,"BasisWorker",function(){let t,e,n;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(p){const y=p.data;switch(y.type){case"init":t=y.config,o(y.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:A,height:g,hasAlpha:x,mipmaps:S,format:E,dfdTransferFn:w,dfdFlags:C}=a(y.buffer),b=[];for(let I=0;I<S.length;++I)b.push(S[I].data.buffer);self.postMessage({type:"transcode",id:y.id,width:A,height:g,hasAlpha:x,mipmaps:S,format:E,dfdTransferFn:w,dfdFlags:C},b)}catch(A){console.error(A),self.postMessage({type:"error",id:y.id,error:A.message})}});break}});function o(p){e=new Promise(y=>{n={wasmBinary:p,onRuntimeInitialized:y},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(p){const y=new n.KTX2File(new Uint8Array(p));function A(){y.close(),y.delete()}if(!y.isValid())throw A(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const g=y.isUASTC()?s.UASTC_4x4:s.ETC1S,x=y.getWidth(),S=y.getHeight(),E=y.getLayers()||1,w=y.getLevels(),C=y.getHasAlpha(),b=y.getDFDTransferFunc(),I=y.getDFDFlags(),{transcoderFormat:M,engineFormat:R}=f(g,x,S,C);if(!x||!S||!w)throw A(),new Error("THREE.KTX2Loader:	Invalid texture");if(!y.startTranscoding())throw A(),new Error("THREE.KTX2Loader: .startTranscoding failed");const D=[];for(let F=0;F<w;F++){const O=[];let L,U;for(let q=0;q<E;q++){const K=y.getImageLevelInfo(F,q,0);L=K.origWidth<4?K.origWidth:K.width,U=K.origHeight<4?K.origHeight:K.height;const k=new Uint8Array(y.getImageTranscodedSizeInBytes(F,q,0,M));if(!y.transcodeImage(k,F,q,0,M,0,-1,-1))throw A(),new Error("THREE.KTX2Loader: .transcodeImage failed.");O.push(k)}D.push({data:d(O),width:L,height:U})}return A(),{width:x,height:S,hasAlpha:C,mipmaps:D,format:R,dfdTransferFn:b,dfdFlags:I}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1],engineFormat:[i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=l.sort(function(p,y){return p.priorityETC1S-y.priorityETC1S}),c=l.sort(function(p,y){return p.priorityUASTC-y.priorityUASTC});function f(p,y,A,g){let x,S;const E=p===s.ETC1S?u:c;for(let w=0;w<E.length;w++){const C=E[w];if(t[C.if]&&C.basisFormat.includes(p)&&!(g&&C.transcoderFormat.length<2)&&!(C.needsPowerOfTwo&&!(h(y)&&h(A))))return x=C.transcoderFormat[g?1:0],S=C.engineFormat[g?1:0],{transcoderFormat:x,engineFormat:S}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),x=r.RGBA32,S=i.RGBAFormat,{transcoderFormat:x,engineFormat:S}}function h(p){return p<=2?!0:(p&p-1)===0&&p!==0}function d(p){let y=0;for(let x=0;x<p.length;x++){const S=p[x];y+=S.byteLength}const A=new Uint8Array(y);let g=0;for(let x=0;x<p.length;x++){const S=p[x];A.set(S,g),g+=S.byteLength}return A}});const YF={[WX]:Pn,[HX]:Pn,[NX]:Pn,[hI]:Pn,[QX]:Tf,[zX]:Tf,[kX]:Tf,[fI]:Tf,[VX]:Ka,[GX]:Ka,[cI]:Ka,[UX]:Ka},w_={[WX]:Mn,[HX]:hn,[NX]:_n,[hI]:_n,[QX]:Mn,[zX]:hn,[kX]:_n,[fI]:_n,[VX]:Mn,[GX]:hn,[cI]:_n,[UX]:_n},Y6e={[hI]:3001,[fI]:3001,[cI]:3001};async function K6e(t){const{vkFormat:e,pixelWidth:n,pixelHeight:i,pixelDepth:r}=t;if(YF[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===OX)o=s.levelData;else if(t.supercompressionScheme===mpe)E_||(E_=new Promise(async u=>{const c=new bpe;await c.init(),u(c)})),o=(await E_).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");w_[e]===Mn?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):w_[e]===hn?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=r===0?new Bs(a,n,i):new x1e(a,n,i,r);return l.type=w_[e],l.format=YF[e],l.encoding=Y6e[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}class J6e extends L9{constructor(e){super(e),this.type=hn}parse(e){const a=function(S,E){switch(S){case 1:console.error("THREE.RGBELoader Read Error: "+(E||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(E||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(E||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(E||""))}return-1},f=`
`,h=function(S,E,w){E=E||1024;let b=S.pos,I=-1,M=0,R="",D=String.fromCharCode.apply(null,new Uint16Array(S.subarray(b,b+128)));for(;0>(I=D.indexOf(f))&&M<E&&b<S.byteLength;)R+=D,M+=D.length,b+=128,D+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(b,b+128)));return-1<I?(w!==!1&&(S.pos+=M+I+1),R+D.slice(0,I)):!1},d=function(S){const E=/^#\?(\S+)/,w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,b=/^\s*FORMAT=(\S+)\s*$/,I=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,M={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let R,D;if(S.pos>=S.byteLength||!(R=h(S)))return a(1,"no header found");if(!(D=R.match(E)))return a(3,"bad initial token");for(M.valid|=1,M.programtype=D[1],M.string+=R+`
`;R=h(S),R!==!1;){if(M.string+=R+`
`,R.charAt(0)==="#"){M.comments+=R+`
`;continue}if((D=R.match(w))&&(M.gamma=parseFloat(D[1])),(D=R.match(C))&&(M.exposure=parseFloat(D[1])),(D=R.match(b))&&(M.valid|=2,M.format=D[1]),(D=R.match(I))&&(M.valid|=4,M.height=parseInt(D[1],10),M.width=parseInt(D[2],10)),M.valid&2&&M.valid&4)break}return M.valid&2?M.valid&4?M:a(3,"missing image size specifier"):a(3,"missing format specifier")},p=function(S,E,w){const C=E;if(C<8||C>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);if(C!==(S[2]<<8|S[3]))return a(3,"wrong scanline width");const b=new Uint8Array(4*E*w);if(!b.length)return a(4,"unable to allocate buffer space");let I=0,M=0;const R=4*C,D=new Uint8Array(4),F=new Uint8Array(R);let O=w;for(;O>0&&M<S.byteLength;){if(M+4>S.byteLength)return a(1);if(D[0]=S[M++],D[1]=S[M++],D[2]=S[M++],D[3]=S[M++],D[0]!=2||D[1]!=2||(D[2]<<8|D[3])!=C)return a(3,"bad rgbe scanline format");let L=0,U;for(;L<R&&M<S.byteLength;){U=S[M++];const K=U>128;if(K&&(U-=128),U===0||L+U>R)return a(3,"bad scanline data");if(K){const k=S[M++];for(let W=0;W<U;W++)F[L++]=k}else F.set(S.subarray(M,M+U),L),L+=U,M+=U}const q=C;for(let K=0;K<q;K++){let k=0;b[I]=F[K+k],k+=C,b[I+1]=F[K+k],k+=C,b[I+2]=F[K+k],k+=C,b[I+3]=F[K+k],I+=4}O--}return b},y=function(S,E,w,C){const b=S[E+3],I=Math.pow(2,b-128)/255;w[C+0]=S[E+0]*I,w[C+1]=S[E+1]*I,w[C+2]=S[E+2]*I,w[C+3]=1},A=function(S,E,w,C){const b=S[E+3],I=Math.pow(2,b-128)/255;w[C+0]=Pf.toHalfFloat(Math.min(S[E+0]*I,65504)),w[C+1]=Pf.toHalfFloat(Math.min(S[E+1]*I,65504)),w[C+2]=Pf.toHalfFloat(Math.min(S[E+2]*I,65504)),w[C+3]=Pf.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const x=d(g);if(x!==-1){const S=x.width,E=x.height,w=p(g.subarray(g.pos),S,E);if(w!==-1){let C,b,I;switch(this.type){case Mn:I=w.length/4;const M=new Float32Array(I*4);for(let D=0;D<I;D++)y(w,D*4,M,D*4);C=M,b=Mn;break;case hn:I=w.length/4;const R=new Uint16Array(I*4);for(let D=0;D<I;D++)A(w,D*4,R,D*4);C=R,b=hn;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:S,height:E,data:C,header:x.string,gamma:x.gamma,exposure:x.exposure,type:b}}}return null}setDataType(e){return this.type=e,this}load(e,n,i,r){function s(o,a){switch(o.type){case Mn:case hn:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=At,o.magFilter=At,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,i,r)}}const G0="colorSpace"in new Vn;class Z6e extends L9{constructor(e){super(e),this.type=hn}parse(e){const M=Math.pow(2.7182818,2.2);function R(Q,B){for(var Z=0,se=0;se<65536;++se)(se==0||Q[se>>3]&1<<(se&7))&&(B[Z++]=se);for(var re=Z-1;Z<65536;)B[Z++]=0;return re}function D(Q){for(var B=0;B<16384;B++)Q[B]={},Q[B].len=0,Q[B].lit=0,Q[B].p=null}const F={l:0,c:0,lc:0};function O(Q,B,Z,se,re){for(;Z<Q;)B=B<<8|Fe(se,re),Z+=8;Z-=Q,F.l=B>>Z&(1<<Q)-1,F.c=B,F.lc=Z}const L=new Array(59);function U(Q){for(var B=0;B<=58;++B)L[B]=0;for(var B=0;B<65537;++B)L[Q[B]]+=1;for(var Z=0,B=58;B>0;--B){var se=Z+L[B]>>1;L[B]=Z,Z=se}for(var B=0;B<65537;++B){var re=Q[B];re>0&&(Q[B]=re|L[re]++<<6)}}function q(Q,B,Z,se,re,ue,Be){for(var Le=Z,ze=0,He=0;re<=ue;re++){if(Le.value-Z.value>se)return!1;O(6,ze,He,Q,Le);var Ye=F.l;if(ze=F.c,He=F.lc,Be[re]=Ye,Ye==63){if(Le.value-Z.value>se)throw"Something wrong with hufUnpackEncTable";O(8,ze,He,Q,Le);var ve=F.l+6;if(ze=F.c,He=F.lc,re+ve>ue+1)throw"Something wrong with hufUnpackEncTable";for(;ve--;)Be[re++]=0;re--}else if(Ye>=59){var ve=Ye-59+2;if(re+ve>ue+1)throw"Something wrong with hufUnpackEncTable";for(;ve--;)Be[re++]=0;re--}}U(Be)}function K(Q){return Q&63}function k(Q){return Q>>6}function W(Q,B,Z,se){for(;B<=Z;B++){var re=k(Q[B]),ue=K(Q[B]);if(re>>ue)throw"Invalid table entry";if(ue>14){var Be=se[re>>ue-14];if(Be.len)throw"Invalid table entry";if(Be.lit++,Be.p){var Le=Be.p;Be.p=new Array(Be.lit);for(var ze=0;ze<Be.lit-1;++ze)Be.p[ze]=Le[ze]}else Be.p=new Array(1);Be.p[Be.lit-1]=B}else if(ue)for(var He=0,ze=1<<14-ue;ze>0;ze--){var Be=se[(re<<14-ue)+He];if(Be.len||Be.p)throw"Invalid table entry";Be.len=ue,Be.lit=B,He++}}return!0}const V={c:0,lc:0};function G(Q,B,Z,se){Q=Q<<8|Fe(Z,se),B+=8,V.c=Q,V.lc=B}const z={c:0,lc:0};function ne(Q,B,Z,se,re,ue,Be,Le,ze,He){if(Q==B){se<8&&(G(Z,se,re,Be),Z=V.c,se=V.lc),se-=8;var Ye=Z>>se,Ye=new Uint8Array([Ye])[0];if(ze.value+Ye>He)return!1;for(var ve=Le[ze.value-1];Ye-- >0;)Le[ze.value++]=ve}else if(ze.value<He)Le[ze.value++]=Q;else return!1;z.c=Z,z.lc=se}function J(Q){return Q&65535}function $(Q){var B=J(Q);return B>32767?B-65536:B}const X={a:0,b:0};function oe(Q,B){var Z=$(Q),se=$(B),re=se,ue=Z+(re&1)+(re>>1),Be=ue,Le=ue-re;X.a=Be,X.b=Le}function ie(Q,B){var Z=J(Q),se=J(B),re=Z-(se>>1)&65535,ue=se+re-32768&65535;X.a=ue,X.b=re}function _e(Q,B,Z,se,re,ue,Be){for(var Le=Be<16384,ze=Z>re?re:Z,He=1,Ye;He<=ze;)He<<=1;for(He>>=1,Ye=He,He>>=1;He>=1;){for(var ve=0,ht=ve+ue*(re-Ye),at=ue*He,ot=ue*Ye,bt=se*He,Lt=se*Ye,Mt,ft,Ft,xt;ve<=ht;ve+=ot){for(var Qt=ve,Ln=ve+se*(Z-Ye);Qt<=Ln;Qt+=Lt){var Ht=Qt+bt,On=Qt+at,gn=On+bt;Le?(oe(Q[Qt+B],Q[On+B]),Mt=X.a,Ft=X.b,oe(Q[Ht+B],Q[gn+B]),ft=X.a,xt=X.b,oe(Mt,ft),Q[Qt+B]=X.a,Q[Ht+B]=X.b,oe(Ft,xt),Q[On+B]=X.a,Q[gn+B]=X.b):(ie(Q[Qt+B],Q[On+B]),Mt=X.a,Ft=X.b,ie(Q[Ht+B],Q[gn+B]),ft=X.a,xt=X.b,ie(Mt,ft),Q[Qt+B]=X.a,Q[Ht+B]=X.b,ie(Ft,xt),Q[On+B]=X.a,Q[gn+B]=X.b)}if(Z&He){var On=Qt+at;Le?oe(Q[Qt+B],Q[On+B]):ie(Q[Qt+B],Q[On+B]),Mt=X.a,Q[On+B]=X.b,Q[Qt+B]=Mt}}if(re&He)for(var Qt=ve,Ln=ve+se*(Z-Ye);Qt<=Ln;Qt+=Lt){var Ht=Qt+bt;Le?oe(Q[Qt+B],Q[Ht+B]):ie(Q[Qt+B],Q[Ht+B]),Mt=X.a,Q[Ht+B]=X.b,Q[Qt+B]=Mt}Ye=He,He>>=1}return ve}function Re(Q,B,Z,se,re,ue,Be,Le,ze,He){for(var Ye=0,ve=0,ht=Le,at=Math.trunc(re.value+(ue+7)/8);re.value<at;)for(G(Ye,ve,Z,re),Ye=V.c,ve=V.lc;ve>=14;){var ot=Ye>>ve-14&16383,bt=B[ot];if(bt.len)ve-=bt.len,ne(bt.lit,Be,Ye,ve,Z,se,re,ze,He,ht),Ye=z.c,ve=z.lc;else{if(!bt.p)throw"hufDecode issues";var Lt;for(Lt=0;Lt<bt.lit;Lt++){for(var Mt=K(Q[bt.p[Lt]]);ve<Mt&&re.value<at;)G(Ye,ve,Z,re),Ye=V.c,ve=V.lc;if(ve>=Mt&&k(Q[bt.p[Lt]])==(Ye>>ve-Mt&(1<<Mt)-1)){ve-=Mt,ne(bt.p[Lt],Be,Ye,ve,Z,se,re,ze,He,ht),Ye=z.c,ve=z.lc;break}}if(Lt==bt.lit)throw"hufDecode issues"}}var ft=8-ue&7;for(Ye>>=ft,ve-=ft;ve>0;){var bt=B[Ye<<14-ve&16383];if(bt.len)ve-=bt.len,ne(bt.lit,Be,Ye,ve,Z,se,re,ze,He,ht),Ye=z.c,ve=z.lc;else throw"hufDecode issues"}return!0}function pe(Q,B,Z,se,re,ue){var Be={value:0},Le=Z.value,ze=Me(B,Z),He=Me(B,Z);Z.value+=4;var Ye=Me(B,Z);if(Z.value+=4,ze<0||ze>=65537||He<0||He>=65537)throw"Something wrong with HUF_ENCSIZE";var ve=new Array(65537),ht=new Array(16384);D(ht);var at=se-(Z.value-Le);if(q(Q,B,Z,at,ze,He,ve),Ye>8*(se-(Z.value-Le)))throw"Something wrong with hufUncompress";W(ve,ze,He,ht),Re(ve,ht,Q,B,Z,Ye,He,ue,re,Be)}function Y(Q,B,Z){for(var se=0;se<Z;++se)B[se]=Q[B[se]]}function me(Q){for(var B=1;B<Q.length;B++){var Z=Q[B-1]+Q[B]-128;Q[B]=Z}}function ge(Q,B){for(var Z=0,se=Math.floor((Q.length+1)/2),re=0,ue=Q.length-1;!(re>ue||(B[re++]=Q[Z++],re>ue));)B[re++]=Q[se++]}function de(Q){for(var B=Q.byteLength,Z=new Array,se=0,re=new DataView(Q);B>0;){var ue=re.getInt8(se++);if(ue<0){var Be=-ue;B-=Be+1;for(var Le=0;Le<Be;Le++)Z.push(re.getUint8(se++))}else{var Be=ue;B-=2;for(var ze=re.getUint8(se++),Le=0;Le<Be+1;Le++)Z.push(ze)}}return Z}function Se(Q,B,Z,se,re,ue){var Ht=new DataView(ue.buffer),Be=Z[Q.idx[0]].width,Le=Z[Q.idx[0]].height,ze=3,He=Math.floor(Be/8),Ye=Math.ceil(Be/8),ve=Math.ceil(Le/8),ht=Be-(Ye-1)*8,at=Le-(ve-1)*8,ot={value:0},bt=new Array(ze),Lt=new Array(ze),Mt=new Array(ze),ft=new Array(ze),Ft=new Array(ze);for(let Wt=0;Wt<ze;++Wt)Ft[Wt]=B[Q.idx[Wt]],bt[Wt]=Wt<1?0:bt[Wt-1]+Ye*ve,Lt[Wt]=new Float32Array(64),Mt[Wt]=new Uint16Array(64),ft[Wt]=new Uint16Array(Ye*64);for(let Wt=0;Wt<ve;++Wt){var xt=8;Wt==ve-1&&(xt=at);var Qt=8;for(let bn=0;bn<Ye;++bn){bn==Ye-1&&(Qt=ht);for(let Zt=0;Zt<ze;++Zt)Mt[Zt].fill(0),Mt[Zt][0]=re[bt[Zt]++],Qe(ot,se,Mt[Zt]),xe(Mt[Zt],Lt[Zt]),ke(Lt[Zt]);Ne(Lt);for(let Zt=0;Zt<ze;++Zt)De(Lt[Zt],ft[Zt],bn*64)}let Jn=0;for(let bn=0;bn<ze;++bn){const Zt=Z[Q.idx[bn]].type;for(let ei=8*Wt;ei<8*Wt+xt;++ei){Jn=Ft[bn][ei];for(let vs=0;vs<He;++vs){const Ui=vs*64+(ei&7)*8;Ht.setUint16(Jn+0*2*Zt,ft[bn][Ui+0],!0),Ht.setUint16(Jn+1*2*Zt,ft[bn][Ui+1],!0),Ht.setUint16(Jn+2*2*Zt,ft[bn][Ui+2],!0),Ht.setUint16(Jn+3*2*Zt,ft[bn][Ui+3],!0),Ht.setUint16(Jn+4*2*Zt,ft[bn][Ui+4],!0),Ht.setUint16(Jn+5*2*Zt,ft[bn][Ui+5],!0),Ht.setUint16(Jn+6*2*Zt,ft[bn][Ui+6],!0),Ht.setUint16(Jn+7*2*Zt,ft[bn][Ui+7],!0),Jn+=8*2*Zt}}if(He!=Ye)for(let ei=8*Wt;ei<8*Wt+xt;++ei){const vs=Ft[bn][ei]+8*He*2*Zt,Ui=He*64+(ei&7)*8;for(let Us=0;Us<Qt;++Us)Ht.setUint16(vs+Us*2*Zt,ft[bn][Ui+Us],!0)}}}for(var Ln=new Uint16Array(Be),Ht=new DataView(ue.buffer),On=0;On<ze;++On){Z[Q.idx[On]].decoded=!0;var gn=Z[Q.idx[On]].type;if(Z[On].type==2)for(var kn=0;kn<Le;++kn){const Wt=Ft[On][kn];for(var Kn=0;Kn<Be;++Kn)Ln[Kn]=Ht.getUint16(Wt+Kn*2*gn,!0);for(var Kn=0;Kn<Be;++Kn)Ht.setFloat32(Wt+Kn*2*gn,Ce(Ln[Kn]),!0)}}}function Qe(Q,B,Z){for(var se,re=1;re<64;)se=B[Q.value],se==65280?re=64:se>>8==255?re+=se&255:(Z[re]=se,re++),Q.value++}function xe(Q,B){B[0]=Ce(Q[0]),B[1]=Ce(Q[1]),B[2]=Ce(Q[5]),B[3]=Ce(Q[6]),B[4]=Ce(Q[14]),B[5]=Ce(Q[15]),B[6]=Ce(Q[27]),B[7]=Ce(Q[28]),B[8]=Ce(Q[2]),B[9]=Ce(Q[4]),B[10]=Ce(Q[7]),B[11]=Ce(Q[13]),B[12]=Ce(Q[16]),B[13]=Ce(Q[26]),B[14]=Ce(Q[29]),B[15]=Ce(Q[42]),B[16]=Ce(Q[3]),B[17]=Ce(Q[8]),B[18]=Ce(Q[12]),B[19]=Ce(Q[17]),B[20]=Ce(Q[25]),B[21]=Ce(Q[30]),B[22]=Ce(Q[41]),B[23]=Ce(Q[43]),B[24]=Ce(Q[9]),B[25]=Ce(Q[11]),B[26]=Ce(Q[18]),B[27]=Ce(Q[24]),B[28]=Ce(Q[31]),B[29]=Ce(Q[40]),B[30]=Ce(Q[44]),B[31]=Ce(Q[53]),B[32]=Ce(Q[10]),B[33]=Ce(Q[19]),B[34]=Ce(Q[23]),B[35]=Ce(Q[32]),B[36]=Ce(Q[39]),B[37]=Ce(Q[45]),B[38]=Ce(Q[52]),B[39]=Ce(Q[54]),B[40]=Ce(Q[20]),B[41]=Ce(Q[22]),B[42]=Ce(Q[33]),B[43]=Ce(Q[38]),B[44]=Ce(Q[46]),B[45]=Ce(Q[51]),B[46]=Ce(Q[55]),B[47]=Ce(Q[60]),B[48]=Ce(Q[21]),B[49]=Ce(Q[34]),B[50]=Ce(Q[37]),B[51]=Ce(Q[47]),B[52]=Ce(Q[50]),B[53]=Ce(Q[56]),B[54]=Ce(Q[59]),B[55]=Ce(Q[61]),B[56]=Ce(Q[35]),B[57]=Ce(Q[36]),B[58]=Ce(Q[48]),B[59]=Ce(Q[49]),B[60]=Ce(Q[57]),B[61]=Ce(Q[58]),B[62]=Ce(Q[62]),B[63]=Ce(Q[63])}function ke(Q){const B=.5*Math.cos(.7853975),Z=.5*Math.cos(3.14159/16),se=.5*Math.cos(3.14159/8),re=.5*Math.cos(3*3.14159/16),ue=.5*Math.cos(5*3.14159/16),Be=.5*Math.cos(3*3.14159/8),Le=.5*Math.cos(7*3.14159/16);for(var ze=new Array(4),He=new Array(4),Ye=new Array(4),ve=new Array(4),ht=0;ht<8;++ht){var at=ht*8;ze[0]=se*Q[at+2],ze[1]=Be*Q[at+2],ze[2]=se*Q[at+6],ze[3]=Be*Q[at+6],He[0]=Z*Q[at+1]+re*Q[at+3]+ue*Q[at+5]+Le*Q[at+7],He[1]=re*Q[at+1]-Le*Q[at+3]-Z*Q[at+5]-ue*Q[at+7],He[2]=ue*Q[at+1]-Z*Q[at+3]+Le*Q[at+5]+re*Q[at+7],He[3]=Le*Q[at+1]-ue*Q[at+3]+re*Q[at+5]-Z*Q[at+7],Ye[0]=B*(Q[at+0]+Q[at+4]),Ye[3]=B*(Q[at+0]-Q[at+4]),Ye[1]=ze[0]+ze[3],Ye[2]=ze[1]-ze[2],ve[0]=Ye[0]+Ye[1],ve[1]=Ye[3]+Ye[2],ve[2]=Ye[3]-Ye[2],ve[3]=Ye[0]-Ye[1],Q[at+0]=ve[0]+He[0],Q[at+1]=ve[1]+He[1],Q[at+2]=ve[2]+He[2],Q[at+3]=ve[3]+He[3],Q[at+4]=ve[3]-He[3],Q[at+5]=ve[2]-He[2],Q[at+6]=ve[1]-He[1],Q[at+7]=ve[0]-He[0]}for(var ot=0;ot<8;++ot)ze[0]=se*Q[16+ot],ze[1]=Be*Q[16+ot],ze[2]=se*Q[48+ot],ze[3]=Be*Q[48+ot],He[0]=Z*Q[8+ot]+re*Q[24+ot]+ue*Q[40+ot]+Le*Q[56+ot],He[1]=re*Q[8+ot]-Le*Q[24+ot]-Z*Q[40+ot]-ue*Q[56+ot],He[2]=ue*Q[8+ot]-Z*Q[24+ot]+Le*Q[40+ot]+re*Q[56+ot],He[3]=Le*Q[8+ot]-ue*Q[24+ot]+re*Q[40+ot]-Z*Q[56+ot],Ye[0]=B*(Q[ot]+Q[32+ot]),Ye[3]=B*(Q[ot]-Q[32+ot]),Ye[1]=ze[0]+ze[3],Ye[2]=ze[1]-ze[2],ve[0]=Ye[0]+Ye[1],ve[1]=Ye[3]+Ye[2],ve[2]=Ye[3]-Ye[2],ve[3]=Ye[0]-Ye[1],Q[0+ot]=ve[0]+He[0],Q[8+ot]=ve[1]+He[1],Q[16+ot]=ve[2]+He[2],Q[24+ot]=ve[3]+He[3],Q[32+ot]=ve[3]-He[3],Q[40+ot]=ve[2]-He[2],Q[48+ot]=ve[1]-He[1],Q[56+ot]=ve[0]-He[0]}function Ne(Q){for(var B=0;B<64;++B){var Z=Q[0][B],se=Q[1][B],re=Q[2][B];Q[0][B]=Z+1.5747*re,Q[1][B]=Z-.1873*se-.4682*re,Q[2][B]=Z+1.8556*se}}function De(Q,B,Z){for(var se=0;se<64;++se)B[Z+se]=Pf.toHalfFloat(tt(Q[se]))}function tt(Q){return Q<=1?Math.sign(Q)*Math.pow(Math.abs(Q),2.2):Math.sign(Q)*Math.pow(M,Math.abs(Q)-1)}function te(Q){return new DataView(Q.array.buffer,Q.offset.value,Q.size)}function H(Q){var B=Q.viewer.buffer.slice(Q.offset.value,Q.offset.value+Q.size),Z=new Uint8Array(de(B)),se=new Uint8Array(Z.length);return me(Z),ge(Z,se),new DataView(se.buffer)}function fe(Q){var B=Q.array.slice(Q.offset.value,Q.offset.value+Q.size),Z=_5(B),se=new Uint8Array(Z.length);return me(Z),ge(Z,se),new DataView(se.buffer)}function je(Q){for(var B=Q.viewer,Z={value:Q.offset.value},se=new Uint16Array(Q.width*Q.scanlineBlockSize*(Q.channels*Q.type)),re=new Uint8Array(8192),ue=0,Be=new Array(Q.channels),Le=0;Le<Q.channels;Le++)Be[Le]={},Be[Le].start=ue,Be[Le].end=Be[Le].start,Be[Le].nx=Q.width,Be[Le].ny=Q.lines,Be[Le].size=Q.type,ue+=Be[Le].nx*Be[Le].ny*Be[Le].size;var ze=be(B,Z),He=be(B,Z);if(He>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ze<=He)for(var Le=0;Le<He-ze+1;Le++)re[Le+ze]=qe(B,Z);var Ye=new Uint16Array(65536),ve=R(re,Ye),ht=Me(B,Z);pe(Q.array,B,Z,ht,se,ue);for(var Le=0;Le<Q.channels;++Le)for(var at=Be[Le],ot=0;ot<Be[Le].size;++ot)_e(se,at.start+ot,at.nx,at.size,at.ny,at.nx*at.size,ve);Y(Ye,se,ue);for(var bt=0,Lt=new Uint8Array(se.buffer.byteLength),Mt=0;Mt<Q.lines;Mt++)for(var ft=0;ft<Q.channels;ft++){var at=Be[ft],Ft=at.nx*at.size,xt=new Uint8Array(se.buffer,at.end*2,Ft*2);Lt.set(xt,bt),bt+=Ft*2,at.end+=Ft}return new DataView(Lt.buffer)}function Ue(Q){var B=Q.array.slice(Q.offset.value,Q.offset.value+Q.size),Z=_5(B);const se=Q.lines*Q.channels*Q.width,re=Q.type==1?new Uint16Array(se):new Uint32Array(se);let ue=0,Be=0;const Le=new Array(4);for(let ze=0;ze<Q.lines;ze++)for(let He=0;He<Q.channels;He++){let Ye=0;switch(Q.type){case 1:Le[0]=ue,Le[1]=Le[0]+Q.width,ue=Le[1]+Q.width;for(let ve=0;ve<Q.width;++ve){const ht=Z[Le[0]++]<<8|Z[Le[1]++];Ye+=ht,re[Be]=Ye,Be++}break;case 2:Le[0]=ue,Le[1]=Le[0]+Q.width,Le[2]=Le[1]+Q.width,ue=Le[2]+Q.width;for(let ve=0;ve<Q.width;++ve){const ht=Z[Le[0]++]<<24|Z[Le[1]++]<<16|Z[Le[2]++]<<8;Ye+=ht,re[Be]=Ye,Be++}break}}return new DataView(re.buffer)}function Pe(Q){var B=Q.viewer,Z={value:Q.offset.value},se=new Uint8Array(Q.width*Q.lines*(Q.channels*Q.type*2)),re={version:rt(B,Z),unknownUncompressedSize:rt(B,Z),unknownCompressedSize:rt(B,Z),acCompressedSize:rt(B,Z),dcCompressedSize:rt(B,Z),rleCompressedSize:rt(B,Z),rleUncompressedSize:rt(B,Z),rleRawSize:rt(B,Z),totalAcUncompressedCount:rt(B,Z),totalDcUncompressedCount:rt(B,Z),acCompression:rt(B,Z)};if(re.version<2)throw"EXRLoader.parse: "+Dn.compression+" version "+re.version+" is unsupported";for(var ue=new Array,Be=be(B,Z)-2;Be>0;){var Le=$e(B.buffer,Z),ze=qe(B,Z),He=ze>>2&3,Ye=(ze>>4)-1,ve=new Int8Array([Ye])[0],ht=qe(B,Z);ue.push({name:Le,index:ve,type:ht,compression:He}),Be-=Le.length+3}for(var at=Dn.channels,ot=new Array(Q.channels),bt=0;bt<Q.channels;++bt){var Lt=ot[bt]={},Mt=at[bt];Lt.name=Mt.name,Lt.compression=0,Lt.decoded=!1,Lt.type=Mt.pixelType,Lt.pLinear=Mt.pLinear,Lt.width=Q.width,Lt.height=Q.lines}for(var ft={idx:new Array(3)},Ft=0;Ft<Q.channels;++Ft)for(var Lt=ot[Ft],bt=0;bt<ue.length;++bt){var xt=ue[bt];Lt.name==xt.name&&(Lt.compression=xt.compression,xt.index>=0&&(ft.idx[xt.index]=Ft),Lt.offset=Ft)}if(re.acCompressedSize>0)switch(re.acCompression){case 0:var Ht=new Uint16Array(re.totalAcUncompressedCount);pe(Q.array,B,Z,re.acCompressedSize,Ht,re.totalAcUncompressedCount);break;case 1:var Qt=Q.array.slice(Z.value,Z.value+re.totalAcUncompressedCount),Ln=_5(Qt),Ht=new Uint16Array(Ln.buffer);Z.value+=re.totalAcUncompressedCount;break}if(re.dcCompressedSize>0){var On={array:Q.array,offset:Z,size:re.dcCompressedSize},gn=new Uint16Array(fe(On).buffer);Z.value+=re.dcCompressedSize}if(re.rleRawSize>0){var Qt=Q.array.slice(Z.value,Z.value+re.rleCompressedSize),Ln=_5(Qt),kn=de(Ln.buffer);Z.value+=re.rleCompressedSize}for(var Kn=0,Wt=new Array(ot.length),bt=0;bt<Wt.length;++bt)Wt[bt]=new Array;for(var Jn=0;Jn<Q.lines;++Jn)for(var bn=0;bn<ot.length;++bn)Wt[bn].push(Kn),Kn+=ot[bn].width*Q.type*2;Se(ft,Wt,ot,Ht,gn,se);for(var bt=0;bt<ot.length;++bt){var Lt=ot[bt];if(!Lt.decoded)switch(Lt.compression){case 2:for(var Zt=0,ei=0,Jn=0;Jn<Q.lines;++Jn){for(var vs=Wt[bt][Zt],Ui=0;Ui<Lt.width;++Ui){for(var Us=0;Us<2*Lt.type;++Us)se[vs++]=kn[ei+Us*Lt.width*Lt.height];ei++}Zt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(se.buffer)}function $e(Q,B){for(var Z=new Uint8Array(Q),se=0;Z[B.value+se]!=0;)se+=1;var re=new TextDecoder().decode(Z.slice(B.value,B.value+se));return B.value=B.value+se+1,re}function Ke(Q,B,Z){var se=new TextDecoder().decode(new Uint8Array(Q).slice(B.value,B.value+Z));return B.value=B.value+Z,se}function we(Q,B){var Z=Te(Q,B),se=Me(Q,B);return[Z,se]}function ae(Q,B){var Z=Me(Q,B),se=Me(Q,B);return[Z,se]}function Te(Q,B){var Z=Q.getInt32(B.value,!0);return B.value=B.value+4,Z}function Me(Q,B){var Z=Q.getUint32(B.value,!0);return B.value=B.value+4,Z}function Fe(Q,B){var Z=Q[B.value];return B.value=B.value+1,Z}function qe(Q,B){var Z=Q.getUint8(B.value);return B.value=B.value+1,Z}const rt=function(Q,B){let Z;return"getBigInt64"in DataView.prototype?Z=Number(Q.getBigInt64(B.value,!0)):Z=Q.getUint32(B.value+4,!0)+Number(Q.getUint32(B.value,!0)<<32),B.value+=8,Z};function ut(Q,B){var Z=Q.getFloat32(B.value,!0);return B.value+=4,Z}function ce(Q,B){return Pf.toHalfFloat(ut(Q,B))}function Ce(Q){var B=(Q&31744)>>10,Z=Q&1023;return(Q>>15?-1:1)*(B?B===31?Z?NaN:1/0:Math.pow(2,B-15)*(1+Z/1024):6103515625e-14*(Z/1024))}function be(Q,B){var Z=Q.getUint16(B.value,!0);return B.value+=2,Z}function Ze(Q,B){return Ce(be(Q,B))}function lt(Q,B,Z,se){for(var re=Z.value,ue=[];Z.value<re+se-1;){var Be=$e(B,Z),Le=Te(Q,Z),ze=qe(Q,Z);Z.value+=3;var He=Te(Q,Z),Ye=Te(Q,Z);ue.push({name:Be,pixelType:Le,pLinear:ze,xSampling:He,ySampling:Ye})}return Z.value+=1,ue}function Jt(Q,B){var Z=ut(Q,B),se=ut(Q,B),re=ut(Q,B),ue=ut(Q,B),Be=ut(Q,B),Le=ut(Q,B),ze=ut(Q,B),He=ut(Q,B);return{redX:Z,redY:se,greenX:re,greenY:ue,blueX:Be,blueY:Le,whiteX:ze,whiteY:He}}function an(Q,B){var Z=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],se=qe(Q,B);return Z[se]}function mn(Q,B){var Z=Me(Q,B),se=Me(Q,B),re=Me(Q,B),ue=Me(Q,B);return{xMin:Z,yMin:se,xMax:re,yMax:ue}}function En(Q,B){var Z=["INCREASING_Y"],se=qe(Q,B);return Z[se]}function wn(Q,B){var Z=ut(Q,B),se=ut(Q,B);return[Z,se]}function xn(Q,B){var Z=ut(Q,B),se=ut(Q,B),re=ut(Q,B);return[Z,se,re]}function rn(Q,B,Z,se,re){if(se==="string"||se==="stringvector"||se==="iccProfile")return Ke(B,Z,re);if(se==="chlist")return lt(Q,B,Z,re);if(se==="chromaticities")return Jt(Q,Z);if(se==="compression")return an(Q,Z);if(se==="box2i")return mn(Q,Z);if(se==="lineOrder")return En(Q,Z);if(se==="float")return ut(Q,Z);if(se==="v2f")return wn(Q,Z);if(se==="v3f")return xn(Q,Z);if(se==="int")return Te(Q,Z);if(se==="rational")return we(Q,Z);if(se==="timecode")return ae(Q,Z);if(se==="preview")return Z.value+=re,"skipped";Z.value+=re}function hr(Q,B,Z){const se={};if(Q.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";se.version=Q.getUint8(4);const re=Q.getUint8(5);se.spec={singleTile:!!(re&2),longName:!!(re&4),deepFormat:!!(re&8),multiPart:!!(re&16)},Z.value=8;for(var ue=!0;ue;){var Be=$e(B,Z);if(Be==0)ue=!1;else{var Le=$e(B,Z),ze=Me(Q,Z),He=rn(Q,B,Z,Le,ze);He===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Le}'.`):se[Be]=He}}if(re!=0)throw console.error("EXRHeader:",se),"THREE.EXRLoader: provided file is currently unsupported.";return se}function Qi(Q,B,Z,se,re){const ue={size:0,viewer:B,array:Z,offset:se,width:Q.dataWindow.xMax-Q.dataWindow.xMin+1,height:Q.dataWindow.yMax-Q.dataWindow.yMin+1,channels:Q.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Q.channels[0].pixelType,uncompress:null,getter:null,format:null,[G0?"colorSpace":"encoding"]:null};switch(Q.compression){case"NO_COMPRESSION":ue.lines=1,ue.uncompress=te;break;case"RLE_COMPRESSION":ue.lines=1,ue.uncompress=H;break;case"ZIPS_COMPRESSION":ue.lines=1,ue.uncompress=fe;break;case"ZIP_COMPRESSION":ue.lines=16,ue.uncompress=fe;break;case"PIZ_COMPRESSION":ue.lines=32,ue.uncompress=je;break;case"PXR24_COMPRESSION":ue.lines=16,ue.uncompress=Ue;break;case"DWAA_COMPRESSION":ue.lines=32,ue.uncompress=Pe;break;case"DWAB_COMPRESSION":ue.lines=256,ue.uncompress=Pe;break;default:throw"EXRLoader.parse: "+Q.compression+" is unsupported"}if(ue.scanlineBlockSize=ue.lines,ue.type==1)switch(re){case Mn:ue.getter=Ze,ue.inputSize=2;break;case hn:ue.getter=be,ue.inputSize=2;break}else if(ue.type==2)switch(re){case Mn:ue.getter=ut,ue.inputSize=4;break;case hn:ue.getter=ce,ue.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ue.type+" for "+Q.compression+".";ue.blockCount=(Q.dataWindow.yMax+1)/ue.scanlineBlockSize;for(var Be=0;Be<ue.blockCount;Be++)rt(B,se);ue.outputChannels=ue.channels==3?4:ue.channels;const Le=ue.width*ue.height*ue.outputChannels;switch(re){case Mn:ue.byteArray=new Float32Array(Le),ue.channels<ue.outputChannels&&ue.byteArray.fill(1,0,Le);break;case hn:ue.byteArray=new Uint16Array(Le),ue.channels<ue.outputChannels&&ue.byteArray.fill(15360,0,Le);break;default:console.error("THREE.EXRLoader: unsupported type: ",re);break}return ue.bytesPerLine=ue.width*ue.inputSize*ue.channels,ue.outputChannels==4?ue.format=Pn:ue.format=Ka,G0?ue.colorSpace="srgb-linear":ue.encoding=3e3,ue}const Sn=new DataView(e),Yn=new Uint8Array(e),gi={value:0},Dn=hr(Sn,e,gi),Tt=Qi(Dn,Sn,Yn,gi,this.type),bi={value:0},gs={R:0,G:1,B:2,A:3,Y:0};for(let Q=0;Q<Tt.height/Tt.scanlineBlockSize;Q++){const B=Me(Sn,gi);Tt.size=Me(Sn,gi),Tt.lines=B+Tt.scanlineBlockSize>Tt.height?Tt.height-B:Tt.scanlineBlockSize;const se=Tt.size<Tt.lines*Tt.bytesPerLine?Tt.uncompress(Tt):te(Tt);gi.value+=Tt.size;for(let re=0;re<Tt.scanlineBlockSize;re++){const ue=re+Q*Tt.scanlineBlockSize;if(ue>=Tt.height)break;for(let Be=0;Be<Tt.channels;Be++){const Le=gs[Dn.channels[Be].name];for(let ze=0;ze<Tt.width;ze++){bi.value=(re*(Tt.channels*Tt.width)+Be*Tt.width+ze)*Tt.inputSize;const He=(Tt.height-1-ue)*(Tt.width*Tt.outputChannels)+ze*Tt.outputChannels+Le;Tt.byteArray[He]=Tt.getter(se,bi)}}}}return{header:Dn,width:Tt.width,height:Tt.height,data:Tt.byteArray,format:Tt.format,[G0?"colorSpace":"encoding"]:Tt[G0?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,i,r){function s(o,a){G0?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=At,o.magFilter=At,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,i,r)}}const __=new WeakMap,V1=class extends Cr{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerLimit=t,this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(t,e,n,i){const r=new ar(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const s=new Ac;return r.load(t,o=>{if(__.has(o))return __.get(o).promise.then(e).catch(i);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(i)},n,i),s}parseInternalAsync(t){const{levels:e}=t,n=new Set;for(let i=0;i<e.length;i++)n.add(e[i].data.buffer);return this._createTexture(Array.from(n),{...t,lowLevel:!0})}_createTexture(t,e={}){let n,i;const r=e;let s=0;for(let a=0;a<t.length;a++)s+=t[a].byteLength;const o=this._allocateWorker(s).then(a=>(n=a,i=this.workerNextTaskID++,new Promise((l,u)=>{n._callbacks[i]={resolve:l,reject:u},n.postMessage({type:"transcode",id:i,buffers:t,taskConfig:r},t)}))).then(a=>{const{mipmaps:l,width:u,height:c,format:f}=a,h=new Ac(l,u,c,f,_n);return h.minFilter=l.length===1?At:Go,h.magFilter=At,h.generateMipmaps=!1,h.needsUpdate=!0,h});return o.catch(()=>!0).then(()=>{n&&i&&(n._taskLoad-=s,delete n._callbacks[i])}),__.set(t[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const t=new ar(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=new Promise((r,s)=>{t.load("basis_transcoder.js",r,void 0,s)}),n=new ar(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const i=new Promise((r,s)=>{n.load("basis_transcoder.wasm",r,void 0,s)});this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=V1.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(V1.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(V1.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(V1.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(t){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),n.onmessage=function(i){const r=i.data;switch(r.type){case"transcode":n._callbacks[r.id].resolve(r);break;case"error":n._callbacks[r.id].reject(r);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,i){return n._taskLoad>i._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=t,e})}dispose(){for(let t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}};let bE=V1;et(bE,"BasisFormat",{ETC1S:0,UASTC_4x4:1});et(bE,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});et(bE,"EngineFormat",{RGBAFormat:Pn,RGBA_ASTC_4x4_Format:X3,RGBA_BPTC_Format:kd,RGBA_ETC2_EAC_Format:q3,RGBA_PVRTC_4BPPV1_Format:W3,RGBA_S3TC_DXT5_Format:Ud,RGB_ETC1_Format:w6,RGB_ETC2_Format:j3,RGB_PVRTC_4BPPV1_Format:Q3,RGB_S3TC_DXT1_Format:Fd});et(bE,"BasisWorker",function(){let t,e,n;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;onmessage=function(x){const S=x.data;switch(S.type){case"init":t=S.config,o(S.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:E,height:w,hasAlpha:C,mipmaps:b,format:I}=S.taskConfig.lowLevel?a(S.taskConfig):l(S.buffers[0]),M=[];for(let R=0;R<b.length;++R)M.push(b[R].data.buffer);self.postMessage({type:"transcode",id:S.id,width:E,height:w,hasAlpha:C,mipmaps:b,format:I},M)}catch(E){console.error(E),self.postMessage({type:"error",id:S.id,error:E.message})}});break}};function o(x){e=new Promise(S=>{n={wasmBinary:x,onRuntimeInitialized:S},BASIS(n)}).then(()=>{n.initializeBasis()})}function a(x){const{basisFormat:S,width:E,height:w,hasAlpha:C}=x,{transcoderFormat:b,engineFormat:I}=h(S,E,w,C),M=n.getBytesPerBlockOrPixel(b);d(n.isFormatSupported(b),"THREE.BasisTextureLoader: Unsupported format.");const R=[];if(S===s.ETC1S){const D=new n.LowLevelETC1SImageTranscoder,{endpointCount:F,endpointsData:O,selectorCount:L,selectorsData:U,tablesData:q}=x.globalData;try{let K;K=D.decodePalettes(F,O,L,U),d(K,"THREE.BasisTextureLoader: decodePalettes() failed."),K=D.decodeTables(q),d(K,"THREE.BasisTextureLoader: decodeTables() failed.");for(let k=0;k<x.levels.length;k++){const W=x.levels[k],V=x.globalData.imageDescs[k],G=A(b,W.width,W.height),z=new Uint8Array(G);K=D.transcodeImage(b,z,G/M,W.data,p(b,W.width),y(b,W.height),W.width,W.height,W.index,V.rgbSliceByteOffset,V.rgbSliceByteLength,V.alphaSliceByteOffset,V.alphaSliceByteLength,V.imageFlags,C,!1,0,0),d(K,"THREE.BasisTextureLoader: transcodeImage() failed for level "+W.index+"."),R.push({data:z,width:W.width,height:W.height})}}finally{D.delete()}}else for(let D=0;D<x.levels.length;D++){const F=x.levels[D],O=A(b,F.width,F.height),L=new Uint8Array(O),U=n.transcodeUASTCImage(b,L,O/M,F.data,p(b,F.width),y(b,F.height),F.width,F.height,F.index,0,F.data.byteLength,0,C,!1,0,0,-1,-1);d(U,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+F.index+"."),R.push({data:L,width:F.width,height:F.height})}return{width:E,height:w,hasAlpha:C,mipmaps:R,format:I}}function l(x){const S=new n.BasisFile(new Uint8Array(x)),E=S.isUASTC()?s.UASTC_4x4:s.ETC1S,w=S.getImageWidth(0,0),C=S.getImageHeight(0,0),b=S.getNumLevels(0),I=S.getHasAlpha();function M(){S.close(),S.delete()}const{transcoderFormat:R,engineFormat:D}=h(E,w,C,I);if(!w||!C||!b)throw M(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!S.startTranscoding())throw M(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const F=[];for(let O=0;O<b;O++){const L=S.getImageWidth(0,O),U=S.getImageHeight(0,O),q=new Uint8Array(S.getImageTranscodedSizeInBytes(0,O,R));if(!S.transcodeImage(q,0,O,R,0,I))throw M(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");F.push({data:q,width:L,height:U})}return M(),{width:w,height:C,hasAlpha:I,mipmaps:F,format:D}}const u=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC1],engineFormat:[i.RGB_ETC1_Format,i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=u.sort(function(x,S){return x.priorityETC1S-S.priorityETC1S}),f=u.sort(function(x,S){return x.priorityUASTC-S.priorityUASTC});function h(x,S,E,w){let C,b;const I=x===s.ETC1S?c:f;for(let M=0;M<I.length;M++){const R=I[M];if(t[R.if]&&R.basisFormat.includes(x)&&!(R.needsPowerOfTwo&&!(g(S)&&g(E))))return C=R.transcoderFormat[w?1:0],b=R.engineFormat[w?1:0],{transcoderFormat:C,engineFormat:b}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),C=r.RGBA32,b=i.RGBAFormat,{transcoderFormat:C,engineFormat:b}}function d(x,S){if(!x)throw new Error(S)}function p(x,S){return Math.ceil(S/n.getFormatBlockWidth(x))}function y(x,S){return Math.ceil(S/n.getFormatBlockHeight(x))}function A(x,S,E){const w=n.getBytesPerBlockOrPixel(x);if(n.formatIsUncompressed(x))return S*E*w;if(x===r.PVRTC1_4_RGB||x===r.PVRTC1_4_RGBA){const C=S+3&-4,b=E+3&-4;return(Math.max(8,C)*Math.max(8,b)*4+7)/8}return p(x,S)*y(x,E)*w}function g(x){return x<=2?!0:(x&x-1)===0&&x!==0}});const C_=new WeakMap;class $6e extends Cr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const s=new ar(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(r)},i,r)}decodeDracoFile(e,n,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const i=JSON.stringify(n);if(C_.has(e)){const l=C_.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,c)=>{r._callbacks[s]={resolve:u,reject:c},r.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),C_.set(e,{key:i,promise:a}),a}_createGeometry(e){const n=new Xt;e.index&&n.setIndex(new An(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;n.setAttribute(s,new An(o,a))}return n}_loadLibrary(e,n){const i=new ar(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=eEe.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function eEe(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,h=new f.Decoder,d=new f.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{const p=n(f,h,d,u),y=p.attributes.map(A=>A.array.buffer);p.index&&y.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},y)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{f.destroy(d),f.destroy(h)}});break}};function n(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let h,d;const p=a.GetEncodedGeometryType(l);if(p===o.TRIANGULAR_MESH)h=new o.Mesh,d=a.DecodeBufferToMesh(l,h);else if(p===o.POINT_CLOUD)h=new o.PointCloud,d=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const y={index:null,attributes:[]};for(const A in c){const g=self[f[A]];let x,S;if(u.useUniqueIDs)S=c[A],x=a.GetAttributeByUniqueId(h,S);else{if(S=a.GetAttributeId(h,o[c[A]]),S===-1)continue;x=a.GetAttribute(h,S)}y.attributes.push(r(o,a,h,A,g,x))}return p===o.TRIANGULAR_MESH&&(y.index=i(o,a,h)),o.destroy(h),y}function i(o,a,l){const c=l.num_faces()*3,f=c*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const d=new Uint32Array(o.HEAPF32.buffer,h,c).slice();return o._free(h),{array:d,itemSize:1}}function r(o,a,l,u,c,f){const h=f.num_components(),p=l.num_points()*h,y=p*c.BYTES_PER_ELEMENT,A=s(o,c),g=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,f,A,y,g);const x=new c(o.HEAPF32.buffer,g,p).slice();return o._free(g),{name:u,array:x,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const KF=new Or,N5=new j;class QI extends K6{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new Et(e,3)),this.setAttribute("uv",new Et(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,i=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),i.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const i=new cS(n,6,1);return this.setAttribute("instanceStart",new Ms(i,3,0)),this.setAttribute("instanceEnd",new Ms(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const i=new cS(n,6,1);return this.setAttribute("instanceColorStart",new Ms(i,3,0)),this.setAttribute("instanceColorEnd",new Ms(i,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new T9(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Or);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),KF.setFromBufferAttribute(n),this.boundingBox.union(KF))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fr),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)N5.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(N5)),N5.fromBufferAttribute(n,s),r=Math.max(r,i.distanceToSquared(N5));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class QK extends QI{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,i=new Float32Array(2*n);for(let r=0;r<n;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e){const n=e.length-3,i=new Float32Array(2*n);for(let r=0;r<n;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setColors(i),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class WI extends yt{constructor(e){super({type:"LineMaterial",uniforms:$n.clone($n.merge([ct.common,ct.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new he(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <${parseInt(Lr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const JF=new j,ZF=new j,Tr=new qt,Mr=new qt,za=new qt,b_=new j,T_=new it,jr=new Rq,$F=new j,G5=new Or,z5=new Fr,Ha=new qt;let Xa,OT,WK,Hf;function eU(t,e,n){return Ha.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Ha.multiplyScalar(1/Ha.w),Ha.x=Hf/n.width,Ha.y=Hf/n.height,Ha.applyMatrix4(t.projectionMatrixInverse),Ha.multiplyScalar(1/Ha.w),Math.abs(Math.max(Ha.x,Ha.y))}function tEe(t,e){for(let n=0,i=OT.count;n<i;n++){jr.start.fromBufferAttribute(OT,n),jr.end.fromBufferAttribute(WK,n);const r=new j,s=new j;Xa.distanceSqToSegment(jr.start,jr.end,s,r),s.distanceTo(r)<Hf*.5&&e.push({point:s,pointOnLine:r,distance:Xa.origin.distanceTo(s),object:t,face:null,faceIndex:n,uv:null,uv2:null})}}function nEe(t,e,n){const i=e.projectionMatrix,s=t.material.resolution,o=t.matrixWorld,a=t.geometry,l=a.attributes.instanceStart,u=a.attributes.instanceEnd,c=-e.near;Xa.at(1,za),za.w=1,za.applyMatrix4(e.matrixWorldInverse),za.applyMatrix4(i),za.multiplyScalar(1/za.w),za.x*=s.x/2,za.y*=s.y/2,za.z=0,b_.copy(za),T_.multiplyMatrices(e.matrixWorldInverse,o);for(let f=0,h=l.count;f<h;f++){if(Tr.fromBufferAttribute(l,f),Mr.fromBufferAttribute(u,f),Tr.w=1,Mr.w=1,Tr.applyMatrix4(T_),Mr.applyMatrix4(T_),Tr.z>c&&Mr.z>c)continue;if(Tr.z>c){const x=Tr.z-Mr.z,S=(Tr.z-c)/x;Tr.lerp(Mr,S)}else if(Mr.z>c){const x=Mr.z-Tr.z,S=(Mr.z-c)/x;Mr.lerp(Tr,S)}Tr.applyMatrix4(i),Mr.applyMatrix4(i),Tr.multiplyScalar(1/Tr.w),Mr.multiplyScalar(1/Mr.w),Tr.x*=s.x/2,Tr.y*=s.y/2,Mr.x*=s.x/2,Mr.y*=s.y/2,jr.start.copy(Tr),jr.start.z=0,jr.end.copy(Mr),jr.end.z=0;const p=jr.closestPointToPointParameter(b_,!0);jr.at(p,$F);const y=cs.lerp(Tr.z,Mr.z,p),A=y>=-1&&y<=1,g=b_.distanceTo($F)<Hf*.5;if(A&&g){jr.start.fromBufferAttribute(l,f),jr.end.fromBufferAttribute(u,f),jr.start.applyMatrix4(o),jr.end.applyMatrix4(o);const x=new j,S=new j;Xa.distanceSqToSegment(jr.start,jr.end,S,x),n.push({point:S,pointOnLine:x,distance:Xa.origin.distanceTo(S),object:t,face:null,faceIndex:f,uv:null,uv2:null})}}}class jK extends yn{constructor(e=new QI,n=new WI({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*n.count);for(let o=0,a=0,l=n.count;o<l;o++,a+=2)JF.fromBufferAttribute(n,o),ZF.fromBufferAttribute(i,o),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+JF.distanceTo(ZF);const s=new cS(r,2,1);return e.setAttribute("instanceDistanceStart",new Ms(s,1,0)),e.setAttribute("instanceDistanceEnd",new Ms(s,1,1)),this}raycast(e,n){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Xa=e.ray;const o=this.matrixWorld,a=this.geometry,l=this.material;Hf=l.linewidth+s,OT=a.attributes.instanceStart,WK=a.attributes.instanceEnd,a.boundingSphere===null&&a.computeBoundingSphere(),z5.copy(a.boundingSphere).applyMatrix4(o);let u;if(i)u=Hf*.5;else{const f=Math.max(r.near,z5.distanceToPoint(Xa.origin));u=eU(r,f,l.resolution)}if(z5.radius+=u,Xa.intersectsSphere(z5)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),G5.copy(a.boundingBox).applyMatrix4(o);let c;if(i)c=Hf*.5;else{const f=Math.max(r.near,G5.distanceToPoint(Xa.origin));c=eU(r,f,l.resolution)}G5.expandByScalar(c),Xa.intersectsBox(G5)!==!1&&(i?tEe(this,n):nEe(this,r,n))}}class iEe extends jK{constructor(e=new QK,n=new WI({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}let H5;const M_=()=>{if(H5)return H5;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=t;WebAssembly.validate(n)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let p=0;p<f.length;++p){const y=f.charCodeAt(p);h[p]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let d=0;for(let p=0;p<f.length;++p)h[d++]=h[p]<60?i[h[p]]:(h[p]-60)*64+h[++p];return h.buffer.slice(0,d)}function l(f,h,d,p,y,A){const g=s.exports.sbrk,x=d+3&-4,S=g(x*p),E=g(y.length),w=new Uint8Array(s.exports.memory.buffer);w.set(y,E);const C=f(S,d,p,E,y.length);if(C===0&&A&&A(S,x,p),h.set(w.subarray(S,S+d*p)),g(S-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return H5={ready:o,supported:!0,decodeVertexBuffer(f,h,d,p,y){l(s.exports.meshopt_decodeVertexBuffer,f,h,d,p,s.exports[u[y]])},decodeIndexBuffer(f,h,d,p){l(s.exports.meshopt_decodeIndexBuffer,f,h,d,p)},decodeIndexSequence(f,h,d,p){l(s.exports.meshopt_decodeIndexSequence,f,h,d,p)},decodeGltfBuffer(f,h,d,p,y,A){l(s.exports[c[y]],f,h,d,p,s.exports[u[A]])}},H5},I_=ee.forwardRef(function({points:e,color:n="black",vertexColors:i,linewidth:r,lineWidth:s,segments:o,dashed:a,...l},u){const c=cn(p=>p.size),f=ee.useMemo(()=>o?new jK:new iEe,[o]),[h]=ee.useState(()=>new WI),d=ee.useMemo(()=>{const p=o?new QI:new QK,y=e.map(A=>{const g=Array.isArray(A);return A instanceof j?[A.x,A.y,A.z]:A instanceof he?[A.x,A.y,0]:g&&A.length===3?[A[0],A[1],A[2]]:g&&A.length===2?[A[0],A[1],0]:A});if(p.setPositions(y.flat()),i){const A=i.map(g=>g instanceof Je?g.toArray():g);p.setColors(A.flat())}return p},[e,o,i]);return ee.useLayoutEffect(()=>{f.computeLineDistances()},[e,f]),ee.useLayoutEffect(()=>{a?h.defines.USE_DASH="":delete h.defines.USE_DASH,h.needsUpdate=!0},[a,h]),ee.useEffect(()=>()=>d.dispose(),[d]),ee.createElement("primitive",Yi({object:f,ref:u},l),ee.createElement("primitive",{object:d,attach:"geometry"}),ee.createElement("primitive",Yi({object:h,attach:"material",color:n,vertexColors:!!i,resolution:[c.width,c.height],linewidth:r??s,dashed:a},l)))});function rEe(){var t=Object.create(null);function e(r,s){var o=r.id,a=r.name,l=r.dependencies;l===void 0&&(l=[]);var u=r.init;u===void 0&&(u=function(){});var c=r.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(d){if(d instanceof Error)throw d}),h=t[h.id].value),h}),u=i("<"+a+">.init",u),c&&(c=i("<"+a+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},s(f)}catch(h){h&&h.noLog||console.error(h),s(h)}}function n(r,s){var o,a=r.id,l=r.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return s(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){s(f)}function c(f){try{var h=t[a].getTransferables&&t[a].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),s(f,h)}catch(d){console.error(d),s(d)}}}function i(r,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(r){var s=r.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function sEe(t){var e=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,i=t.init;n=Array.isArray(n)?n.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var r=Promise.all(n).then(function(s){return i.apply(null,s)});return e._getInitResult=function(){return r},r},e}var qK=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return qK=function(){return t},t},oEe=0,aEe=0,R_=!1,m3=Object.create(null),g3=Object.create(null),FT=Object.create(null);function f2(t){if((!t||typeof t.init!="function")&&!R_)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,i=t.getTransferables,r=t.workerId;if(!qK())return sEe(t);r==null&&(r="#default");var s="workerModule"+ ++oEe,o=t.name||s,a=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(R_=!0,u=f2({workerId:r,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+Tx(u)+`
)}`}),R_=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function l(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];if(!a){a=tU(r,"registerModule",l.workerModuleData);var f=function(){a=null,g3[r].delete(f)};(g3[r]||(g3[r]=new Set)).add(f)}return a.then(function(h){var d=h.isCallable;if(d)return tU(r,"callModule",{id:s,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:Tx(n),getTransferables:i&&Tx(i)},l}function lEe(t){g3[t]&&g3[t].forEach(function(e){e()}),m3[t]&&(m3[t].terminate(),delete m3[t])}function Tx(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function uEe(t){var e=m3[t];if(!e){var n=Tx(rEe);e=m3[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,s=r.messageId,o=FT[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete FT[s],o(r)}}return e}function tU(t,e,n){return new Promise(function(i,r){var s=++aEe;FT[s]=function(o){o.success?i(o.result):r(new Error("Error in worker "+e+" call: "+o.error))},uEe(t).postMessage({messageId:s,action:e,data:n})})}function XK(){var t=function(e){function n(W,V,G,z,ne,J,$,X){var oe=1-$;X.x=oe*oe*W+2*oe*$*G+$*$*ne,X.y=oe*oe*V+2*oe*$*z+$*$*J}function i(W,V,G,z,ne,J,$,X,oe,ie){var _e=1-oe;ie.x=_e*_e*_e*W+3*_e*_e*oe*G+3*_e*oe*oe*ne+oe*oe*oe*$,ie.y=_e*_e*_e*V+3*_e*_e*oe*z+3*_e*oe*oe*J+oe*oe*oe*X}function r(W,V){for(var G=/([MLQCZ])([^MLQCZ]*)/g,z,ne,J,$,X;z=G.exec(W);){var oe=z[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ie){return parseFloat(ie)});switch(z[1]){case"M":$=ne=oe[0],X=J=oe[1];break;case"L":(oe[0]!==$||oe[1]!==X)&&V("L",$,X,$=oe[0],X=oe[1]);break;case"Q":{V("Q",$,X,$=oe[2],X=oe[3],oe[0],oe[1]);break}case"C":{V("C",$,X,$=oe[4],X=oe[5],oe[0],oe[1],oe[2],oe[3]);break}case"Z":($!==ne||X!==J)&&V("L",$,X,ne,J);break}}}function s(W,V,G){G===void 0&&(G=16);var z={x:0,y:0};r(W,function(ne,J,$,X,oe,ie,_e,Re,pe){switch(ne){case"L":V(J,$,X,oe);break;case"Q":{for(var Y=J,me=$,ge=1;ge<G;ge++)n(J,$,ie,_e,X,oe,ge/(G-1),z),V(Y,me,z.x,z.y),Y=z.x,me=z.y;break}case"C":{for(var de=J,Se=$,Qe=1;Qe<G;Qe++)i(J,$,ie,_e,Re,pe,X,oe,Qe/(G-1),z),V(de,Se,z.x,z.y),de=z.x,Se=z.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(W,V){var G=W.getContext?W.getContext("webgl",u):W,z=l.get(G);if(!z){let de=function(De){var tt=J[De];if(!tt&&(tt=J[De]=G.getExtension(De),!tt))throw new Error(De+" not supported");return tt},Se=function(De,tt){var te=G.createShader(tt);return G.shaderSource(te,De),G.compileShader(te),te},Qe=function(De,tt,te,H){if(!$[De]){var fe={},je={},Ue=G.createProgram();G.attachShader(Ue,Se(tt,G.VERTEX_SHADER)),G.attachShader(Ue,Se(te,G.FRAGMENT_SHADER)),G.linkProgram(Ue),$[De]={program:Ue,transaction:function($e){G.useProgram(Ue),$e({setUniform:function(we,ae){for(var Te=[],Me=arguments.length-2;Me-- >0;)Te[Me]=arguments[Me+2];var Fe=je[ae]||(je[ae]=G.getUniformLocation(Ue,ae));G["uniform"+we].apply(G,[Fe].concat(Te))},setAttribute:function(we,ae,Te,Me,Fe){var qe=fe[we];qe||(qe=fe[we]={buf:G.createBuffer(),loc:G.getAttribLocation(Ue,we),data:null}),G.bindBuffer(G.ARRAY_BUFFER,qe.buf),G.vertexAttribPointer(qe.loc,ae,G.FLOAT,!1,0,0),G.enableVertexAttribArray(qe.loc),ne?G.vertexAttribDivisor(qe.loc,Me):de("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(qe.loc,Me),Fe!==qe.data&&(G.bufferData(G.ARRAY_BUFFER,Fe,Te),qe.data=Fe)}})}}}$[De].transaction(H)},xe=function(De,tt){oe++;try{G.activeTexture(G.TEXTURE0+oe);var te=X[De];te||(te=X[De]=G.createTexture(),G.bindTexture(G.TEXTURE_2D,te),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST)),G.bindTexture(G.TEXTURE_2D,te),tt(te,oe)}finally{oe--}},ke=function(De,tt,te){var H=G.createFramebuffer();ie.push(H),G.bindFramebuffer(G.FRAMEBUFFER,H),G.activeTexture(G.TEXTURE0+tt),G.bindTexture(G.TEXTURE_2D,De),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,De,0);try{te(H)}finally{G.deleteFramebuffer(H),G.bindFramebuffer(G.FRAMEBUFFER,ie[--ie.length-1]||null)}},Ne=function(){J={},$={},X={},oe=-1,ie.length=0};var _e=de,Re=Se,pe=Qe,Y=xe,me=ke,ge=Ne,ne=typeof WebGL2RenderingContext<"u"&&G instanceof WebGL2RenderingContext,J={},$={},X={},oe=-1,ie=[];G.canvas.addEventListener("webglcontextlost",function(De){Ne(),De.preventDefault()},!1),l.set(G,z={gl:G,isWebGL2:ne,getExtension:de,withProgram:Qe,withTexture:xe,withTextureFramebuffer:ke,handleContextLoss:Ne})}V(z)}function f(W,V,G,z,ne,J,$,X){$===void 0&&($=15),X===void 0&&(X=null),c(W,function(oe){var ie=oe.gl,_e=oe.withProgram,Re=oe.withTexture;Re("copy",function(pe,Y){ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,ne,J,0,ie.RGBA,ie.UNSIGNED_BYTE,V),_e("copy",o,a,function(me){var ge=me.setUniform,de=me.setAttribute;de("aUV",2,ie.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ge("1i","image",Y),ie.bindFramebuffer(ie.FRAMEBUFFER,X||null),ie.disable(ie.BLEND),ie.colorMask($&8,$&4,$&2,$&1),ie.viewport(G,z,ne,J),ie.scissor(G,z,ne,J),ie.drawArrays(ie.TRIANGLES,0,3)})})})}function h(W,V,G){var z=W.width,ne=W.height;c(W,function(J){var $=J.gl,X=new Uint8Array(z*ne*4);$.readPixels(0,0,z,ne,$.RGBA,$.UNSIGNED_BYTE,X),W.width=V,W.height=G,f($,X,0,0,z,ne)})}var d=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function p(W,V,G,z,ne,J){J===void 0&&(J=1);var $=new Uint8Array(W*V),X=z[2]-z[0],oe=z[3]-z[1],ie=[];s(G,function(de,Se,Qe,xe){ie.push({x1:de,y1:Se,x2:Qe,y2:xe,minX:Math.min(de,Qe),minY:Math.min(Se,xe),maxX:Math.max(de,Qe),maxY:Math.max(Se,xe)})}),ie.sort(function(de,Se){return de.maxX-Se.maxX});for(var _e=0;_e<W;_e++)for(var Re=0;Re<V;Re++){var pe=me(z[0]+X*(_e+.5)/W,z[1]+oe*(Re+.5)/V),Y=Math.pow(1-Math.abs(pe)/ne,J)/2;pe<0&&(Y=1-Y),Y=Math.max(0,Math.min(255,Math.round(Y*255))),$[Re*W+_e]=Y}return $;function me(de,Se){for(var Qe=1/0,xe=1/0,ke=ie.length;ke--;){var Ne=ie[ke];if(Ne.maxX+xe<=de)break;if(de+xe>Ne.minX&&Se-xe<Ne.maxY&&Se+xe>Ne.minY){var De=g(de,Se,Ne.x1,Ne.y1,Ne.x2,Ne.y2);De<Qe&&(Qe=De,xe=Math.sqrt(Qe))}}return ge(de,Se)&&(xe=-xe),xe}function ge(de,Se){for(var Qe=0,xe=ie.length;xe--;){var ke=ie[xe];if(ke.maxX<=de)break;var Ne=ke.y1>Se!=ke.y2>Se&&de<(ke.x2-ke.x1)*(Se-ke.y1)/(ke.y2-ke.y1)+ke.x1;Ne&&(Qe+=ke.y1<ke.y2?1:-1)}return Qe!==0}}function y(W,V,G,z,ne,J,$,X,oe,ie){J===void 0&&(J=1),X===void 0&&(X=0),oe===void 0&&(oe=0),ie===void 0&&(ie=0),A(W,V,G,z,ne,J,$,null,X,oe,ie)}function A(W,V,G,z,ne,J,$,X,oe,ie,_e){J===void 0&&(J=1),oe===void 0&&(oe=0),ie===void 0&&(ie=0),_e===void 0&&(_e=0);for(var Re=p(W,V,G,z,ne,J),pe=new Uint8Array(Re.length*4),Y=0;Y<Re.length;Y++)pe[Y*4+_e]=Re[Y];f($,pe,oe,ie,W,V,1<<3-_e,X)}function g(W,V,G,z,ne,J){var $=ne-G,X=J-z,oe=$*$+X*X,ie=oe?Math.max(0,Math.min(1,((W-G)*$+(V-z)*X)/oe)):0,_e=W-(G+ie*$),Re=V-(z+ie*X);return _e*_e+Re*Re}var x=Object.freeze({__proto__:null,generate:p,generateIntoCanvas:y,generateIntoFramebuffer:A}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",E="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",w="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),b=null,I=!1,M={},R=new WeakMap;function D(W){if(!I&&!U(W))throw new Error("WebGL generation not supported")}function F(W,V,G,z,ne,J,$){if(J===void 0&&(J=1),$===void 0&&($=null),!$&&($=b,!$)){var X=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!X)throw new Error("OffscreenCanvas or DOM canvas not supported");$=b=X.getContext("webgl",{depth:!1})}D($);var oe=new Uint8Array(W*V*4);c($,function(pe){var Y=pe.gl,me=pe.withTexture,ge=pe.withTextureFramebuffer;me("readable",function(de,Se){Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,W,V,0,Y.RGBA,Y.UNSIGNED_BYTE,null),ge(de,Se,function(Qe){L(W,V,G,z,ne,J,Y,Qe,0,0,0),Y.readPixels(0,0,W,V,Y.RGBA,Y.UNSIGNED_BYTE,oe)})})});for(var ie=new Uint8Array(W*V),_e=0,Re=0;_e<oe.length;_e+=4)ie[Re++]=oe[_e];return ie}function O(W,V,G,z,ne,J,$,X,oe,ie){J===void 0&&(J=1),X===void 0&&(X=0),oe===void 0&&(oe=0),ie===void 0&&(ie=0),L(W,V,G,z,ne,J,$,null,X,oe,ie)}function L(W,V,G,z,ne,J,$,X,oe,ie,_e){J===void 0&&(J=1),oe===void 0&&(oe=0),ie===void 0&&(ie=0),_e===void 0&&(_e=0),D($);var Re=[];s(G,function(pe,Y,me,ge){Re.push(pe,Y,me,ge)}),Re=new Float32Array(Re),c($,function(pe){var Y=pe.gl,me=pe.isWebGL2,ge=pe.getExtension,de=pe.withProgram,Se=pe.withTexture,Qe=pe.withTextureFramebuffer,xe=pe.handleContextLoss;if(Se("rawDistances",function(ke,Ne){(W!==ke._lastWidth||V!==ke._lastHeight)&&Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,ke._lastWidth=W,ke._lastHeight=V,0,Y.RGBA,Y.UNSIGNED_BYTE,null),de("main",S,E,function(De){var tt=De.setAttribute,te=De.setUniform,H=!me&&ge("ANGLE_instanced_arrays"),fe=!me&&ge("EXT_blend_minmax");tt("aUV",2,Y.STATIC_DRAW,0,C),tt("aLineSegment",4,Y.DYNAMIC_DRAW,1,Re),te.apply(void 0,["4f","uGlyphBounds"].concat(z)),te("1f","uMaxDistance",ne),te("1f","uExponent",J),Qe(ke,Ne,function(je){Y.enable(Y.BLEND),Y.colorMask(!0,!0,!0,!0),Y.viewport(0,0,W,V),Y.scissor(0,0,W,V),Y.blendFunc(Y.ONE,Y.ONE),Y.blendEquationSeparate(Y.FUNC_ADD,me?Y.MAX:fe.MAX_EXT),Y.clear(Y.COLOR_BUFFER_BIT),me?Y.drawArraysInstanced(Y.TRIANGLES,0,3,Re.length/4):H.drawArraysInstancedANGLE(Y.TRIANGLES,0,3,Re.length/4)})}),de("post",o,w,function(De){De.setAttribute("aUV",2,Y.STATIC_DRAW,0,C),De.setUniform("1i","tex",Ne),Y.bindFramebuffer(Y.FRAMEBUFFER,X),Y.disable(Y.BLEND),Y.colorMask(_e===0,_e===1,_e===2,_e===3),Y.viewport(oe,ie,W,V),Y.scissor(oe,ie,W,V),Y.drawArrays(Y.TRIANGLES,0,3)})}),Y.isContextLost())throw xe(),new Error("webgl context lost")})}function U(W){var V=!W||W===b?M:W.canvas||W,G=R.get(V);if(G===void 0){I=!0;var z=null;try{var ne=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],J=F(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,W);G=J&&ne.length===J.length&&J.every(function($,X){return $===ne[X]}),G||(z="bad trial run results",console.info(ne,J))}catch($){G=!1,z=$.message}z&&console.warn("WebGL SDF generation not supported:",z),I=!1,R.set(V,G)}return G}var q=Object.freeze({__proto__:null,generate:F,generateIntoCanvas:O,generateIntoFramebuffer:L,isSupported:U});function K(W,V,G,z,ne,J){ne===void 0&&(ne=Math.max(z[2]-z[0],z[3]-z[1])/2),J===void 0&&(J=1);try{return F.apply(q,arguments)}catch($){return console.info("WebGL SDF generation failed, falling back to JS",$),p.apply(x,arguments)}}function k(W,V,G,z,ne,J,$,X,oe,ie){ne===void 0&&(ne=Math.max(z[2]-z[0],z[3]-z[1])/2),J===void 0&&(J=1),X===void 0&&(X=0),oe===void 0&&(oe=0),ie===void 0&&(ie=0);try{return O.apply(q,arguments)}catch(_e){return console.info("WebGL SDF generation failed, falling back to JS",_e),y.apply(x,arguments)}}return e.forEachPathCommand=r,e.generate=K,e.generateIntoCanvas=k,e.javascript=x,e.pathToLineSegments=s,e.webgl=q,e.webglUtils=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function cEe(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(n).forEach(function(xe,ke){i[xe]=1<<ke+1,r[i[xe]]=xe}),Object.freeze(i);var s=i.LRI|i.RLI|i.FSI,o=i.L|i.R|i.AL,a=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,l=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,u=i.S|i.WS|i.B|s|i.PDI|l,c=null;function f(){if(!c){c=new Map;var xe=function(Ne){if(n.hasOwnProperty(Ne)){var De=0;n[Ne].split(",").forEach(function(tt){var te=tt.split("+"),H=te[0],fe=te[1];H=parseInt(H,36),fe=fe?parseInt(fe,36):0,c.set(De+=H,i[Ne]);for(var je=0;je<fe;je++)c.set(++De,i[Ne])})}};for(var ke in n)xe(ke)}}function h(xe){return f(),c.get(xe.codePointAt(0))||i.L}function d(xe){return r[h(xe)]}var p={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(xe,ke){var Ne=36,De=0,tt=new Map,te=ke&&new Map,H;return xe.split(",").forEach(function fe(je){if(je.indexOf("+")!==-1)for(var Ue=+je;Ue--;)fe(H);else{H=je;var Pe=je.split(">"),$e=Pe[0],Ke=Pe[1];$e=String.fromCodePoint(De+=parseInt($e,Ne)),Ke=String.fromCodePoint(De+=parseInt(Ke,Ne)),tt.set($e,Ke),ke&&te.set(Ke,$e)}}),{map:tt,reverseMap:te}}var A,g,x;function S(){if(!A){var xe=y(p.pairs,!0),ke=xe.map,Ne=xe.reverseMap;A=ke,g=Ne,x=y(p.canonical,!1).map}}function E(xe){return S(),A.get(xe)||null}function w(xe){return S(),g.get(xe)||null}function C(xe){return S(),x.get(xe)||null}var b=i.L,I=i.R,M=i.EN,R=i.ES,D=i.ET,F=i.AN,O=i.CS,L=i.B,U=i.S,q=i.ON,K=i.BN,k=i.NSM,W=i.AL,V=i.LRO,G=i.RLO,z=i.LRE,ne=i.RLE,J=i.PDF,$=i.LRI,X=i.RLI,oe=i.FSI,ie=i.PDI;function _e(xe,ke){for(var Ne=125,De=new Uint32Array(xe.length),tt=0;tt<xe.length;tt++)De[tt]=h(xe[tt]);var te=new Map;function H(pr,ts){var ki=De[pr];De[pr]=ts,te.set(ki,te.get(ki)-1),ki&a&&te.set(a,te.get(a)-1),te.set(ts,(te.get(ts)||0)+1),ts&a&&te.set(a,(te.get(a)||0)+1)}for(var fe=new Uint8Array(xe.length),je=new Map,Ue=[],Pe=null,$e=0;$e<xe.length;$e++)Pe||Ue.push(Pe={start:$e,end:xe.length-1,level:ke==="rtl"?1:ke==="ltr"?0:yh($e,!1)}),De[$e]&L&&(Pe.end=$e,Pe=null);for(var Ke=ne|z|G|V|s|ie|J|L,we=function(pr){return pr+(pr&1?1:2)},ae=function(pr){return pr+(pr&1?2:1)},Te=0;Te<Ue.length;Te++){Pe=Ue[Te];var Me=[{_level:Pe.level,_override:0,_isolate:0}],Fe=void 0,qe=0,rt=0,ut=0;te.clear();for(var ce=Pe.start;ce<=Pe.end;ce++){var Ce=De[ce];if(Fe=Me[Me.length-1],te.set(Ce,(te.get(Ce)||0)+1),Ce&a&&te.set(a,(te.get(a)||0)+1),Ce&Ke)if(Ce&(ne|z)){fe[ce]=Fe._level;var be=(Ce===ne?ae:we)(Fe._level);be<=Ne&&!qe&&!rt?Me.push({_level:be,_override:0,_isolate:0}):qe||rt++}else if(Ce&(G|V)){fe[ce]=Fe._level;var Ze=(Ce===G?ae:we)(Fe._level);Ze<=Ne&&!qe&&!rt?Me.push({_level:Ze,_override:Ce&G?I:b,_isolate:0}):qe||rt++}else if(Ce&s){Ce&oe&&(Ce=yh(ce+1,!0)===1?X:$),fe[ce]=Fe._level,Fe._override&&H(ce,Fe._override);var lt=(Ce===X?ae:we)(Fe._level);lt<=Ne&&qe===0&&rt===0?(ut++,Me.push({_level:lt,_override:0,_isolate:1,_isolInitIndex:ce})):qe++}else if(Ce&ie){if(qe>0)qe--;else if(ut>0){for(rt=0;!Me[Me.length-1]._isolate;)Me.pop();var Jt=Me[Me.length-1]._isolInitIndex;Jt!=null&&(je.set(Jt,ce),je.set(ce,Jt)),Me.pop(),ut--}Fe=Me[Me.length-1],fe[ce]=Fe._level,Fe._override&&H(ce,Fe._override)}else Ce&J?(qe===0&&(rt>0?rt--:!Fe._isolate&&Me.length>1&&(Me.pop(),Fe=Me[Me.length-1])),fe[ce]=Fe._level):Ce&L&&(fe[ce]=Pe.level);else fe[ce]=Fe._level,Fe._override&&Ce!==K&&H(ce,Fe._override)}for(var an=[],mn=null,En=Pe.start;En<=Pe.end;En++){var wn=De[En];if(!(wn&l)){var xn=fe[En],rn=wn&s,hr=wn===ie;mn&&xn===mn._level?(mn._end=En,mn._endsWithIsolInit=rn):an.push(mn={_start:En,_end:En,_level:xn,_startsWithPDI:hr,_endsWithIsolInit:rn})}}for(var Qi=[],Sn=0;Sn<an.length;Sn++){var Yn=an[Sn];if(!Yn._startsWithPDI||Yn._startsWithPDI&&!je.has(Yn._start)){for(var gi=[mn=Yn],Dn=void 0;mn&&mn._endsWithIsolInit&&(Dn=je.get(mn._end))!=null;)for(var Tt=Sn+1;Tt<an.length;Tt++)if(an[Tt]._start===Dn){gi.push(mn=an[Tt]);break}for(var bi=[],gs=0;gs<gi.length;gs++)for(var Q=gi[gs],B=Q._start;B<=Q._end;B++)bi.push(B);for(var Z=fe[bi[0]],se=Pe.level,re=bi[0]-1;re>=0;re--)if(!(De[re]&l)){se=fe[re];break}var ue=bi[bi.length-1],Be=fe[ue],Le=Pe.level;if(!(De[ue]&s)){for(var ze=ue+1;ze<=Pe.end;ze++)if(!(De[ze]&l)){Le=fe[ze];break}}Qi.push({_seqIndices:bi,_sosType:Math.max(se,Z)%2?I:b,_eosType:Math.max(Le,Be)%2?I:b})}}for(var He=0;He<Qi.length;He++){var Ye=Qi[He],ve=Ye._seqIndices,ht=Ye._sosType,at=Ye._eosType,ot=fe[ve[0]]&1?I:b;if(te.get(k))for(var bt=0;bt<ve.length;bt++){var Lt=ve[bt];if(De[Lt]&k){for(var Mt=ht,ft=bt-1;ft>=0;ft--)if(!(De[ve[ft]]&l)){Mt=De[ve[ft]];break}H(Lt,Mt&(s|ie)?q:Mt)}}if(te.get(M))for(var Ft=0;Ft<ve.length;Ft++){var xt=ve[Ft];if(De[xt]&M)for(var Qt=Ft-1;Qt>=-1;Qt--){var Ln=Qt===-1?ht:De[ve[Qt]];if(Ln&o){Ln===W&&H(xt,F);break}}}if(te.get(W))for(var Ht=0;Ht<ve.length;Ht++){var On=ve[Ht];De[On]&W&&H(On,I)}if(te.get(R)||te.get(O))for(var gn=1;gn<ve.length-1;gn++){var kn=ve[gn];if(De[kn]&(R|O)){for(var Kn=0,Wt=0,Jn=gn-1;Jn>=0&&(Kn=De[ve[Jn]],!!(Kn&l));Jn--);for(var bn=gn+1;bn<ve.length&&(Wt=De[ve[bn]],!!(Wt&l));bn++);Kn===Wt&&(De[kn]===R?Kn===M:Kn&(M|F))&&H(kn,Kn)}}if(te.get(M))for(var Zt=0;Zt<ve.length;Zt++){var ei=ve[Zt];if(De[ei]&M){for(var vs=Zt-1;vs>=0&&De[ve[vs]]&(D|l);vs--)H(ve[vs],M);for(Zt++;Zt<ve.length&&De[ve[Zt]]&(D|l|M);Zt++)De[ve[Zt]]!==M&&H(ve[Zt],M)}}if(te.get(D)||te.get(R)||te.get(O))for(var Ui=0;Ui<ve.length;Ui++){var Us=ve[Ui];if(De[Us]&(D|R|O)){H(Us,q);for(var Al=Ui-1;Al>=0&&De[ve[Al]]&l;Al--)H(ve[Al],q);for(var yl=Ui+1;yl<ve.length&&De[ve[yl]]&l;yl++)H(ve[yl],q)}}if(te.get(M))for(var xl=0,Oc=ht;xl<ve.length;xl++){var v2=ve[xl],kp=De[v2];kp&M?Oc===b&&H(v2,b):kp&o&&(Oc=kp)}if(te.get(a)){var Sl=I|M|F,gh=Sl|b,Da=[];{for(var gu=[],La=0;La<ve.length;La++)if(De[ve[La]]&a){var vn=xe[ve[La]],Np=void 0;if(E(vn)!==null)if(gu.length<63)gu.push({char:vn,seqIndex:La});else break;else if((Np=w(vn))!==null)for(var El=gu.length-1;El>=0;El--){var vh=gu[El].char;if(vh===Np||vh===w(C(vn))||E(C(vh))===vn){Da.push([gu[El].seqIndex,La]),gu.length=El;break}}}Da.sort(function(pr,ts){return pr[0]-ts[0]})}for(var Gp=0;Gp<Da.length;Gp++){for(var A2=Da[Gp],vi=A2[0],Fc=A2[1],y2=!1,Zr=0,zp=vi+1;zp<Fc;zp++){var Uc=ve[zp];if(De[Uc]&gh){y2=!0;var ks=De[Uc]&Sl?I:b;if(ks===ot){Zr=ks;break}}}if(y2&&!Zr){Zr=ht;for(var Hp=vi-1;Hp>=0;Hp--){var x2=ve[Hp];if(De[x2]&gh){var Ns=De[x2]&Sl?I:b;Ns!==ot?Zr=Ns:Zr=ot;break}}}if(Zr){if(De[ve[vi]]=De[ve[Fc]]=Zr,Zr!==ot){for(var $r=vi+1;$r<ve.length;$r++)if(!(De[ve[$r]]&l)){h(xe[ve[$r]])&k&&(De[ve[$r]]=Zr);break}}if(Zr!==ot){for(var Oa=Fc+1;Oa<ve.length;Oa++)if(!(De[ve[Oa]]&l)){h(xe[ve[Oa]])&k&&(De[ve[Oa]]=Zr);break}}}}for(var ho=0;ho<ve.length;ho++)if(De[ve[ho]]&a){for(var Vp=ho,Qp=ho,As=ht,kc=ho-1;kc>=0;kc--)if(De[ve[kc]]&l)Vp=kc;else{As=De[ve[kc]]&Sl?I:b;break}for(var Nc=at,Gc=ho+1;Gc<ve.length;Gc++)if(De[ve[Gc]]&(a|l))Qp=Gc;else{Nc=De[ve[Gc]]&Sl?I:b;break}for(var es=Vp;es<=Qp;es++)De[ve[es]]=As===Nc?As:ot;ho=Qp}}}for(var dr=Pe.start;dr<=Pe.end;dr++){var Ah=fe[dr],qo=De[dr];if(Ah&1?qo&(b|M|F)&&fe[dr]++:qo&I?fe[dr]++:qo&(F|M)&&(fe[dr]+=2),qo&l&&(fe[dr]=dr===0?Pe.level:fe[dr-1]),dr===Pe.end||h(xe[dr])&(U|L))for(var vu=dr;vu>=0&&h(xe[vu])&u;vu--)fe[vu]=Pe.level}}return{levels:fe,paragraphs:Ue};function yh(pr,ts){for(var ki=pr;ki<xe.length;ki++){var Ni=De[ki];if(Ni&(I|W))return 1;if(Ni&(L|b)||ts&&Ni===ie)return 0;if(Ni&s){var Gs=S2(ki);ki=Gs===-1?xe.length:Gs}}return 0}function S2(pr){for(var ts=1,ki=pr+1;ki<xe.length;ki++){var Ni=De[ki];if(Ni&L)break;if(Ni&ie){if(--ts===0)return ki}else Ni&s&&ts++}return-1}}var Re="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",pe;function Y(){if(!pe){var xe=y(Re,!0),ke=xe.map,Ne=xe.reverseMap;Ne.forEach(function(De,tt){ke.set(tt,De)}),pe=ke}}function me(xe){return Y(),pe.get(xe)||null}function ge(xe,ke,Ne,De){var tt=xe.length;Ne=Math.max(0,Ne==null?0:+Ne),De=Math.min(tt-1,De==null?tt-1:+De);for(var te=new Map,H=Ne;H<=De;H++)if(ke[H]&1){var fe=me(xe[H]);fe!==null&&te.set(H,fe)}return te}function de(xe,ke,Ne,De){var tt=xe.length;Ne=Math.max(0,Ne==null?0:+Ne),De=Math.min(tt-1,De==null?tt-1:+De);var te=[];return ke.paragraphs.forEach(function(H){var fe=Math.max(Ne,H.start),je=Math.min(De,H.end);if(fe<je){for(var Ue=ke.levels.slice(fe,je+1),Pe=je;Pe>=fe&&h(xe[Pe])&u;Pe--)Ue[Pe]=H.level;for(var $e=H.level,Ke=1/0,we=0;we<Ue.length;we++){var ae=Ue[we];ae>$e&&($e=ae),ae<Ke&&(Ke=ae|1)}for(var Te=$e;Te>=Ke;Te--)for(var Me=0;Me<Ue.length;Me++)if(Ue[Me]>=Te){for(var Fe=Me;Me+1<Ue.length&&Ue[Me+1]>=Te;)Me++;Me>Fe&&te.push([Fe+fe,Me+fe])}}}),te}function Se(xe,ke,Ne,De){var tt=Qe(xe,ke,Ne,De),te=[].concat(xe);return tt.forEach(function(H,fe){te[fe]=(ke.levels[H]&1?me(xe[H]):null)||xe[H]}),te.join("")}function Qe(xe,ke,Ne,De){for(var tt=de(xe,ke,Ne,De),te=[],H=0;H<xe.length;H++)te[H]=H;return tt.forEach(function(fe){for(var je=fe[0],Ue=fe[1],Pe=te.slice(je,Ue+1),$e=Pe.length;$e--;)te[Ue-$e]=Pe[$e]}),te}return e.closingToOpeningBracket=w,e.getBidiCharType=h,e.getBidiCharTypeName=d,e.getCanonicalBracket=C,e.getEmbeddingLevels=_e,e.getMirroredCharacter=me,e.getMirroredCharactersMap=ge,e.getReorderSegments=de,e.getReorderedIndices=Qe,e.getReorderedString=Se,e.openingToClosingBracket=E,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const YK=/\bvoid\s+main\s*\(\s*\)\s*{/g;function UT(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(i,r){let s=Ot[r];return s?UT(s):i}return t.replace(e,n)}const Ir=[];for(let t=0;t<256;t++)Ir[t]=(t<16?"0":"")+t.toString(16);function fEe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ir[t&255]+Ir[t>>8&255]+Ir[t>>16&255]+Ir[t>>24&255]+"-"+Ir[e&255]+Ir[e>>8&255]+"-"+Ir[e>>16&15|64]+Ir[e>>24&255]+"-"+Ir[n&63|128]+Ir[n>>8&255]+"-"+Ir[n>>16&255]+Ir[n>>24&255]+Ir[i&255]+Ir[i>>8&255]+Ir[i>>16&255]+Ir[i>>24&255]).toUpperCase()}const cf=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},hEe=Date.now(),nU=new WeakMap,iU=new Map;let dEe=1e10;function kT(t,e){const n=vEe(e);let i=nU.get(t);if(i||nU.set(t,i=Object.create(null)),i[n])return new i[n];const r=`_onBeforeCompile${n}`,s=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=iU[f];if(!h){const d=pEe(this,u,e,n);h=iU[f]=d}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,cf(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-hEe}}),this[r]&&this[r](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:dEe++}),c.uuid=fEe(),c.uniforms=cf({},u.uniforms,e.uniforms),c.defines=cf({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=cf({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[r]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(cf(this.extensions,u.extensions),cf(this.defines,u.defines),cf(this.uniforms,$n.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=kT(t.isDerivedMaterial?t.getDepthMaterial():new oh({depthPacking:zo}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=kT(t.isDerivedMaterial?t.getDistanceMaterial():new I6,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return i[n]=o,new o}function pEe(t,{vertexShader:e,fragmentShader:n},i,r){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:d,timeUniform:p}=i;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",f=f||"",(l||d)&&(e=UT(e)),(h||d)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=UT(n)),d){let y=d({vertexShader:e,fragmentShader:n});e=y.vertexShader,n=y.fragmentShader}if(h){let y=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,A=>(y.push(A),"")),f=`${h}
${y.join(`
`)}
${f}`}if(p){const y=`
uniform float ${p};
`;s=y+s,u=y+u}return l&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,s=`${s}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,A,g,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,g))?A:`troika_${A}_${r}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=rU(e,r,s,o,a),n=rU(n,r,u,c,f),{vertexShader:e,fragmentShader:n}}function rU(t,e,n,i,r){return(i||r||n)&&(t=t.replace(YK,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),t}function mEe(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let gEe=0;const sU=new Map;function vEe(t){const e=JSON.stringify(t,mEe);let n=sU.get(e);return n==null&&sU.set(e,n=++gEe),n}function AEe(t,e,n){const{defaultFontURL:i}=n,r=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u(x,S){function E(){const w=C=>{console.error(`Failure loading font ${x}${x===i?"":"; trying fallback"}`,C),x!==i&&(x=i,E())};try{const C=new XMLHttpRequest;C.open("get",x,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status>=400)w(new Error(C.statusText));else if(C.status>0)try{const b=t(C.response);S(b)}catch(b){w(b)}},C.onerror=w,C.send()}catch(C){w(C)}}E()}function c(x,S){x||(x=i);let E=r[x];E?E.pending?E.pending.push(S):S(E):(r[x]={pending:[S]},u(x,w=>{let C=r[x].pending;r[x]=w,C.forEach(b=>b(w))}))}function f({text:x="",font:S=i,sdfGlyphSize:E=64,fontSize:w=1,letterSpacing:C=0,lineHeight:b="normal",maxWidth:I=s,direction:M,textAlign:R="left",textIndent:D=0,whiteSpace:F="normal",overflowWrap:O="normal",anchorX:L=0,anchorY:U=0,includeCaretPositions:q=!1,chunkedBoundsSize:K=8192,colorRanges:k=null},W,V=!1){const G=y(),z={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,C=+C,I=+I,b=b||"normal",D=+D,c(S,ne=>{const J=isFinite(I);let $=null,X=null,oe=null,ie=null,_e=null,Re=null,pe=null,Y=0,me=0,ge=F!=="nowrap";const{ascender:de,descender:Se,unitsPerEm:Qe,lineGap:xe,capHeight:ke,xHeight:Ne}=ne;z.fontLoad=y()-G;const De=y(),tt=w/Qe;b==="normal"&&(b=(de-Se+xe)/Qe),b=b*w;const te=(b-(de-Se)*tt)/2,H=-(de*tt+te),fe=Math.min(b,(de-Se)*tt),je=(de+Se)/2*tt-fe/2;let Ue=D,Pe=new A;const $e=[Pe];ne.forEachGlyph(x,w,C,(ae,Te,Me)=>{const Fe=x.charAt(Me),qe=ae.advanceWidth*tt,rt=Pe.count;let ut;if("isEmpty"in ae||(ae.isWhitespace=!!Fe&&new RegExp(a).test(Fe),ae.canBreakAfter=!!Fe&&l.test(Fe),ae.isEmpty=ae.xMin===ae.xMax||ae.yMin===ae.yMax||o.test(Fe)),!ae.isWhitespace&&!ae.isEmpty&&me++,ge&&J&&!ae.isWhitespace&&Te+qe+Ue>I&&rt){if(Pe.glyphAt(rt-1).glyphObj.canBreakAfter)ut=new A,Ue=-Te;else for(let Ce=rt;Ce--;)if(Ce===0&&O==="break-word"){ut=new A,Ue=-Te;break}else if(Pe.glyphAt(Ce).glyphObj.canBreakAfter){ut=Pe.splitAt(Ce+1);const be=ut.glyphAt(0).x;Ue-=be;for(let Ze=ut.count;Ze--;)ut.glyphAt(Ze).x-=be;break}ut&&(Pe.isSoftWrapped=!0,Pe=ut,$e.push(Pe),Y=I)}let ce=Pe.glyphAt(Pe.count);ce.glyphObj=ae,ce.x=Te+Ue,ce.width=qe,ce.charIndex=Me,Fe===`
`&&(Pe=new A,$e.push(Pe),Ue=-(Te+qe+C*w)+D)}),$e.forEach(ae=>{for(let Te=ae.count;Te--;){let{glyphObj:Me,x:Fe,width:qe}=ae.glyphAt(Te);if(!Me.isWhitespace){ae.width=Fe+qe,ae.width>Y&&(Y=ae.width);return}}});let Ke=0,we=0;if(L&&(typeof L=="number"?Ke=-L:typeof L=="string"&&(Ke=-Y*(L==="left"?0:L==="center"?.5:L==="right"?1:d(L)))),U){if(typeof U=="number")we=-U;else if(typeof U=="string"){let ae=$e.length*b;we=U==="top"?0:U==="top-baseline"?-H:U==="top-cap"?-H-ke*tt:U==="top-ex"?-H-Ne*tt:U==="middle"?ae/2:U==="bottom"?ae:U==="bottom-baseline"?ae-te+Se*tt:d(U)*ae}}if(!V){const ae=e.getEmbeddingLevels(x,M);$=new Uint16Array(me),X=new Float32Array(me*2),oe={},Re=[s,s,-s,-s],pe=[];let Te=H;q&&(_e=new Float32Array(x.length*3)),k&&(ie=new Uint8Array(me*3));let Me=0,Fe=-1,qe=-1,rt,ut;if($e.forEach((ce,Ce)=>{let{count:be,width:Ze}=ce;if(be>0){let lt=0;for(let xn=be;xn--&&ce.glyphAt(xn).glyphObj.isWhitespace;)lt++;let Jt=0,an=0;if(R==="center")Jt=(Y-Ze)/2;else if(R==="right")Jt=Y-Ze;else if(R==="justify"&&ce.isSoftWrapped){let xn=0;for(let rn=be-lt;rn--;)ce.glyphAt(rn).glyphObj.isWhitespace&&xn++;an=(Y-Ze)/xn}if(an||Jt){let xn=0;for(let rn=0;rn<be;rn++){let hr=ce.glyphAt(rn);const Qi=hr.glyphObj;hr.x+=Jt+xn,an!==0&&Qi.isWhitespace&&rn<be-lt&&(xn+=an,hr.width+=an)}}const mn=e.getReorderSegments(x,ae,ce.glyphAt(0).charIndex,ce.glyphAt(ce.count-1).charIndex);for(let xn=0;xn<mn.length;xn++){const[rn,hr]=mn[xn];let Qi=1/0,Sn=-1/0;for(let Yn=0;Yn<be;Yn++)if(ce.glyphAt(Yn).charIndex>=rn){let gi=Yn,Dn=Yn;for(;Dn<be;Dn++){let Tt=ce.glyphAt(Dn);if(Tt.charIndex>hr)break;Dn<be-lt&&(Qi=Math.min(Qi,Tt.x),Sn=Math.max(Sn,Tt.x+Tt.width))}for(let Tt=gi;Tt<Dn;Tt++){const bi=ce.glyphAt(Tt);bi.x=Sn-(bi.x+bi.width-Qi)}break}}let En;const wn=xn=>En=xn;for(let xn=0;xn<be;xn++){let rn=ce.glyphAt(xn);En=rn.glyphObj;const hr=En.index,Qi=ae.levels[rn.charIndex]&1;if(Qi){const Sn=e.getMirroredCharacter(x[rn.charIndex]);Sn&&ne.forEachGlyph(Sn,0,0,wn)}if(q){const{charIndex:Sn}=rn,Yn=rn.x+Ke,gi=rn.x+rn.width+Ke;_e[Sn*3]=Qi?gi:Yn,_e[Sn*3+1]=Qi?Yn:gi,_e[Sn*3+2]=Te+je+we;const Dn=Sn-Fe;Dn>1&&p(_e,Fe,Dn),Fe=Sn}if(k){const{charIndex:Sn}=rn;for(;Sn>qe;)qe++,k.hasOwnProperty(qe)&&(ut=k[qe])}if(!En.isWhitespace&&!En.isEmpty){const Sn=Me++;oe[hr]||(oe[hr]={path:En.path,pathBounds:[En.xMin,En.yMin,En.xMax,En.yMax]});const Yn=rn.x+Ke,gi=Te+we;X[Sn*2]=Yn,X[Sn*2+1]=gi;const Dn=Yn+En.xMin*tt,Tt=gi+En.yMin*tt,bi=Yn+En.xMax*tt,gs=gi+En.yMax*tt;Dn<Re[0]&&(Re[0]=Dn),Tt<Re[1]&&(Re[1]=Tt),bi>Re[2]&&(Re[2]=bi),gs>Re[3]&&(Re[3]=gs),Sn%K===0&&(rt={start:Sn,end:Sn,rect:[s,s,-s,-s]},pe.push(rt)),rt.end++;const Q=rt.rect;if(Dn<Q[0]&&(Q[0]=Dn),Tt<Q[1]&&(Q[1]=Tt),bi>Q[2]&&(Q[2]=bi),gs>Q[3]&&(Q[3]=gs),$[Sn]=hr,k){const B=Sn*3;ie[B]=ut>>16&255,ie[B+1]=ut>>8&255,ie[B+2]=ut&255}}}}Te-=b}),_e){const ce=x.length-Fe;ce>1&&p(_e,Fe,ce)}}z.typesetting=y()-De,W({glyphIds:$,glyphPositions:X,glyphData:oe,caretPositions:_e,caretHeight:fe,glyphColors:ie,chunkedBounds:pe,fontSize:w,unitsPerEm:Qe,ascender:de*tt,descender:Se*tt,capHeight:ke*tt,xHeight:Ne*tt,lineHeight:b,topBaseline:H,blockBounds:[Ke,we-$e.length*b,Ke+Y,we],visibleBounds:Re,timings:z})})}function h(x,S){f(x,E=>{const[w,C,b,I]=E.blockBounds;S({width:b-w,height:I-C})},{metricsOnly:!0})}function d(x){let S=x.match(/^([\d.]+)%$/),E=S?parseFloat(S[1]):NaN;return isNaN(E)?0:E/100}function p(x,S,E){const w=x[S*3],C=x[S*3+1],b=x[S*3+2],I=(C-w)/E;for(let M=0;M<E;M++){const R=(S+M)*3;x[R]=w+I*M,x[R+1]=w+I*(M+1),x[R+2]=b}}function y(){return(self.performance||Date).now()}function A(){this.data=[]}const g=["glyphObj","x","width","charIndex"];return A.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/g.length)},glyphAt(x){let S=A.flyweight;return S.data=this.data,S.index=x,S},splitAt(x){let S=new A;return S.data=this.data.splice(x*g.length),S}},A.flyweight=g.reduce((x,S,E,w)=>(Object.defineProperty(x,S,{get(){return this.data[this.index*g.length+E]},set(C){this.data[this.index*g.length+E]=C}}),x),{data:null,index:0}),{typeset:f,measure:h,loadFont:c}}const Vf=()=>(self.performance||Date).now(),TE=XK();let oU;function yEe(t,e,n,i,r,s,o,a,l,u,c=!0){return c?SEe(t,e,n,i,r,s,o,a,l,u).then(null,f=>(oU||(console.warn("WebGL SDF generation failed, falling back to JS",f),oU=!0),lU(t,e,n,i,r,s,o,a,l,u))):lU(t,e,n,i,r,s,o,a,l,u)}const Mx=[],xEe=5;let NT=0;function KK(){const t=Vf();for(;Mx.length&&Vf()-t<xEe;)Mx.shift()();NT=Mx.length?setTimeout(KK,0):0}const SEe=(...t)=>new Promise((e,n)=>{Mx.push(()=>{const i=Vf();try{TE.webgl.generateIntoCanvas(...t),e({timing:Vf()-i})}catch(r){n(r)}}),NT||(NT=setTimeout(KK,0))}),EEe=4,wEe=2e3,aU={};let _Ee=0;function lU(t,e,n,i,r,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+_Ee++%EEe;let f=aU[c];return f||(f=aU[c]={workerModule:f2({name:c,workerId:c,dependencies:[XK,Vf],init(h,d){const p=h().javascript.generate;return function(...y){const A=d();return{textureData:p(...y),timing:d()-A}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,i,r,s).then(({textureData:h,timing:d})=>{const p=Vf(),y=new Uint8Array(h.length*4);for(let A=0;A<h.length;A++)y[A*4+u]=h[A];return TE.webglUtils.renderImageData(o,y,a,l,t,e,1<<3-u),d+=Vf()-p,--f.requests===0&&(f.idleTimer=setTimeout(()=>{lEe(c)},wEe)),{timing:d}})}function CEe(t){t._warm||(TE.webgl.isSupported(t),t._warm=!0)}const bEe=TE.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function TEe(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(r){var s=e._bin,o=new Uint8Array(r);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var f=s.readUint(o,a);a+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(r,s){var o=e._bin,a=s;o.readFixed(r,s),s+=4;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:r,_offset:a},f={},h=0;h<l;h++){var d=o.readASCII(r,s,4);s+=4,o.readUint(r,s),s+=4;var p=o.readUint(r,s);s+=4;var y=o.readUint(r,s);s+=4,f[d]={offset:p,length:y}}for(h=0;h<u.length;h++){var A=u[h];f[A]&&(c[A.trim()]=e[A.trim()].parse(r,f[A].offset,f[A].length,c))}return c},_tabOffset:function(r,s,o){for(var a=e._bin,l=a.readUshort(r,o+4),u=o+12,c=0;c<l;c++){var f=a.readASCII(r,u,4);u+=4,a.readUint(r,u),u+=4;var h=a.readUint(r,u);if(u+=4,a.readUint(r,u),u+=4,f==s)return h}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(r,s+2*l));return a},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(r[s+l]);return a},readUnicode:function(r,s,o){for(var a="",l=0;l<o;l++){var u=r[s++]<<8|r[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,o){var a=e._bin._tdec;return a&&s==0&&o==r.length?a.decode(r):e._bin.readASCII(r,s,o)},readBytes:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(r[s+l]);return a},readASCIIArray:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(r[s+l]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,o,a,l){var u=e._bin,c={},f=s;u.readFixed(r,s),s+=4;var h=u.readUshort(r,s);s+=2;var d=u.readUshort(r,s);s+=2;var p=u.readUshort(r,s);return s+=2,c.scriptList=e._lctf.readScriptList(r,f+h),c.featureList=e._lctf.readFeatureList(r,f+d),c.lookupList=e._lctf.readLookupList(r,f+p,l),c},e._lctf.readLookupList=function(r,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(r,s);s+=2;for(var f=0;f<c;f++){var h=a.readUshort(r,s);s+=2;var d=e._lctf.readLookupTable(r,l+h,o);u.push(d)}return u},e._lctf.readLookupTable=function(r,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(r,s),s+=2,u.flag=a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2;for(var f=u.ltype,h=0;h<c;h++){var d=a.readUshort(r,s);s+=2;var p=o(r,f,l+d,u);u.tabs.push(p)}return u},e._lctf.numOfOnes=function(r){for(var s=0,o=0;o<32;o++)r>>>o&1&&s++;return s},e._lctf.readClassDef=function(r,s){var o=e._bin,a=[],l=o.readUshort(r,s);if(s+=2,l==1){var u=o.readUshort(r,s);s+=2;var c=o.readUshort(r,s);s+=2;for(var f=0;f<c;f++)a.push(u+f),a.push(u+f),a.push(o.readUshort(r,s)),s+=2}if(l==2){var h=o.readUshort(r,s);for(s+=2,f=0;f<h;f++)a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2}return a},e._lctf.getInterval=function(r,s){for(var o=0;o<r.length;o+=3){var a=r[o],l=r[o+1];if(r[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(r,s){var o=e._bin,a={};a.fmt=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(r,s,l)),a.fmt==2&&(a.tab=o.readUshorts(r,s,3*l)),a},e._lctf.coverageIndex=function(r,s){var o=r.tab;if(r.fmt==1)return o.indexOf(s);if(r.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(r,s){var o=e._bin,a=s,l=[],u=o.readUshort(r,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(r,s,4);s+=4;var h=o.readUshort(r,s);s+=2;var d=e._lctf.readFeatureTable(r,a+h);d.tag=f.trim(),l.push(d)}return l},e._lctf.readFeatureTable=function(r,s){var o=e._bin,a=s,l={},u=o.readUshort(r,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(r,s);s+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(r,s+2*f));return l},e._lctf.readScriptList=function(r,s){var o=e._bin,a=s,l={},u=o.readUshort(r,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(r,s,4);s+=4;var h=o.readUshort(r,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(r,a+h)}return l},e._lctf.readScriptTable=function(r,s){var o=e._bin,a=s,l={},u=o.readUshort(r,s);s+=2,l.default=e._lctf.readLangSysTable(r,a+u);var c=o.readUshort(r,s);s+=2;for(var f=0;f<c;f++){var h=o.readASCII(r,s,4);s+=4;var d=o.readUshort(r,s);s+=2,l[h.trim()]=e._lctf.readLangSysTable(r,a+d)}return l},e._lctf.readLangSysTable=function(r,s){var o=e._bin,a={};o.readUshort(r,s),s+=2,a.reqFeature=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.features=o.readUshorts(r,s,l),a},e.CFF={},e.CFF.parse=function(r,s,o){var a=e._bin;(r=new Uint8Array(r.buffer,s,o))[s=0],r[++s],r[++s],r[++s],s++;var l=[];s=e.CFF.readIndex(r,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(r,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(r,s,f);var h=[];for(c=0;c<f.length-1;c++)h.push(e.CFF.readDict(r,s+f[c],s+f[c+1]));s+=f[f.length-1];var d=h[0],p=[];s=e.CFF.readIndex(r,s,p);var y=[];for(c=0;c<p.length-1;c++)y.push(a.readASCII(r,s+p[c],p[c+1]-p[c]));if(s+=p[p.length-1],e.CFF.readSubrs(r,s,d),d.CharStrings){s=d.CharStrings,p=[],s=e.CFF.readIndex(r,s,p);var A=[];for(c=0;c<p.length-1;c++)A.push(a.readBytes(r,s+p[c],p[c+1]-p[c]));d.CharStrings=A}if(d.ROS){s=d.FDArray;var g=[];for(s=e.CFF.readIndex(r,s,g),d.FDArray=[],c=0;c<g.length-1;c++){var x=e.CFF.readDict(r,s+g[c],s+g[c+1]);e.CFF._readFDict(r,x,y),d.FDArray.push(x)}s+=g[g.length-1],s=d.FDSelect,d.FDSelect=[];var S=r[s];if(s++,S!=3)throw S;var E=a.readUshort(r,s);for(s+=2,c=0;c<E+1;c++)d.FDSelect.push(a.readUshort(r,s),r[s+2]),s+=3}return d.Encoding&&(d.Encoding=e.CFF.readEncoding(r,d.Encoding,d.CharStrings.length)),d.charset&&(d.charset=e.CFF.readCharset(r,d.charset,d.CharStrings.length)),e.CFF._readFDict(r,d,y),d},e.CFF._readFDict=function(r,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(r,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(r,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(r,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(r,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var o=0;o<r.charset.length;o++)if(r.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,o){e._bin;var a=[".notdef"],l=r[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=r[s];s++;for(var c=0;c<u;c++)a.push(r[s+c]);return a},e.CFF.readCharset=function(r,s,o){var a=e._bin,l=[".notdef"],u=r[s];if(s++,u==0)for(var c=0;c<o;c++){var f=a.readUshort(r,s);s+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=a.readUshort(r,s),s+=2;var h=0;for(u==1?(h=r[s],s++):(h=a.readUshort(r,s),s+=2),c=0;c<=h;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(r,s,o){var a=e._bin,l=a.readUshort(r,s)+1,u=r[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(r[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(r,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(r,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(r,s,o){var a=e._bin,l=r[s],u=r[s+1];r[s+2],r[s+3],r[s+4];var c=1,f=null,h=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(h=a.readShort(r,s+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=a.readInt(r,s+1)/65535,c=5),o.val=h??"o"+f,o.size=c},e.CFF.readCharString=function(r,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=r[s],f=r[s+1];r[s+2],r[s+3],r[s+4];var h=1,d=null,p=null;c<=20&&(d=c,h=1),c==12&&(d=100*c+f,h=2),c!=19&&c!=20||(d=c,h=2),21<=c&&c<=27&&(d=c,h=1),c==28&&(p=l.readShort(r,s+1),h=3),29<=c&&c<=31&&(d=c,h=1),32<=c&&c<=246&&(p=c-139,h=1),247<=c&&c<=250&&(p=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(p=256*-(c-251)-f-108,h=2),c==255&&(p=l.readInt(r,s+1)/65535,h=5),u.push(p??"o"+d),s+=h}return u},e.CFF.readDict=function(r,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=r[s],f=r[s+1];r[s+2],r[s+3],r[s+4];var h=1,d=null,p=null;if(c==28&&(p=a.readShort(r,s+1),h=3),c==29&&(p=a.readInt(r,s+1),h=5),32<=c&&c<=246&&(p=c-139,h=1),247<=c&&c<=250&&(p=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(p=256*-(c-251)-f-108,h=2),c==255)throw p=a.readInt(r,s+1)/65535,h=5,"unknown number";if(c==30){var y=[];for(h=1;;){var A=r[s+h];h++;var g=A>>4,x=15&A;if(g!=15&&y.push(g),x!=15&&y.push(x),x==15)break}for(var S="",E=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],w=0;w<y.length;w++)S+=E[y[w]];p=parseFloat(S)}c<=21&&(d=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(d=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),d!=null?(l[d]=u.length==1?u[0]:u,u=[]):u.push(p),s+=h}return l},e.cmap={},e.cmap.parse=function(r,s,o){r=new Uint8Array(r.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(r,s),s+=2;var u=a.readUshort(r,s);s+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var h=a.readUshort(r,s);s+=2;var d=a.readUshort(r,s);s+=2;var p=a.readUint(r,s);s+=4;var y="p"+h+"e"+d,A=c.indexOf(p);if(A==-1){var g;A=l.tables.length,c.push(p);var x=a.readUshort(r,p);x==0?g=e.cmap.parse0(r,p):x==4?g=e.cmap.parse4(r,p):x==6?g=e.cmap.parse6(r,p):x==12?g=e.cmap.parse12(r,p):console.debug("unknown format: "+x,h,d,p),l.tables.push(g)}if(l[y]!=null)throw"multiple tables for one platform+encoding";l[y]=A}return l},e.cmap.parse0=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(r[s+u]);return a},e.cmap.parse4=function(r,s){var o=e._bin,a=s,l={};l.format=o.readUshort(r,s),s+=2;var u=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2;var c=o.readUshort(r,s);s+=2;var f=c/2;l.searchRange=o.readUshort(r,s),s+=2,l.entrySelector=o.readUshort(r,s),s+=2,l.rangeShift=o.readUshort(r,s),s+=2,l.endCount=o.readUshorts(r,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(r,s,f),s+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(o.readShort(r,s)),s+=2;for(l.idRangeOffset=o.readUshorts(r,s,f),s+=2*f,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(r,s)),s+=2;return l},e.cmap.parse6=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,a.firstCode=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(r,s)),s+=2;return a},e.cmap.parse12=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,s+=2,o.readUint(r,s),s+=4,o.readUint(r,s),s+=4;var l=o.readUint(r,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,f=o.readUint(r,c+0),h=o.readUint(r,c+4),d=o.readUint(r,c+8);a.groups.push([f,h,d])}return a},e.glyf={},e.glyf.parse=function(r,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(r,s){var o=e._bin,a=r._data,l=e._tabOffset(a,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;u.instructions=o.readBytes(a,l,f),l+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var d=a[l];if(l++,u.flags.push(d),(8&d)!=0){var p=a[l];l++;for(var y=0;y<p;y++)u.flags.push(d),c++}}for(u.xs=[],c=0;c<h;c++){var A=(2&u.flags[c])!=0,g=(16&u.flags[c])!=0;A?(u.xs.push(g?a[l]:-a[l]),l++):g?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)A=(4&u.flags[c])!=0,g=(32&u.flags[c])!=0,A?(u.ys.push(g?a[l]:-a[l]),l++):g?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var x=0,S=0;for(c=0;c<h;c++)x+=u.xs[c],S+=u.ys[c],u.xs[c]=x,u.ys[c]=S}else{var E;u.parts=[];do{E=o.readUshort(a,l),l+=2;var w={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(w),w.glyphIndex=o.readUshort(a,l),l+=2,1&E){var C=o.readShort(a,l);l+=2;var b=o.readShort(a,l);l+=2}else C=o.readInt8(a,l),l++,b=o.readInt8(a,l),l++;2&E?(w.m.tx=C,w.m.ty=b):(w.p1=C,w.p2=b),8&E?(w.m.a=w.m.d=o.readF2dot14(a,l),l+=2):64&E?(w.m.a=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2):128&E&&(w.m.a=o.readF2dot14(a,l),l+=2,w.m.b=o.readF2dot14(a,l),l+=2,w.m.c=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2)}while(32&E);if(256&E){var I=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<I;c++)u.instr.push(a[l]),l++}}return u},e.GPOS={},e.GPOS.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(r,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(r,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var f=l.readUshort(r,o);o+=2,c.coverage=e._lctf.readCoverage(r,f+u)}if(s==1&&c.fmt==1){var h=l.readUshort(r,o);o+=2;var d=e._lctf.numOfOnes(h);h!=0&&(c.pos=e.GPOS.readValueRecord(r,o,h))}else if(s==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(r,o),o+=2;var p=l.readUshort(r,o);o+=2,d=e._lctf.numOfOnes(h);var y=e._lctf.numOfOnes(p);if(c.fmt==1){c.pairsets=[];var A=l.readUshort(r,o);o+=2;for(var g=0;g<A;g++){var x=u+l.readUshort(r,o);o+=2;var S=l.readUshort(r,x);x+=2;for(var E=[],w=0;w<S;w++){var C=l.readUshort(r,x);x+=2,h!=0&&(F=e.GPOS.readValueRecord(r,x,h),x+=2*d),p!=0&&(O=e.GPOS.readValueRecord(r,x,p),x+=2*y),E.push({gid2:C,val1:F,val2:O})}c.pairsets.push(E)}}if(c.fmt==2){var b=l.readUshort(r,o);o+=2;var I=l.readUshort(r,o);o+=2;var M=l.readUshort(r,o);o+=2;var R=l.readUshort(r,o);for(o+=2,c.classDef1=e._lctf.readClassDef(r,u+b),c.classDef2=e._lctf.readClassDef(r,u+I),c.matrix=[],g=0;g<M;g++){var D=[];for(w=0;w<R;w++){var F=null,O=null;h!=0&&(F=e.GPOS.readValueRecord(r,o,h),o+=2*d),p!=0&&(O=e.GPOS.readValueRecord(r,o,p),o+=2*y),D.push({val1:F,val2:O})}c.matrix.push(D)}}}else{if(s==9&&c.fmt==1){var L=l.readUshort(r,o);o+=2;var U=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=L;else if(a.ltype!=L)throw"invalid extension substitution";return e.GPOS.subt(r,a.ltype,u+U)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(r,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(r,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(r,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(r,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(r,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(r,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(r,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var f=l.readUshort(r,o);o+=2,c.coverage=e._lctf.readCoverage(r,u+f)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(r,o),o+=2;else if(c.fmt==2){var h=l.readUshort(r,o);o+=2,c.newg=l.readUshorts(r,o,h),o+=2*c.newg.length}}else if(s==4){c.vals=[],h=l.readUshort(r,o),o+=2;for(var d=0;d<h;d++){var p=l.readUshort(r,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(r,u+p))}}else if(s==5&&c.fmt==2){if(c.fmt==2){var y=l.readUshort(r,o);o+=2,c.cDef=e._lctf.readClassDef(r,u+y),c.scset=[];var A=l.readUshort(r,o);for(o+=2,d=0;d<A;d++){var g=l.readUshort(r,o);o+=2,c.scset.push(g==0?null:e.GSUB.readSubClassSet(r,u+g))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(d=0;d<3;d++){h=l.readUshort(r,o),o+=2;for(var x=[],S=0;S<h;S++)x.push(e._lctf.readCoverage(r,u+l.readUshort(r,o+2*S)));o+=2*h,d==0&&(c.backCvg=x),d==1&&(c.inptCvg=x),d==2&&(c.ahedCvg=x)}h=l.readUshort(r,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(r,o,h)}}else{if(s==7&&c.fmt==1){var E=l.readUshort(r,o);o+=2;var w=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=E;else if(a.ltype!=E)throw"invalid extension substitution";return e.GSUB.subt(r,a.ltype,u+w)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(r,s){var o=e._bin.readUshort,a=s,l=[],u=o(r,s);s+=2;for(var c=0;c<u;c++){var f=o(r,s);s+=2,l.push(e.GSUB.readSubClassRule(r,a+f))}return l},e.GSUB.readSubClassRule=function(r,s){var o=e._bin.readUshort,a={},l=o(r,s),u=o(r,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(r,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,u),a},e.GSUB.readSubstLookupRecords=function(r,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(r,s),a(r,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(r,s){var o=e._bin,a=s,l=[],u=o.readUshort(r,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(r,s);s+=2,l.push(e.GSUB.readChainSubClassRule(r,a+f))}return l},e.GSUB.readChainSubClassRule=function(r,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(r,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(r,s,c),s+=2*a[l[u]].length}return c=o.readUshort(r,s),s+=2,a.subst=o.readUshorts(r,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(r,s){var o=e._bin,a=s,l=[],u=o.readUshort(r,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(r,s);s+=2,l.push(e.GSUB.readLigature(r,a+f))}return l},e.GSUB.readLigature=function(r,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(r,s)),s+=2;return a},e.head={},e.head.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.fontRevision=a.readFixed(r,s),s+=4,a.readUint(r,s),s+=4,a.readUint(r,s),s+=4,l.flags=a.readUshort(r,s),s+=2,l.unitsPerEm=a.readUshort(r,s),s+=2,l.created=a.readUint64(r,s),s+=8,l.modified=a.readUint64(r,s),s+=8,l.xMin=a.readShort(r,s),s+=2,l.yMin=a.readShort(r,s),s+=2,l.xMax=a.readShort(r,s),s+=2,l.yMax=a.readShort(r,s),s+=2,l.macStyle=a.readUshort(r,s),s+=2,l.lowestRecPPEM=a.readUshort(r,s),s+=2,l.fontDirectionHint=a.readShort(r,s),s+=2,l.indexToLocFormat=a.readShort(r,s),s+=2,l.glyphDataFormat=a.readShort(r,s),s+=2,l},e.hhea={},e.hhea.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.ascender=a.readShort(r,s),s+=2,l.descender=a.readShort(r,s),s+=2,l.lineGap=a.readShort(r,s),s+=2,l.advanceWidthMax=a.readUshort(r,s),s+=2,l.minLeftSideBearing=a.readShort(r,s),s+=2,l.minRightSideBearing=a.readShort(r,s),s+=2,l.xMaxExtent=a.readShort(r,s),s+=2,l.caretSlopeRise=a.readShort(r,s),s+=2,l.caretSlopeRun=a.readShort(r,s),s+=2,l.caretOffset=a.readShort(r,s),s+=2,s+=8,l.metricDataFormat=a.readShort(r,s),s+=2,l.numberOfHMetrics=a.readUshort(r,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(r,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,h=0;h<a.maxp.numGlyphs;h++)h<a.hhea.numberOfHMetrics&&(c=l.readUshort(r,s),s+=2,f=l.readShort(r,s),s+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(r,s,o,a){var l=e._bin,u=l.readUshort(r,s);if(s+=2,u==1)return e.kern.parseV1(r,s-2,o,a);var c=l.readUshort(r,s);s+=2;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){s+=2,o=l.readUshort(r,s),s+=2;var d=l.readUshort(r,s);s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(r,s,f)}return f},e.kern.parseV1=function(r,s,o,a){var l=e._bin;l.readFixed(r,s),s+=4;var u=l.readUint(r,s);s+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(r,s),s+=4;var h=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var d=h>>>8;if((d&=15)!=0)throw"unknown kern table format: "+d;s=e.kern.readFormat0(r,s,c)}return c},e.kern.readFormat0=function(r,s,o){var a=e._bin,l=-1,u=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2;for(var c=0;c<u;c++){var f=a.readUshort(r,s);s+=2;var h=a.readUshort(r,s);s+=2;var d=a.readShort(r,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var p=o.rval[o.rval.length-1];p.glyph2.push(h),p.vals.push(d),l=f}return s},e.loca={},e.loca.parse=function(r,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(c==0)for(var h=0;h<f;h++)u.push(l.readUshort(r,s+(h<<1))<<1);if(c==1)for(h=0;h<f;h++)u.push(l.readUint(r,s+(h<<2)));return u},e.maxp={},e.maxp.parse=function(r,s,o){var a=e._bin,l={},u=a.readUint(r,s);return s+=4,l.numGlyphs=a.readUshort(r,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(r,s),s+=2,l.maxContours=a.readUshort(r,s),s+=2,l.maxCompositePoints=a.readUshort(r,s),s+=2,l.maxCompositeContours=a.readUshort(r,s),s+=2,l.maxZones=a.readUshort(r,s),s+=2,l.maxTwilightPoints=a.readUshort(r,s),s+=2,l.maxStorage=a.readUshort(r,s),s+=2,l.maxFunctionDefs=a.readUshort(r,s),s+=2,l.maxInstructionDefs=a.readUshort(r,s),s+=2,l.maxStackElements=a.readUshort(r,s),s+=2,l.maxSizeOfInstructions=a.readUshort(r,s),s+=2,l.maxComponentElements=a.readUshort(r,s),s+=2,l.maxComponentDepth=a.readUshort(r,s),s+=2),l},e.name={},e.name.parse=function(r,s,o){var a=e._bin,l={};a.readUshort(r,s),s+=2;var u=a.readUshort(r,s);s+=2,a.readUshort(r,s);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=s+=2,d=0;d<u;d++){var p=a.readUshort(r,s);s+=2;var y=a.readUshort(r,s);s+=2;var A=a.readUshort(r,s);s+=2;var g=a.readUshort(r,s);s+=2;var x=a.readUshort(r,s);s+=2;var S=a.readUshort(r,s);s+=2;var E,w=f[g],C=h+12*u+S;if(p==0)E=a.readUnicode(r,C,x/2);else if(p==3&&y==0)E=a.readUnicode(r,C,x/2);else if(y==0)E=a.readASCII(r,C,x);else if(y==1)E=a.readUnicode(r,C,x/2);else if(y==3)E=a.readUnicode(r,C,x/2);else{if(p!=1)throw"unknown encoding "+y+", platformID: "+p;E=a.readASCII(r,C,x),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var b="p"+p+","+A.toString(16);l[b]==null&&(l[b]={}),l[b][w!==void 0?w:g]=E,l[b]._lang=A}for(var I in l)if(l[I].postScriptName!=null&&l[I]._lang==1033)return l[I];for(var I in l)if(l[I].postScriptName!=null&&l[I]._lang==0)return l[I];for(var I in l)if(l[I].postScriptName!=null&&l[I]._lang==3084)return l[I];for(var I in l)if(l[I].postScriptName!=null)return l[I];for(var I in l){c=I;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(r,s,o){var a=e._bin.readUshort(r,s);s+=2;var l={};if(a==0)e["OS/2"].version0(r,s,l);else if(a==1)e["OS/2"].version1(r,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(r,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(r,s,l)}return l},e["OS/2"].version0=function(r,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(r,s),s+=2,o.usWeightClass=a.readUshort(r,s),s+=2,o.usWidthClass=a.readUshort(r,s),s+=2,o.fsType=a.readUshort(r,s),s+=2,o.ySubscriptXSize=a.readShort(r,s),s+=2,o.ySubscriptYSize=a.readShort(r,s),s+=2,o.ySubscriptXOffset=a.readShort(r,s),s+=2,o.ySubscriptYOffset=a.readShort(r,s),s+=2,o.ySuperscriptXSize=a.readShort(r,s),s+=2,o.ySuperscriptYSize=a.readShort(r,s),s+=2,o.ySuperscriptXOffset=a.readShort(r,s),s+=2,o.ySuperscriptYOffset=a.readShort(r,s),s+=2,o.yStrikeoutSize=a.readShort(r,s),s+=2,o.yStrikeoutPosition=a.readShort(r,s),s+=2,o.sFamilyClass=a.readShort(r,s),s+=2,o.panose=a.readBytes(r,s,10),s+=10,o.ulUnicodeRange1=a.readUint(r,s),s+=4,o.ulUnicodeRange2=a.readUint(r,s),s+=4,o.ulUnicodeRange3=a.readUint(r,s),s+=4,o.ulUnicodeRange4=a.readUint(r,s),s+=4,o.achVendID=[a.readInt8(r,s),a.readInt8(r,s+1),a.readInt8(r,s+2),a.readInt8(r,s+3)],s+=4,o.fsSelection=a.readUshort(r,s),s+=2,o.usFirstCharIndex=a.readUshort(r,s),s+=2,o.usLastCharIndex=a.readUshort(r,s),s+=2,o.sTypoAscender=a.readShort(r,s),s+=2,o.sTypoDescender=a.readShort(r,s),s+=2,o.sTypoLineGap=a.readShort(r,s),s+=2,o.usWinAscent=a.readUshort(r,s),s+=2,o.usWinDescent=a.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,o){var a=e._bin;return s=e["OS/2"].version0(r,s,o),o.ulCodePageRange1=a.readUint(r,s),s+=4,o.ulCodePageRange2=a.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,o){var a=e._bin;return s=e["OS/2"].version1(r,s,o),o.sxHeight=a.readShort(r,s),s+=2,o.sCapHeight=a.readShort(r,s),s+=2,o.usDefault=a.readUshort(r,s),s+=2,o.usBreak=a.readUshort(r,s),s+=2,o.usMaxContext=a.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,o){var a=e._bin;return s=e["OS/2"].version2(r,s,o),o.usLowerOpticalPointSize=a.readUshort(r,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,o){var a=e._bin,l={};return l.version=a.readFixed(r,s),s+=4,l.italicAngle=a.readFixed(r,s),s+=4,l.underlinePosition=a.readShort(r,s),s+=2,l.underlineThickness=a.readShort(r,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var o=r.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,s){var o={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var a=r.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),r.SVG.entries[s]=a),a)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},u=r.CFF,c=r.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],l,u,c,o)}else r.glyf&&e.U._drawGlyf(s,r,o);return o},e.U._drawGlyf=function(r,s,o){var a=s.glyf[r];a==null&&(a=s.glyf[r]=e.glyf._parseGlyf(s,r)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(r,s){for(var o=0;o<r.noc;o++){for(var a=o==0?0:r.endPts[o-1]+1,l=r.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,f=u==l?a:u+1,h=1&r.flags[u],d=1&r.flags[c],p=1&r.flags[f],y=r.xs[u],A=r.ys[u];if(u==a)if(h){if(!d){e.U.P.moveTo(s,y,A);continue}e.U.P.moveTo(s,r.xs[c],r.ys[c])}else d?e.U.P.moveTo(s,r.xs[c],r.ys[c]):e.U.P.moveTo(s,(r.xs[c]+y)/2,(r.ys[c]+A)/2);h?d&&e.U.P.lineTo(s,y,A):p?e.U.P.qcurveTo(s,y,A,r.xs[f],r.ys[f]):e.U.P.qcurveTo(s,y,A,(y+r.xs[f])/2,(A+r.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,o){for(var a=0;a<r.parts.length;a++){var l={cmds:[],crds:[]},u=r.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],d=l.crds[f+1];o.crds.push(h*c.a+d*c.b+c.tx),o.crds.push(h*c.c+d*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(r,s){var o=e._lctf.getInterval(s,r);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(r,s,o){var a=!1;if(r.GPOS)for(var l=r.GPOS,u=l.lookupList,c=l.featureList,f=[],h=0;h<c.length;h++){var d=c[h];if(d.tag=="kern"){a=!0;for(var p=0;p<d.tab.length;p++)if(!f[d.tab[p]]){f[d.tab[p]]=!0;for(var y=u[d.tab[p]],A=0;A<y.tabs.length;A++)if(y.tabs[A]!=null){var g,x=y.tabs[A];if((!x.coverage||(g=e._lctf.coverageIndex(x.coverage,s))!=-1)&&y.ltype!=1){if(y.ltype==2){var S=null;if(x.fmt==1){var E=x.pairsets[g];for(h=0;h<E.length;h++)E[h].gid2==o&&(S=E[h])}else if(x.fmt==2){var w=e.U._getGlyphClass(s,x.classDef1),C=e.U._getGlyphClass(o,x.classDef2);S=x.matrix[w][C]}if(S){var b=0;return S.val1&&S.val1[2]&&(b+=S.val1[2]),S.val2&&S.val2[0]&&(b+=S.val2[0]),b}}}}}}}if(r.kern&&!a){var I=r.kern.glyph1.indexOf(s);if(I!=-1){var M=r.kern.rval[I].glyph2.indexOf(o);if(M!=-1)return r.kern.rval[I].vals[M]}}return 0},e.U._applySubs=function(r,s,o,a){for(var l=r.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,r[s]))!=-1){if(o.ltype==1)r[s],f.fmt==1?r[s]=r[s]+f.delta:r[s]=f.newg[c];else if(o.ltype==4)for(var h=f.vals[c],d=0;d<h.length;d++){var p=h[d],y=p.chain.length;if(!(y>l)){for(var A=!0,g=0,x=0;x<y;x++){for(;r[s+g+(1+x)]==-1;)g++;p.chain[x]!=r[s+g+(1+x)]&&(A=!1)}if(A){for(r[s]=p.nglyph,x=0;x<y+g;x++)r[s+x+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var S=e._lctf.getInterval(f.cDef,r[s]),E=f.cDef[S+2],w=f.scset[E],C=0;C<w.length;C++){var b=w[C],I=b.input;if(!(I.length>l)){for(A=!0,x=0;x<I.length;x++){var M=e._lctf.getInterval(f.cDef,r[s+1+x]);if(S==-1&&f.cDef[M+2]!=I[x]){A=!1;break}}if(A){var R=b.substLookupRecords;for(d=0;d<R.length;d+=2)R[d],R[d+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(r,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(r,f.inptCvg,s)||!e.U._glsCovered(r,f.ahedCvg,s+f.inptCvg.length))continue;var D=f.lookupRec;for(C=0;C<D.length;C+=2){S=D[C];var F=a[D[C+1]];e.U._applySubs(r,s+S,F,a)}}}}},e.U._glsCovered=function(r,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],r[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,h=e.U.glyphToPath(r,c),d=0;d<h.crds.length;d+=2)a.crds.push(h.crds[d]+l),a.crds.push(h.crds[d+1]);for(o&&a.cmds.push(o),d=0;d<h.cmds.length;d++)a.cmds.push(h.cmds[d]);o&&a.cmds.push("X"),l+=r.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(r,c,f))}}return a},e.U.P={},e.U.P.moveTo=function(r,s,o){r.cmds.push("M"),r.crds.push(s,o)},e.U.P.lineTo=function(r,s,o){r.cmds.push("L"),r.crds.push(s,o)},e.U.P.curveTo=function(r,s,o,a,l,u,c){r.cmds.push("C"),r.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(r,s,o,a,l){r.cmds.push("Q"),r.crds.push(s,o,a,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,o,a,l){for(var u=s.stack,c=s.nStems,f=s.haveWidth,h=s.width,d=s.open,p=0,y=s.x,A=s.y,g=0,x=0,S=0,E=0,w=0,C=0,b=0,I=0,M=0,R=0,D={val:0,size:0};p<r.length;){e.CFF.getCharString(r,p,D);var F=D.val;if(p+=D.size,F=="o1"||F=="o18")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(F=="o3"||F=="o23")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(F=="o4")u.length>1&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),d&&e.U.P.closePath(l),A+=u.pop(),e.U.P.moveTo(l,y,A),d=!0;else if(F=="o5")for(;u.length>0;)y+=u.shift(),A+=u.shift(),e.U.P.lineTo(l,y,A);else if(F=="o6"||F=="o7")for(var O=u.length,L=F=="o6",U=0;U<O;U++){var q=u.shift();L?y+=q:A+=q,L=!L,e.U.P.lineTo(l,y,A)}else if(F=="o8"||F=="o24"){O=u.length;for(var K=0;K+6<=O;)g=y+u.shift(),x=A+u.shift(),S=g+u.shift(),E=x+u.shift(),y=S+u.shift(),A=E+u.shift(),e.U.P.curveTo(l,g,x,S,E,y,A),K+=6;F=="o24"&&(y+=u.shift(),A+=u.shift(),e.U.P.lineTo(l,y,A))}else{if(F=="o11")break;if(F=="o1234"||F=="o1235"||F=="o1236"||F=="o1237")F=="o1234"&&(x=A,S=(g=y+u.shift())+u.shift(),R=E=x+u.shift(),C=E,I=A,y=(b=(w=(M=S+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,g,x,S,E,M,R),e.U.P.curveTo(l,w,C,b,I,y,A)),F=="o1235"&&(g=y+u.shift(),x=A+u.shift(),S=g+u.shift(),E=x+u.shift(),M=S+u.shift(),R=E+u.shift(),w=M+u.shift(),C=R+u.shift(),b=w+u.shift(),I=C+u.shift(),y=b+u.shift(),A=I+u.shift(),u.shift(),e.U.P.curveTo(l,g,x,S,E,M,R),e.U.P.curveTo(l,w,C,b,I,y,A)),F=="o1236"&&(g=y+u.shift(),x=A+u.shift(),S=g+u.shift(),R=E=x+u.shift(),C=E,b=(w=(M=S+u.shift())+u.shift())+u.shift(),I=C+u.shift(),y=b+u.shift(),e.U.P.curveTo(l,g,x,S,E,M,R),e.U.P.curveTo(l,w,C,b,I,y,A)),F=="o1237"&&(g=y+u.shift(),x=A+u.shift(),S=g+u.shift(),E=x+u.shift(),M=S+u.shift(),R=E+u.shift(),w=M+u.shift(),C=R+u.shift(),b=w+u.shift(),I=C+u.shift(),Math.abs(b-y)>Math.abs(I-A)?y=b+u.shift():A=I+u.shift(),e.U.P.curveTo(l,g,x,S,E,M,R),e.U.P.curveTo(l,w,C,b,I,y,A));else if(F=="o14"){if(u.length>0&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),u.length==4){var k=u.shift(),W=u.shift(),V=u.shift(),G=u.shift(),z=e.CFF.glyphBySE(o,V),ne=e.CFF.glyphBySE(o,G);e.U._drawCFF(o.CharStrings[z],s,o,a,l),s.x=k,s.y=W,e.U._drawCFF(o.CharStrings[ne],s,o,a,l)}d&&(e.U.P.closePath(l),d=!1)}else if(F=="o19"||F=="o20")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,p+=c+7>>3;else if(F=="o21")u.length>2&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),A+=u.pop(),y+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,y,A),d=!0;else if(F=="o22")u.length>1&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),y+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,y,A),d=!0;else if(F=="o25"){for(;u.length>6;)y+=u.shift(),A+=u.shift(),e.U.P.lineTo(l,y,A);g=y+u.shift(),x=A+u.shift(),S=g+u.shift(),E=x+u.shift(),y=S+u.shift(),A=E+u.shift(),e.U.P.curveTo(l,g,x,S,E,y,A)}else if(F=="o26")for(u.length%2&&(y+=u.shift());u.length>0;)g=y,x=A+u.shift(),y=S=g+u.shift(),A=(E=x+u.shift())+u.shift(),e.U.P.curveTo(l,g,x,S,E,y,A);else if(F=="o27")for(u.length%2&&(A+=u.shift());u.length>0;)x=A,S=(g=y+u.shift())+u.shift(),E=x+u.shift(),y=S+u.shift(),A=E,e.U.P.curveTo(l,g,x,S,E,y,A);else if(F=="o10"||F=="o29"){var J=F=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var $=u.pop(),X=J.Subrs[$+J.Bias];s.x=y,s.y=A,s.nStems=c,s.haveWidth=f,s.width=h,s.open=d,e.U._drawCFF(X,s,o,a,l),y=s.x,A=s.y,c=s.nStems,f=s.haveWidth,h=s.width,d=s.open}}else if(F=="o30"||F=="o31"){var oe=u.length,ie=(K=0,F=="o31");for(K+=oe-(O=-3&oe);K<O;)ie?(x=A,S=(g=y+u.shift())+u.shift(),A=(E=x+u.shift())+u.shift(),O-K==5?(y=S+u.shift(),K++):y=S,ie=!1):(g=y,x=A+u.shift(),S=g+u.shift(),E=x+u.shift(),y=S+u.shift(),O-K==5?(A=E+u.shift(),K++):A=E,ie=!0),e.U.P.curveTo(l,g,x,S,E,y,A),K+=4}else{if((F+"").charAt(0)=="o")throw console.debug("Unknown operation: "+F,r),F;u.push(F)}}}s.x=y,s.y=A,s.nStems=c,s.haveWidth=f,s.width=h,s.open=d};var n=e,i={Typr:n};return t.Typr=n,t.default=i,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function MEe(){return function(t){var e=Uint8Array,n=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(F,O){for(var L=new n(31),U=0;U<31;++U)L[U]=O+=1<<F[U-1];var q=new i(L[30]);for(U=1;U<30;++U)for(var K=L[U];K<L[U+1];++K)q[K]=K-L[U]<<5|U;return[L,q]},l=a(r,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=a(s,0)[0],h=new n(32768),d=0;d<32768;++d){var p=(43690&d)>>>1|(21845&d)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[d]=((65280&p)>>>8|(255&p)<<8)>>>1}var y=function(F,O,L){for(var U=F.length,q=0,K=new n(O);q<U;++q)++K[F[q]-1];var k,W=new n(O);for(q=0;q<O;++q)W[q]=W[q-1]+K[q-1]<<1;if(L){k=new n(1<<O);var V=15-O;for(q=0;q<U;++q)if(F[q])for(var G=q<<4|F[q],z=O-F[q],ne=W[F[q]-1]++<<z,J=ne|(1<<z)-1;ne<=J;++ne)k[h[ne]>>>V]=G}else for(k=new n(U),q=0;q<U;++q)F[q]&&(k[q]=h[W[F[q]-1]++]>>>15-F[q]);return k},A=new e(288);for(d=0;d<144;++d)A[d]=8;for(d=144;d<256;++d)A[d]=9;for(d=256;d<280;++d)A[d]=7;for(d=280;d<288;++d)A[d]=8;var g=new e(32);for(d=0;d<32;++d)g[d]=5;var x=y(A,9,1),S=y(g,5,1),E=function(F){for(var O=F[0],L=1;L<F.length;++L)F[L]>O&&(O=F[L]);return O},w=function(F,O,L){var U=O/8|0;return(F[U]|F[U+1]<<8)>>(7&O)&L},C=function(F,O){var L=O/8|0;return(F[L]|F[L+1]<<8|F[L+2]<<16)>>(7&O)},b=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],I=function(F,O,L){var U=new Error(O||b[F]);if(U.code=F,Error.captureStackTrace&&Error.captureStackTrace(U,I),!L)throw U;return U},M=function(F,O,L){var U=F.length;if(!U||L&&!L.l&&U<5)return O||new e(0);var q=!O||L,K=!L||L.i;L||(L={}),O||(O=new e(3*U));var k,W=function(Fe){var qe=O.length;if(Fe>qe){var rt=new e(Math.max(2*qe,Fe));rt.set(O),O=rt}},V=L.f||0,G=L.p||0,z=L.b||0,ne=L.l,J=L.d,$=L.m,X=L.n,oe=8*U;do{if(!ne){L.f=V=w(F,G,1);var ie=w(F,G+1,3);if(G+=3,!ie){var _e=F[(Ne=((k=G)/8|0)+(7&k&&1)+4)-4]|F[Ne-3]<<8,Re=Ne+_e;if(Re>U){K&&I(0);break}q&&W(z+_e),O.set(F.subarray(Ne,Re),z),L.b=z+=_e,L.p=G=8*Re;continue}if(ie==1)ne=x,J=S,$=9,X=5;else if(ie==2){var pe=w(F,G,31)+257,Y=w(F,G+10,15)+4,me=pe+w(F,G+5,31)+1;G+=14;for(var ge=new e(me),de=new e(19),Se=0;Se<Y;++Se)de[o[Se]]=w(F,G+3*Se,7);G+=3*Y;var Qe=E(de),xe=(1<<Qe)-1,ke=y(de,Qe,1);for(Se=0;Se<me;){var Ne,De=ke[w(F,G,xe)];if(G+=15&De,(Ne=De>>>4)<16)ge[Se++]=Ne;else{var tt=0,te=0;for(Ne==16?(te=3+w(F,G,3),G+=2,tt=ge[Se-1]):Ne==17?(te=3+w(F,G,7),G+=3):Ne==18&&(te=11+w(F,G,127),G+=7);te--;)ge[Se++]=tt}}var H=ge.subarray(0,pe),fe=ge.subarray(pe);$=E(H),X=E(fe),ne=y(H,$,1),J=y(fe,X,1)}else I(1);if(G>oe){K&&I(0);break}}q&&W(z+131072);for(var je=(1<<$)-1,Ue=(1<<X)-1,Pe=G;;Pe=G){var $e=(tt=ne[C(F,G)&je])>>>4;if((G+=15&tt)>oe){K&&I(0);break}if(tt||I(2),$e<256)O[z++]=$e;else{if($e==256){Pe=G,ne=null;break}var Ke=$e-254;if($e>264){var we=r[Se=$e-257];Ke=w(F,G,(1<<we)-1)+u[Se],G+=we}var ae=J[C(F,G)&Ue],Te=ae>>>4;if(ae||I(3),G+=15&ae,fe=f[Te],Te>3&&(we=s[Te],fe+=C(F,G)&(1<<we)-1,G+=we),G>oe){K&&I(0);break}q&&W(z+131072);for(var Me=z+Ke;z<Me;z+=4)O[z]=O[z-fe],O[z+1]=O[z+1-fe],O[z+2]=O[z+2-fe],O[z+3]=O[z+3-fe];z=Me}}L.l=ne,L.p=Pe,L.b=z,ne&&(V=1,L.m=$,L.d=J,L.n=X)}while(!V);return z==O.length?O:function(Fe,qe,rt){(qe==null||qe<0)&&(qe=0),(rt==null||rt>Fe.length)&&(rt=Fe.length);var ut=new(Fe instanceof n?n:Fe instanceof i?i:e)(rt-qe);return ut.set(Fe.subarray(qe,rt)),ut}(O,0,z)},R=new e(0),D=typeof TextDecoder<"u"&&new TextDecoder;try{D.decode(R,{stream:!0})}catch{}return t.convert_streams=function(F){var O=new DataView(F),L=0;function U(){var pe=O.getUint16(L);return L+=2,pe}function q(){var pe=O.getUint32(L);return L+=4,pe}function K(pe){_e.setUint16(Re,pe),Re+=2}function k(pe){_e.setUint32(Re,pe),Re+=4}for(var W={signature:q(),flavor:q(),length:q(),numTables:U(),reserved:U(),totalSfntSize:q(),majorVersion:U(),minorVersion:U(),metaOffset:q(),metaLength:q(),metaOrigLength:q(),privOffset:q(),privLength:q()},V=0;Math.pow(2,V)<=W.numTables;)V++;V--;for(var G=16*Math.pow(2,V),z=16*W.numTables-G,ne=12,J=[],$=0;$<W.numTables;$++)J.push({tag:q(),offset:q(),compLength:q(),origLength:q(),origChecksum:q()}),ne+=16;var X,oe=new Uint8Array(12+16*J.length+J.reduce(function(pe,Y){return pe+Y.origLength+4},0)),ie=oe.buffer,_e=new DataView(ie),Re=0;return k(W.flavor),K(W.numTables),K(G),K(V),K(z),J.forEach(function(pe){k(pe.tag),k(pe.origChecksum),k(ne),k(pe.origLength),pe.outOffset=ne,(ne+=pe.origLength)%4!=0&&(ne+=4-ne%4)}),J.forEach(function(pe){var Y,me=F.slice(pe.offset,pe.offset+pe.compLength);if(pe.compLength!=pe.origLength){var ge=new Uint8Array(pe.origLength);Y=new Uint8Array(me,2),M(Y,ge)}else ge=new Uint8Array(me);oe.set(ge,pe.outOffset);var de=0;(ne=pe.outOffset+pe.origLength)%4!=0&&(de=4-ne%4),oe.set(new Uint8Array(de).buffer,pe.outOffset+pe.origLength),X=ne+de}),ie.slice(0,X)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function IEe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,o=4,a=8,l=16,u=32;let c;function f(w){if(!c){const C={R:s,L:r,D:o,C:l,U:u,T:a};c=new Map;for(let b in i){let I=0;i[b].split(",").forEach(M=>{let[R,D]=M.split("+");R=parseInt(R,36),D=D?parseInt(D,36):0,c.set(I+=R,C[b]);for(let F=D;F--;)c.set(++I,C[b])})}}return c.get(w)||u}const h=1,d=2,p=3,y=4,A=[null,"isol","init","fina","medi"];function g(w){const C=new Uint8Array(w.length);let b=u,I=h,M=-1;for(let R=0;R<w.length;R++){const D=w.codePointAt(R);let F=f(D)|0,O=h;F&a||(b&(r|o|l)?F&(s|o|l)?(O=p,(I===h||I===p)&&C[M]++):F&(r|u)&&(I===d||I===y)&&C[M]--:b&(s|u)&&(I===d||I===y)&&C[M]--,I=C[R]=O,b=F,M=R,D>65535&&R++)}return C}function x(w,C){const b=[];for(let M=0;M<C.length;M++){const R=C.codePointAt(M);R>65535&&M++,b.push(t.U.codeToGlyph(w,R))}const I=w.GSUB;if(I){const{lookupList:M,featureList:R}=I;let D;const F=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,O=[];R.forEach(L=>{if(F.test(L.tag))for(let U=0;U<L.tab.length;U++){if(O[L.tab[U]])continue;O[L.tab[U]]=!0;const q=M[L.tab[U]],K=/^(isol|init|fina|medi)$/.test(L.tag);K&&!D&&(D=g(C));for(let k=0;k<b.length;k++)(!D||!K||A[D[k]]===L.tag)&&t.U._applySubs(b,k,q,M)}})}return b}function S(...w){for(let C=0;C<w.length;C++)if(typeof w[C]=="number")return w[C]}function E(w){const C=Object.create(null),b=w["OS/2"],I=w.hhea,M=w.head.unitsPerEm,R=S(b&&b.sTypoAscender,I&&I.ascender,M),D={unitsPerEm:M,ascender:R,descender:S(b&&b.sTypoDescender,I&&I.descender,0),capHeight:S(b&&b.sCapHeight,R),xHeight:S(b&&b.sxHeight,R),lineGap:S(b&&b.sTypoLineGap,I&&I.lineGap),forEachGlyph(F,O,L,U){let q=0;const K=1/D.unitsPerEm*O,k=x(w,F);let W=0,V=-1;return k.forEach((G,z)=>{if(G!==-1){let ne=C[G];if(!ne){const{cmds:J,crds:$}=t.U.glyphToPath(w,G);let X="",oe=0;for(let Y=0,me=J.length;Y<me;Y++){const ge=n[J[Y]];X+=J[Y];for(let de=1;de<=ge;de++)X+=(de>1?",":"")+$[oe++]}let ie,_e,Re,pe;if($.length){ie=_e=1/0,Re=pe=-1/0;for(let Y=0,me=$.length;Y<me;Y+=2){let ge=$[Y],de=$[Y+1];ge<ie&&(ie=ge),de<_e&&(_e=de),ge>Re&&(Re=ge),de>pe&&(pe=de)}}else ie=Re=_e=pe=0;ne=C[G]={index:G,advanceWidth:w.hmtx.aWidth[G],xMin:ie,yMin:_e,xMax:Re,yMax:pe,path:X,pathCommandCount:J.length}}V!==-1&&(q+=t.U.getPairAdjustment(w,V,G)*K),U.call(null,ne,q,W),ne.advanceWidth&&(q+=ne.advanceWidth*K),L&&(q+=L*O),V=G}W+=F.codePointAt(W)>65535?2:1}),q}};return D}return function(C){const b=new Uint8Array(C,0,4),I=t._bin.readASCII(b,0,4);if(I==="wOFF")C=e(C);else if(I==="wOF2")throw new Error("woff2 fonts not supported");return E(t.parse(C)[0])}}const REe=f2({name:"Typr Font Parser",dependencies:[TEe,MEe,IEe],init(t,e,n){const i=t(),r=e();return n(i,r)}}),bd={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},PEe=new Je;function sd(){return(self.performance||Date).now()}const uU=Object.create(null);function JK(t,e){t=LEe({},t);const n=sd();if(t.font=OEe(t.font||bd.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||bd.sdfGlyphSize,t.colorRanges!=null){let f={};for(let h in t.colorRanges)if(t.colorRanges.hasOwnProperty(h)){let d=t.colorRanges[h];typeof d!="number"&&(d=PEe.set(d).getHex()),f[h]=d}t.colorRanges=f}Object.freeze(t);const{textureWidth:i,sdfExponent:r}=bd,{sdfGlyphSize:s}=t,o=i/s*4;let a=uU[s];if(!a){const f=document.createElement("canvas");f.width=i,f.height=s*256/o,a=uU[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new Vn(f,void 0,void 0,void 0,At,At),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,BEe(a)}const{sdfTexture:l,sdfCanvas:u}=a;let c=a.glyphsByFont.get(t.font);c||a.glyphsByFont.set(t.font,c=new Map),UEe(t).then(f=>{const{glyphIds:h,glyphPositions:d,fontSize:p,unitsPerEm:y,timings:A}=f,g=[],x=new Float32Array(h.length*4),S=p/y;let E=0,w=0;const C=sd();h.forEach((D,F)=>{let O=c.get(D);if(!O){const{path:K,pathBounds:k}=f.glyphData[D],W=Math.max(k[2]-k[0],k[3]-k[1])/s*(bd.sdfMargin*s+.5),V=a.glyphCount++,G=[k[0]-W,k[1]-W,k[2]+W,k[3]+W];c.set(D,O={path:K,atlasIndex:V,sdfViewBox:G}),g.push(O)}const{sdfViewBox:L}=O,U=d[w++],q=d[w++];x[E++]=U+L[0]*S,x[E++]=q+L[1]*S,x[E++]=U+L[2]*S,x[E++]=q+L[3]*S,h[F]=O.atlasIndex}),A.quads=(A.quads||0)+(sd()-C);const b=sd();A.sdf={};const I=u.height,M=Math.ceil(a.glyphCount/o),R=Math.pow(2,Math.ceil(Math.log2(M*s)));R>I&&(console.info(`Increasing SDF texture size ${I}->${R}`),bEe(u,i,R),l.dispose()),Promise.all(g.map(D=>ZK(D,a,t.gpuAccelerateSDF).then(({timing:F})=>{A.sdf[D.atlasIndex]=F}))).then(()=>{g.length&&!a.contextLost&&($K(a),l.needsUpdate=!0),A.sdfTotal=sd()-b,A.total=sd()-n,e(Object.freeze({parameters:t,sdfTexture:l,sdfGlyphSize:s,sdfExponent:r,glyphBounds:x,glyphAtlasIndices:h,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||CEe(u)})}function ZK({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:i,sdfCanvas:r,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=bd,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(a/i)*i,h=Math.floor(c/(a/i))*i,d=e%4;return yEe(i,i,t,n,u,l,r,f,h,d,o)}function BEe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const i=[];t.glyphsByFont.forEach(r=>{r.forEach(s=>{i.push(ZK(s,t,!0))})}),Promise.all(i).then(()=>{$K(t),t.sdfTexture.needsUpdate=!0})})}function DEe({font:t,characters:e,sdfGlyphSize:n},i){let r=Array.isArray(e)?e.join(`
`):""+e;JK({font:t,sdfGlyphSize:n,text:r},i)}function LEe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let V5;function OEe(t){return V5||(V5=typeof document>"u"?{}:document.createElement("a")),V5.href=t,V5.href}function $K(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:i,height:r}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==i*r*4)&&(o=new Uint8Array(i*r*4),n.image={width:i,height:r,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,o)}}const FEe=f2({name:"Typesetter",dependencies:[bd,REe,AEe,cEe],init(t,e,n,i){const{defaultFontURL:r}=t;return n(e,i(),{defaultFontURL:r})}}),UEe=f2({name:"Typesetter",dependencies:[FEe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),cU={};function kEe(t){let e=cU[t];if(!e){const n=new cl(1,1,t,t),i=n.clone(),r=n.attributes,s=i.attributes,o=new Xt,a=r.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new Et([...r[l].array,...s[l].array],r[l].itemSize))}),o.setIndex([...n.index.array,...i.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=cU[t]=o}return e}const NEe="aTroikaGlyphBounds",fU="aTroikaGlyphIndex",GEe="aTroikaGlyphColor";class zEe extends K6{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Fr,this.boundingBox=new Or}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===Vi?n/2:0,e===yr?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=kEe(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=n.attributes[i].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,i,r,s){P_(this,NEe,e,4),P_(this,fU,n,1),P_(this,GEe,s,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:i}=this;if(n){const{PI:r,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=r/2,f=r*2,h=Math.abs(n),d=e[0]/h,p=e[2]/h,y=s((d+c)/f)!==s((p+c)/f)?-h:o(l(d)*h,l(p)*h),A=s((d-c)/f)!==s((p-c)/f)?h:a(l(d)*h,l(p)*h),g=s((d+r)/f)!==s((p+r)/f)?h*2:a(h-u(d)*h,h-u(p)*h);i.min.set(y,e[1],n<0?-g:0),i.max.set(A,e[3],n<0?0:g)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(fU).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){n=i[r].end;let s=i[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}}function P_(t,e,n,i){const r=t.getAttribute(e);n?r&&r.array.length===n.length?(r.array.set(n),r.needsUpdate=!0):(t.setAttribute(e,new Kf(n,i)),delete t._maxInstanceCount,t.dispose()):r&&t.deleteAttribute(e)}const HEe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VEe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,QEe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,WEe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function jEe(t){const e=kT(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new he},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new qt(0,0,0,0)},uTroikaClipRect:{value:new qt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new he},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Je},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new sn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:HEe,vertexTransform:VEe,fragmentDefs:QEe,fragmentColorTransform:WEe,customRewriter({vertexShader:n,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(n)||(n=n.replace(YK,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:i}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const jI=new xr({color:16777215,side:yr,transparent:!0}),hU=8421504,dU=new it,Q5=new j,B_=new j,z0=[],qEe=new j,D_="+x+y";function pU(t){return Array.isArray(t)?t[0]:t}let eJ=()=>{const t=new yn(new cl(1,1),jI);return eJ=()=>t,t},tJ=()=>{const t=new yn(new cl(1,1,32,1),jI);return tJ=()=>t,t};const XEe={type:"syncstart"},YEe={type:"synccomplete"},nJ=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],KEe=nJ.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let iJ=class extends yn{constructor(){const e=new zEe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=hU,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=D_,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(XEe),JK({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(YEe),e&&e()})))}onBeforeRender(e,n,i,r,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=No}onAfterRender(e,n,i,r,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=jI.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=jEe(n),n.addEventListener("dispose",function i(){n.removeEventListener("dispose",i),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return pU(this.material).getDepthMaterial()}get customDistanceMaterial(){return pU(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:a,blockBounds:l}=r;i.uTroikaSDFTexture.value=a,i.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(l),i.uTroikaUseGlyphColors.value=!n&&!!r.glyphColors;let u=0,c=0,f=0,h,d,p,y=0,A=0;if(n){let{outlineWidth:x,outlineOffsetX:S,outlineOffsetY:E,outlineBlur:w,outlineOpacity:C}=this;u=this._parsePercent(x)||0,c=Math.max(0,this._parsePercent(w)||0),h=C,y=this._parsePercent(S)||0,A=this._parsePercent(E)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(p=this.strokeColor,i.uTroikaStrokeColor.value.set(p??hU),d=this.strokeOpacity,d==null&&(d=1)),h=this.fillOpacity;i.uTroikaDistanceOffset.value=u,i.uTroikaPositionOffset.value.set(y,A),i.uTroikaBlurRadius.value=c,i.uTroikaStrokeWidth.value=f,i.uTroikaStrokeOpacity.value=d,i.uTroikaFillOpacity.value=h??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)i.uTroikaClipRect.value.fromArray(g);else{const x=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(l[0]-x,l[1]-x,l[2]+x,l[3]+x)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Je;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||D_;if(o!==e._orientation){let a=i.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==D_&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,h]=l;Q5.set(0,0,0)[c]=u==="-"?1:-1,B_.set(0,0,0)[h]=f==="-"?-1:1,dU.lookAt(qEe,Q5.cross(B_),B_),a.setFromMatrix4(dU)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),i=n?parseFloat(n[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new he){n.copy(e);const i=this.curveRadius;return i&&(n.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),n}worldPositionToTextCoords(e,n=new he){return Q5.copy(e),this.localPositionToTextCoords(this.worldToLocal(Q5),n)}raycast(e,n){const{textRenderInfo:i,curveRadius:r}=this;if(i){const s=i.blockBounds,o=r?tJ():eJ(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let f=s[0]+u.getX(c)*(s[2]-s[0]);const h=s[1]+u.getY(c)*(s[3]-s[1]);let d=0;r&&(d=r-Math.cos(f/r)*r,f=Math.sin(f/r)*r),l.setXYZ(c,f,h,d)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,z0.length=0,o.raycast(e,z0);for(let c=0;c<z0.length;c++)z0[c].object=this,n.push(z0[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,KEe.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};nJ.forEach(t=>{const e="_private_"+t;Object.defineProperty(iJ.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const JEe=ee.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:i,fontSize:r=1,children:s,characters:o,onSync:a,...l},u)=>{const c=cn(({invalidate:p})=>p),[f]=ee.useState(()=>new iJ),[h,d]=ee.useMemo(()=>{const p=[];let y="";return ee.Children.forEach(s,A=>{typeof A=="string"||typeof A=="number"?y+=A:p.push(A)}),[p,y]},[s]);return zq(()=>new Promise(p=>DEe({font:i,characters:o},p)),["troika-text",i,o]),ee.useLayoutEffect(()=>void f.sync(()=>{c(),a&&a(f)})),ee.useEffect(()=>()=>f.dispose(),[f]),ee.createElement("primitive",Yi({object:f,ref:u,font:i,text:d,anchorX:e,anchorY:n,fontSize:r,sdfGlyphSize:t},l),h)});function rJ(t,e,n,i){const r=class extends yt{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[u,c])=>{const f=$n.clone({[u]:{value:c}});return{...l,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),i&&i(this)}};return r.key=cs.generateUUID(),r}let W5=null,sJ="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function oJ(t,e,n){return i=>{n&&n(i),t&&(W5||(W5=new $6e),W5.setDecoderPath(typeof t=="string"?t:sJ),i.setDRACOLoader(W5)),e&&i.setMeshoptDecoder(typeof M_=="function"?M_():M_)}}function h2(t,e=!0,n=!0,i){return ch(xI,t,oJ(e,n,i))}h2.preload=(t,e=!0,n=!0,i)=>ch.preload(xI,t,oJ(e,n,i));h2.clear=t=>ch.clear(xI,t);h2.setDecoderPath=t=>{sJ=t};function aJ(t,e,n){const i=cn(h=>h.size),r=cn(h=>h.viewport),s=typeof t=="number"?t:i.width*r.dpr,o=typeof e=="number"?e:i.height*r.dpr,a=(typeof t=="number"?n:t)||{},{samples:l=0,depth:u,...c}=a,f=ee.useMemo(()=>{const h=new Rt(s,o,{minFilter:At,magFilter:At,type:hn,...c});return u&&(h.depthTexture=new cu(s,o,Mn)),h.samples=l,h},[]);return ee.useLayoutEffect(()=>{f.setSize(s,o),l&&(f.samples=l)},[l,f,s,o]),ee.useEffect(()=>()=>f.dispose(),[]),f}const ZEe=t=>typeof t=="function",$Ee=ee.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:i,children:r,...s},o)=>{const a=cn(({set:A})=>A),l=cn(({camera:A})=>A),u=cn(({size:A})=>A),c=ee.useRef(null),f=ee.useRef(null),h=aJ(e);ee.useLayoutEffect(()=>{s.manual||(c.current.aspect=u.width/u.height)},[u,s]),ee.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let d=0,p=null;const y=ZEe(r);return Qo(A=>{y&&(n===1/0||d<n)&&(f.current.visible=!1,A.gl.setRenderTarget(h),p=A.scene.background,t&&(A.scene.background=t),A.gl.render(A.scene,c.current),A.scene.background=p,A.gl.setRenderTarget(null),f.current.visible=!0,d++)}),ee.useLayoutEffect(()=>{if(i){const A=l;return a(()=>({camera:c.current})),()=>a(()=>({camera:A}))}},[c,i,a]),ee.createElement(ee.Fragment,null,ee.createElement("perspectiveCamera",Yi({ref:khe([c,o])},s),!y&&r),ee.createElement("group",{ref:f},y&&r(h.texture)))}),d2=ee.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},c)=>{const f=cn(C=>C.invalidate),h=cn(C=>C.camera),d=cn(C=>C.gl),p=cn(C=>C.events),y=cn(C=>C.setEvents),A=cn(C=>C.set),g=cn(C=>C.get),x=cn(C=>C.performance),S=e||h,E=i||p.connected||d.domElement,w=ee.useMemo(()=>new Bve(S),[S]);return Qo(()=>{w.enabled&&w.update()},-1),ee.useEffect(()=>(s&&w.connect(s===!0?E:s),w.connect(E),()=>void w.dispose()),[s,E,n,w,f]),ee.useEffect(()=>{const C=M=>{f(),n&&x.regress(),o&&o(M)},b=M=>{a&&a(M)},I=M=>{l&&l(M)};return w.addEventListener("change",C),w.addEventListener("start",b),w.addEventListener("end",I),()=>{w.removeEventListener("start",b),w.removeEventListener("end",I),w.removeEventListener("change",C)}},[o,a,l,w,f,y]),ee.useEffect(()=>{if(t){const C=g().controls;return A({controls:w}),()=>A({controls:C})}},[t,w]),ee.createElement("primitive",Yi({ref:c,object:w,enableDamping:r},u))}),ewe=ee.forwardRef(function({children:e,disable:n,disableX:i,disableY:r,disableZ:s,left:o,right:a,top:l,bottom:u,front:c,back:f,onCentered:h,precise:d=!0,cacheKey:p=0,...y},A){const g=ee.useRef(null),x=ee.useRef(null),S=ee.useRef(null);return ee.useLayoutEffect(()=>{x.current.matrixWorld.identity();const E=new Or().setFromObject(S.current,d),w=new j,C=new Fr,b=E.max.x-E.min.x,I=E.max.y-E.min.y,M=E.max.z-E.min.z;E.getCenter(w),E.getBoundingSphere(C);const R=l?I/2:u?-I/2:0,D=o?-b/2:a?b/2:0,F=c?M/2:f?-M/2:0;x.current.position.set(n||i?0:-w.x+D,n||r?0:-w.y+R,n||s?0:-w.z+F),typeof h<"u"&&h({parent:g.current.parent,container:g.current,width:b,height:I,depth:M,boundingBox:E,boundingSphere:C,center:w,verticalAlignment:R,horizontalAlignment:D,depthAlignment:F})},[p,h,l,o,c,n,i,r,s,d,a,u,f]),ee.useImperativeHandle(A,()=>g.current,[]),ee.createElement("group",Yi({ref:g},y),ee.createElement("group",{ref:x},ee.createElement("group",{ref:S},e)))});var twe=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class nwe extends wa{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${twe}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const lJ=ee.forwardRef(({speed:t=1,...e},n)=>{const[i]=ee.useState(()=>new nwe);return Qo(r=>i&&(i.time=r.clock.getElapsedTime()*t)),ee.createElement("primitive",Yi({object:i,ref:n,attach:"material"},e))}),iwe=rJ({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");function rwe(t,e){const n=t+"Geometry";return ee.forwardRef(({args:i,children:r,...s},o)=>{const a=ee.useRef(null);return ee.useImperativeHandle(o,()=>a.current),ee.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),ee.createElement("mesh",Yi({ref:a},s),ee.createElement(n,{attach:"geometry",args:i}),r)})}const qI=rwe("sphere"),od=t=>t&&t.isOrthographicCamera,swe=t=>t&&t.isBox3,uJ=ee.createContext(null);function owe({children:t,damping:e=6,fit:n,clip:i,observe:r,margin:s=1.2,eps:o=.01,onFit:a}){const l=ee.useRef(null),{camera:u,invalidate:c,size:f,controls:h}=cn(),d=h,p=ee.useRef(a);p.current=a;function y(C,b){return Math.abs(C.x-b.x)<o&&Math.abs(C.y-b.y)<o&&Math.abs(C.z-b.z)<o}function A(C,b,I,M){C.x=cs.damp(C.x,b.x,I,M),C.y=cs.damp(C.y,b.y,I,M),C.z=cs.damp(C.z,b.z,I,M)}const[g]=ee.useState(()=>({animating:!1,focus:new j,camera:new j,zoom:1})),[x]=ee.useState(()=>({focus:new j,camera:new j,zoom:1})),[S]=ee.useState(()=>new Or),E=ee.useMemo(()=>{function C(){const b=S.getSize(new j),I=S.getCenter(new j),M=Math.max(b.x,b.y,b.z),R=od(u)?M*4:M/(2*Math.atan(Math.PI*u.fov/360)),D=od(u)?M*4:R/u.aspect,F=s*Math.max(R,D);return{box:S,size:b,center:I,distance:F}}return{getSize:C,refresh(b){if(swe(b))S.copy(b);else{const I=b||l.current;if(!I)return this;I.updateWorldMatrix(!0,!0),S.setFromObject(I)}if(S.isEmpty()){const I=u.position.length()||10;S.setFromCenterAndSize(new j,new j(I,I,I))}if((d==null?void 0:d.constructor.name)==="OrthographicTrackballControls"){const{distance:I}=C(),M=u.position.clone().sub(d.target).normalize().multiplyScalar(I),R=d.target.clone().add(M);u.position.copy(R)}return this},clip(){const{distance:b}=C();return d&&(d.maxDistance=b*10),u.near=b/100,u.far=b*100,u.updateProjectionMatrix(),d&&d.update(),c(),this},to({position:b,target:I}){g.camera.copy(u.position);const{center:M}=C();return x.camera.set(...b),I?x.focus.set(...I):x.focus.copy(M),e?g.animating=!0:u.position.set(...b),this},fit(){g.camera.copy(u.position),d&&g.focus.copy(d.target);const{center:b,distance:I}=C(),M=b.clone().sub(u.position).normalize().multiplyScalar(I);if(x.camera.copy(b).sub(M),x.focus.copy(b),od(u)){g.zoom=u.zoom;let R=0,D=0;const F=[new j(S.min.x,S.min.y,S.min.z),new j(S.min.x,S.max.y,S.min.z),new j(S.min.x,S.min.y,S.max.z),new j(S.min.x,S.max.y,S.max.z),new j(S.max.x,S.max.y,S.max.z),new j(S.max.x,S.max.y,S.min.z),new j(S.max.x,S.min.y,S.max.z),new j(S.max.x,S.min.y,S.min.z)];b.applyMatrix4(u.matrixWorldInverse);for(const U of F)U.applyMatrix4(u.matrixWorldInverse),R=Math.max(R,Math.abs(U.y-b.y)),D=Math.max(D,Math.abs(U.x-b.x));R*=2,D*=2;const O=(u.top-u.bottom)/R,L=(u.right-u.left)/D;x.zoom=Math.min(O,L)/s,e||(u.zoom=x.zoom,u.updateProjectionMatrix())}return e?g.animating=!0:(u.position.copy(x.camera),u.lookAt(x.focus),d&&(d.target.copy(x.focus),d.update())),p.current&&p.current(this.getSize()),c(),this}}},[S,u,d,s,e,c]);ee.useLayoutEffect(()=>{if(d){const C=()=>g.animating=!1;return d.addEventListener("start",C),()=>d.removeEventListener("start",C)}},[d]);const w=ee.useRef(0);return ee.useLayoutEffect(()=>{(r||w.current++===0)&&(E.refresh(),n&&E.fit(),i&&E.clip())},[f,i,n,r,u,d]),Qo((C,b)=>{if(g.animating){if(A(g.focus,x.focus,e,b),A(g.camera,x.camera,e,b),g.zoom=cs.damp(g.zoom,x.zoom,e,b),u.position.copy(g.camera),od(u)&&(u.zoom=g.zoom,u.updateProjectionMatrix()),d?(d.target.copy(g.focus),d.update()):u.lookAt(g.focus),c(),od(u)&&!(Math.abs(g.zoom-x.zoom)<o)||!od(u)&&!y(g.camera,x.camera)||d&&!y(g.focus,x.focus))return;g.animating=!1}}),ee.createElement("group",{ref:l},ee.createElement(uJ.Provider,{value:E},t))}function awe(){return ee.useContext(uJ)}const L_={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},lwe="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",mU=t=>Array.isArray(t);function cJ({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:i=void 0,extensions:r}={}){var s,o,a;let l=null,u=!1,c;if(n){if(!(n in L_))throw new Error("Preset must be one of: "+Object.keys(L_).join(", "));t=L_[n],e=lwe}if(u=mU(t),c=mU(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(s=t.split(".").pop())==null||(o=s.split("?"))==null||(a=o.shift())==null?void 0:a.toLowerCase(),l=u?yq:c==="hdr"?J6e:c==="exr"?Z6e:null,!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);const f=ch(l,u?[t]:t,y=>{y.setPath==null||y.setPath(e),r&&r(y)}),h=u?f[0]:f;h.mapping=u?ll:tp;const d=3001,p=3e3;return"colorSpace"in h?h.colorSpace=i??u?"srgb":"srgb-linear":h.encoding=i??u?d:p,h}const uwe=t=>t.current&&t.current.isScene,cwe=t=>uwe(t)?t.current:t;function XI(t,e,n,i,r=0){const s=cwe(e||n),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return t!=="only"&&(s.environment=i),t&&(s.background=i),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=r),()=>{t!=="only"&&(s.environment=a),t&&(s.background=o),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function YI({scene:t,background:e=!1,blur:n,map:i}){const r=cn(s=>s.scene);return ee.useLayoutEffect(()=>{if(i)return XI(e,t,r,i,n)},[r,t,i,e,n]),null}function fJ({background:t=!1,scene:e,blur:n,...i}){const r=cJ(i),s=cn(o=>o.scene);return ee.useLayoutEffect(()=>XI(t,e,s,r,n),[r,t,e,s,n]),null}function fwe({children:t,near:e=1,far:n=1e3,resolution:i=256,frames:r=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:c,preset:f=void 0,extensions:h}){const d=cn(S=>S.gl),p=cn(S=>S.scene),y=ee.useRef(null),[A]=ee.useState(()=>new iu),g=ee.useMemo(()=>{const S=new OA(i);return S.texture.type=hn,S},[i]);ee.useLayoutEffect(()=>(r===1&&y.current.update(d,A),XI(o,l,p,g.texture,a)),[t,A,g.texture,l,p,o,r,d]);let x=1;return Qo(()=>{(r===1/0||x<r)&&(y.current.update(d,A),x++)}),ee.createElement(ee.Fragment,null,q9(ee.createElement(ee.Fragment,null,t,ee.createElement("cubeCamera",{ref:y,args:[e,n,g]}),u||f?ee.createElement(fJ,{background:!0,files:u,preset:f,path:c,extensions:h}):s?ee.createElement(YI,{background:!0,map:s,extensions:h}):null),A))}function hwe(t){var e,n,i,r;const s=cJ(t),o=t.map||s;ee.useMemo(()=>Z6({GroundProjectedEnvImpl:Pve}),[]);const a=ee.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(i=(r=t.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return ee.createElement(ee.Fragment,null,ee.createElement(YI,Yi({},t,{map:o})),ee.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function dwe(t){return t.ground?ee.createElement(hwe,t):t.map?ee.createElement(YI,t):t.children?ee.createElement(fwe,t):ee.createElement(fJ,t)}const pwe=ee.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:i=1,height:r=1,blur:s=1,near:o=0,far:a=10,resolution:l=512,smooth:u=!0,color:c="#000000",depthWrite:f=!1,renderOrder:h,...d},p)=>{const y=ee.useRef(null),A=cn(L=>L.scene),g=cn(L=>L.gl),x=ee.useRef(null);i=i*(Array.isArray(t)?t[0]:t||1),r=r*(Array.isArray(t)?t[1]:t||1);const[S,E,w,C,b,I,M]=ee.useMemo(()=>{const L=new Rt(l,l),U=new Rt(l,l);U.texture.generateMipmaps=L.texture.generateMipmaps=!1;const q=new cl(i,r).rotateX(Math.PI/2),K=new yn(q),k=new oh;k.depthTest=k.depthWrite=!1,k.onBeforeCompile=G=>{G.uniforms={...G.uniforms,ucolor:{value:new Je(c)}},G.fragmentShader=G.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),G.fragmentShader=G.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const W=new yt(g1e),V=new yt(v1e);return V.depthTest=W.depthTest=!1,[L,q,k,K,W,V,U]},[l,i,r,t,c]),R=L=>{C.visible=!0,C.material=b,b.uniforms.tDiffuse.value=S.texture,b.uniforms.h.value=L*1/256,g.setRenderTarget(M),g.render(C,x.current),C.material=I,I.uniforms.tDiffuse.value=M.texture,I.uniforms.v.value=L*1/256,g.setRenderTarget(S),g.render(C,x.current),C.visible=!1};let D=0,F,O;return Qo(()=>{x.current&&(e===1/0||D<e)&&(D++,F=A.background,O=A.overrideMaterial,y.current.visible=!1,A.background=null,A.overrideMaterial=w,g.setRenderTarget(S),g.render(A,x.current),R(s),u&&R(s*.4),g.setRenderTarget(null),y.current.visible=!0,A.overrideMaterial=O,A.background=F)}),ee.useImperativeHandle(p,()=>y.current,[]),ee.createElement("group",Yi({"rotation-x":Math.PI/2},d,{ref:y}),ee.createElement("mesh",{renderOrder:h,geometry:E,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},ee.createElement("meshBasicMaterial",{transparent:!0,map:S.texture,opacity:n,depthWrite:f})),ee.createElement("orthographicCamera",{ref:x,args:[-i/2,i/2,r/2,-r/2,o,a]}))});function mwe(t){return t.isLight}function gwe(t){return!!t.geometry}const hJ=ee.createContext(null),vwe=rJ({color:new Je,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${parseInt(Lr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),Awe=ee.forwardRef(({children:t,temporal:e,frames:n=40,limit:i=1/0,blend:r=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:u=2,resolution:c=1024,toneMapped:f=!0,...h},d)=>{Z6({SoftShadowMaterial:vwe});const p=cn(C=>C.gl),y=cn(C=>C.scene),A=cn(C=>C.camera),g=cn(C=>C.invalidate),x=ee.useRef(null),S=ee.useRef(null),[E]=ee.useState(()=>new xwe(p,y,c));ee.useLayoutEffect(()=>{E.configure(x.current)},[]);const w=ee.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,n),blend:Math.max(2,n===1/0?r:n),count:0,getMesh:()=>x.current,reset:()=>{E.clear();const C=x.current.material;C.opacity=0,C.alphaTest=0,w.count=0},update:(C=1)=>{const b=x.current.material;w.temporal?(b.opacity=Math.min(o,b.opacity+o/w.blend),b.alphaTest=Math.min(a,b.alphaTest+a/w.blend)):(b.opacity=o,b.alphaTest=a),S.current.visible=!0,E.prepare();for(let I=0;I<C;I++)w.lights.forEach(M=>M.update()),E.update(A,w.blend);S.current.visible=!1,E.finish()}}),[E,A,y,e,n,r,o,a]);return ee.useLayoutEffect(()=>{w.reset(),!w.temporal&&w.frames!==1/0&&w.update(w.blend)}),ee.useImperativeHandle(d,()=>w,[w]),Qo(()=>{(w.temporal||w.frames===1/0)&&w.count<w.frames&&w.count<i&&(g(),w.update(),w.count++)}),ee.createElement("group",h,ee.createElement("group",{traverse:()=>null,ref:S},ee.createElement(hJ.Provider,{value:w},t)),ee.createElement("mesh",{receiveShadow:!0,ref:x,scale:s,rotation:[-Math.PI/2,0,0]},ee.createElement("planeGeometry",null),ee.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:l,blend:u,map:E.progressiveLightMap2.texture})))}),ywe=ee.forwardRef(({castShadow:t=!0,bias:e=.001,mapSize:n=512,size:i=5,near:r=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:u=8,intensity:c=parseInt(Lr.replace(/\D+/g,""))>=155?Math.PI:1,ambient:f=.5,...h},d)=>{const p=ee.useRef(null),y=new j(...a).length(),A=ee.useContext(hJ),g=ee.useCallback(()=>{let S;if(p.current)for(let E=0;E<p.current.children.length;E++)if(S=p.current.children[E],Math.random()>f)S.position.set(a[0]+cs.randFloatSpread(l),a[1]+cs.randFloatSpread(l),a[2]+cs.randFloatSpread(l));else{let w=Math.acos(2*Math.random()-1)-Math.PI/2,C=2*Math.PI*Math.random();S.position.set(Math.cos(w)*Math.cos(C)*y,Math.abs(Math.cos(w)*Math.sin(C)*y),Math.sin(w)*y)}},[l,f,y,...a]),x=ee.useMemo(()=>({update:g}),[g]);return ee.useImperativeHandle(d,()=>x,[x]),ee.useLayoutEffect(()=>{const S=p.current;return A&&A.lights.set(S.uuid,x),()=>void A.lights.delete(S.uuid)},[A,x]),ee.createElement("group",Yi({ref:p},h),Array.from({length:u},(S,E)=>ee.createElement("directionalLight",{key:E,castShadow:t,"shadow-bias":e,"shadow-mapSize":[n,n],intensity:c/u},ee.createElement("orthographicCamera",{attach:"shadow-camera",args:[-i,i,i,-i,r,s]}))))});class xwe{constructor(e,n,i=1024){this.renderer=e,this.res=i,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new Je,this.clearAlpha=0;const r={type:hn,magFilter:vt,minFilter:vt};this.progressiveLightMap1=new Rt(this.res,this.res,r),this.progressiveLightMap2=new Rt(this.res,this.res,r),this.discardMat=new iwe,this.targetMat=new M9({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{gwe(e)?this.meshes.push({object:e,material:e.material}):mwe(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,n=100){if(!this.object)return;this.averagingWindow.value=n,this.object.material=this.targetMat;const i=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,r=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(i),this.previousShadowMap.value=r.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}const Swe={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Ewe({radius:t,adjustCamera:e}){const n=awe();return ee.useEffect(()=>{e&&n.refresh().clip().fit()},[t,e]),null}function wwe({children:t,center:e,adjustCamera:n=!0,intensity:i=.5,shadows:r="contact",environment:s="city",preset:o="rembrandt",...a}){var l,u,c,f,h,d,p,y;const A=typeof o=="string"?Swe[o]:o,[{radius:g,height:x},S]=ee.useState({radius:0,width:0,height:0,depth:0}),E=(l=r==null?void 0:r.bias)!==null&&l!==void 0?l:-1e-4,w=(u=r==null?void 0:r.normalBias)!==null&&u!==void 0?u:0,C=(c=r==null?void 0:r.size)!==null&&c!==void 0?c:1024,b=(f=r==null?void 0:r.offset)!==null&&f!==void 0?f:0,I=r==="contact"||(r==null?void 0:r.type)==="contact",M=r==="accumulative"||(r==null?void 0:r.type)==="accumulative",R={...typeof r=="object"?r:{}},D=s?typeof s=="string"?{preset:s}:s:null,F=ee.useCallback(O=>{const{width:L,height:U,depth:q,boundingSphere:K}=O;S({radius:K.radius,width:L,height:U,depth:q}),e!=null&&e.onCentered&&e.onCentered(O)},[]);return ee.createElement(ee.Fragment,null,ee.createElement("ambientLight",{intensity:i/3}),ee.createElement("spotLight",{penumbra:1,position:[A.main[0]*g,A.main[1]*g,A.main[2]*g],intensity:i*2,castShadow:!!r,"shadow-bias":E,"shadow-normalBias":w,"shadow-mapSize":C}),ee.createElement("pointLight",{position:[A.fill[0]*g,A.fill[1]*g,A.fill[2]*g],intensity:i}),ee.createElement(owe,Yi({fit:!!n,clip:!!n,margin:Number(n),observe:!0},a),ee.createElement(Ewe,{radius:g,adjustCamera:n}),ee.createElement(ewe,Yi({},e,{position:[0,b/2,0],onCentered:F}),t)),ee.createElement("group",{position:[0,-x/2-b/2,0]},I&&ee.createElement(pwe,Yi({scale:g*4,far:g,blur:2},R)),M&&ee.createElement(Awe,Yi({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:g*4},R),ee.createElement(ywe,{amount:(h=R.amount)!==null&&h!==void 0?h:8,radius:(d=R.radius)!==null&&d!==void 0?d:g,ambient:(p=R.ambient)!==null&&p!==void 0?p:.5,intensity:(y=R.intensity)!==null&&y!==void 0?y:1,position:[A.main[0]*g,A.main[1]*g,A.main[2]*g],size:g*4,bias:-E,mapSize:C}))),s&&ee.createElement(dwe,D))}const _we=ee.forwardRef(({children:t,compute:e,width:n,height:i,samples:r=8,renderPriority:s=0,eventPriority:o=0,frames:a=1/0,stencilBuffer:l=!1,depthBuffer:u=!0,generateMipmaps:c=!1,...f},h)=>{const{size:d,viewport:p}=cn(),y=aJ((n||d.width)*p.dpr,(i||d.height)*p.dpr,{samples:r,stencilBuffer:l,depthBuffer:u,generateMipmaps:c}),[A]=ee.useState(()=>new iu),g=ee.useCallback((x,S,E)=>{var w,C;let b=(w=y.texture)==null?void 0:w.__r3f.parent;for(;b&&!(b instanceof In);)b=b.__r3f.parent;if(!b)return!1;E.raycaster.camera||E.events.compute(x,E,(C=E.previousRoot)==null?void 0:C.getState());const[I]=E.raycaster.intersectObject(b);if(!I)return!1;const M=I.uv;if(!M)return!1;S.raycaster.setFromCamera(S.pointer.set(M.x*2-1,M.y*2-1),S.camera)},[]);return ee.useImperativeHandle(h,()=>y.texture,[y]),ee.createElement(ee.Fragment,null,q9(ee.createElement(Cwe,{renderPriority:s,frames:a,fbo:y},t,ee.createElement("group",{onPointerOver:()=>null})),A,{events:{compute:e||g,priority:o}}),ee.createElement("primitive",Yi({object:y.texture},f)))});function Cwe({frames:t,renderPriority:e,children:n,fbo:i}){let r=0,s;return Qo(o=>{(t===1/0||r<t)&&(s=o.gl.autoClear,o.gl.autoClear=!0,o.gl.setRenderTarget(i),o.gl.render(o.scene,o.camera),o.gl.setRenderTarget(null),o.gl.autoClear=s,r++)},e),ee.createElement(ee.Fragment,null,n)}const bwe="/assets/github-icon-909ef216.svg",Twe="/assets/linkedin-icon-f7ffa4d1.svg",Mwe="/assets/instagram-icon-5abd5806.svg",Iwe="/assets/twitter-icon-a7745d49.svg",Rwe="/assets/sushant-bhat-resume-dc9f6988.pdf",Pwe=Nt.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    height: 200vh;
  }
`,Bwe=Nt.div`
  height: 100vh;
  scroll-snap-align: center;
  width: 1400px;
  display: flex;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    width: 100%;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
`,Dwe=Nt.div`
  font-size: 44px;
  color: #da4ea2;

  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`,Lwe=Nt.h1`
  font-size: 74px;
  margin-bottom: 0px;

  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`,Owe=Nt.p`
  font-size: 24px;
  color: lightgray;
  margin-top: 0%;

  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`,Fwe=Nt.div`
  flex: 2;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;

  @media only screen and (max-width: 768px) {
    flex: 1;
    align-items: center;
  }
`,Uwe=Nt.img`
  height: 5px;
`,kwe=Nt.div`
  display: flex;
  justify-content: space-between;
`,Nwe=Nt.div`
  background-color: #da4ea2;
  color: white;
  font-weight: 500;
  width: 100px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  text-align: center;
`,Gwe=Nt.a`
  background-color: #da4ea2;
  height: 20px;
  color: white;
  font-weight: 500;
  width: 100px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  text-align: center;
  text-decoration: none;
`,zwe=Nt.div`
  display: flex;
  justify-content: space-around;
`,j5=Nt.img`
  width: 70px;
  height: 70px;
  cursor: pointer;
`,Hwe=Nt.div`
  flex: 3;
  position: relative;
  @media only screen and (max-width: 768px) {
    flex: 1;
    width: 100%;
  }
`,Vwe=Nt.img`
  width: 500px;
  height: 400px;
  object-fit: contain;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  animation: animate 2s infinite ease alternate;

  @media only screen and (max-width: 768px) {
    width: 300px;
    height: 300px;
  }

  @keyframes animate {
    to {
      transform: translateY(30px);
    }
  }
`,Qwe=()=>{const t="https://github.com/bhatsushant",e="https://www.linkedin.com/in/sushantbhat93/",n="https://www.instagram.com/sushantbhat_22/",i="https://twitter.com/sushantbhat_22",r=()=>window.open(t,"_blank"),s=()=>window.open(e,"_blank"),o=()=>window.open(n,"_blank"),a=()=>window.open(i,"_blank");return Ie.jsxs(Pwe,{id:"hero",children:[Ie.jsx(Are,{}),Ie.jsxs(Bwe,{children:[Ie.jsxs(Fwe,{children:[Ie.jsx(Lwe,{children:"Sushant Bhat"}),Ie.jsx(Uwe,{src:"./public/img/line.png"}),Ie.jsx(Dwe,{children:"Full Stack Developer"}),Ie.jsx(Owe,{children:"Building Seamless Web Experiences from Front to Back"}),Ie.jsxs(kwe,{children:[Ie.jsx(Nwe,{children:Ie.jsx(Ju,{spy:!0,smooth:!0,offset:50,duration:500,to:"about",children:"Learn More"})}),Ie.jsx(Gwe,{href:Rwe,download:"",children:"Download CV"})]}),Ie.jsxs(zwe,{children:[Ie.jsx(j5,{src:bwe,onClick:r}),Ie.jsx(j5,{src:Twe,onClick:s,className:"tooltip"}),Ie.jsx(j5,{src:Mwe,onClick:o,className:"tooltip"}),Ie.jsx(j5,{src:Iwe,onClick:a,className:"tooltip"})]})]}),Ie.jsxs(Hwe,{children:[Ie.jsx(QA,{children:Ie.jsxs(ee.Suspense,{fallback:null,children:[Ie.jsx(d2,{enableZoom:!1}),Ie.jsx("ambientLight",{intensity:1}),Ie.jsx("directionalLight",{position:[3,2,1]}),Ie.jsx(qI,{args:[1,100,200],scale:2.4,children:Ie.jsx(lJ,{color:"#3d1c56",attach:"material",distort:.5,speed:2})})]})}),Ie.jsx(Vwe,{src:"./public/img/profile.jpg"})]})]})]})},Wwe=()=>{const t=ee.useRef();return Qo(e=>t.current.position.x=Math.sin(e.clock.elapsedTime)*2),Ie.jsxs("mesh",{children:[Ie.jsx("boxGeometry",{}),Ie.jsx("meshStandardMaterial",{children:Ie.jsxs(_we,{attach:"map",children:[Ie.jsx($Ee,{makeDefault:!0,position:[0,0,5]}),Ie.jsx("color",{attach:"background",args:["#dc9dcd"]}),Ie.jsx(JEe,{ref:t,fontSize:3,color:"#555",children:"Skills"})]})})]})},jwe=Nt.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  /* background: url('./public/img/bg.jpeg'); */

  @media only screen and (max-width: 768px) {
    height: 200vh;
  }
`,qwe=Nt.div`
  height: 100vh;
  scroll-snap-align: center;
  width: 1400px;
  display: flex;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    width: 100%;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
`,Xwe=Nt.div`
  flex: 1;

  @media only screen and (max-width: 768px) {
    flex: 1;
    align-items: center;
  }
`,Ywe=Nt.img`
  height: 5px;
`,Kwe=Nt.div`
  background-color: #da4ea2;
  color: white;
  font-weight: 500;
  width: 120px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  text-align: center;
`,Jwe=Nt.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;

  @media only screen and (max-width: 768px) {
    flex: 1;
    width: 100%;
  }
`;Nt.div`
  font-size: 44px;
  color: #da4ea2;

  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`;const Zwe=Nt.h1`
  font-size: 74px;
  margin-bottom: 0px;
  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`,$we=Nt.p`
  font-size: 24px;
  color: lightgray;
  margin-top: 0%;

  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`,e4e=()=>Ie.jsx(jwe,{id:"about",children:Ie.jsxs(qwe,{children:[Ie.jsx(Xwe,{children:Ie.jsxs(QA,{camera:{position:[5,5,5],fov:25},children:[Ie.jsx("ambientLight",{intensity:1}),Ie.jsx("directionalLight",{position:[3,2,1]}),Ie.jsx(Wwe,{}),Ie.jsx(d2,{enableZoom:!1,autoRotate:!0})]})}),Ie.jsxs(Jwe,{children:[Ie.jsx(Zwe,{children:"Full Stack Developer"}),Ie.jsx(Ywe,{src:"./public/img/line.png"}),Ie.jsx($we,{children:"Developing comprehensive applications with the MERN Stack: React, MongoDB, Express, Node.js. Experience working with additional technologies such as Redux, GraphQL, and Redis."}),Ie.jsx(Kwe,{children:Ie.jsx(Ju,{spy:!0,smooth:!0,offset:50,duration:500,to:"work",children:"Learn More"})})]})]})});/**
 * postprocessing v6.33.0 build Fri Aug 11 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var ph="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",t4e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,q5=class extends yt{constructor(t=!1,e=!1){super({name:"BokehMaterial",defines:{PASS:t?"2":"1"},uniforms:{inputBuffer:new ye(null),cocBuffer:new ye(null),texelSize:new ye(new he),kernel64:new ye(null),kernel16:new ye(null),scale:new ye(1)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:t4e,vertexShader:ph}),e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set cocBuffer(t){this.uniforms.cocBuffer.value=t}setCoCBuffer(t){this.uniforms.cocBuffer.value=t}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(t){return this.scale}setScale(t){this.scale=t}generateKernel(){const t=2.39996323,e=new Float64Array(128),n=new Float64Array(32);let i=0,r=0;for(let s=0,o=Math.sqrt(80);s<80;++s){const a=s*t,l=Math.sqrt(s)/o,u=l*Math.cos(a),c=l*Math.sin(a);s%5===0?(n[r++]=u,n[r++]=c):(e[i++]=u,e[i++]=c)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=n}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Yt={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},Td={RED:0,GREEN:1,BLUE:2,ALPHA:3},dJ="",Wn="srgb",Ap="srgb-linear",Q1={FULL:0,SINGLE:1},v3={DEFAULT:0,KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},pa={NONE:0,DEPTH:1,CONVOLUTION:2},zn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},wf={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3},Fp={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},n4e={SCALE_UP:"lut.scaleup"},KI={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},pJ=Number(Lr.replace(/\D+/g,"")),JI=pJ>=152,mJ=new Map([[BA,Ap],[Lo,Wn]]),i4e=new Map([[Ap,BA],[Wn,Lo]]);function au(t){return t===null?null:JI?t.outputColorSpace:mJ.get(t.outputEncoding)}function or(t,e){t!==null&&(JI?t.colorSpace=e:t.encoding=i4e.get(e))}function O_(t,e){t===null||e===null||(JI?e.colorSpace=t.colorSpace:e.encoding=t.encoding)}function p2(t){return pJ<154?t.replace("colorspace_fragment","encodings_fragment"):t}function Md(t,e,n){return t*(e-n)-e}function Of(t,e,n){return Math.min(Math.max((t+e)/(e-n),0),1)}var r4e=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#ifdef LOG_DEPTH
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#endif
return depth;}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,s4e=class extends yt{constructor(t){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ye(null),focusDistance:new ye(0),focusRange:new ye(0),cameraNear:new ye(.3),cameraFar:new ye(1e3)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:r4e,vertexShader:ph}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(t)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=wr){this.depthBuffer=t,this.depthPacking=e}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(t){this.uniforms.focusDistance.value=t}get worldFocusDistance(){return-Md(this.focusDistance,this.near,this.far)}set worldFocusDistance(t){this.focusDistance=Of(-t,this.near,this.far)}getFocusDistance(t){this.uniforms.focusDistance.value=t}setFocusDistance(t){this.uniforms.focusDistance.value=t}get focalLength(){return this.focusRange}set focalLength(t){this.focusRange=t}get focusRange(){return this.uniforms.focusRange.value}set focusRange(t){this.uniforms.focusRange.value=t}get worldFocusRange(){return-Md(this.focusRange,this.near,this.far)}set worldFocusRange(t){this.focusRange=Of(-t,this.near,this.far)}getFocalLength(t){return this.focusRange}setFocalLength(t){this.focusRange=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},o4e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,a4e="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",l4e=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],u4e=class extends yt{constructor(t=new qt){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new ye(null),texelSize:new ye(new qt),scale:new ye(1),kernel:new ye(0)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:o4e,vertexShader:a4e}),this.fragmentShader=p2(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=Fp.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return l4e[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,i=1/e;this.uniforms.texelSize.value.set(n,i,n*.5,i*.5)}},c4e=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,gJ=class extends yt{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new ye(null),opacity:new ye(1)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:c4e,vertexShader:ph}),this.fragmentShader=p2(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},f4e=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,h4e=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,d4e=class extends yt{constructor(t=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ye(null),cameraNear:new ye(.3),cameraFar:new ye(1e3)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:f4e,vertexShader:h4e}),this.depthBuffer=t,this.depthPacking=zo,this.copyCameraSettings(e)}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=zo){this.depthBuffer=t,this.depthPacking=e}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},p4e=`#include <packing>
varying vec2 vUv;
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
#if INPUT_DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if INPUT_DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
void main(){
#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING
gl_FragColor=texture2D(depthBuffer,vUv);
#else
float depth=readDepth(vUv);
#if OUTPUT_DEPTH_PACKING == 3201
gl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);
#else
gl_FragColor=vec4(vec3(depth),1.0);
#endif
#endif
}`,m4e=`varying vec2 vUv;
#if DEPTH_COPY_MODE == 1
uniform vec2 texelPosition;
#endif
void main(){
#if DEPTH_COPY_MODE == 1
vUv=texelPosition;
#else
vUv=position.xy*0.5+0.5;
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,g4e=class extends yt{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new ye(null),texelPosition:new ye(new he)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:p4e,vertexShader:m4e}),this.depthCopyMode=Q1.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set inputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=wr){this.depthBuffer=t,this.inputDepthPacking=e}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(t){this.uniforms.texelPosition.value=t}get mode(){return this.depthCopyMode}set mode(t){this.depthCopyMode=t,this.defines.DEPTH_COPY_MODE=t.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(t){this.mode=t}},v4e=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in highp float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;highp float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){highp float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
highp vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
highp vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,A4e="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",y4e=class extends yt{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ye(null),normalBuffer:new ye(null),texelSize:new ye(new he)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:v4e,vertexShader:A4e})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=wr){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},x4e=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.x*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.x=a+b/d;
#endif
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.y*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.y=a+b/d;
#endif
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,vJ=class extends yt{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:v3.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new ye(null),depthBuffer0:new ye(null),depthBuffer1:new ye(null),cameraNearFar:new ye(new he(1,1))},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:x4e,vertexShader:ph}),this.depthMode=rS}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,e=wr){this.depthBuffer0=t,this.depthPacking0=e}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,e=wr){this.depthBuffer1=t,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?v3.KEEP_MAX_DEPTH:v3.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let e;switch(t){case JM:e="false";break;case ZM:e="true";break;case z3:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case x6:e="abs(d1 - d0) > DEPTH_EPSILON";break;case rS:e="d0 > d1";break;case G3:e="d0 >= d1";break;case $M:e="d0 <= d1";break;case e9:default:e="d0 < d1";break}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof Qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},S4e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,E4e="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",w4e=class extends yt{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new ye(null),texelSize:new ye(new he)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:S4e,vertexShader:E4e}),this.fragmentShader=p2(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},_4e=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,C4e="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",b4e=class extends yt{constructor(t,e,n,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Lr.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new ye(null),depthBuffer:new ye(null),resolution:new ye(new he),texelSize:new ye(new he),cameraNear:new ye(.3),cameraFar:new ye(1e3),aspect:new ye(1),time:new ye(0)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:r}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(i)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=wr){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=_4e.replace(zn.FRAGMENT_HEAD,t.get(zn.FRAGMENT_HEAD)||"").replace(zn.FRAGMENT_MAIN_UV,t.get(zn.FRAGMENT_MAIN_UV)||"").replace(zn.FRAGMENT_MAIN_IMAGE,t.get(zn.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=C4e.replace(zn.VERTEX_HEAD,t.get(zn.VERTEX_HEAD)||"").replace(zn.VERTEX_MAIN_SUPPORT,t.get(zn.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=p2(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return zn}},T4e=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);
#include <dithering_fragment>
}`,M4e=class extends yt{constructor(t){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new ye(null),lightPosition:new ye(t),density:new ye(1),decay:new ye(1),weight:new ye(1),exposure:new ye(1),clampMax:new ye(1)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:T4e,vertexShader:ph})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(t){this.uniforms.lightPosition.value=t}get density(){return this.uniforms.density.value}set density(t){this.uniforms.density.value=t}getDensity(){return this.uniforms.density.value}setDensity(t){this.uniforms.density.value=t}get decay(){return this.uniforms.decay.value}set decay(t){this.uniforms.decay.value=t}getDecay(){return this.uniforms.decay.value}setDecay(t){this.uniforms.decay.value=t}get weight(){return this.uniforms.weight.value}set weight(t){this.uniforms.weight.value=t}getWeight(){return this.uniforms.weight.value}setWeight(t){this.uniforms.weight.value=t}get exposure(){return this.uniforms.exposure.value}set exposure(t){this.uniforms.exposure.value=t}getExposure(){return this.uniforms.exposure.value}setExposure(t){this.uniforms.exposure.value=t}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(t){this.uniforms.clampMax.value=t}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(t){this.uniforms.clampMax.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){const e=Math.floor(t);this.defines.SAMPLES_INT=e.toFixed(0),this.defines.SAMPLES_FLOAT=e.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}},I4e=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,R4e=class extends yt{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Lr.replace(/\D+/g,"")},uniforms:{inputBuffer:new ye(null),threshold:new ye(0),smoothing:new ye(1),range:new ye(null)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:I4e,vertexShader:ph}),this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},P4e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,B4e=class extends yt{constructor(t=null){super({name:"MaskMaterial",uniforms:{maskTexture:new ye(t),inputBuffer:new ye(null),strength:new ye(1)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:P4e,vertexShader:ph}),this.colorChannel=Td.RED,this.maskFunction=KI.DISCARD}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set maskTexture(t){this.uniforms.maskTexture.value=t,delete this.defines.MASK_PRECISION_HIGH,t.type!==_n&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(t){this.maskTexture=t}set colorChannel(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}setColorChannel(t){this.colorChannel=t}set maskFunction(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}setMaskFunction(t){this.maskFunction=t}get inverted(){return this.defines.INVERTED!==void 0}set inverted(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get strength(){return this.uniforms.strength.value}set strength(t){this.uniforms.strength.value=t}getStrength(){return this.strength}setStrength(t){this.strength=t}},D4e="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",L4e="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",O4e=class extends yt{constructor(t=new he){super({name:"OutlineMaterial",uniforms:{inputBuffer:new ye(null),texelSize:new ye(new he)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:D4e,vertexShader:L4e}),this.uniforms.texelSize.value.set(t.x,t.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},F4e=`#include <common>
#include <packing>
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
uniform lowp sampler2D normalBuffer;
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
uniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);
#ifdef PERSPECTIVE_CAMERA
float linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearSampleDepth=sampleDepth;
#endif
float proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){
#ifdef NORMAL_DEPTH
vec4 normalDepth=texture2D(normalDepthBuffer,vUv);
#else
vec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));
#endif
float ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);
#ifdef PERSPECTIVE_CAMERA
float linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearDepth=depth;
#endif
if(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);
#ifdef LEGACY_INTENSITY
ao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);
#endif
}gl_FragColor.r=ao;}`,U4e="uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}",k4e=class extends yt{constructor(t){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ye(null),normalBuffer:new ye(null),normalDepthBuffer:new ye(null),noiseTexture:new ye(null),inverseProjectionMatrix:new ye(new it),projectionMatrix:new ye(new it),texelSize:new ye(new he),cameraNearFar:new ye(new he),distanceCutoff:new ye(new he),proximityCutoff:new ye(new he),noiseScale:new ye(new he),minRadiusScale:new ye(.33),intensity:new ye(1),fade:new ye(.01),bias:new ye(0)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:F4e,vertexShader:U4e}),this.copyCameraSettings(t),this.resolution=new he,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,t!==null?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(t){this.normalDepthBuffer=t}set normalBuffer(t){this.uniforms.normalBuffer.value=t}setNormalBuffer(t){this.uniforms.normalBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=wr){this.depthBuffer=t,this.depthPacking=e}set noiseTexture(t){this.uniforms.noiseTexture.value=t}setNoiseTexture(t){this.uniforms.noiseTexture.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){this.defines.SAMPLES_INT=t.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/t).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(t){this.defines.SPIRAL_TURNS=t.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(t){this.rings=t}get intensity(){return this.uniforms.intensity.value}set intensity(t){this.uniforms.intensity.value=t,this.defines.LEGACY_INTENSITY===void 0&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(t){this.uniforms.intensity.value=t}get fade(){return this.uniforms.fade.value}set fade(t){this.uniforms.fade.value=t}getFade(){return this.uniforms.fade.value}setFade(t){this.uniforms.fade.value=t}get bias(){return this.uniforms.bias.value}set bias(t){this.uniforms.bias.value=t}getBias(){return this.uniforms.bias.value}setBias(t){this.uniforms.bias.value=t}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(t){this.uniforms.minRadiusScale.value=t}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(t){this.uniforms.minRadiusScale.value=t}updateRadius(){const t=this.r*this.resolution.height;this.defines.RADIUS=t.toFixed(11),this.defines.RADIUS_SQ=(t*t).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(t){this.r=Math.min(Math.max(t,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(t){this.radius=t}get distanceScaling(){return!0}set distanceScaling(t){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(t){this.distanceScaling=t}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.distanceFalloff,0),1))}get worldDistanceThreshold(){return-Md(this.distanceThreshold,this.near,this.far)}set worldDistanceThreshold(t){this.distanceThreshold=Of(-t,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(t){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+t,0),1)}get worldDistanceFalloff(){return-Md(this.distanceFalloff,this.near,this.far)}set worldDistanceFalloff(t){this.distanceFalloff=Of(-t,this.near,this.far)}setDistanceCutoff(t,e){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.proximityFalloff,0),1))}get worldProximityThreshold(){return-Md(this.proximityThreshold,this.near,this.far)}set worldProximityThreshold(t){this.proximityThreshold=Of(-t,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(t){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+t,0),1)}get worldProximityFalloff(){return-Md(this.proximityFalloff,this.near,this.far)}set worldProximityFalloff(t){this.proximityFalloff=Of(-t,this.near,this.far)}setProximityCutoff(t,e){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),this.uniforms.projectionMatrix.value.copy(t.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(t.projectionMatrix).invert(),t instanceof Qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms,i=n.noiseTexture.value;i!==null&&n.noiseScale.value.set(t/i.image.width,e/i.image.height),n.texelSize.value.set(1/t,1/e),this.resolution.set(t,e),this.updateRadius()}},N4e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,G4e="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",z4e=class extends yt{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new ye(null),supportBuffer:new ye(null),texelSize:new ye(new he),radius:new ye(.85)},blending:Ut,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:N4e,vertexShader:G4e}),this.fragmentShader=p2(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},H4e=new bp,Gu=null;function V4e(){if(Gu===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);Gu=new Xt,Gu.setAttribute!==void 0?(Gu.setAttribute("position",new An(t,3)),Gu.setAttribute("uv",new An(e,2))):(Gu.addAttribute("position",new An(t,3)),Gu.addAttribute("uv",new An(e,2)))}return Gu}var Ji=class AJ{constructor(e="Pass",n=new iu,i=H4e){this.name=e,this.renderer=null,this.scene=n,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new yn(V4e(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new iu),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=wr){}render(e,n,i,r,s){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,i){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof Rt||n instanceof Li||n instanceof Vn||n instanceof AJ)&&this[e].dispose()}}},yJ=class extends Ji{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new gJ,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Rt(1,1,{minFilter:At,magFilter:At,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,i,r){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==_n?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":au(t)===Wn&&or(this.renderTarget.texture,Wn))}},Q4e=class extends Ji{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,i,r){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},gU=new Je,m2=class extends Ji{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,i,r){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,u=o>=0;l?(t.getClearColor(gU),t.setClearColor(s,u?o:a)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(gU,a):u&&t.setClearAlpha(a)}},Up=class extends Ji{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new m2,this.overrideMaterialManager=n===null?null:new AU(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new AU(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,i,r){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,u=s.background,c=t.shadowMap.autoUpdate,f=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(f),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=u,t.shadowMap.autoUpdate=c}},ZI=class extends Ji{constructor(t,e,{renderTarget:n,resolutionScale:i=1,width:r=jn.AUTO_SIZE,height:s=jn.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new Up(t,e,new oh({depthPacking:zo}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const u=l.clearPass;u.overrideClearColor=new Je(16777215),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Rt(1,1,{minFilter:vt,magFilter:vt}),this.renderTarget.texture.name="DepthPass.Target");const c=this.resolution=new jn(this,o,a,i);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,i,r){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},xJ=class extends Ji{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=jn.AUTO_SIZE,height:i=jn.AUTO_SIZE,resolutionX:r=n,resolutionY:s=i}={}){super("DepthDownsamplingPass");const o=new y4e;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Rt(1,1,{minFilter:vt,magFilter:vt,depthBuffer:!1,type:Mn}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new jn(this,r,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=wr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,i,r){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const i=t.getContext();if(!(i.getExtension("EXT_color_buffer_float")||i.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},W4e=class extends Ji{constructor({depthPacking:t=zo}={}){super("DepthCopyPass");const e=new g4e;e.outputDepthPacking=t,this.fullscreenMaterial=e,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Rt(1,1,{type:t===zo?_n:Mn,minFilter:vt,magFilter:vt,depthBuffer:!1}),this.renderTarget.texture.name="DepthCopyPass.Target"}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get depthPacking(){return this.fullscreenMaterial.outputDepthPacking}getDepthPacking(){return this.fullscreenMaterial.outputDepthPacking}setDepthTexture(t,e=wr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.inputDepthPacking=e}render(t,e,n,i,r){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.renderTarget.setSize(t,e)}},X5=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]);function j4e(t){return(t[0]*X5[0]+t[1]*X5[1]+t[2]*X5[2]+t[3]*X5[3])/255}var q4e=class extends W4e{constructor({depthPacking:t=zo,mode:e=Q1.SINGLE}={}){super({depthPacking:t}),this.name="DepthPickingPass",this.fullscreenMaterial.mode=e,this.pixelBuffer=t===zo?new Uint8Array(4):new Float32Array(4),this.callback=null}readDepth(t){return this.fullscreenMaterial.texelPosition.set(t.x*.5+.5,t.y*.5+.5),new Promise(e=>{this.callback=e})}render(t,e,n,i,r){const s=this.fullscreenMaterial,o=s.mode;if(o===Q1.FULL&&super.render(t),this.callback!==null){const a=this.renderTarget,l=this.pixelBuffer,u=a.texture.type!==Mn;let c=0,f=0;if(o===Q1.SINGLE)super.render(t);else{const h=s.texelPosition;c=Math.round(h.x*a.width),f=Math.round(h.y*a.height)}t.readRenderTargetPixels(a,c,f,1,1,l),this.callback(u?j4e(l):l[0]),this.callback=null}}setSize(t,e){this.fullscreenMaterial.mode===Q1.FULL&&super.setSize(t,e)}};function vU(t,e,n){for(const i of e){const r="$1"+t+i.charAt(0).toUpperCase()+i.slice(1),s=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,r))}}function X4e(t,e,n){let i=e.getFragmentShader(),r=e.getVertexShader();const s=i!==void 0&&/mainImage/.test(i),o=i!==void 0&&/mainUv/.test(i);if(n.attributes|=e.getAttributes(),i===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(o&&n.attributes&pa.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let u=l.get(zn.FRAGMENT_HEAD)||"",c=l.get(zn.FRAGMENT_MAIN_UV)||"",f=l.get(zn.FRAGMENT_MAIN_IMAGE)||"",h=l.get(zn.VERTEX_HEAD)||"",d=l.get(zn.VERTEX_MAIN_SUPPORT)||"";const p=new Set,y=new Set;if(o&&(c+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),r!==null&&/mainSupport/.test(r)){const x=/mainSupport *\([\w\s]*?uv\s*?\)/.test(r);d+=`	${t}MainSupport(`,d+=x?`vUv);
`:`);
`;for(const S of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const E of S[1].split(/\s*,\s*/))n.varyings.add(E),p.add(E),y.add(E);for(const S of r.matchAll(a))y.add(S[1])}for(const x of i.matchAll(a))y.add(x[1]);for(const x of e.defines.keys())y.add(x.replace(/\([\w\s,]*\)/g,""));for(const x of e.uniforms.keys())y.add(x);y.delete("while"),y.delete("for"),y.delete("if"),e.uniforms.forEach((x,S)=>n.uniforms.set(t+S.charAt(0).toUpperCase()+S.slice(1),x)),e.defines.forEach((x,S)=>n.defines.set(t+S.charAt(0).toUpperCase()+S.slice(1),x));const A=new Map([["fragment",i],["vertex",r]]);vU(t,y,n.defines),vU(t,y,A),i=A.get("fragment"),r=A.get("vertex");const g=e.blendMode;if(n.blendModes.set(g.blendFunction,g),s){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(f+=e.inputColorSpace===Wn?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==dJ?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const x=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;f+=`${t}MainImage(color0, UV, `,n.attributes&pa.DEPTH&&x.test(i)&&(f+="depth, ",n.readDepth=!0),f+=`color1);
	`;const S=t+"BlendOpacity";n.uniforms.set(S,g.opacity),f+=`color0 = blend${g.blendFunction}(color0, color1, ${S});

	`,u+=`uniform float ${S};

`}if(u+=i+`
`,r!==null&&(h+=r+`
`),l.set(zn.FRAGMENT_HEAD,u),l.set(zn.FRAGMENT_MAIN_UV,c),l.set(zn.FRAGMENT_MAIN_IMAGE,f),l.set(zn.VERTEX_HEAD,h),l.set(zn.VERTEX_MAIN_SUPPORT,d),e.extensions!==null)for(const x of e.extensions)n.extensions.add(x)}}var Y4e=class extends Ji{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new b4e(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new i_e;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Yt.DST)t.attributes|=o.getAttributes()&pa.DEPTH;else{if(t.attributes&o.getAttributes()&pa.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);X4e("e"+e++,o,t)}let n=t.shaderParts.get(zn.FRAGMENT_HEAD),i=t.shaderParts.get(zn.FRAGMENT_MAIN_IMAGE),r=t.shaderParts.get(zn.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&pa.DEPTH?(t.readDepth&&(i=`float depth = readDepth(UV);

	`+i),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===Wn&&(i+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(r=`vec2 transformedUv = vUv;
`+r,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(zn.FRAGMENT_HEAD,n),t.shaderParts.set(zn.FRAGMENT_MAIN_IMAGE,i),t.shaderParts.set(zn.FRAGMENT_MAIN_UV,r);for(const[o,a]of t.shaderParts)a!==null&&t.shaderParts.set(o,a.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=wr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,i,r){for(const s of this.effects)s.update(t,e,i);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=i*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const i of this.effects)i.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==_n&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},ME=class extends Ji{constructor({kernelSize:t=Fp.MEDIUM,resolutionScale:e=.5,width:n=jn.AUTO_SIZE,height:i=jn.AUTO_SIZE,resolutionX:r=n,resolutionY:s=i}={}){super("KawaseBlurPass"),this.renderTargetA=new Rt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new jn(this,r,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new u4e,this._blurMaterial.kernelSize=t,this.copyMaterial=new gJ}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,i,r){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence;let f=e;this.fullscreenMaterial=u;for(let h=0,d=c.length;h<d;++h){const p=h&1?l:a;u.kernel=c[h],u.inputBuffer=f.texture,t.setRenderTarget(p),t.render(s,o),f=p}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=f.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==_n?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):au(t)===Wn&&(or(this.renderTargetA.texture,Wn),or(this.renderTargetB.texture,Wn)))}static get AUTO_SIZE(){return jn.AUTO_SIZE}},K4e=class extends Ji{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:i=1,width:r=jn.AUTO_SIZE,height:s=jn.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new R4e(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Rt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new jn(this,o,a,i);l.addEventListener("change",u=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,i,r){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==_n&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},J4e=class extends Ji{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new m2(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,i,r){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,f=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,c,4294967295),o.stencil.setClear(f),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},Z4e=class extends Ji{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Rt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new w4e,this.upsamplingMaterial=new z4e,this.resolution=new he}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const i=e.clone();i.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(e);for(let n=1,i=t-1;n<i;++n){const r=e.clone();r.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(r)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,i,r){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:u,upsamplingMipmaps:c}=this;let f=e;this.fullscreenMaterial=a;for(let h=0,d=u.length;h<d;++h){const p=u[h];a.setSize(f.width,f.height),a.inputBuffer=f.texture,t.setRenderTarget(p),t.render(s,o),f=p}this.fullscreenMaterial=l;for(let h=c.length-1;h>=0;--h){const d=c[h];l.setSize(f.width,f.height),l.inputBuffer=f.texture,l.supportBuffer=u[h].texture,t.setRenderTarget(d),t.render(s,o),f=d}}setSize(t,e){const n=this.resolution;n.set(t,e);let i=n.width,r=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)i=Math.round(i*.5),r=Math.round(r*.5),this.downsamplingMipmaps[s].setSize(i,r),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(i,r)}initialize(t,e,n){if(n!==void 0){const i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const r of i)r.texture.type=n;if(n!==_n)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(au(t)===Wn)for(const r of i)or(r.texture,Wn)}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},$4e=class extends Ji{constructor(t,e,{renderTarget:n,resolutionScale:i=1,width:r=jn.AUTO_SIZE,height:s=jn.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Up(t,e,new Ip);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const u=l.getClearPass();u.overrideClearColor=new Je(7829503),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Rt(1,1,{minFilter:vt,magFilter:vt}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new jn(this,o,a,i);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,i,r){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},aa=class extends Ji{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,i,r){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==_n&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},F_=1/1e3,e_e=1e3,t_e=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*F_}get fixedDelta(){return this._fixedDelta*F_}set fixedDelta(t){this._fixedDelta=t*e_e}get elapsed(){return this._elapsed*F_}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},n_e=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:i=!1,multisampling:r=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,i,s,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new yJ,this.depthTexture=null,this.passes=[],this.timer=new t_e,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,i=this.multisampling;i>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):i!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new he),i=e.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===_n&&au(e)===Wn&&(or(this.inputBuffer.texture,Wn),or(this.outputBuffer.texture,Wn),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,i,r)}}replaceRenderer(e,n=!0){const i=this.renderer,r=i.domElement.parentNode;return this.setRenderer(e),n&&r!==null&&(r.removeChild(i.domElement),r.appendChild(e.domElement)),i}createDepthTexture(){const e=this.depthTexture=new cu;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=nu,e.type=nl):e.type=Ya,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,i,r){const s=this.renderer,o=s===null?new he:s.getDrawingBufferSize(new he),a={minFilter:At,magFilter:At,stencilBuffer:n,depthBuffer:e,type:i},l=new Rt(o.width,o.height,a);return r>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=r),i===_n&&au(s)===Wn&&or(l.texture,Wn),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const i=this.passes,r=this.renderer,s=r.getDrawingBufferSize(new he),o=r.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(r),e.setSize(s.width,s.height),e.initialize(r,o,a),this.autoRenderToScreen&&(i.length>0&&(i[i.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?i.splice(n,0,e):i.push(e),this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of i)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,i=n.indexOf(e);if(i!==-1&&n.splice(i,1).length>0){if(this.depthTexture!==null){const o=(l,u)=>l||u.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&i===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,i=this.copyPass;let r=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,u;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(n,r,s,e,o),c.needsSwap&&(o&&(i.renderToScreen=c.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),i.render(n,r,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),u=r,r=s,s=u),c instanceof J4e?o=!0:c instanceof Q4e&&(o=!1))}setSize(e,n,i){const r=this.renderer,s=r.getSize(new he);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&r.setSize(e,n,i);const o=r.getDrawingBufferSize(new he);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},i_e=class{constructor(){this.shaderParts=new Map([[zn.FRAGMENT_HEAD,null],[zn.FRAGMENT_MAIN_UV,null],[zn.FRAGMENT_MAIN_IMAGE,null],[zn.VERTEX_HEAD,null],[zn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=pa.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Ap}},U_=!1,AU=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case yr:n=this.materialsFlatShadedDoubleSide;break;case Vi:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case yr:n=this.materialsDoubleSide;break;case Vi:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof yt))return t.clone();const e=t.uniforms,n=new Map;for(const r in e){const s=e[r].value;s.isRenderTargetTexture&&(e[r].value=null,n.set(r,s))}const i=t.clone();for(const r of n)e[r[0]].value=r[1],i.uniforms[r[0]].value=r[1];return i}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=No;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.side=Vi,i}),this.materialsDoubleSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.side=yr,i}),this.materialsFlatShaded=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i.side=Vi,i}),this.materialsFlatShadedDoubleSide=e.map(n=>{const i=this.cloneMaterial(n);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i.side=yr,i})}}render(t,e,n){const i=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,U_){const r=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of r)s[0].material=s[1];this.meshCount!==r.size&&r.clear()}else{const r=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=r}t.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return U_}static set workaroundEnabled(t){U_=t}},zu=-1,jn=class extends uo{constructor(t,e=zu,n=zu,i=1){super(),this.resizable=t,this.baseSize=new he(1,1),this.preferredSize=new he(e,n),this.target=this.preferredSize,this.s=i,this.effectiveSize=new he,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,i=this.scale;e.width!==zu?n.width=e.width:e.height!==zu?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*i),e.height!==zu?n.height=e.height:e.width!==zu?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*i)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(zu),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return zu}},$I=class extends Set{constructor(t,e=10){super(),this.l=e,this.exclusive=!1,t!==void 0&&this.set(t)}get layer(){return this.l}set layer(t){const e=this.l;for(const n of this)n.layers.disable(e),n.layers.enable(t);this.l=t}getLayer(){return this.layer}setLayer(t){this.layer=t}isExclusive(){return this.exclusive}setExclusive(t){this.exclusive=t}clear(){const t=this.layer;for(const e of this)e.layers.disable(t);return super.clear()}set(t){this.clear();for(const e of t)this.add(e);return this}indexOf(t){return this.has(t)?0:-1}add(t){return this.exclusive?t.layers.set(this.layer):t.layers.enable(this.layer),super.add(t)}delete(t){return this.has(t)&&t.layers.disable(this.layer),super.delete(t)}toggle(t){let e;return this.has(t)?(this.delete(t),e=!1):(this.add(t),e=!0),e}setVisible(t){for(const e of this)t?e.layers.enable(0):e.layers.disable(0);return this}},r_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",s_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",o_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",a_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",l_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",u_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",c_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",f_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",h_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",d_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",p_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",m_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",g_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",v_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",A_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",y_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",x_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",S_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",E_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",w_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",__e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",C_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",b_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",T_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",M_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",I_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",R_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",P_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",B_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",D_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",L_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",O_e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",F_e=new Map([[Yt.ADD,r_e],[Yt.ALPHA,s_e],[Yt.AVERAGE,o_e],[Yt.COLOR,a_e],[Yt.COLOR_BURN,l_e],[Yt.COLOR_DODGE,u_e],[Yt.DARKEN,c_e],[Yt.DIFFERENCE,f_e],[Yt.DIVIDE,h_e],[Yt.DST,null],[Yt.EXCLUSION,d_e],[Yt.HARD_LIGHT,p_e],[Yt.HARD_MIX,m_e],[Yt.HUE,g_e],[Yt.INVERT,v_e],[Yt.INVERT_RGB,A_e],[Yt.LIGHTEN,y_e],[Yt.LINEAR_BURN,x_e],[Yt.LINEAR_DODGE,S_e],[Yt.LINEAR_LIGHT,E_e],[Yt.LUMINOSITY,w_e],[Yt.MULTIPLY,__e],[Yt.NEGATION,C_e],[Yt.NORMAL,b_e],[Yt.OVERLAY,T_e],[Yt.PIN_LIGHT,M_e],[Yt.REFLECT,I_e],[Yt.SATURATION,R_e],[Yt.SCREEN,P_e],[Yt.SOFT_LIGHT,B_e],[Yt.SRC,D_e],[Yt.SUBTRACT,L_e],[Yt.VIVID_LIGHT,O_e]]),U_e=class extends uo{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new ye(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return F_e.get(this.blendFunction)}},Kr=class extends uo{constructor(t,e,{attributes:n=pa.NONE,blendFunction:i=Yt.NORMAL,defines:r=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=r,this.uniforms=s,this.extensions=o,this.blendMode=new U_e(i),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=Ap,this._outputColorSpace=dJ}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=wr){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Rt||e instanceof Li||e instanceof Vn||e instanceof Ji)&&this[t].dispose()}}},k_e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,SJ=class extends Kr{constructor({blendFunction:t=Yt.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:i=!1,intensity:r=1,radius:s=.85,levels:o=8,kernelSize:a=Fp.LARGE,resolutionScale:l=.5,width:u=jn.AUTO_SIZE,height:c=jn.AUTO_SIZE,resolutionX:f=u,resolutionY:h=c}={}){super("BloomEffect",k_e,{blendFunction:t,uniforms:new Map([["map",new ye(null)],["intensity",new ye(r)]])}),this.renderTarget=new Rt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new ME({kernelSize:a}),this.luminancePass=new K4e({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new Z4e,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const d=this.resolution=new jn(this,f,h,l);d.addEventListener("change",p=>this.setSize(d.baseWidth,d.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const i=this.renderTarget,r=this.luminancePass;r.enabled?(r.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,r.renderTarget):this.blurPass.render(t,r.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,i)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,au(t)===Wn&&or(this.renderTarget.texture,Wn))}},N_e="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",G_e=class extends Kr{constructor(t){super("ColorAverageEffect",N_e,{blendFunction:t})}},z_e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float cocNear=texture2D(nearCoCBuffer,uv).r;cocNear=min(cocNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,cocNear);outputColor=result;}`,H_e=class extends Kr{constructor(t,{blendFunction:e,worldFocusDistance:n,worldFocusRange:i,focusDistance:r=0,focalLength:s=.1,focusRange:o=s,bokehScale:a=1,resolutionScale:l=1,width:u=jn.AUTO_SIZE,height:c=jn.AUTO_SIZE,resolutionX:f=u,resolutionY:h=c}={}){super("DepthOfFieldEffect",z_e,{blendFunction:e,attributes:pa.DEPTH,uniforms:new Map([["nearColorBuffer",new ye(null)],["farColorBuffer",new ye(null)],["nearCoCBuffer",new ye(null)],["scale",new ye(1)]])}),this.camera=t,this.renderTarget=new Rt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new aa(new s4e(t));const d=this.cocMaterial;d.focusDistance=r,d.focusRange=o,n!==void 0&&(d.worldFocusDistance=n),i!==void 0&&(d.worldFocusRange=i),this.blurPass=new ME({resolutionScale:l,resolutionX:f,resolutionY:h,kernelSize:Fp.MEDIUM}),this.maskPass=new aa(new B4e(this.renderTargetCoC.texture));const p=this.maskPass.fullscreenMaterial;p.maskFunction=KI.MULTIPLY_RGB_SET_ALPHA,p.colorChannel=Td.GREEN,this.bokehNearBasePass=new aa(new q5(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new aa(new q5(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new aa(new q5(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new aa(new q5(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const y=this.resolution=new jn(this,f,h,l);y.addEventListener("change",A=>this.setSize(y.baseWidth,y.baseHeight)),this.bokehScale=a}set mainCamera(t){this.camera=t,this.cocMaterial.copyCameraSettings(t)}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(t){this.bokehNearBasePass.fullscreenMaterial.scale=t,this.bokehNearFillPass.fullscreenMaterial.scale=t,this.bokehFarBasePass.fullscreenMaterial.scale=t,this.bokehFarFillPass.fullscreenMaterial.scale=t,this.maskPass.fullscreenMaterial.strength=t,this.uniforms.get("scale").value=t}getBokehScale(){return this.bokehScale}setBokehScale(t){this.bokehScale=t}getTarget(){return this.target}setTarget(t){this.target=t}calculateFocusDistance(t){const e=this.camera,n=e.position.distanceTo(t);return Of(-n,e.near,e.far)}setDepthTexture(t,e=wr){this.circleOfConfusionMaterial.depthBuffer=t,this.circleOfConfusionMaterial.depthPacking=e}update(t,e,n){const i=this.renderTarget,r=this.renderTargetCoC,s=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(this.target!==null){const a=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=a}this.cocPass.render(t,null,r),this.blurPass.render(t,r,s),this.maskPass.render(t,e,o),this.bokehFarBasePass.render(t,o,i),this.bokehFarFillPass.render(t,i,this.renderTargetFar),this.bokehNearBasePass.render(t,e,i),this.bokehNearFillPass.render(t,i,this.renderTargetNear)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const i=n.width,r=n.height;this.cocPass.setSize(t,e),this.blurPass.setSize(t,e),this.maskPass.setSize(t,e),this.renderTargetCoC.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.renderTarget.setSize(i,r),this.renderTargetNear.setSize(i,r),this.renderTargetFar.setSize(i,r),this.renderTargetCoCBlurred.setSize(i,r),this.bokehNearBasePass.fullscreenMaterial.setSize(t,e),this.bokehNearFillPass.fullscreenMaterial.setSize(t,e),this.bokehFarBasePass.fullscreenMaterial.setSize(t,e),this.bokehFarFillPass.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){this.cocPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.bokehNearBasePass.initialize(t,e,n),this.bokehNearFillPass.initialize(t,e,n),this.bokehFarBasePass.initialize(t,e,n),this.bokehFarFillPass.initialize(t,e,n),this.blurPass.initialize(t,e,_n),t.capabilities.logarithmicDepthBuffer&&(this.cocPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,au(t)===Wn&&(or(this.renderTarget.texture,Wn),or(this.renderTargetNear.texture,Wn),or(this.renderTargetFar.texture,Wn),or(this.renderTargetMasked.texture,Wn)))}};function yU(t,e,n){const i=document.createElement("canvas"),r=i.getContext("2d");if(i.width=t,i.height=e,n instanceof Image)r.drawImage(n,0,0);else{const s=r.createImageData(t,e);s.data.set(n),r.putImageData(s,0,0)}return i}var V_e=class EJ{constructor(e=0,n=0,i=null){this.width=e,this.height=n,this.data=i}toCanvas(){return typeof document>"u"?null:yU(this.width,this.height,this.data)}static from(e){const{width:n,height:i}=e;let r;if(e instanceof Image){const s=yU(n,i,e);s!==null&&(r=s.getContext("2d").getImageData(0,0,n,i).data)}else r=e.data;return new EJ(n,i,r)}},Q_e=`"use strict";(()=>{var O={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function k(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=_[0];P[0]=s,P[1]=F,P[2]=f;let o=_[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(r**3*4),y=t instanceof Uint8Array?255:1,h=r**2,A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;k(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case O.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();
`,xU=new Je,W_e=class Ix extends Nf{constructor(e,n){super(e,n,n,n),this.type=Mn,this.format=Pn,this.minFilter=At,this.magFilter=At,this.wrapS=ri,this.wrapT=ri,this.wrapR=ri,this.unpackAlignment=1,this.needsUpdate=!0,or(this,Ap),this.domainMin=new j(0,0,0),this.domainMax=new j(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(e,n=!0){const i=this.image;let r;return e<=i.width?r=Promise.reject(new Error("The target size must be greater than the current size")):r=new Promise((s,o)=>{const a=URL.createObjectURL(new Blob([Q_e],{type:"text/javascript"})),l=new Worker(a);l.addEventListener("error",c=>o(c.error)),l.addEventListener("message",c=>{const f=new Ix(c.data,e);O_(this,f),f.type=this.type,f.name=this.name,URL.revokeObjectURL(a),s(f)});const u=n?[i.data.buffer]:[];l.postMessage({operation:n4e.SCALE_UP,data:i.data,size:e},u)}),r}applyLUT(e){const n=this.image,i=e.image,r=Math.min(n.width,n.height,n.depth),s=Math.min(i.width,i.height,i.depth);if(r!==s)console.error("Size mismatch");else if(e.type!==Mn||this.type!==Mn)console.error("Both LUTs must be FloatType textures");else if(e.format!==Pn||this.format!==Pn)console.error("Both LUTs must be RGBA textures");else{const o=n.data,a=i.data,l=r,u=l**2,c=l-1;for(let f=0,h=l**3;f<h;++f){const d=f*4,p=o[d+0]*c,y=o[d+1]*c,A=o[d+2]*c,g=Math.round(p+y*l+A*u)*4;o[d+0]=a[g+0],o[d+1]=a[g+1],o[d+2]=a[g+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===Mn){const e=this.image.data,n=new Uint8Array(e.length);for(let i=0,r=e.length;i<r;++i)n[i]=e[i]*255+.5;this.image.data=n,this.type=_n,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===_n){const e=this.image.data,n=new Float32Array(e.length);for(let i=0,r=e.length;i<r;++i)n[i]=e[i]/255;this.image.data=n,this.type=Mn,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const e=this.image.data;if(this.type===Mn){for(let n=0,i=e.length;n<i;n+=4)xU.fromArray(e,n).convertLinearToSRGB().toArray(e,n);or(this,Wn),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const e=this.image.data;if(this.type===Mn){for(let n=0,i=e.length;n<i;n+=4)xU.fromArray(e,n).convertSRGBToLinear().toArray(e,n);or(this,Ap),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const e=this.image.width,n=this.image.height*this.image.depth,i=new Bs(this.image.data,e,n);return i.name=this.name,i.type=this.type,i.format=this.format,i.minFilter=At,i.magFilter=At,i.wrapS=this.wrapS,i.wrapT=this.wrapT,i.generateMipmaps=!1,i.needsUpdate=!0,O_(this,i),i}static from(e){const n=e.image,{width:i,height:r}=n,s=Math.min(i,r);let o;if(n instanceof Image){const u=V_e.from(n).data;if(i>r){o=new Uint8Array(u.length);for(let c=0;c<s;++c)for(let f=0;f<s;++f)for(let h=0;h<s;++h){const d=(h+c*s+f*s*s)*4,p=(h+f*s+c*s*s)*4;o[p+0]=u[d+0],o[p+1]=u[d+1],o[p+2]=u[d+2],o[p+3]=u[d+3]}}else o=new Uint8Array(u.buffer)}else o=n.data.slice();const a=new Ix(o,s);return a.type=e.type,a.name=e.name,O_(e,a),a}static createNeutral(e){const n=new Float32Array(e**3*4),i=e**2,r=1/(e-1);for(let o=0;o<e;++o)for(let a=0;a<e;++a)for(let l=0;l<e;++l){const u=(o+a*e+l*i)*4;n[u+0]=o*r,n[u+1]=a*r,n[u+2]=l*r,n[u+3]=1}const s=new Ix(n,e);return s.name="neutral",s}};function j_e(t,e,n){const i=new Map([[PA,1],[Ka,1],[Tf,2],[Pn,4]]);let r;if(i.has(e)||console.error("Invalid noise texture format"),n===_n){r=new Uint8Array(t*i.get(e));for(let s=0,o=r.length;s<o;++s)r[s]=Math.random()*255+.5}else{r=new Float32Array(t*i.get(e));for(let s=0,o=r.length;s<o;++s)r[s]=Math.random()}return r}var GT=class extends Bs{constructor(t,e,n=PA,i=_n){super(j_e(t*e,n,i),t,e,n,i),this.needsUpdate=!0}},q_e="uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",Y5="Glitch.Generated";function Es(t,e){return t+Math.random()*(e-t)}var X_e=class extends Kr{constructor({chromaticAberrationOffset:t=null,delay:e=new he(1.5,3.5),duration:n=new he(.6,1),strength:i=new he(.3,1),columns:r=.05,ratio:s=.85,perturbationMap:o=null,dtSize:a=64}={}){if(super("GlitchEffect",q_e,{uniforms:new Map([["perturbationMap",new ye(null)],["columns",new ye(r)],["active",new ye(!1)],["random",new ye(1)],["seeds",new ye(new he)],["distortion",new ye(new he)]])}),o===null){const l=new GT(a,a,Pn);l.name=Y5,this.perturbationMap=l}else this.perturbationMap=o;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=e,this.duration=n,this.breakPoint=new he(Es(this.delay.x,this.delay.y),Es(this.duration.x,this.duration.y)),this.strength=i,this.mode=wf.SPORADIC,this.ratio=s,this.chromaticAberrationOffset=t}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(t){this.delay.x=t}getMinDelay(){return this.delay.x}setMinDelay(t){this.delay.x=t}get maxDelay(){return this.delay.y}set maxDelay(t){this.delay.y=t}getMaxDelay(){return this.delay.y}setMaxDelay(t){this.delay.y=t}get minDuration(){return this.duration.x}set minDuration(t){this.duration.x=t}getMinDuration(){return this.duration.x}setMinDuration(t){this.duration.x=t}get maxDuration(){return this.duration.y}set maxDuration(t){this.duration.y=t}getMaxDuration(){return this.duration.y}setMaxDuration(t){this.duration.y=t}get minStrength(){return this.strength.x}set minStrength(t){this.strength.x=t}getMinStrength(){return this.strength.x}setMinStrength(t){this.strength.x=t}get maxStrength(){return this.strength.y}set maxStrength(t){this.strength.y=t}getMaxStrength(){return this.strength.y}setMaxStrength(t){this.strength.y=t}getMode(){return this.mode}setMode(t){this.mode=t}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(t){this.ratio=Math.min(Math.max(1-t,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(t){this.uniforms.get("columns").value=t}getGlitchColumns(){return this.columns}setGlitchColumns(t){this.columns=t}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(t){this.chromaticAberrationOffset=t}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(t){const e=this.perturbationMap;e!==null&&e.name===Y5&&e.dispose(),t.minFilter=t.magFilter=vt,t.wrapS=t.wrapT=Ki,t.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=t}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(t){this.perturbationMap=t}generatePerturbationMap(t=64){const e=new GT(t,t,Pn);return e.name=Y5,e}update(t,e,n){const i=this.mode,r=this.breakPoint,s=this.chromaticAberrationOffset,o=this.strength;let a=this.time,l=!1,u=0,c=0,f;i!==wf.DISABLED&&(i===wf.SPORADIC&&(a+=n,f=a>r.x,a>=r.x+r.y&&(r.set(Es(this.delay.x,this.delay.y),Es(this.duration.x,this.duration.y)),a=0)),u=Math.random(),this.uniforms.get("random").value=u,f&&u>this.ratio||i===wf.CONSTANT_WILD?(l=!0,u*=o.y*.03,c=Es(-Math.PI,Math.PI),this.seeds.set(Es(-o.y,o.y),Es(-o.y,o.y)),this.distortion.set(Es(0,1),Es(0,1))):(f||i===wf.CONSTANT_MILD)&&(l=!0,u*=o.x*.03,c=Es(-Math.PI,Math.PI),this.seeds.set(Es(-o.x,o.x),Es(-o.x,o.x)),this.distortion.set(Es(0,1),Es(0,1))),this.time=a),s!==null&&(l?s.set(Math.cos(c),Math.sin(c)).multiplyScalar(u):s.set(0,0)),this.uniforms.get("active").value=l}dispose(){const t=this.perturbationMap;t!==null&&t.name===Y5&&t.dispose()}},Y_e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}`,k_=new j,SU=new it,K_e=class extends Kr{constructor(t,e,{blendFunction:n=Yt.SCREEN,samples:i=60,density:r=.96,decay:s=.9,weight:o=.4,exposure:a=.6,clampMax:l=1,blur:u=!0,kernelSize:c=Fp.SMALL,resolutionScale:f=.5,width:h=jn.AUTO_SIZE,height:d=jn.AUTO_SIZE,resolutionX:p=h,resolutionY:y=d}={}){super("GodRaysEffect",Y_e,{blendFunction:n,attributes:pa.DEPTH,uniforms:new Map([["map",new ye(null)]])}),this.camera=t,this._lightSource=e,this.lightSource=e,this.lightScene=new iu,this.screenPosition=new he,this.renderTargetA=new Rt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("map").value=this.renderTargetB.texture,this.renderTargetLight=new Rt(1,1),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthTexture=new cu,this.renderPassLight=new Up(this.lightScene,t),this.renderPassLight.clearPass.overrideClearColor=new Je(0),this.clearPass=new m2(!0,!1,!1),this.clearPass.overrideClearColor=new Je(0),this.blurPass=new ME({kernelSize:c}),this.blurPass.enabled=u,this.depthMaskPass=new aa(new vJ);const A=this.depthMaskMaterial;A.depthBuffer1=this.renderTargetLight.depthTexture,A.copyCameraSettings(t),this.godRaysPass=new aa(new M4e(this.screenPosition));const g=this.godRaysMaterial;g.density=r,g.decay=s,g.weight=o,g.exposure=a,g.maxIntensity=l,g.samples=i;const x=this.resolution=new jn(this,p,y,f);x.addEventListener("change",S=>this.setSize(x.baseWidth,x.baseHeight))}set mainCamera(t){this.camera=t,this.renderPassLight.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}get lightSource(){return this._lightSource}set lightSource(t){this._lightSource=t,t!==null&&(t.material.depthWrite=!1,t.material.transparent=!0)}getBlurPass(){return this.blurPass}get texture(){return this.renderTargetB.texture}getTexture(){return this.texture}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get godRaysMaterial(){return this.godRaysPass.fullscreenMaterial}getGodRaysMaterial(){return this.godRaysMaterial}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.godRaysMaterial.dithering}set dithering(t){const e=this.godRaysMaterial;e.dithering=t,e.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}get samples(){return this.godRaysMaterial.samples}set samples(t){this.godRaysMaterial.samples=t}setDepthTexture(t,e=wr){this.depthMaskPass.fullscreenMaterial.depthBuffer0=t,this.depthMaskPass.fullscreenMaterial.depthPacking0=e}update(t,e,n){const i=this.lightSource,r=i.parent,s=i.matrixAutoUpdate,o=this.renderTargetA,a=this.renderTargetLight;i.material.depthWrite=!0,i.matrixAutoUpdate=!1,i.updateWorldMatrix(!0,!1),r!==null&&(s||SU.copy(i.matrix),i.matrix.copy(i.matrixWorld)),this.lightScene.add(i),this.renderPassLight.render(t,a),this.clearPass.render(t,o),this.depthMaskPass.render(t,a,o),i.material.depthWrite=!1,i.matrixAutoUpdate=s,r!==null&&(s||i.matrix.copy(SU),r.add(i)),k_.setFromMatrixPosition(i.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max((k_.x+1)*.5,-1),2),Math.min(Math.max((k_.y+1)*.5,-1),2)),this.blurPass.enabled&&this.blurPass.render(t,o,o),this.godRaysPass.render(t,o,this.renderTargetB)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.renderTargetLight.setSize(i,r),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.renderPassLight.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),this.godRaysPass.initialize(t,e,n),n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,au(t)===Wn&&(or(this.renderTargetA.texture,Wn),or(this.renderTargetB.texture,Wn),or(this.renderTargetLight.texture,Wn)))}},J_e="uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}",Z_e=class extends Kr{constructor({blendFunction:t=Yt.OVERLAY,scale:e=1,lineWidth:n=0}={}){super("GridEffect",J_e,{blendFunction:t,uniforms:new Map([["scale",new ye(new he)],["lineWidth",new ye(n)]])}),this.resolution=new he,this.s=0,this.scale=e,this.l=0,this.lineWidth=n}get scale(){return this.s}set scale(t){this.s=Math.max(t,1e-6),this.setSize(this.resolution.width,this.resolution.height)}getScale(){return this.scale}setScale(t){this.scale=t}get lineWidth(){return this.l}set lineWidth(t){this.l=t,this.setSize(this.resolution.width,this.resolution.height)}getLineWidth(){return this.lineWidth}setLineWidth(t){this.lineWidth=t}setSize(t,e){this.resolution.set(t,e);const n=t/e,i=this.scale*(e*.125);this.uniforms.get("scale").value.set(n*i,i),this.uniforms.get("lineWidth").value=i/e+this.lineWidth}},$_e=`uniform vec3 scale;uniform vec3 offset;
#ifdef CUSTOM_INPUT_DOMAIN
uniform vec3 domainMin;uniform vec3 domainMax;
#endif
#ifdef LUT_3D
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler3D lut;
#else
uniform mediump sampler3D lut;
#endif
#else
uniform lowp sampler3D lut;
#endif
vec4 applyLUT(const in vec3 rgb){
#ifdef TETRAHEDRAL_INTERPOLATION
vec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);
#else
return texture(lut,rgb);
#endif
}
#else
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D lut;
#else
uniform mediump sampler2D lut;
#endif
#else
uniform lowp sampler2D lut;
#endif
vec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);
#ifdef LUT_STRIP_HORIZONTAL
float xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);
#else
float yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);
#endif
vec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;
#ifdef CUSTOM_INPUT_DOMAIN
if(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}
#else
#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)
c=clamp(c,0.0,1.0);
#endif
c=applyLUT(scale*c+offset).rgb;
#endif
outputColor=vec4(c,inputColor.a);}`,eCe=class extends Kr{constructor(t,{blendFunction:e=Yt.SRC,tetrahedralInterpolation:n=!1,inputEncoding:i=Lo,inputColorSpace:r}={}){super("LUT3DEffect",$_e,{blendFunction:e,uniforms:new Map([["lut",new ye(null)],["scale",new ye(new j)],["offset",new ye(new j)],["domainMin",new ye(null)],["domainMax",new ye(null)]])}),this.tetrahedralInterpolation=n,this.inputColorSpace=r||mJ.get(i),this.lut=t}get inputEncoding(){return this.inputColorSpace}set inputEncoding(t){this.inputColorSpace=t}getInputEncoding(){return this.inputColorSpace}setInputEncoding(t){this.inputColorSpace=t}getOutputEncoding(){return this.outputColorSpace}get lut(){return this.uniforms.get("lut").value}set lut(t){const e=this.defines,n=this.uniforms;if(this.lut!==t&&(n.get("lut").value=t,t!==null)){const i=t.image,r=this.tetrahedralInterpolation;if(e.clear(),e.set("LUT_SIZE",Math.min(i.width,i.height).toFixed(16)),e.set("LUT_TEXEL_WIDTH",(1/i.width).toFixed(16)),e.set("LUT_TEXEL_HEIGHT",(1/i.height).toFixed(16)),n.get("domainMin").value=null,n.get("domainMax").value=null,(t.type===Mn||t.type===hn)&&e.set("LUT_PRECISION_HIGH","1"),i.width>i.height?e.set("LUT_STRIP_HORIZONTAL","1"):t instanceof Nf&&e.set("LUT_3D","1"),t instanceof W_e){const s=t.domainMin,o=t.domainMax;(s.x!==0||s.y!==0||s.z!==0||o.x!==1||o.y!==1||o.z!==1)&&(e.set("CUSTOM_INPUT_DOMAIN","1"),n.get("domainMin").value=s.clone(),n.get("domainMax").value=o.clone())}this.tetrahedralInterpolation=r}}getLUT(){return this.lut}setLUT(t){this.lut=t}updateScaleOffset(){const t=this.lut;if(t!==null){const e=Math.min(t.image.width,t.image.height),n=this.uniforms.get("scale").value,i=this.uniforms.get("offset").value;if(this.tetrahedralInterpolation&&t instanceof Nf)if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const r=t.domainMax.clone().sub(t.domainMin);n.setScalar(e-1).divide(r),i.copy(t.domainMin).negate().multiply(n)}else n.setScalar(e-1),i.setScalar(0);else if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const r=t.domainMax.clone().sub(t.domainMin).multiplyScalar(e);n.setScalar(e-1).divide(r),i.copy(t.domainMin).negate().multiply(n).addScalar(1/(2*e))}else n.setScalar((e-1)/e),i.setScalar(1/(2*e))}}configureTetrahedralInterpolation(){const t=this.lut;t!==null&&(t.minFilter=At,t.magFilter=At,this.tetrahedralInterpolation&&(t instanceof Nf?(t.minFilter=vt,t.magFilter=vt):console.warn("Tetrahedral interpolation requires a 3D texture")),t.source===void 0&&(t.needsUpdate=!0))}get tetrahedralInterpolation(){return this.defines.has("TETRAHEDRAL_INTERPOLATION")}set tetrahedralInterpolation(t){t?this.defines.set("TETRAHEDRAL_INTERPOLATION","1"):this.defines.delete("TETRAHEDRAL_INTERPOLATION"),this.configureTetrahedralInterpolation(),this.updateScaleOffset(),this.setChanged()}setTetrahedralInterpolationEnabled(t){this.tetrahedralInterpolation=t}},tCe=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texture2D(patternTexture,vUvPattern);
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,nCe="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",iCe=class extends Kr{constructor(t,e,{blendFunction:n=Yt.SCREEN,patternTexture:i=null,patternScale:r=1,edgeStrength:s=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:l=2230538,kernelSize:u=Fp.VERY_SMALL,blur:c=!1,xRay:f=!0,multisampling:h=0,resolutionScale:d=.5,width:p=jn.AUTO_SIZE,height:y=jn.AUTO_SIZE,resolutionX:A=p,resolutionY:g=y}={}){super("OutlineEffect",tCe,{uniforms:new Map([["maskTexture",new ye(null)],["edgeTexture",new ye(null)],["edgeStrength",new ye(s)],["visibleEdgeColor",new ye(new Je(a))],["hiddenEdgeColor",new ye(new Je(l))],["pulse",new ye(1)],["patternScale",new ye(r)],["patternTexture",new ye(null)]])}),this.blendMode.addEventListener("change",w=>{this.blendMode.blendFunction===Yt.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.blendFunction=n,this.patternTexture=i,this.xRay=f,this.scene=t,this.camera=e,this.renderTargetMask=new Rt(1,1),this.renderTargetMask.samples=h,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new Rt(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new m2,this.clearPass.overrideClearColor=new Je(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new ZI(t,e),this.maskPass=new Up(t,e,new d4e(this.depthPass.texture,e));const x=this.maskPass.clearPass;x.overrideClearColor=new Je(16777215),x.overrideClearAlpha=1,this.blurPass=new ME({resolutionScale:d,resolutionX:A,resolutionY:g,kernelSize:u}),this.blurPass.enabled=c;const S=this.blurPass.resolution;S.addEventListener("change",w=>this.setSize(S.baseWidth,S.baseHeight)),this.outlinePass=new aa(new O4e);const E=this.outlinePass.fullscreenMaterial;E.inputBuffer=this.renderTargetMask.texture,this.time=0,this.forceUpdate=!0,this.selection=new $I,this.selection.layer=10,this.pulseSpeed=o}set mainScene(t){this.scene=t,this.depthPass.mainScene=t,this.maskPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.maskPass.mainCamera=t,this.maskPass.overrideMaterial.copyCameraSettings(t)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(t){this.renderTargetMask.samples=t,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(t){this.uniforms.get("patternScale").value=t}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(t){this.uniforms.get("edgeStrength").value=t}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(t){this.uniforms.get("visibleEdgeColor").value=t}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(t){this.uniforms.get("hiddenEdgeColor").value=t}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(t){this.pulseSpeed=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get selectionLayer(){return this.selection.layer}set selectionLayer(t){this.selection.layer=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get xRay(){return this.defines.has("X_RAY")}set xRay(t){this.xRay!==t&&(t?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(t){this.xRay=t}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(t){t!==null?(t.wrapS=t.wrapT=Ki,this.defines.set("USE_PATTERN","1"),this.setVertexShader(nCe)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=t,this.setChanged()}setPatternTexture(t){this.patternTexture=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}setSelection(t){return this.selection.set(t),this}clearSelection(){return this.selection.clear(),this}selectObject(t){return this.selection.add(t),this}deselectObject(t){return this.selection.delete(t),this}update(t,e,n){const i=this.scene,r=this.camera,s=this.selection,a=this.uniforms.get("pulse"),l=i.background,u=r.layers.mask;(this.forceUpdate||s.size>0)&&(i.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.time+=n,s.setVisible(!1),this.depthPass.render(t),s.setVisible(!0),r.layers.set(s.layer),this.maskPass.render(t,this.renderTargetMask),r.layers.mask=u,i.background=l,this.outlinePass.render(t,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(t,this.renderTargetOutline,this.renderTargetOutline)),this.forceUpdate=s.size>0}setSize(t,e){this.blurPass.setSize(t,e),this.renderTargetMask.setSize(t,e);const n=this.resolution;n.setBaseSize(t,e);const i=n.width,r=n.height;this.depthPass.setSize(i,r),this.renderTargetOutline.setSize(i,r),this.outlinePass.fullscreenMaterial.setSize(i,r)}initialize(t,e,n){this.blurPass.initialize(t,e,_n),n!==void 0&&(this.depthPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.outlinePass.initialize(t,e,n))}},rCe="uniform bool active;uniform vec4 d;void mainUv(inout vec2 uv){if(active){uv=d.xy*(floor(uv*d.zw)+0.5);}}",sCe=class extends Kr{constructor(t=30){super("PixelationEffect",rCe,{uniforms:new Map([["active",new ye(!1)],["d",new ye(new qt)]])}),this.resolution=new he,this._granularity=0,this.granularity=t}get granularity(){return this._granularity}set granularity(t){let e=Math.floor(t);e%2>0&&(e+=1),this._granularity=e,this.uniforms.get("active").value=e>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(t){this.granularity=t}setSize(t,e){const n=this.resolution;n.set(t,e);const i=this.granularity,r=i/n.x,s=i/n.y;this.uniforms.get("d").value.set(r,s,1/r,1/s)}},oCe=class extends SJ{constructor(t,e,n){super(n),this.setAttributes(this.getAttributes()|pa.DEPTH),this.camera=e,this.depthPass=new ZI(t,e),this.clearPass=new m2(!0,!1,!1),this.clearPass.overrideClearColor=new Je(0),this.depthMaskPass=new aa(new vJ);const i=this.depthMaskMaterial;i.copyCameraSettings(e),i.depthBuffer1=this.depthPass.texture,i.depthPacking1=zo,i.depthMode=z3,this.renderTargetMasked=new Rt(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new $I,this.selection.layer=11,this._inverted=!1,this._ignoreBackground=!1}set mainScene(t){this.depthPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(t){this._inverted=t,this.depthMaskMaterial.depthMode=t?x6:z3}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(t){this._ignoreBackground=t,this.depthMaskMaterial.maxDepthStrategy=t?v3.DISCARD_MAX_DEPTH:v3.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}setDepthTexture(t,e=wr){this.depthMaskMaterial.depthBuffer0=t,this.depthMaskMaterial.depthPacking0=e}update(t,e,n){const i=this.camera,r=this.selection,s=this.inverted;let o=e;if(this.ignoreBackground||!s||r.size>0){const a=i.layers.mask;i.layers.set(r.layer),this.depthPass.render(t),i.layers.mask=a,o=this.renderTargetMasked,this.clearPass.render(t,o),this.depthMaskPass.render(t,e,o)}super.update(t,o,n)}setSize(t,e){super.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.depthPass.setSize(t,e)}initialize(t,e,n){super.initialize(t,e,n),this.clearPass.initialize(t,e,n),this.depthPass.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),t.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTargetMasked.texture.type=n,au(t)===Wn&&or(this.renderTargetMasked.texture,Wn))}},aCe=`uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;uniform float intensity;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH)
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#endif
#ifdef COLORIZE
uniform vec3 color;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH) && __VERSION__ == 300
vec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);
#else
float ao=aoLinear;
#endif
float l=luminance(inputColor.rgb);ao=mix(ao,0.0,l*luminanceInfluence);ao=clamp(ao*intensity,0.0,1.0);
#ifdef COLORIZE
outputColor=vec4(1.0-ao*(1.0-color),inputColor.a);
#else
outputColor=vec4(vec3(1.0-ao),inputColor.a);
#endif
}`,EU=64,lCe=class extends Kr{constructor(t,e,{blendFunction:n=Yt.MULTIPLY,samples:i=9,rings:r=7,normalDepthBuffer:s=null,depthAwareUpsampling:o=!0,worldDistanceThreshold:a,worldDistanceFalloff:l,worldProximityThreshold:u,worldProximityFalloff:c,distanceThreshold:f=.97,distanceFalloff:h=.03,rangeThreshold:d=5e-4,rangeFalloff:p=.001,minRadiusScale:y=.1,luminanceInfluence:A=.7,radius:g=.1825,intensity:x=1,bias:S=.025,fade:E=.01,color:w=null,resolutionScale:C=1,width:b=jn.AUTO_SIZE,height:I=jn.AUTO_SIZE,resolutionX:M=b,resolutionY:R=I}={}){super("SSAOEffect",aCe,{blendFunction:n,attributes:pa.DEPTH,defines:new Map([["THRESHOLD","0.997"]]),uniforms:new Map([["aoBuffer",new ye(null)],["normalDepthBuffer",new ye(s)],["luminanceInfluence",new ye(A)],["color",new ye(null)],["intensity",new ye(x)],["scale",new ye(0)]])}),this.renderTarget=new Rt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="AO.Target",this.uniforms.get("aoBuffer").value=this.renderTarget.texture;const D=this.resolution=new jn(this,M,R,C);D.addEventListener("change",L=>this.setSize(D.baseWidth,D.baseHeight)),this.camera=t,this.depthDownsamplingPass=new xJ({normalBuffer:e,resolutionScale:C}),this.depthDownsamplingPass.enabled=s===null,this.ssaoPass=new aa(new k4e(t));const F=new GT(EU,EU,Pn);F.wrapS=F.wrapT=Ki;const O=this.ssaoMaterial;O.normalBuffer=e,O.noiseTexture=F,O.minRadiusScale=y,O.samples=i,O.radius=g,O.rings=r,O.fade=E,O.bias=S,O.distanceThreshold=f,O.distanceFalloff=h,O.proximityThreshold=d,O.proximityFalloff=p,a!==void 0&&(O.worldDistanceThreshold=a),l!==void 0&&(O.worldDistanceFalloff=l),u!==void 0&&(O.worldProximityThreshold=u),c!==void 0&&(O.worldProximityFalloff=c),s!==null&&(this.ssaoMaterial.normalDepthBuffer=s,this.defines.set("NORMAL_DEPTH","1")),this.depthAwareUpsampling=o,this.color=w}set mainCamera(t){this.camera=t,this.ssaoMaterial.copyCameraSettings(t)}get normalBuffer(){return this.ssaoMaterial.normalBuffer}set normalBuffer(t){this.ssaoMaterial.normalBuffer=t,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=t}getResolution(){return this.resolution}get ssaoMaterial(){return this.ssaoPass.fullscreenMaterial}getSSAOMaterial(){return this.ssaoMaterial}get samples(){return this.ssaoMaterial.samples}set samples(t){this.ssaoMaterial.samples=t}get rings(){return this.ssaoMaterial.rings}set rings(t){this.ssaoMaterial.rings=t}get radius(){return this.ssaoMaterial.radius}set radius(t){this.ssaoMaterial.radius=t}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(t){this.depthAwareUpsampling!==t&&(t?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}isDepthAwareUpsamplingEnabled(){return this.depthAwareUpsampling}setDepthAwareUpsamplingEnabled(t){this.depthAwareUpsampling=t}get distanceScaling(){return!0}set distanceScaling(t){}get color(){return this.uniforms.get("color").value}set color(t){const e=this.uniforms,n=this.defines;t!==null?n.has("COLORIZE")?e.get("color").value.set(t):(n.set("COLORIZE","1"),e.get("color").value=new Je(t),this.setChanged()):n.has("COLORIZE")&&(n.delete("COLORIZE"),e.get("color").value=null,this.setChanged())}get luminanceInfluence(){return this.uniforms.get("luminanceInfluence").value}set luminanceInfluence(t){this.uniforms.get("luminanceInfluence").value=t}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getColor(){return this.color}setColor(t){this.color=t}setDistanceCutoff(t,e){this.ssaoMaterial.distanceThreshold=t,this.ssaoMaterial.distanceFalloff=e}setProximityCutoff(t,e){this.ssaoMaterial.proximityThreshold=t,this.ssaoMaterial.proximityFalloff=e}setDepthTexture(t,e=wr){this.depthDownsamplingPass.setDepthTexture(t,e),this.ssaoMaterial.depthBuffer=t,this.ssaoMaterial.depthPacking=e}update(t,e,n){const i=this.renderTarget;this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(t),this.ssaoPass.render(t,null,i)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const i=n.width,r=n.height;this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(i,r),this.renderTarget.setSize(i,r),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(t,e)}initialize(t,e,n){try{let i=this.uniforms.get("normalDepthBuffer").value;i===null&&(this.depthDownsamplingPass.initialize(t,e,n),i=this.depthDownsamplingPass.texture,this.uniforms.get("normalDepthBuffer").value=i,this.ssaoMaterial.normalDepthBuffer=i,this.defines.set("NORMAL_DEPTH","1"))}catch{this.depthDownsamplingPass.enabled=!1}}},uCe=`#ifdef TEXTURE_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
varying vec2 vUv2;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#ifdef UV_TRANSFORM
vec4 texel=texture2D(map,vUv2);
#else
vec4 texel=texture2D(map,uv);
#endif
outputColor=TEXEL;}`,cCe=`#ifdef ASPECT_CORRECTION
uniform float scale;
#else
uniform mat3 uvTransform;
#endif
varying vec2 vUv2;void mainSupport(const in vec2 uv){
#ifdef ASPECT_CORRECTION
vUv2=uv*vec2(aspect,1.0)*scale;
#else
vUv2=(uvTransform*vec3(uv,1.0)).xy;
#endif
}`,fCe=class extends Kr{constructor({blendFunction:t,texture:e=null,aspectCorrection:n=!1}={}){super("TextureEffect",uCe,{blendFunction:t,defines:new Map([["TEXEL","texel"]]),uniforms:new Map([["map",new ye(null)],["scale",new ye(1)],["uvTransform",new ye(null)]])}),this.texture=e,this.aspectCorrection=n}get texture(){return this.uniforms.get("map").value}set texture(t){const e=this.texture,n=this.uniforms,i=this.defines;e!==t&&(n.get("map").value=t,n.get("uvTransform").value=t.matrix,i.delete("TEXTURE_PRECISION_HIGH"),t!==null&&(t.matrixAutoUpdate?(i.set("UV_TRANSFORM","1"),this.setVertexShader(cCe)):(i.delete("UV_TRANSFORM"),this.setVertexShader(null)),t.type!==_n&&i.set("TEXTURE_PRECISION_HIGH","1"),(e===null||e.type!==t.type||e.encoding!==t.encoding)&&this.setChanged()))}getTexture(){return this.texture}setTexture(t){this.texture=t}get aspectCorrection(){return this.defines.has("ASPECT_CORRECTION")}set aspectCorrection(t){this.aspectCorrection!==t&&(t?this.defines.set("ASPECT_CORRECTION","1"):this.defines.delete("ASPECT_CORRECTION"),this.setChanged())}get uvTransform(){const t=this.texture;return t!==null&&t.matrixAutoUpdate}set uvTransform(t){const e=this.texture;e!==null&&(e.matrixAutoUpdate=t)}setTextureSwizzleRGBA(t,e=t,n=t,i=t){const r="rgba";let s="";(t!==Td.RED||e!==Td.GREEN||n!==Td.BLUE||i!==Td.ALPHA)&&(s=[".",r[t],r[e],r[n],r[i]].join("")),this.defines.set("TEXEL","texel"+s),this.setChanged()}update(t,e,n){this.texture.matrixAutoUpdate&&this.texture.updateMatrix()}};const e7=ee.createContext(null),mu=ee.createContext(null),hCe=Jl.memo(ee.forwardRef(({children:t,camera:e,scene:n,resolutionScale:i,enabled:r=!0,renderPriority:s=1,autoClear:o=!0,depthBuffer:a,disableNormalPass:l,stencilBuffer:u,multisampling:c=8,frameBufferType:f=hn},h)=>{const{gl:d,scene:p,camera:y,size:A}=cn(),g=n||p,x=e||y,[S,E,w]=ee.useMemo(()=>{const M=Cve(),R=new n_e(d,{depthBuffer:a,stencilBuffer:u,multisampling:c>0&&M?c:0,frameBufferType:f});R.addPass(new Up(g,x));let D=null,F=null;return l||(F=new $4e(g,x),F.enabled=!1,R.addPass(F),i!==void 0&&M&&(D=new xJ({normalBuffer:F.texture,resolutionScale:i}),D.enabled=!1,R.addPass(D))),[R,F,D]},[x,d,a,u,c,f,g,l,i]);ee.useEffect(()=>S==null?void 0:S.setSize(A.width,A.height),[S,A]),Qo((M,R)=>{if(r){const D=d.autoClear;d.autoClear=o,u&&!o&&d.clearStencil(),S.render(R),d.autoClear=D}},r?s:0);const C=ee.useRef(null),b=mhe(C);ee.useLayoutEffect(()=>{const M=[];if(C.current&&b.current&&S){const R=b.current.objects;for(let D=0;D<R.length;D++){const F=R[D];if(F instanceof Kr){const O=[];for(;R[D]instanceof Kr;)O.push(R[D++]);D--;const L=new Y4e(x,...O);M.push(L)}else F instanceof Ji&&M.push(F)}for(const D of M)S==null||S.addPass(D);E&&(E.enabled=!0),w&&(w.enabled=!0)}return()=>{for(const R of M)S==null||S.removePass(R);E&&(E.enabled=!1),w&&(w.enabled=!1)}},[S,t,x,E,w,b]);const I=ee.useMemo(()=>({composer:S,normalPass:E,downSamplingPass:w,resolutionScale:i,camera:x,scene:g}),[S,E,w,i,x,g]);return ee.useImperativeHandle(h,()=>S,[S]),Ie.jsx(mu.Provider,{value:I,children:Ie.jsx("group",{ref:C,children:t})})})),nc=t=>typeof t=="object"&&t!=null&&"current"in t?t.current:t;let dCe=0;const wU=new WeakMap,pCe=(t,e)=>Jl.forwardRef(function({blendFunction:i=e==null?void 0:e.blendFunction,opacity:r=e==null?void 0:e.opacity,...s},o){let a=wU.get(t);if(!a){const c=`@react-three/postprocessing/${t.name}-${dCe++}`;Z6({[c]:t}),wU.set(t,a=c)}const l=cn(c=>c.camera),u=Jl.useMemo(()=>{var c,f;return[...(c=e==null?void 0:e.args)!=null?c:[],...(f=s.args)!=null?f:[{...e,...s}]]},[JSON.stringify(s)]);return Ie.jsx(a,{camera:l,"blendMode-blendFunction":i,"blendMode-opacity-value":r,...s,ref:o,args:u})}),K5=(t,e)=>{const n=t[e];return Jl.useMemo(()=>typeof n=="number"?new he(n,n):n?new he(...n):new he,[n])},mCe=ee.forwardRef(function({blendFunction:e,worldFocusDistance:n,worldFocusRange:i,focusDistance:r,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:h,target:d,depthTexture:p,...y},A){const{camera:g}=ee.useContext(mu),x=d!=null,S=ee.useMemo(()=>{const E=new H_e(g,{blendFunction:e,worldFocusDistance:n,worldFocusRange:i,focusDistance:r,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:h});x&&(E.target=new j),p&&E.setDepthTexture(p.texture,p.packing);const w=E.maskPass.getFullscreenMaterial();return w.maskFunction=KI.MULTIPLY_RGB_SET_ALPHA,E},[g,e,n,i,r,s,o,a,l,u,c,f,h,x,p]);return ee.useEffect(()=>()=>{S.dispose()},[S]),Ie.jsx("primitive",{...y,ref:A,object:S,target:d})});ee.forwardRef(({target:t=void 0,mouse:e=!1,debug:n=void 0,manual:i=!1,smoothTime:r=.25,...s},o)=>{const a=ee.useRef(null),l=ee.useRef(null),u=ee.useRef(null),c=cn(({scene:w})=>w),f=cn(({pointer:w})=>w),{composer:h,camera:d}=ee.useContext(mu),[p]=ee.useState(()=>new q4e),[y]=ee.useState(()=>new yJ);ee.useEffect(()=>(h.addPass(p),h.addPass(y),()=>{h.removePass(p),h.removePass(y)}),[h,p,y]),ee.useEffect(()=>()=>{p.dispose(),y.dispose()},[p,y]);const[A]=ee.useState(()=>new j(0,0,0)),[g]=ee.useState(()=>new j(0,0,0)),x=ee.useCallback(async(w,C)=>(g.x=w,g.y=C,g.z=await p.readDepth(g),g.z=g.z*2-1,1-g.z>1e-7?g.unproject(d):!1),[g,p,d]),S=ee.useCallback(async(w,C=!0)=>{var b;if(t)A.set(...t);else{const{x:I,y:M}=e?f:{x:0,y:0},R=await x(I,M);R&&A.copy(R)}C&&((b=a.current)!=null&&b.target)&&(r>0&&w>0?lX.damp3(a.current.target,A,r,w):a.current.target.copy(A))},[t,A,e,x,r,f]);Qo(async(w,C)=>{var b;i||S(C),l.current&&l.current.position.copy(A),u.current&&((b=a.current)!=null&&b.target)&&u.current.position.copy(a.current.target)});const E=ee.useMemo(()=>({dofRef:a,hitpoint:A,update:S}),[A,S]);return ee.useImperativeHandle(o,()=>E,[E]),Ie.jsxs(Ie.Fragment,{children:[n?q9(Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs("mesh",{ref:l,children:[Ie.jsx("sphereGeometry",{args:[n,16,16]}),Ie.jsx("meshBasicMaterial",{color:"#00ff00",opacity:1,transparent:!0,depthWrite:!1})]}),Ie.jsxs("mesh",{ref:u,children:[Ie.jsx("sphereGeometry",{args:[n/2,16,16]}),Ie.jsx("meshBasicMaterial",{color:"#00ff00",opacity:.5,transparent:!0,depthWrite:!1})]})]}),c):null,Ie.jsx(mCe,{ref:a,...s,target:A})]})});const gCe={fragmentShader:`

  uniform float iTime;
  uniform vec2 lensPosition;
  uniform vec2 iResolution;
  uniform vec3 colorGain;
  uniform float starPoints;
  uniform float glareSize;
  uniform float flareSize;
  uniform float flareSpeed;
  uniform float flareShape;
  uniform float haloScale;
  uniform float opacity;
  uniform bool animated;
  uniform bool anamorphic;
  uniform bool enabled;
  uniform bool secondaryGhosts;
  uniform bool starBurst;
  uniform float ghostScale;
  uniform bool aditionalStreaks;
  uniform sampler2D lensDirtTexture;
  vec2 vxtC;

  float rndf(float n){return fract(sin(n) * 43758.5453123);}float niz(float p){float fl = floor(p);float fc = fract(p);return mix(rndf(fl),rndf(fl + 1.0), fc);}
  vec3 hsv2rgb(vec3 c){vec4 k = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);vec3 p = abs(fract(c.xxx + k.xyz) * 6.0 - k.www);return c.z * mix(k.xxx, clamp(p - k.xxx, 0.0, 1.0), c.y);}
  float satU(float x){return clamp(x, 0.,1.);}vec2 rtU(vec2 naz, float rtn){return vec2(cos(rtn) * naz.x + sin(rtn) * naz.y,cos(rtn) * naz.y - sin(rtn) * naz.x);}
  vec3 drwF(vec2 p, float intensity, float rnd, float speed, int id){float flhos = (1. / 32.) * float(id) * 0.1;float lingrad = distance(vec2(0.), p);float expg = 1. / exp(lingrad * (fract(rnd) * 0.66 + 0.33));vec3 qzTg = hsv2rgb(vec3( fract( (expg * 8.) + speed * flareSpeed + flhos), pow(1.-abs(expg*2.-1.), 0.45), 20.0 * expg * intensity));float internalStarPoints;if(anamorphic){internalStarPoints = 1.0;} else{internalStarPoints = starPoints;}float ams = length(p * flareShape * sin(internalStarPoints * atan(p.x, p.y)));float kJhg = pow(1.-satU(ams), ( anamorphic ? 100. : 12.));kJhg += satU(expg-0.9) * 3.;kJhg = pow(kJhg * expg, 8. + (1.-intensity) * 5.);if(flareSpeed > 0.0){return vec3(kJhg) * qzTg;} else{return vec3(kJhg) * flareSize * 15.;}}
  float ams2(vec3 a, vec3 b) { return abs(a.x - b.x) + abs(a.y - b.y) + abs(a.z - b.z);}vec3 satU(vec3 x){return clamp(x, vec3(0.0), vec3(1.0));}
  float glR(vec2 naz, vec2 pos, float zsi){vec2 mni;if(animated){mni = rtU(naz-pos, iTime * 0.1);} else{mni = naz-pos;}float ang = atan(mni.y, mni.x) * (anamorphic ? 1.0 : starPoints);float ams2 = length(mni);ams2 = pow(ams2, .9);float f0 = 1.0/(length(naz-pos)*(1.0/zsi*16.0)+.2);return f0+f0*(sin((ang))*.2 +.3);}
  float sdHex(vec2 p){p = abs(p);vec2 q = vec2(p.x*2.0*0.5773503, p.y + p.x*0.5773503);return dot(step(q.xy,q.yx), 1.0-q.yx);}float fpow(float x, float k){return x > k ? pow((x-k)/(1.0-k),2.0) : 0.0;}
  vec3 rHx(vec2 naz, vec2 p, float s, vec3 col){naz -= p;if (abs(naz.x) < 0.2*s && abs(naz.y) < 0.2*s){return mix(vec3(0),mix(vec3(0),col,0.1 + fpow(length(naz/s),0.1)*10.0),smoothstep(0.0,0.1,sdHex(naz*20.0/s)));}return vec3(0);}
  vec3 mLs(vec2 naz, vec2 pos){vec2 mni = naz-pos;vec2 zxMp = naz*(length(naz));float ang = atan(mni.x,mni.y);float f0 = .3/(length(naz-pos)*16.0+1.0);f0 = f0*(sin(niz(sin(ang*3.9-(animated ? iTime : 0.0) * 0.3) * starPoints))*.2 );float f1 = max(0.01-pow(length(naz+1.2*pos),1.9),.0)*7.0;float f2 = max(.9/(10.0+32.0*pow(length(zxMp+0.99*pos),2.0)),.0)*0.35;float f22 = max(.9/(11.0+32.0*pow(length(zxMp+0.85*pos),2.0)),.0)*0.23;float f23 = max(.9/(12.0+32.0*pow(length(zxMp+0.95*pos),2.0)),.0)*0.6;vec2 ztX = mix(naz,zxMp, 0.1);float f4 = max(0.01-pow(length(ztX+0.4*pos),2.9),.0)*4.02;float f42 = max(0.0-pow(length(ztX+0.45*pos),2.9),.0)*4.1;float f43 = max(0.01-pow(length(ztX+0.5*pos),2.9),.0)*4.6;ztX = mix(naz,zxMp,-.4);float f5 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;float f52 = max(0.01-pow(length(ztX+0.2*pos),5.5),.0)*2.0;float f53 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;ztX = mix(naz,zxMp, 2.1);float f6 = max(0.01-pow(length(ztX-0.3*pos),1.61),.0)*3.159;float f62 = max(0.01-pow(length(ztX-0.325*pos),1.614),.0)*3.14;float f63 = max(0.01-pow(length(ztX-0.389*pos),1.623),.0)*3.12;vec3 c = vec3(glR(naz,pos, glareSize));vec2 prot;if(animated){prot = rtU(naz - pos, (iTime * 0.1));} else if(anamorphic){prot = rtU(naz - pos, 1.570796);} else {prot = naz - pos;}c += drwF(prot, (anamorphic ? flareSize * 10. : flareSize), 0.1, iTime, 1);c.r+=f1+f2+f4+f5+f6; c.g+=f1+f22+f42+f52+f62; c.b+=f1+f23+f43+f53+f63;c = c*1.3 * vec3(length(zxMp)+.09);c+=vec3(f0);return c;}
  vec3 cc(vec3 clr, float fct,float fct2){float w = clr.x+clr.y+clr.z;return mix(clr,vec3(w)*fct,w*fct2);}float rnd(vec2 p){float f = fract(sin(dot(p, vec2(12.1234, 72.8392) )*45123.2));return f;}float rnd(float w){float f = fract(sin(w)*1000.);return f;}
  float rShp(vec2 p, int N){float f;float a=atan(p.x,p.y)+.2;float b=6.28319/float(N);f=smoothstep(.5,.51, cos(floor(.5+a/b)*b-a)*length(p.xy)* 2.0  -ghostScale);return f;}
  vec3 drC(vec2 p, float zsi, float dCy, vec3 clr, vec3 clr2, float ams2, vec2 esom){float l = length(p + esom*(ams2*2.))+zsi/2.;float l2 = length(p + esom*(ams2*4.))+zsi/3.;float c = max(0.01-pow(length(p + esom*ams2), zsi*ghostScale), 0.0)*10.;float c1 = max(0.001-pow(l-0.3, 1./40.)+sin(l*20.), 0.0)*3.;float c2 =  max(0.09/pow(length(p-esom*ams2/.5)*1., .95), 0.0)/20.;float s = max(0.02-pow(rShp(p*5. + esom*ams2*5. + dCy, 6) , 1.), 0.0)*1.5;clr = cos(vec3(0.44, .24, .2)*8. + ams2*4.)*0.5+.5;vec3 f = c*clr;f += c1*clr;f += c2*clr;f +=  s*clr;return f-0.01;}
  vec4 geLC(float x){return vec4(vec3(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(vec3(0., 0., 0.),vec3(0., 0., 0.), smoothstep(0.0, 0.063, x)),vec3(0., 0., 0.), smoothstep(0.063, 0.125, x)),vec3(0.0, 0., 0.), smoothstep(0.125, 0.188, x)),vec3(0.188, 0.131, 0.116), smoothstep(0.188, 0.227, x)),vec3(0.31, 0.204, 0.537), smoothstep(0.227, 0.251, x)),vec3(0.192, 0.106, 0.286), smoothstep(0.251, 0.314, x)),vec3(0.102, 0.008, 0.341), smoothstep(0.314, 0.392, x)),vec3(0.086, 0.0, 0.141), smoothstep(0.392, 0.502, x)),vec3(1.0, 0.31, 0.0), smoothstep(0.502, 0.604, x)),vec3(.1, 0.1, 0.1), smoothstep(0.604, 0.643, x)),vec3(1.0, 0.929, 0.0), smoothstep(0.643, 0.761, x)),vec3(1.0, 0.086, 0.424), smoothstep(0.761, 0.847, x)),vec3(1.0, 0.49, 0.0), smoothstep(0.847, 0.89, x)),vec3(0.945, 0.275, 0.475), smoothstep(0.89, 0.941, x)),vec3(0.251, 0.275, 0.796), smoothstep(0.941, 1.0, x))),1.0);}
  float diTN(vec2 p){vec2 f = fract(p);f = (f * f) * (3.0 - (2.0 * f));float n = dot(floor(p), vec2(1.0, 157.0));vec4 a = fract(sin(vec4(n + 0.0, n + 1.0, n + 157.0, n + 158.0)) * 43758.5453123);return mix(mix(a.x, a.y, f.x), mix(a.z, a.w, f.x), f.y);} 
  float fbm(vec2 p){const mat2 m = mat2(0.80, -0.60, 0.60, 0.80);float f = 0.0;f += 0.5000*diTN(p); p = m*p*2.02;f += 0.2500*diTN(p); p = m*p*2.03;f += 0.1250*diTN(p); p = m*p*2.01;f += 0.0625*diTN(p);return f/0.9375;} 
  vec4 geLS(vec2 p){vec2 pp = (p - vec2(0.5)) * 2.0;float a = atan(pp.y, pp.x);vec4 cp = vec4(sin(a * 1.0), length(pp), sin(a * 13.0), sin(a * 53.0));float d = sin(clamp(pow(length(vec2(0.5) - p) * 0.5 + haloScale /2., 5.0), 0.0, 1.0) * 3.14159);vec3 c = vec3(d) * vec3(fbm(cp.xy * 16.0) * fbm(cp.zw * 9.0) * max(max(max(max(0.5, sin(a * 1.0)), sin(a * 3.0) * 0.8), sin(a * 7.0) * 0.8), sin(a * 9.0) * 10.6));c *= vec3(mix(2.0, (sin(length(pp.xy) * 256.0) * 0.5) + 0.5, sin((clamp((length(pp.xy) - 0.875) / 0.1, 0.0, 1.0) + 0.0) * 2.0 * 3.14159) * 1.5) + 0.5) * 0.3275;return vec4(vec3(c * 1.0), d);}
  vec4 geLD(vec2 p){p.xy += vec2(fbm(p.yx * 3.0), fbm(p.yx * 2.0)) * 0.0825;vec3 o = vec3(mix(0.125, 0.25, max(max(smoothstep(0.1, 0.0, length(p - vec2(0.25))),smoothstep(0.4, 0.0, length(p - vec2(0.75)))),smoothstep(0.8, 0.0, length(p - vec2(0.875, 0.125))))));o += vec3(max(fbm(p * 1.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 2.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 4.0) - 0.5, 0.0)) * 0.25;o += vec3(max(fbm(p * 8.0) - 0.75, 0.0)) * 1.0;o += vec3(max(fbm(p * 16.0) - 0.75, 0.0)) * 0.75;o += vec3(max(fbm(p * 64.0) - 0.75, 0.0)) * 0.5;return vec4(clamp(o, vec3(0.15), vec3(1.0)), 1.0);}
  vec4 txL(sampler2D tex, vec2 xtC){if(((xtC.x < 0.) || (xtC.y < 0.)) || ((xtC.x > 1.) || (xtC.y > 1.))){return vec4(0.0);}else{return texture(tex, xtC); }}
  vec4 txD(sampler2D tex, vec2 xtC, vec2 dir, vec3 ditn) {return vec4(txL(tex, (xtC + (dir * ditn.r))).r,txL(tex, (xtC + (dir * ditn.g))).g,txL(tex, (xtC + (dir * ditn.b))).b,1.0);}
  vec4 strB(){vec2 aspXtc = vec2(1.0) - (((vxtC - vec2(0.5)) * vec2(1.0)) + vec2(0.5)); vec2 xtC = vec2(1.0) - vxtC; vec2 ghvc = (vec2(0.5) - xtC) * 0.3 - lensPosition; vec2 ghNm = normalize(ghvc * vec2(1.0)) * vec2(1.0);vec2 haloVec = normalize(ghvc) * 0.6;vec2 hlNm = ghNm * 0.6;vec2 texelSize = vec2(1.0) / vec2(iResolution.xy);vec3 ditn = vec3(-(texelSize.x * 1.5), 0.2, texelSize.x * 1.5);vec4 c = vec4(0.0);for (int i = 0; i < 8; i++) {vec2 offset = xtC + (ghvc * float(i));c += txD(lensDirtTexture, offset, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - offset) / length(vec2(0.5)))), 10.0);}vec2 uyTrz = xtC + hlNm; return (c * geLC((length(vec2(0.5) - aspXtc) / length(vec2(haloScale))))) +(txD(lensDirtTexture, uyTrz, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - uyTrz) / length(vec2(0.5)))), 10.0));} 
  void mainImage(vec4 v,vec2 r,out vec4 i){vec2 g=r-.5;g.y*=iResolution.y/iResolution.x;vec2 l=lensPosition*.5;l.y*=iResolution.y/iResolution.x;vec3 f=mLs(g,l)*20.*colorGain/256.;if(aditionalStreaks){vec3 o=vec3(.9,.2,.1),p=vec3(.3,.1,.9);for(float n=0.;n<10.;n++)f+=drC(g,pow(rnd(n*2e3)*2.8,.1)+1.41,0.,o+n,p+n,rnd(n*20.)*3.+.2-.5,lensPosition);}if(secondaryGhosts){vec3 n=vec3(0);n+=rHx(g,-lensPosition*.25,ghostScale*1.4,vec3(.25,.35,0));n+=rHx(g,lensPosition*.25,ghostScale*.5,vec3(1,.5,.5));n+=rHx(g,lensPosition*.1,ghostScale*1.6,vec3(1));n+=rHx(g,lensPosition*1.8,ghostScale*2.,vec3(0,.5,.75));n+=rHx(g,lensPosition*1.25,ghostScale*.8,vec3(1,1,.5));n+=rHx(g,-lensPosition*1.25,ghostScale*5.,vec3(.5,.5,.25));n+=fpow(1.-abs(distance(lensPosition*.8,g)-.7),.985)*colorGain/2100.;f+=n;}if(starBurst){vxtC=g+.5;vec4 n=geLD(g);float o=1.-clamp(0.5,0.,.5)*2.;n+=mix(n,pow(n*2.,vec4(2))*.5,o);float s=(g.x+g.y)*(1./6.);vec2 d=mat2(cos(s),-sin(s),sin(s),cos(s))*vxtC;n+=geLS(d)*2.;f+=clamp(n.xyz*strB().xyz,.01,1.);}i=enabled?vec4(mix(f,vec3(0),opacity)+v.xyz,v.w):vec4(v);}
`};class vCe extends Kr{constructor({blendFunction:e=Yt.NORMAL,enabled:n=!0,glareSize:i=.2,lensPosition:r=[.01,.01],iResolution:s=[0,0],starPoints:o=6,flareSize:a=.01,flareSpeed:l=.01,flareShape:u=.01,animated:c=!0,anamorphic:f=!1,colorGain:h=new Je(20,20,20),lensDirtTexture:d=null,haloScale:p=.5,secondaryGhosts:y=!0,aditionalStreaks:A=!0,ghostScale:g=0,opacity:x=1,starBurst:S=!1}={}){super("LensFlareEffect",gCe.fragmentShader,{blendFunction:e,uniforms:new Map([["enabled",new ye(n)],["glareSize",new ye(i)],["lensPosition",new ye(r)],["iTime",new ye(0)],["iResolution",new ye(s)],["starPoints",new ye(o)],["flareSize",new ye(a)],["flareSpeed",new ye(l)],["flareShape",new ye(u)],["animated",new ye(c)],["anamorphic",new ye(f)],["colorGain",new ye(h)],["lensDirtTexture",new ye(d)],["haloScale",new ye(p)],["secondaryGhosts",new ye(y)],["aditionalStreaks",new ye(A)],["ghostScale",new ye(g)],["starBurst",new ye(S)],["opacity",new ye(x)]])})}update(e,n,i){const r=this.uniforms.get("iTime");r&&(r.value+=i)}}ee.forwardRef(({position:t=new j(-25,6,-60),followMouse:e=!1,smoothTime:n=.07,...i},r)=>{const s=cn(({viewport:d})=>d),o=cn(({raycaster:d})=>d),a=cn(({pointer:d})=>d),{scene:l,camera:u}=ee.useContext(mu),[c]=ee.useState(()=>new j),[f]=ee.useState(()=>new he),h=ee.useMemo(()=>new vCe(i),[i]);return Qo((d,p)=>{var y,A,g;const x=h.uniforms.get("lensPosition"),S=h.uniforms.get("opacity");if(!x||!S)return;let E=1;if(e)x.value.x=a.x,x.value.y=a.y,E=0;else{if(c.copy(t).project(u),c.z>1)return;x.value.x=c.x,x.value.y=c.y,f.set(c.x,c.y),o.setFromCamera(f,u);const w=o.intersectObjects(l.children,!0),{object:C}=w[0];C&&(((y=C.userData)==null?void 0:y.lensflare)==="no-occlusion"?E=0:C instanceof yn&&(((g=(A=C.material.uniforms)==null?void 0:A._transmission)==null?void 0:g.value)>.2||C.material._transmission&&C.material._transmission>.2?E=.2:C.material.transparent&&(E=C.material.opacity)))}lX.damp(S,"value",E,n,p)}),ee.useEffect(()=>{const d=h.uniforms.get("iResolution");d&&(d.value.x=s.width,d.value.y=s.height)},[h,s]),Ie.jsx("primitive",{ref:r,object:h,dispose:null})});const ACe=pCe(SJ,{blendFunction:Yt.ADD});ee.forwardRef(function({blendFunction:e=Yt.NORMAL},n){const i=ee.useMemo(()=>new G_e(e),[e]);return Ie.jsx("primitive",{ref:n,object:i,dispose:null})});ee.forwardRef(function({active:e=!0,...n},i){const r=cn(c=>c.invalidate),s=K5(n,"delay"),o=K5(n,"duration"),a=K5(n,"strength"),l=K5(n,"chromaticAberrationOffset"),u=ee.useMemo(()=>new X_e({...n,delay:s,duration:o,strength:a,chromaticAberrationOffset:l}),[s,o,n,a,l]);return ee.useLayoutEffect(()=>{u.mode=e?n.mode||wf.SPORADIC:wf.DISABLED,r()},[e,u,r,n.mode]),ee.useEffect(()=>()=>{u.dispose()},[u]),Ie.jsx("primitive",{ref:i,object:u,dispose:null})});ee.forwardRef(function(e,n){const{camera:i}=ee.useContext(mu),r=ee.useMemo(()=>new K_e(i,nc(e.sun),e),[i,e]);return ee.useLayoutEffect(()=>void(r.lightSource=nc(e.sun)),[r,e.sun]),Ie.jsx("primitive",{ref:n,object:r,dispose:null})});ee.forwardRef(function({size:e,...n},i){const r=cn(o=>o.invalidate),s=ee.useMemo(()=>new Z_e(n),[n]);return ee.useLayoutEffect(()=>{e&&s.setSize(e.width,e.height),r()},[s,e]),Ie.jsx("primitive",{ref:i,object:s,dispose:null})});ee.forwardRef(function({selection:e=[],selectionLayer:n=10,blendFunction:i,patternTexture:r,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:h,xRay:d,...p},y){const A=cn(w=>w.invalidate),{scene:g,camera:x}=ee.useContext(mu),S=ee.useMemo(()=>new iCe(g,x,{blendFunction:i,patternTexture:r,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:h,xRay:d,...p}),[i,h,x,s,c,l,f,r,o,g,a,u,d]),E=ee.useContext(e7);return ee.useEffect(()=>{if(!E&&e)return S.selection.set(Array.isArray(e)?e.map(nc):[nc(e)]),A(),()=>{S.selection.clear(),A()}},[S,e,E,A]),ee.useEffect(()=>{S.selectionLayer=n,A()},[S,A,n]),ee.useRef(),ee.useEffect(()=>{var w;if(E&&E.enabled&&(w=E.selected)!=null&&w.length)return S.selection.set(E.selected),A(),()=>{S.selection.clear(),A()}},[E,S.selection,A]),Ie.jsx("primitive",{ref:y,object:S})});ee.forwardRef(function({granularity:e=5},n){const i=ee.useMemo(()=>new sCe(e),[e]);return Ie.jsx("primitive",{ref:n,object:i,dispose:null})});const yCe=(t,e)=>t.layers.enable(e.selection.layer),xCe=(t,e)=>t.layers.disable(e.selection.layer);ee.forwardRef(function({selection:e=[],selectionLayer:n=10,lights:i=[],luminanceThreshold:r,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f},h){i.length===0&&console.warn("SelectiveBloom requires lights to work.");const d=cn(x=>x.invalidate),{scene:p,camera:y}=ee.useContext(mu),A=ee.useMemo(()=>new oCe(p,y,{blendFunction:Yt.ADD,luminanceThreshold:r,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f}),[p,y,r,s,o,a,l,u,c,f]),g=ee.useContext(e7);return ee.useEffect(()=>{if(!g&&e)return A.selection.set(Array.isArray(e)?e.map(nc):[nc(e)]),d(),()=>{A.selection.clear(),d()}},[A,e,g,d]),ee.useEffect(()=>{A.selection.layer=n,d()},[A,d,n]),ee.useEffect(()=>{if(i&&i.length>0)return i.forEach(x=>yCe(nc(x),A)),d(),()=>{i.forEach(x=>xCe(nc(x),A)),d()}},[A,d,i,n]),ee.useEffect(()=>{var x;if(g&&g.enabled&&(x=g.selected)!=null&&x.length)return A.selection.set(g.selected),d(),()=>{A.selection.clear(),d()}},[g,A.selection,d]),Ie.jsx("primitive",{ref:h,object:A,dispose:null})});ee.forwardRef(function(e,n){const{camera:i,normalPass:r,downSamplingPass:s,resolutionScale:o}=ee.useContext(mu),a=ee.useMemo(()=>r===null&&s===null?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),{}):new lCe(i,r&&!s?r.texture:null,{blendFunction:Yt.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,bias:.5,intensity:1,color:void 0,normalDepthBuffer:s?s.texture:null,resolutionScale:o??1,depthAwareUpsampling:!0,...e}),[i,r,e]);return Ie.jsx("primitive",{ref:n,object:a,dispose:null})});ee.forwardRef(function({textureSrc:e,texture:n,...i},r){const s=ch(O9,e);ee.useLayoutEffect(()=>{s.encoding=Lo,s.wrapS=s.wrapT=Ki},[s]);const o=ee.useMemo(()=>new fCe({...i,texture:s||n}),[i,s,n]);return Ie.jsx("primitive",{ref:r,object:o,dispose:null})});ee.forwardRef(function({lut:e,tetrahedralInterpolation:n,...i},r){const s=ee.useMemo(()=>new eCe(e,i),[e,i]),o=cn(a=>a.invalidate);return ee.useLayoutEffect(()=>{n&&(s.tetrahedralInterpolation=n),e&&(s.lut=e),o()},[s,o,e,n]),Ie.jsx("primitive",{ref:r,object:s,dispose:null})});const SCe=`
uniform sampler2D uCharacters;
uniform float uCharactersCount;
uniform float uCellSize;
uniform bool uInvert;
uniform vec3 uColor;

const vec2 SIZE = vec2(16.);

vec3 greyscale(vec3 color, float strength) {
    float g = dot(color, vec3(0.299, 0.587, 0.114));
    return mix(color, vec3(g), strength);
}

vec3 greyscale(vec3 color) {
    return greyscale(color, 1.0);
}

void mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {
    vec2 cell = resolution / uCellSize;
    vec2 grid = 1.0 / cell;
    vec2 pixelizedUV = grid * (0.5 + floor(uv / grid));
    vec4 pixelized = texture2D(inputBuffer, pixelizedUV);
    float greyscaled = greyscale(pixelized.rgb).r;

    if (uInvert) {
        greyscaled = 1.0 - greyscaled;
    }

    float characterIndex = floor((uCharactersCount - 1.0) * greyscaled);
    vec2 characterPosition = vec2(mod(characterIndex, SIZE.x), floor(characterIndex / SIZE.y));
    vec2 offset = vec2(characterPosition.x, -characterPosition.y) / SIZE;
    vec2 charUV = mod(uv * (cell / SIZE), 1.0 / SIZE) - vec2(0., 1.0 / SIZE) + offset;
    vec4 asciiCharacter = texture2D(uCharacters, charUV);

    asciiCharacter.rgb = uColor * asciiCharacter.r;
    asciiCharacter.a = pixelized.a;
    outputColor = asciiCharacter;
}
`;class ECe extends Kr{constructor({characters:e=" .:,'-^=*+?!|0#X%WM@",fontSize:n=54,cellSize:i=16,color:r="#ffffff",invert:s=!1}={}){const o=new Map([["uCharacters",new ye(new Vn)],["uCellSize",new ye(i)],["uCharactersCount",new ye(e.length)],["uColor",new ye(new Je(r))],["uInvert",new ye(s)]]);super("ASCIIEffect",SCe,{uniforms:o});const a=this.uniforms.get("uCharacters");a&&(a.value=this.createCharactersTexture(e,n))}createCharactersTexture(e,n){const i=document.createElement("canvas"),r=1024,s=16,o=r/s;i.width=i.height=r;const a=new $j(i,void 0,Ki,Ki,vt,vt),l=i.getContext("2d");if(!l)throw new Error("Context not available");l.clearRect(0,0,r,r),l.font=`${n}px arial`,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(let u=0;u<e.length;u++){const c=e[u],f=u%s,h=Math.floor(u/s);l.fillText(c,f*o+o/2,h*o+o/2)}return a.needsUpdate=!0,a}}ee.forwardRef(({characters:t=" .:,'-^=*+?!|0#X%WM@",fontSize:e=54,cellSize:n=16,color:i="#ffffff",invert:r=!1},s)=>{const o=ee.useMemo(()=>new ECe({characters:t,fontSize:e,cellSize:n,color:i,invert:r}),[t,e,n,i,r]);return Ie.jsx("primitive",{ref:s,object:o})});var wCe=`#define GLSLIFY 1
uniform float blur;uniform float blurSharpness;uniform int blurKernel;vec3 denoise(vec3 center,sampler2D tex,vec2 uv,vec2 invTexSize,float blur,float blurSharpness,int blurKernel){vec3 color;float total;vec3 col;float weight;for(int x=-blurKernel;x<=blurKernel;x++){for(int y=-blurKernel;y<=blurKernel;y++){col=textureLod(tex,uv+vec2(x,y)*invTexSize,0.).rgb;weight=1.0-abs(dot(col-center,vec3(0.25)));weight=pow(weight,blurSharpness);color+=col*weight;total+=weight;}}return color/total;}`,_Ce=`#define GLSLIFY 1
#define MODE_DEFAULT 0
#define MODE_REFLECTIONS 1
#define MODE_RAW_REFLECTION 2
#define MODE_BLURRED_REFLECTIONS 3
#define MODE_INPUT 4
#define MODE_BLUR_MIX 5
#define FLOAT_EPSILON 0.00001
uniform sampler2D inputTexture;uniform sampler2D reflectionsTexture;uniform float samples;
#include <boxBlur>
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 reflectionsTexel=texture2D(reflectionsTexture,vUv);ivec2 size=textureSize(reflectionsTexture,0);vec2 invTexSize=1./vec2(size.x,size.y);vec3 reflectionClr=reflectionsTexel.xyz;if(blur>FLOAT_EPSILON){vec3 blurredReflectionsColor=denoise(reflectionsTexel.rgb,reflectionsTexture,vUv,invTexSize,blur,blurSharpness,blurKernel);reflectionClr=mix(reflectionClr,blurredReflectionsColor.rgb,blur);}
#if RENDER_MODE == MODE_DEFAULT
outputColor=vec4(inputColor.rgb+reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_REFLECTIONS
outputColor=vec4(reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_RAW_REFLECTION
outputColor=vec4(reflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLURRED_REFLECTIONS
outputColor=vec4(blurredReflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_INPUT
outputColor=vec4(inputColor.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLUR_MIX
outputColor=vec4(vec3(blur),1.0);
#endif
}`,wJ=`#define GLSLIFY 1
vec3 getViewPosition(const float depth){float clipW=_projectionMatrix[2][3]*depth+_projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(vUv,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(_inverseProjectionMatrix*clipPosition).xyz;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 screenSpaceToWorldSpace(const vec2 uv,const float depth){vec4 ndc=vec4((uv.x-0.5)*2.0,(uv.y-0.5)*2.0,(depth-0.5)*2.0,1.0);vec4 clip=_inverseProjectionMatrix*ndc;vec4 view=cameraMatrixWorld*(clip/clip.w);return view.xyz;}
#define Scale (vec3(0.8, 0.8, 0.8))
#define K (19.19)
vec3 hash(vec3 a){a=fract(a*Scale);a+=dot(a,a.yxz+K);return fract((a.xxy+a.yxx)*a.zyx);}float fresnel_dielectric_cos(float cosi,float eta){float c=abs(cosi);float g=eta*eta-1.0+c*c;float result;if(g>0.0){g=sqrt(g);float A=(g-c)/(g+c);float B=(c*(g+c)-1.0)/(c*(g-c)+1.0);result=0.5*A*A*(1.0+B*B);}else{result=1.0;}return result;}float fresnel_dielectric(vec3 Incoming,vec3 Normal,float eta){float cosine=dot(Incoming,Normal);return min(1.0,5.0*fresnel_dielectric_cos(cosine,eta));}`,CCe=`#define GLSLIFY 1
#define INV_EULER 0.36787944117144233
alpha=velocityDisocclusion<FLOAT_EPSILON ?(alpha+0.0075): 0.0;alpha=clamp(alpha,0.0,1.0);bool needsBlur=!didReproject||velocityDisocclusion>0.5;
#ifdef boxBlur
if(needsBlur)inputColor=boxBlurredColor;
#endif
if(alpha==1.0){outputColor=accumulatedColor;}else{float m=mix(alpha,1.0,blend);if(needsBlur)m=0.0;outputColor=accumulatedColor*m+inputColor*(1.0-m);}`;class bCe extends yt{constructor(){super({type:"MRTMaterial",defines:{USE_UV:"",TEMPORAL_RESOLVE:""},uniforms:{opacity:new ye(1),normalMap:new ye(null),normalScale:new ye(new he(1,1)),uvTransform:new ye(new sn),roughness:new ye(1),roughnessMap:new ye(null)},vertexShader:`
                #ifdef USE_MRT
                 varying vec2 vHighPrecisionZW;
                #endif
                #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <common>
                #include <uv_pars_vertex>
                #include <displacementmap_pars_vertex>
                #include <normal_pars_vertex>
                #include <morphtarget_pars_vertex>
                #include <skinning_pars_vertex>
                #include <logdepthbuf_pars_vertex>
                #include <clipping_planes_pars_vertex>
                #ifdef USE_UV
                  ${Lr.replace(/\D+/g,"")>=151?"uniform mat3 uvTransform;":""}
                #endif
                void main() {
                    #include <uv_vertex>
                    #include <beginnormal_vertex>
                    #include <morphnormal_vertex>
                    #include <skinbase_vertex>
                    #include <skinnormal_vertex>
                    #include <defaultnormal_vertex>
                    #include <normal_vertex>
                    #include <begin_vertex>
                    #include <morphtarget_vertex>
                    #include <skinning_vertex>
                    #include <displacementmap_vertex>
                    #include <project_vertex>
                    #include <logdepthbuf_vertex>
                    #include <clipping_planes_vertex>
                    #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                        vViewPosition = - mvPosition.xyz;
                    #endif
                    #ifdef USE_MRT
                        vHighPrecisionZW = gl_Position.zw;
                    #endif
                    #ifdef USE_UV
                        vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
                    #endif
                }
            `,fragmentShader:`
                 #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <packing>
                #include <uv_pars_fragment>
                #include <normal_pars_fragment>
                #include <bumpmap_pars_fragment>
                #include <normalmap_pars_fragment>
                #include <logdepthbuf_pars_fragment>
                #include <clipping_planes_pars_fragment>
                #include <roughnessmap_pars_fragment>

                #ifdef USE_MRT
                layout(location = 0) out vec4 gNormal;
                layout(location = 1) out vec4 gDepth;

                varying vec2 vHighPrecisionZW;
                #endif
                uniform float roughness;
                void main() {
                    #include <clipping_planes_fragment>
                    #include <logdepthbuf_fragment>
                    #include <normal_fragment_begin>
                    #include <normal_fragment_maps>

                    float roughnessFactor = roughness;

                    if(roughness > 10.0e9){
                        roughnessFactor = 1.;
                    }else{
                        #ifdef useRoughnessMap
                            vec4 texelRoughness = texture2D( roughnessMap, vUv );
                            // reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
                            roughnessFactor *= texelRoughness.g;
                        #endif
                    }

                    vec3 normalColor = packNormalToRGB( normal );
                    #ifdef USE_MRT
                        float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
                        vec4 depthColor = packDepthToRGBA( fragCoordZ );
                        gNormal = vec4( normalColor, roughnessFactor );
                        gDepth = depthColor;
                    #else
                        gl_FragColor = vec4(normalColor, roughnessFactor);
                    #endif
                }
            `,toneMapped:!1}),this.normalMapType=uu,this.normalScale=new he(1,1),Object.defineProperty(this,"glslVersion",{get(){return"USE_MRT"in this.defines?oS:null},set(e){}})}}var TCe=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,MCe=`#define GLSLIFY 1
varying vec2 vUv;uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D normalTexture;uniform sampler2D depthTexture;uniform sampler2D envMap;uniform mat4 _projectionMatrix;uniform mat4 _inverseProjectionMatrix;uniform mat4 cameraMatrixWorld;uniform float cameraNear;uniform float cameraFar;uniform float rayDistance;uniform float intensity;uniform float maxDepthDifference;uniform float roughnessFade;uniform float maxRoughness;uniform float fade;uniform float thickness;uniform float ior;uniform float samples;uniform float jitter;uniform float jitterRoughness;
#define INVALID_RAY_COORDS vec2(-1.0);
#define EARLY_OUT_COLOR vec4(0.0, 0.0, 0.0, 1.0)
#define FLOAT_EPSILON 0.00001
float nearMinusFar;float nearMulFar;float farMinusNear;
#include <packing>
#include <helperFunctions>
vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);float fastGetViewZ(const in float depth);vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness);void main(){vec4 depthTexel=textureLod(depthTexture,vUv,0.0);if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON){gl_FragColor=EARLY_OUT_COLOR;return;}float unpackedDepth=unpackRGBAToDepth(depthTexel);vec4 normalTexel=textureLod(normalTexture,vUv,0.0);float roughness=normalTexel.a;float specular=1.0-roughness;nearMinusFar=cameraNear-cameraFar;nearMulFar=cameraNear*cameraFar;farMinusNear=cameraFar-cameraNear;normalTexel.rgb=unpackRGBToNormal(normalTexel.rgb);float depth=fastGetViewZ(unpackedDepth);vec3 viewPos=getViewPosition(depth);vec3 viewDir=normalize(viewPos);vec3 viewNormal=normalTexel.xyz;vec3 worldPos=screenSpaceToWorldSpace(vUv,unpackedDepth);vec3 jitt=vec3(0.0);if(jitterRoughness!=0.0||jitter!=0.0){vec3 randomJitter=hash(50.0*samples*worldPos)-0.5;float spread=((2.0-specular)+roughness*jitterRoughness);float jitterMix=jitter*0.25+jitterRoughness*roughness;if(jitterMix>1.0)jitterMix=1.0;jitt=mix(vec3(0.0),randomJitter*spread,jitterMix);}viewNormal+=jitt;float fresnelFactor=fresnel_dielectric(viewDir,viewNormal,ior);vec3 iblRadiance=getIBLRadiance(-viewDir,viewNormal,0.)*fresnelFactor;float lastFrameAlpha=textureLod(accumulatedTexture,vUv,0.0).a;if(roughness>maxRoughness||(roughness>1.0-FLOAT_EPSILON&&roughnessFade>1.0-FLOAT_EPSILON)){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec3 reflected=reflect(viewDir,viewNormal);vec3 rayDir=reflected*-viewPos.z;vec3 hitPos=viewPos;float rayHitDepthDifference;vec2 coords=RayMarch(rayDir,hitPos,rayHitDepthDifference);if(coords.x==-1.0){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec4 SSRTexel=textureLod(inputTexture,coords.xy,0.0);vec4 SSRTexelReflected=textureLod(accumulatedTexture,coords.xy,0.0);vec3 SSR=SSRTexel.rgb+SSRTexelReflected.rgb;float roughnessFactor=mix(specular,1.0,max(0.0,1.0-roughnessFade));vec2 coordsNDC=(coords.xy*2.0-1.0);float screenFade=0.1;float maxDimension=min(1.0,max(abs(coordsNDC.x),abs(coordsNDC.y)));float reflectionIntensity=1.0-(max(0.0,maxDimension-screenFade)/(1.0-screenFade));reflectionIntensity=max(0.,reflectionIntensity);vec3 finalSSR=mix(iblRadiance,SSR,reflectionIntensity)*roughnessFactor;if(fade!=0.0){vec3 hitWorldPos=screenSpaceToWorldSpace(coords,rayHitDepthDifference);float reflectionDistance=distance(hitWorldPos,worldPos)+1.0;float opacity=1.0/(reflectionDistance*fade*0.1);if(opacity>1.0)opacity=1.0;finalSSR*=opacity;}finalSSR*=fresnelFactor*intensity;finalSSR=min(vec3(1.0),finalSSR);float alpha=hitPos.z==1.0 ? 1.0 : SSRTexelReflected.a;alpha=min(lastFrameAlpha,alpha);gl_FragColor=vec4(finalSSR,alpha);}vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){dir=normalize(dir);dir*=rayDistance/float(steps);float depth;vec4 projectedCoord;vec4 lastProjectedCoord;float unpackedDepth;vec4 depthTexel;for(int i=0;i<steps;i++){hitPos+=dir;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;
#ifndef missedRays
if(projectedCoord.x<0.0||projectedCoord.x>1.0||projectedCoord.y<0.0||projectedCoord.y>1.0){return INVALID_RAY_COORDS;}
#endif
depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;if(rayHitDepthDifference>=0.0&&rayHitDepthDifference<thickness){
#if refineSteps == 0
if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;
#else
return BinarySearch(dir,hitPos,rayHitDepthDifference);
#endif
}
#ifndef missedRays
if(hitPos.z>0.0){return INVALID_RAY_COORDS;}
#endif
lastProjectedCoord=projectedCoord;}hitPos.z=1.0;
#ifndef missedRays
return INVALID_RAY_COORDS;
#endif
rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){float depth;vec4 projectedCoord;vec2 lastMinProjectedCoordXY;float unpackedDepth;vec4 depthTexel;for(int i=0;i<refineSteps;i++){projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;dir*=0.5;if(rayHitDepthDifference>0.0){hitPos-=dir;}else{hitPos+=dir;}}if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;if(abs(rayHitDepthDifference)>maxDepthDifference)return INVALID_RAY_COORDS;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}float fastGetViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return nearMulFar/(farMinusNear*depth-cameraFar);
#else
return depth*nearMinusFar-cameraNear;
#endif
}
#include <common>
#include <cube_uv_reflection_fragment>
vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness){
#if defined(ENVMAP_TYPE_CUBE_UV)
vec3 reflectVec=reflect(-viewDir,normal);reflectVec=normalize(mix(reflectVec,normal,roughness*roughness));reflectVec=inverseTransformDirection(reflectVec,viewMatrix);vec4 envMapColor=textureCubeUV(envMap,reflectVec,roughness);return envMapColor.rgb*intensity;
#else
return vec3(0.0);
#endif
}`;class ICe extends yt{constructor(){super({type:"ReflectionsMaterial",uniforms:{inputTexture:new ye(null),accumulatedTexture:new ye(null),normalTexture:new ye(null),depthTexture:new ye(null),_projectionMatrix:new ye(new it),_inverseProjectionMatrix:new ye(new it),cameraMatrixWorld:new ye(new it),cameraNear:new ye(0),cameraFar:new ye(0),rayDistance:new ye(0),intensity:new ye(0),roughnessFade:new ye(0),fade:new ye(0),thickness:new ye(0),ior:new ye(0),maxDepthDifference:new ye(0),jitter:new ye(0),jitterRoughness:new ye(0),maxRoughness:new ye(0),samples:new ye(0),envMap:new ye(null),envMapPosition:new ye(new j),envMapSize:new ye(new j),viewMatrix:new ye(new it)},defines:{steps:20,refineSteps:5,CUBEUV_TEXEL_WIDTH:0,CUBEUV_TEXEL_HEIGHT:0,CUBEUV_MAX_MIP:0,vWorldPosition:"worldPos"},fragmentShader:MCe.replace("#include <helperFunctions>",wJ),vertexShader:TCe,toneMapped:!1,depthWrite:!1,depthTest:!1})}}const _J=t=>{const e=[t],n=[];for(;e.length!==0;){const i=e.shift();i.material&&n.push(i);for(const r of i.children)r.visible&&e.push(r)}return n},RCe=t=>{const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}},_U=(t,e,n)=>{t.uniforms.envMap.value=e;const i=RCe({envMapCubeUVHeight:n});t.defines.ENVMAP_TYPE_CUBE_UV="",t.defines.CUBEUV_TEXEL_WIDTH=i.texelWidth,t.defines.CUBEUV_TEXEL_HEIGHT=i.texelHeight,t.defines.CUBEUV_MAX_MIP=i.maxMip+".0",t.needsUpdate=!0},PCe=()=>{try{const t=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&t.getContext("webgl2"))}catch{return!1}};class BCe extends Ji{constructor(e,n={}){super("ReflectionsPass"),this.ssrEffect=void 0,this.cachedMaterials=new WeakMap,this.USE_MRT=!1,this.webgl1DepthPass=null,this.visibleMeshes=[],this.ssrEffect=e,this._scene=e._scene,this._camera=e._camera,this.fullscreenMaterial=new ICe,e._camera.isPerspectiveCamera&&(this.fullscreenMaterial.defines.PERSPECTIVE_CAMERA="");const i=n.width||typeof window<"u"?window.innerWidth:2e3,r=n.height||typeof window<"u"?window.innerHeight:1e3;this.renderTarget=new Rt(i,r,{minFilter:At,magFilter:At,type:hn,depthBuffer:!1}),this.renderPass=new Up(this._scene,this._camera),this.USE_MRT=PCe(),this.USE_MRT?(this.gBuffersRenderTarget=new h9(i,r,2,{minFilter:At,magFilter:At}),this.normalTexture=this.gBuffersRenderTarget.texture[0],this.depthTexture=this.gBuffersRenderTarget.texture[1]):(this.webgl1DepthPass=new ZI(this._scene,this._camera),this.webgl1DepthPass.renderTarget.minFilter=At,this.webgl1DepthPass.renderTarget.magFilter=At,this.webgl1DepthPass.renderTarget.texture.minFilter=At,this.webgl1DepthPass.renderTarget.texture.magFilter=At,this.webgl1DepthPass.setSize(typeof window<"u"?window.innerWidth:2e3,typeof window<"u"?window.innerHeight:1e3),this.gBuffersRenderTarget=new Rt(i,r,{minFilter:At,magFilter:At}),this.normalTexture=this.gBuffersRenderTarget.texture,this.depthTexture=this.webgl1DepthPass.texture),this.fullscreenMaterial.uniforms.normalTexture.value=this.normalTexture,this.fullscreenMaterial.uniforms.depthTexture.value=this.depthTexture,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.uniforms.cameraMatrixWorld.value=this._camera.matrixWorld,this.fullscreenMaterial.uniforms._projectionMatrix.value=this._camera.projectionMatrix,this.fullscreenMaterial.uniforms._inverseProjectionMatrix.value=this._camera.projectionMatrixInverse}setSize(e,n){this.renderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.gBuffersRenderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.needsUpdate=!0}dispose(){this.renderTarget.dispose(),this.gBuffersRenderTarget.dispose(),this.renderPass.dispose(),this.USE_MRT||this.webgl1DepthPass.dispose(),this.fullscreenMaterial.dispose(),this.normalTexture=null,this.depthTexture=null,this.velocityTexture=null}keepMaterialMapUpdated(e,n,i,r){this.ssrEffect[r]?n[i]!==e[i]&&(e[i]=n[i],e.uniforms[i].value=n[i],n[i]?e.defines[r]="":delete e.defines[r],e.needsUpdate=!0):e[i]!==void 0&&(e[i]=void 0,e.uniforms[i].value=void 0,delete e.defines[r],e.needsUpdate=!0)}setMRTMaterialInScene(){this.visibleMeshes=_J(this._scene);for(const e of this.visibleMeshes)if(e.material){const n=e.material;let[i,r]=this.cachedMaterials.get(e)||[];if(n!==i){r&&r.dispose(),r=new bCe,this.USE_MRT&&(r.defines.USE_MRT=""),r.normalScale=n.normalScale,r.uniforms.normalScale.value=n.normalScale;const s=n.map||n.normalMap||n.roughnessMap||n.metalnessMap;s&&(r.uniforms.uvTransform.value=s.matrix),this.cachedMaterials.set(e,[n,r])}this.keepMaterialMapUpdated(r,n,"normalMap","useNormalMap"),this.keepMaterialMapUpdated(r,n,"roughnessMap","useRoughnessMap"),r.uniforms.roughness.value=this.ssrEffect.selection.size===0||this.ssrEffect.selection.has(e)?n.roughness||0:1e11,e.material=r}}unsetMRTMaterialInScene(){for(const n of this.visibleMeshes){var e;if(((e=n.material)==null?void 0:e.type)==="MRTMaterial"){n.visible=!0;const[i]=this.cachedMaterials.get(n);n.material=i}}}render(e,n){this.setMRTMaterialInScene(),e.setRenderTarget(this.gBuffersRenderTarget),this.renderPass.render(e,this.gBuffersRenderTarget),this.unsetMRTMaterialInScene(),this.USE_MRT||this.webgl1DepthPass.renderPass.render(e,this.webgl1DepthPass.renderTarget),this.fullscreenMaterial.uniforms.inputTexture.value=n.texture,this.fullscreenMaterial.uniforms.samples.value=this.ssrEffect.temporalResolvePass.samples,this.fullscreenMaterial.uniforms.cameraNear.value=this._camera.near,this.fullscreenMaterial.uniforms.cameraFar.value=this._camera.far,this.fullscreenMaterial.uniforms.viewMatrix.value.copy(this._camera.matrixWorldInverse),e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera)}}const CU={intensity:1,exponent:1,distance:10,fade:0,roughnessFade:1,thickness:10,ior:1.45,maxRoughness:1,maxDepthDifference:10,blend:.9,correction:1,correctionRadius:1,blur:.5,blurKernel:1,blurSharpness:10,jitter:0,jitterRoughness:0,steps:20,refineSteps:5,missedRays:!0,useNormalMap:!0,useRoughnessMap:!0,resolutionScale:1,velocityResolutionScale:1};var DCe=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,LCe=`#define GLSLIFY 1
uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D velocityTexture;uniform sampler2D lastVelocityTexture;uniform float blend;uniform float correction;uniform float exponent;uniform float samples;uniform vec2 invTexSize;uniform mat4 curInverseProjectionMatrix;uniform mat4 curCameraMatrixWorld;uniform mat4 prevInverseProjectionMatrix;uniform mat4 prevCameraMatrixWorld;varying vec2 vUv;
#define MAX_NEIGHBOR_DEPTH_DIFFERENCE 0.001
#define FLOAT_EPSILON 0.00001
#define FLOAT_ONE_MINUS_EPSILON 0.99999
vec3 transformexponent;vec3 undoColorTransformExponent;vec3 transformColor(vec3 color){if(exponent==1.0)return color;return pow(abs(color),transformexponent);}vec3 undoColorTransform(vec3 color){if(exponent==1.0)return color;return max(pow(abs(color),undoColorTransformExponent),vec3(0.0));}void main(){if(exponent!=1.0){transformexponent=vec3(1.0/exponent);undoColorTransformExponent=vec3(exponent);}vec4 inputTexel=textureLod(inputTexture,vUv,0.0);vec4 accumulatedTexel;vec3 inputColor=transformColor(inputTexel.rgb);vec3 accumulatedColor;float alpha=inputTexel.a;float velocityDisocclusion;bool didReproject=false;
#ifdef boxBlur
vec3 boxBlurredColor=inputTexel.rgb;
#endif
vec4 velocity=textureLod(velocityTexture,vUv,0.0);bool isMoving=alpha<1.0||dot(velocity.xy,velocity.xy)>0.0;if(isMoving){vec3 minNeighborColor=inputColor;vec3 maxNeighborColor=inputColor;vec3 col;vec2 neighborUv;vec2 reprojectedUv=vUv-velocity.xy;vec4 lastVelocity=textureLod(lastVelocityTexture,reprojectedUv,0.0);float depth=velocity.b;float closestDepth=depth;float lastClosestDepth=lastVelocity.b;float neighborDepth;float lastNeighborDepth;for(int x=-correctionRadius;x<=correctionRadius;x++){for(int y=-correctionRadius;y<=correctionRadius;y++){if(x!=0||y!=0){neighborUv=vUv+vec2(x,y)*invTexSize;vec4 neigborVelocity=textureLod(velocityTexture,neighborUv,0.0);neighborDepth=neigborVelocity.b;col=textureLod(inputTexture,neighborUv,0.0).xyz;int absX=abs(x);int absY=abs(y);
#ifdef dilation
if(absX==1&&absY==1){if(neighborDepth>closestDepth){velocity=neigborVelocity;closestDepth=neighborDepth;}vec4 lastNeighborVelocity=textureLod(velocityTexture,vUv+vec2(x,y)*invTexSize,0.0);lastNeighborDepth=lastNeighborVelocity.b;if(neighborDepth>closestDepth){lastVelocity=lastNeighborVelocity;lastClosestDepth=lastNeighborDepth;}}
#endif
if(abs(depth-neighborDepth)<MAX_NEIGHBOR_DEPTH_DIFFERENCE){
#ifdef boxBlur
if(absX<=2&&absY<=2)boxBlurredColor+=col;
#endif
col=transformColor(col);minNeighborColor=min(col,minNeighborColor);maxNeighborColor=max(col,maxNeighborColor);}}}}float velocityLength=length(lastVelocity.xy-velocity.xy);velocityDisocclusion=(velocityLength-0.000005)*10.0;velocityDisocclusion*=velocityDisocclusion;reprojectedUv=vUv-velocity.xy;
#ifdef boxBlur
float pxRadius=correctionRadius>5 ? 121.0 : pow(float(correctionRadius*2+1),2.0);boxBlurredColor/=pxRadius;boxBlurredColor=transformColor(boxBlurredColor);
#endif
if(reprojectedUv.x>=0.0&&reprojectedUv.x<=1.0&&reprojectedUv.y>=0.0&&reprojectedUv.y<=1.0){accumulatedTexel=textureLod(accumulatedTexture,reprojectedUv,0.0);accumulatedColor=transformColor(accumulatedTexel.rgb);vec3 clampedColor=clamp(accumulatedColor,minNeighborColor,maxNeighborColor);accumulatedColor=mix(accumulatedColor,clampedColor,correction);didReproject=true;}else{
#ifdef boxBlur
accumulatedColor=boxBlurredColor;
#else
accumulatedColor=inputColor;
#endif
}if(velocity.r>FLOAT_ONE_MINUS_EPSILON&&velocity.g>FLOAT_ONE_MINUS_EPSILON){alpha=0.0;velocityDisocclusion=1.0;}}else{accumulatedColor=transformColor(textureLod(accumulatedTexture,vUv,0.0).rgb);}vec3 outputColor=inputColor;
#include <custom_compose_shader>
gl_FragColor=vec4(undoColorTransform(outputColor),alpha);}`;class OCe extends yt{constructor(e){const n=LCe.replace("#include <custom_compose_shader>",e);super({type:"TemporalResolveMaterial",uniforms:{inputTexture:new ye(null),accumulatedTexture:new ye(null),velocityTexture:new ye(null),lastVelocityTexture:new ye(null),samples:new ye(1),blend:new ye(.5),correction:new ye(1),exponent:new ye(1),invTexSize:new ye(new he)},defines:{correctionRadius:1},vertexShader:DCe,fragmentShader:n})}}const FCe=`
    #ifdef USE_SKINNING
      #ifdef BONE_TEXTURE
        uniform sampler2D prevBoneTexture;
        mat4 getPrevBoneMatrix( const in float i ) {
          float j = i * 4.0;
          float x = mod( j, float( boneTextureSize ) );
          float y = floor( j / float( boneTextureSize ) );
          float dx = 1.0 / float( boneTextureSize );
          float dy = 1.0 / float( boneTextureSize );
          y = dy * ( y + 0.5 );
          vec4 v1 = texture2D( prevBoneTexture, vec2( dx * ( x + 0.5 ), y ) );
          vec4 v2 = texture2D( prevBoneTexture, vec2( dx * ( x + 1.5 ), y ) );
          vec4 v3 = texture2D( prevBoneTexture, vec2( dx * ( x + 2.5 ), y ) );
          vec4 v4 = texture2D( prevBoneTexture, vec2( dx * ( x + 3.5 ), y ) );
          mat4 bone = mat4( v1, v2, v3, v4 );
          return bone;
        }
      #else
        uniform mat4 prevBoneMatrices[ MAX_BONES ];
        mat4 getPrevBoneMatrix( const in float i ) {
          mat4 bone = prevBoneMatrices[ int(i) ];
          return bone;
        }
      #endif
    #endif
`,UCe=`
    vec3 transformed;

    // Get the normal
    ${Ot.skinbase_vertex}
    ${Ot.beginnormal_vertex}
    ${Ot.skinnormal_vertex}
    ${Ot.defaultnormal_vertex}

    // Get the current vertex position
    transformed = vec3( position );
    ${Ot.skinning_vertex}
    newPosition = velocityMatrix * vec4( transformed, 1.0 );

    // Get the previous vertex position
    transformed = vec3( position );
    ${Ot.skinbase_vertex.replace(/mat4 /g,"").replace(/getBoneMatrix/g,"getPrevBoneMatrix")}
    ${Ot.skinning_vertex.replace(/vec4 /g,"")}
    prevPosition = prevVelocityMatrix * vec4( transformed, 1.0 );

    gl_Position = newPosition;
`;class kCe extends yt{constructor(){super({uniforms:{prevVelocityMatrix:{value:new it},velocityMatrix:{value:new it},prevBoneTexture:{value:null},interpolateGeometry:{value:0},intensity:{value:1},boneTexture:{value:null},alphaTest:{value:0},map:{value:null},alphaMap:{value:null},opacity:{value:1}},vertexShader:`
                    #define MAX_BONES 1024

                    ${Ot.skinning_pars_vertex}
                    ${FCe}

                    uniform mat4 velocityMatrix;
                    uniform mat4 prevVelocityMatrix;
                    uniform float interpolateGeometry;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {

                        ${UCe}

            vHighPrecisionZW = gl_Position.zw;

                    }`,fragmentShader:`
                    uniform float intensity;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {
            #ifdef FULL_MOVEMENT
            gl_FragColor = vec4( 1., 1., 1. - gl_FragCoord.z, 0. );
            return;
            #endif

                        vec2 pos0 = (prevPosition.xy / prevPosition.w) * 0.5 + 0.5;
                        vec2 pos1 = (newPosition.xy / newPosition.w) * 0.5 + 0.5;

                        vec2 vel = pos1 - pos0;

            float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;

                        gl_FragColor = vec4( vel, 1. - fragCoordZ, 0. );

                    }`}),this.isVelocityMaterial=!0}}const NCe=new Je(0),GCe=["visible","wireframe","side"];class zCe extends Ji{constructor(e,n){var i,r;super("VelocityPass"),this.cachedMaterials=new WeakMap,this.lastCameraTransform={position:new j,quaternion:new mi},this.visibleMeshes=[],this.renderedMeshesThisFrame=0,this.renderedMeshesLastFrame=0,this._scene=e,this._camera=n,this.renderTarget=new Rt(((i=window)==null?void 0:i.innerWidth)||1e3,((r=window)==null?void 0:r.innerHeight)||1e3,{type:hn})}setVelocityMaterialInScene(){this.renderedMeshesThisFrame=0,this.visibleMeshes=_J(this._scene);for(const i of this.visibleMeshes){var e;const r=i.material;let[s,o]=this.cachedMaterials.get(i)||[];if(r!==s){var n;o=new kCe,o.lastMatrixWorld=new it,i.material=o,(n=i.skeleton)!=null&&n.boneTexture&&this.saveBoneTexture(i),this.cachedMaterials.set(i,[r,o])}if(o.uniforms.velocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,i.modelViewMatrix),i.userData.needsUpdatedReflections||r.map instanceof Zj?("FULL_MOVEMENT"in o.defines||(o.needsUpdate=!0),o.defines.FULL_MOVEMENT=""):"FULL_MOVEMENT"in o.defines&&(delete o.defines.FULL_MOVEMENT,o.needsUpdate=!0),i.visible=this.cameraMovedThisFrame||!i.matrixWorld.equals(o.lastMatrixWorld)||i.skeleton||"FULL_MOVEMENT"in o.defines,i.material=o,!!i.visible){this.renderedMeshesThisFrame++;for(const a of GCe)o[a]=r[a];(e=i.skeleton)!=null&&e.boneTexture&&(o.defines.USE_SKINNING="",o.defines.BONE_TEXTURE="",o.uniforms.boneTexture.value=i.skeleton.boneTexture)}}}saveBoneTexture(e){let n=e.material.uniforms.prevBoneTexture.value;if(n&&n.image.width===e.skeleton.boneTexture.width)n=e.material.uniforms.prevBoneTexture.value,n.image.data.set(e.skeleton.boneTexture.image.data);else{var i;(i=n)==null||i.dispose();const r=e.skeleton.boneTexture.image.data.slice(),s=e.skeleton.boneTexture.image.width;n=new Bs(r,s,s,Pn,Mn),e.material.uniforms.prevBoneTexture.value=n,n.needsUpdate=!0}}unsetVelocityMaterialInScene(){for(const n of this.visibleMeshes)if(n.material.isVelocityMaterial){var e;n.visible=!0,n.material.lastMatrixWorld.copy(n.matrixWorld),n.material.uniforms.prevVelocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,n.modelViewMatrix),(e=n.skeleton)!=null&&e.boneTexture&&this.saveBoneTexture(n),n.material=this.cachedMaterials.get(n)[0]}}setSize(e,n){this.renderTarget.setSize(e,n)}renderVelocity(e){if(e.setRenderTarget(this.renderTarget),this.renderedMeshesThisFrame>0){const{background:n}=this._scene;this._scene.background=NCe,e.render(this._scene,this._camera),this._scene.background=n}else e.clearColor()}checkCameraMoved(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));return e>1e-6||n>1e-6?(this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion),!0):!1}render(e){this.cameraMovedThisFrame=this.checkCameraMoved(),this.setVelocityMaterialInScene(),(this.renderedMeshesThisFrame>0||this.renderedMeshesLastFrame>0)&&this.renderVelocity(e),this.unsetVelocityMaterialInScene(),this.renderedMeshesLastFrame=this.renderedMeshesThisFrame}}const bU=new he;class HCe extends Ji{constructor(e,n,i,r={}){super("TemporalResolvePass"),this.velocityPass=null,this.velocityResolutionScale=1,this.samples=1,this.lastCameraTransform={position:new j,quaternion:new mi},this._scene=e,this._camera=n,this.renderTarget=new Rt(1,1,{minFilter:At,magFilter:At,type:hn,depthBuffer:!1}),this.velocityPass=new zCe(e,n),this.fullscreenMaterial=new OCe(i),this.fullscreenMaterial.defines.correctionRadius=r.correctionRadius||1,r.dilation&&(this.fullscreenMaterial.defines.dilation=""),r.boxBlur&&(this.fullscreenMaterial.defines.boxBlur=""),this.setupFramebuffers(1,1),this.checkCanUseSharedVelocityTexture()}dispose(){this._scene.userData.velocityTexture===this.velocityPass.renderTarget.texture&&(delete this._scene.userData.velocityTexture,delete this._scene.userData.lastVelocityTexture),this.renderTarget.dispose(),this.accumulatedTexture.dispose(),this.fullscreenMaterial.dispose(),this.velocityPass.dispose()}setSize(e,n){this.renderTarget.setSize(e,n),this.velocityPass.setSize(e*this.velocityResolutionScale,n*this.velocityResolutionScale),this.velocityPass.renderTarget.texture.minFilter=this.velocityResolutionScale===1?vt:At,this.velocityPass.renderTarget.texture.magFilter=this.velocityResolutionScale===1?vt:At,this.velocityPass.renderTarget.texture.needsUpdate=!0,this.fullscreenMaterial.uniforms.invTexSize.value.set(1/e,1/n),this.setupFramebuffers(e,n)}setupFramebuffers(e,n){this.accumulatedTexture&&this.accumulatedTexture.dispose(),this.lastVelocityTexture&&this.lastVelocityTexture.dispose(),this.accumulatedTexture=new Gb(e,n,Pn),this.accumulatedTexture.minFilter=At,this.accumulatedTexture.magFilter=At,this.accumulatedTexture.type=hn,this.lastVelocityTexture=new Gb(e*this.velocityResolutionScale,n*this.velocityResolutionScale,Pn),this.lastVelocityTexture.minFilter=this.velocityResolutionScale===1?vt:At,this.lastVelocityTexture.magFilter=this.velocityResolutionScale===1?vt:At,this.lastVelocityTexture.type=hn,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.accumulatedTexture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0}checkCanUseSharedVelocityTexture(){return this._scene.userData.velocityTexture&&this.velocityPass.renderTarget.texture!==this._scene.userData.velocityTexture?this.velocityPass.renderTarget.texture===this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this._scene.userData.lastVelocityTexture,this.fullscreenMaterial.uniforms.velocityTexture.value=this._scene.userData.velocityTexture,this.fullscreenMaterial.needsUpdate=!0):this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.velocityTexture.value=this.velocityPass.renderTarget.texture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0,this._scene.userData.velocityTexture||(this._scene.userData.velocityTexture=this.velocityPass.renderTarget.texture,this._scene.userData.lastVelocityTexture=this.lastVelocityTexture)),this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value}checkNeedsResample(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));(e>1e-6||n>1e-6)&&(this.samples=1,this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion))}render(e){this.samples++,this.checkNeedsResample(),this.fullscreenMaterial.uniforms.samples.value=this.samples,e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera),e.copyFramebufferToTexture(bU,this.accumulatedTexture),e.setRenderTarget(this.velocityPass.renderTarget),e.copyFramebufferToTexture(bU,this.lastVelocityTexture)}}const TU=function(e,n){let i=1,r=0;for(;e>0;)i/=n,r+=i*(e%n),e=~~(e/n);return r},VCe=t=>{const e=[];let n=1;const i=n+t;for(;n<i;n++)e.push([TU(n,2)-.5,TU(n,3)-.5]);return e};function MU(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const QCe=`
#if defined( USE_ENVMAP ) || defined(  ) || defined ( USE_SHADOWMAP )
    vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );

    #ifdef BOX_PROJECTED_ENV_MAP
        vWorldPosition = worldPosition.xyz;
    #endif
#endif
`,WCe=`
#ifdef BOX_PROJECTED_ENV_MAP
    uniform vec3 envMapSize;
    uniform vec3 envMapPosition;
    varying vec3 vWorldPosition;

    vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {
        vec3 nDir = normalize( v );

        vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;
        vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;

        vec3 rbminmax;

        rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;
        rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;
        rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;

        float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );
        vec3 boxIntersection = vWorldPosition + nDir * correction;

        return boxIntersection - cubePos;
    }
#endif
`,jCe=`
#ifdef BOX_PROJECTED_ENV_MAP
    worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );
#endif
`,qCe=`
#ifdef BOX_PROJECTED_ENV_MAP
    reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );
#endif
`;function XCe(t,e,n){t.defines.BOX_PROJECTED_ENV_MAP="",t.uniforms.envMapPosition={value:e},t.uniforms.envMapSize={value:n};const i=new RegExp(MU("vec3 worldNormal = inverseTransformDirection ( normal , viewMatrix ) ;").replaceAll(" ","\\s*"),"g"),r=new RegExp(MU("reflectVec = inverseTransformDirection ( reflectVec , viewMatrix ) ;").replaceAll(" ","\\s*"),"g");t.vertexShader=`varying vec3 vWorldPosition;
`+t.vertexShader.replace("#include <worldpos_vertex>",QCe),t.fragmentShader=WCe+`
`+t.fragmentShader.replace("#include <envmap_physical_pars_fragment>",Ot.envmap_physical_pars_fragment).replace(i,`vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
                ${jCe}`).replace(r,`reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
                ${qCe}`)}const YCe=_Ce.replace("#include <helperFunctions>",wJ).replace("#include <boxBlur>",wCe),KCe=["blur","blurSharpness","blurKernel"],JCe=new OA(1);let J5;class ZCe extends Kr{constructor(e,n,i=CU){super("SSREffect",YCe,{type:"FinalSSRMaterial",uniforms:new Map([["reflectionsTexture",new ye(null)],["blur",new ye(0)],["blurSharpness",new ye(0)],["blurKernel",new ye(0)]]),defines:new Map([["RENDER_MODE","0"]])}),this.haltonSequence=VCe(1024),this.haltonIndex=0,this.selection=new $I,this.lastSize=void 0,this.cubeCamera=new p9(.001,1e3,JCe),this.usingBoxProjectedEnvMap=!1,this._scene=e,this._camera=n,i={...CU,...i,...{boxBlur:!0,dilation:!0}},this.temporalResolvePass=new HCe(e,n,CCe,i),this.uniforms.get("reflectionsTexture").value=this.temporalResolvePass.renderTarget.texture,this.reflectionsPass=new BCe(this,i),this.temporalResolvePass.fullscreenMaterial.uniforms.inputTexture.value=this.reflectionsPass.renderTarget.texture,this.lastSize={width:i.width,height:i.height,resolutionScale:i.resolutionScale,velocityResolutionScale:i.velocityResolutionScale},this.setSize(i.width,i.height),this.makeOptionsReactive(i)}makeOptionsReactive(e){let n=!1;const i=this.reflectionsPass.fullscreenMaterial.uniforms,r=Object.keys(i);for(const s of Object.keys(e))Object.defineProperty(this,s,{get(){return e[s]},set(o){if(!(e[s]===o&&n))switch(e[s]=o,KCe.includes(s)||this.setSize(this.lastSize.width,this.lastSize.height,!0),s){case"resolutionScale":this.setSize(this.lastSize.width,this.lastSize.height);break;case"velocityResolutionScale":this.temporalResolvePass.velocityResolutionScale=o,this.setSize(this.lastSize.width,this.lastSize.height,!0);break;case"blur":this.uniforms.get("blur").value=o;break;case"blurSharpness":this.uniforms.get("blurSharpness").value=o;break;case"blurKernel":this.uniforms.get("blurKernel").value=o;break;case"steps":this.reflectionsPass.fullscreenMaterial.defines.steps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"refineSteps":this.reflectionsPass.fullscreenMaterial.defines.refineSteps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"missedRays":o?this.reflectionsPass.fullscreenMaterial.defines.missedRays="":delete this.reflectionsPass.fullscreenMaterial.defines.missedRays,this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"correctionRadius":this.temporalResolvePass.fullscreenMaterial.defines.correctionRadius=Math.round(o),this.temporalResolvePass.fullscreenMaterial.needsUpdate=n;break;case"blend":this.temporalResolvePass.fullscreenMaterial.uniforms.blend.value=o;break;case"correction":this.temporalResolvePass.fullscreenMaterial.uniforms.correction.value=o;break;case"exponent":this.temporalResolvePass.fullscreenMaterial.uniforms.exponent.value=o;break;case"distance":i.rayDistance.value=o;default:r.includes(s)&&(i[s].value=o)}}}),this[s]=e[s];n=!0}setSize(e,n,i=!1){!i&&e===this.lastSize.width&&n===this.lastSize.height&&this.resolutionScale===this.lastSize.resolutionScale&&this.velocityResolutionScale===this.lastSize.velocityResolutionScale||(this.temporalResolvePass.setSize(e,n),this.reflectionsPass.setSize(e,n),this.lastSize={width:e,height:n,resolutionScale:this.resolutionScale,velocityResolutionScale:this.velocityResolutionScale})}generateBoxProjectedEnvMapFallback(e,n=new j,i=new j,r=512){this.cubeCamera.renderTarget.dispose(),this.cubeCamera.renderTarget=new OA(r),this.cubeCamera.position.copy(n),this.cubeCamera.updateMatrixWorld(),this.cubeCamera.update(e,this._scene),J5||(J5=new uS(e),J5.compileCubemapShader());const s=J5.fromCubemap(this.cubeCamera.renderTarget.texture).texture;s.minFilter=At,s.magFilter=At;const o=this.reflectionsPass.fullscreenMaterial;return XCe(o,n,i),o.fragmentShader=o.fragmentShader.replace("vec3 worldPos","worldPos").replace("varying vec3 vWorldPosition;","vec3 worldPos;"),o.uniforms.envMapPosition.value.copy(n),o.uniforms.envMapSize.value.copy(i),_U(o,s,r),this.usingBoxProjectedEnvMap=!0,s}setIBLRadiance(e,n){this._scene.traverse(i=>{if(i.material){var r;const s=(r=n.properties.get(i.material))==null?void 0:r.uniforms;s&&"disableIBLRadiance"in s&&(s.disableIBLRadiance.value=e)}})}deleteBoxProjectedEnvMapFallback(){const e=this.reflectionsPass.fullscreenMaterial;e.uniforms.envMap.value=null,e.fragmentShader=e.fragmentShader.replace("worldPos = ","vec3 worldPos = "),delete e.defines.BOX_PROJECTED_ENV_MAP,e.needsUpdate=!0,this.usingBoxProjectedEnvMap=!1}dispose(){super.dispose(),this.reflectionsPass.dispose(),this.temporalResolvePass.dispose()}update(e,n){if(!this.usingBoxProjectedEnvMap&&this._scene.environment){const a=this.reflectionsPass.fullscreenMaterial;let l=null;if(this._scene.traverse(u=>{if(!l&&u.material&&!u.material.envMap){const c=e.properties.get(u.material);"envMap"in c&&c.envMap instanceof Vn&&(l=c.envMap)}}),l){const u=this._scene.environment.image.height;_U(a,l,u)}}this.haltonIndex=(this.haltonIndex+1)%this.haltonSequence.length;const[i,r]=this.haltonSequence[this.haltonIndex],{width:s,height:o}=this.lastSize;this.temporalResolvePass.velocityPass.render(e),this._camera.setViewOffset&&this._camera.setViewOffset(s,o,i,r,s,o),this.reflectionsPass.render(e,n),this.temporalResolvePass.render(e),this._camera.clearViewOffset()}static patchDirectEnvIntensity(e=0){e===0?Ot.envmap_physical_pars_fragment=Ot.envmap_physical_pars_fragment.replace("vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {","vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) { return vec3(0.0);"):Ot.envmap_physical_pars_fragment=Ot.envmap_physical_pars_fragment.replace("vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );","vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness ) * "+e.toFixed(5)+";")}}ee.forwardRef(function({ENABLE_BLUR:e=!0,USE_MRT:n=!0,...i},r){const{invalidate:s}=cn(),{scene:o,camera:a}=ee.useContext(mu),l=ee.useMemo(()=>new ZCe(o,a,{ENABLE_BLUR:e,USE_MRT:n,...i}),[o,a,e,n,i]),u=ee.useContext(e7);return ee.useEffect(()=>{var c;if(u&&u.enabled&&(c=u.selected)!=null&&c.length)return l.selection.set(u.selected),s(),()=>{l.selection.clear(),s()}},[u]),Ie.jsx("primitive",{ref:r,object:l,...i})});const g2=new Xt;g2.setAttribute("position",new An(new Float32Array([-1,-1,3,-1,-1,3]),2));g2.setAttribute("uv",new An(new Float32Array([0,0,2,0,0,2]),2));g2.boundingSphere=new Fr;g2.computeBoundingSphere=function(){};const $Ce=new fa;class H0{constructor(e){this._mesh=new yn(g2,e),this._mesh.frustumCulled=!1}render(e){e.render(this._mesh,$Ce)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}dispose(){this._mesh.material.dispose(),this._mesh.geometry.dispose()}}const e8e={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},sceneNormal:{value:null},projMat:{value:new it},viewMat:{value:new it},projViewMat:{value:new it},projectionMatrixInv:{value:new it},viewMatrixInv:{value:new it},cameraPos:{value:new j},resolution:{value:new he},time:{value:0},samples:{value:[]},samplesR:{value:[]},bluenoise:{value:null},distanceFalloff:{value:1},radius:{value:5},near:{value:.1},far:{value:1e3},logDepth:{value:!1},ortho:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 1);
}`,fragmentShader:`
    #define SAMPLES 16
    #define FSAMPLES 16.0
uniform sampler2D sceneDiffuse;
uniform highp sampler2D sceneNormal;
uniform highp sampler2D sceneDepth;
uniform mat4 projectionMatrixInv;
uniform mat4 viewMatrixInv;
uniform mat4 projMat;
uniform mat4 viewMat;
uniform mat4 projViewMat;
uniform vec3 cameraPos;
uniform vec2 resolution;
uniform float time;
uniform vec3[SAMPLES] samples;
uniform float[SAMPLES] samplesR;
uniform float radius;
uniform float distanceFalloff;
uniform float near;
uniform float far;
uniform bool logDepth;
uniform bool ortho;
uniform bool screenSpaceRadius;
uniform sampler2D bluenoise;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }

    vec3 getWorldPosLog(vec3 posS) {
      vec2 uv = posS.xy;
      float z = posS.z;
      float nearZ =near;
      float farZ = far;
      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
      vec4 wpos = projectionMatrixInv * clipVec;
      return wpos.xyz / wpos.w;
    }
    vec3 getWorldPos(float depth, vec2 coord) {
      #ifdef LOGDEPTH
        return getWorldPosLog(vec3(coord, depth));
      #endif
      float z = depth * 2.0 - 1.0;
      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
      // Perspective division
     vec4 worldSpacePosition = viewSpacePosition;
     worldSpacePosition.xyz /= worldSpacePosition.w;
      return worldSpacePosition.xyz;
  }

  vec3 computeNormal(vec3 worldPos, vec2 vUv) {
    ivec2 p = ivec2(vUv * resolution);
    float c0 = texelFetch(sceneDepth, p, 0).x;
    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;

    float dl = abs((2.0 * l1 - l2) - c0);
    float dr = abs((2.0 * r1 - r2) - c0);
    float db = abs((2.0 * b1 - b2) - c0);
    float dt = abs((2.0 * t1 - t2) - c0);

    vec3 ce = getWorldPos(c0, vUv).xyz;

    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;

    return normalize(cross(dpdx, dpdy));
}

void main() {
      vec4 diffuse = texture2D(sceneDiffuse, vUv);
      float depth = texture2D(sceneDepth, vUv).x;
      if (depth == 1.0) {
        gl_FragColor = vec4(vec3(1.0), 1.0);
        return;
      }
      vec3 worldPos = getWorldPos(depth, vUv);
    //  vec3 normal = texture2D(sceneNormal, vUv).rgb;//computeNormal(worldPos, vUv);
      #ifdef HALFRES
        vec3 normal = texture2D(sceneNormal, vUv).rgb;
      #else
        vec3 normal = computeNormal(worldPos, vUv);
      #endif
      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);
      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);
      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));
      vec3 bitangent = cross(normal, tangent);
      mat3 tbn = mat3(tangent, bitangent, normal);
      float occluded = 0.0;
      float totalWeight = 0.0;
     /* float radiusScreen = distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(48.0, 0.0) / resolution)
      );/*vUv.x < 0.5 ? radius : min(distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(100.0, 0.0) / resolution)
      ), radius);
      float distanceFalloffScreen = radiusScreen * 0.2;*/
      float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;
      for(float i = 0.0; i < FSAMPLES; i++) {
        vec3 sampleDirection = 
        tbn * 
        samples[int(i)];
        ;
        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];
        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;
        vec4 offset = projMat * vec4(samplePos, 1.0);
        offset.xyz /= offset.w;
        offset.xyz = offset.xyz * 0.5 + 0.5;
        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;
        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) 
         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/
        #ifdef LOGDEPTH
        float distSample = linearize_depth_log(sampleDepth, near, far);
        #else
        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);
        #endif
        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);
        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));
        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);
        float weight = dot(sampleDirection, normal);
          occluded += rangeCheck * weight * 
            (distSample + bias
               < distWorld ? 1.0 : 0.0) * (
          (dot(
            diff,
            diff
             
            ) < 1.0 || (sampleDepth == depth) || (
              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0
            ) ? 0.0 : 1.0)
          );
          totalWeight += weight;
      }
      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);
      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);
}`},t8e={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new it},viewMat:{value:new it},projectionMatrixInv:{value:new it},viewMatrixInv:{value:new it},cameraPos:{value:new j},resolution:{value:new he},color:{value:new j(0,0,0)},blueNoise:{value:null},downsampledDepth:{value:null},time:{value:0},intensity:{value:10},renderMode:{value:0},gammaCorrection:{value:!1},logDepth:{value:!1},ortho:{value:!1},near:{value:.1},far:{value:1e3},screenSpaceRadius:{value:!1},radius:{value:0},distanceFalloff:{value:1},fog:{value:!1},fogExp:{value:!1},fogDensity:{value:0},fogNear:{value:1/0},fogFar:{value:1/0},colorMultiply:{value:!0}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform highp sampler2D downsampledDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform vec2 resolution;
    uniform vec3 color;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform float intensity;
    uniform float renderMode;
    uniform float near;
    uniform float far;
    uniform bool gammaCorrection;
    uniform bool logDepth;
    uniform bool ortho;
    uniform bool screenSpaceRadius;
    uniform bool fog;
    uniform bool fogExp;
    uniform bool colorMultiply;
    uniform float fogDensity;
    uniform float fogNear;
    uniform float fogFar;
    uniform float radius;
    uniform float distanceFalloff;
    uniform vec3 cameraPos;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
       // if (logDepth) {
        #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
        #endif
      //  }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }

    #include <common>
    #include <dithering_pars_fragment>
    void main() {
        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);
        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);
        float depth = texture2D(
            sceneDepth,
            vUv
        ).x;
        #ifdef HALFRES 
        vec4 texel;
        if (depth == 1.0) {
            texel = vec4(0.0, 0.0, 0.0, 1.0);
        } else {
        vec3 worldPos = getWorldPos(depth, vUv);
        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);
       // vec4 texel = texture2D(tDiffuse, vUv);
       // Find closest depth;
       float totalWeight = 0.0;
       float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
        for(float x = -1.0; x <= 1.0; x++) {
            for(float y = -1.0; y <= 1.0; y++) {
                vec2 offset = vec2(x, y);
                ivec2 p = ivec2(
                    (vUv * resolution * 0.5) + offset
                );
                vec2 pUv = vec2(p) / (resolution * 0.5);
                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;
                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);
                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;
                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);
                float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);
                float weight = rangeCheck;
                totalWeight += weight;
                texel += sampleInfo * weight;
            }
        }
        if (totalWeight == 0.0) {
            texel = texture2D(tDiffuse, vUv);
        } else {
            texel /= totalWeight;
        }
    }
        #else
        vec4 texel = texture2D(tDiffuse, vUv);
        #endif

     
        float finalAo = pow(texel.a, intensity);
        float fogFactor;
        float fogDepth = distance(
            cameraPos,
            getWorldPos(depth, vUv)
        );
        if (fog) {
            if (fogExp) {
                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
            } else {
                fogFactor = smoothstep( fogNear, fogFar, fogDepth );
            }
        }
        finalAo = mix(finalAo, 1.0, fogFactor);
        vec3 aoApplied = color * mix(vec3(1.0), sceneTexel.rgb, float(colorMultiply));
        if (renderMode == 0.0) {
            gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 1.0) {
            gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 2.0) {
            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
        } else if (renderMode == 3.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        } else if (renderMode == 4.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        }
        #include <dithering_fragment>
        if (gammaCorrection) {
            gl_FragColor = LinearTosRGB(gl_FragColor);
        }
    }
    `},n8e={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new it},viewMat:{value:new it},projectionMatrixInv:{value:new it},viewMatrixInv:{value:new it},cameraPos:{value:new j},resolution:{value:new he},time:{value:0},r:{value:5},blueNoise:{value:null},radius:{value:12},worldRadius:{value:5},index:{value:0},poissonDisk:{value:[]},distanceFalloff:{value:1},near:{value:.1},far:{value:1e3},logDepth:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1.0);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform vec2 resolution;
    uniform float r;
    uniform float radius;
     uniform float worldRadius;
    uniform float index;
     uniform float near;
     uniform float far;
     uniform float distanceFalloff;
     uniform bool logDepth;
     uniform bool screenSpaceRadius;
    varying vec2 vUv;

    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        highp float z_n = 2.0 * d - 1.0;
        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     return linearize_depth(linDepth, nearZ, farZ);
   }
   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
     return nearZ + (farZ - nearZ) * d;
   }
   vec3 getWorldPosLog(vec3 posS) {
     vec2 uv = posS.xy;
     float z = posS.z;
     float nearZ =near;
     float farZ = far;
     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
     vec4 wpos = projectionMatrixInv * clipVec;
     return wpos.xyz / wpos.w;
   }
    vec3 getWorldPos(float depth, vec2 coord) {
     #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
     #endif
        
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
    #include <common>
    #define NUM_SAMPLES 16
    uniform vec2 poissonDisk[NUM_SAMPLES];
    void main() {
        const float pi = 3.14159;
        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);
        vec2 uv = vUv;
        vec4 data = texture2D(tDiffuse, vUv);
        float occlusion = data.a;
        float baseOcc = data.a;
        vec3 normal = data.rgb * 2.0 - 1.0;
        float count = 1.0;
        float d = texture2D(sceneDepth, vUv).x;
        if (d == 1.0) {
          gl_FragColor = data;
          return;
        }
        vec3 worldPos = getWorldPos(d, vUv);
        float size = radius;
        float angle;
        if (index == 0.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;
        } else if (index == 1.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;
        } else if (index == 2.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;
        } else {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;
        }

        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));
        float radiusToUse = screenSpaceRadius ? distance(
          worldPos,
          getWorldPos(d, vUv +
            vec2(worldRadius, 0.0) / resolution)
        ) : worldRadius;
        float distanceFalloffToUse =screenSpaceRadius ?
            radiusToUse * distanceFalloff
        : distanceFalloff;


        for(int i = 0; i < NUM_SAMPLES; i++) {
            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;
            vec4 dataSample = texture2D(tDiffuse, uv + offset);
            float occSample = dataSample.a;
            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;
            float dSample = texture2D(sceneDepth, uv + offset).x;
            vec3 worldPosSample = getWorldPos(dSample, uv + offset);
            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
            float rangeCheck = dSample == 1.0 ? 0.0 :exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));
            occlusion += occSample * rangeCheck;
            count += rangeCheck;
        }
        occlusion /= count;
        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);
    }
    `},i8e={uniforms:{sceneDepth:{value:null},resolution:{value:new he},near:{value:.1},far:{value:1e3},viewMatrixInv:{value:new it},projectionMatrixInv:{value:new it},logDepth:{value:!1}},vertexShader:`
    varying vec2 vUv;
    void main() {
        vUv = uv;
        gl_Position = vec4(position, 1);
    }`,fragmentShader:`
    uniform highp sampler2D sceneDepth;
    uniform vec2 resolution;
    uniform float near;
    uniform float far;
    uniform bool logDepth;
    uniform mat4 viewMatrixInv;
    uniform mat4 projectionMatrixInv;
    varying vec2 vUv;
    layout(location = 1) out vec4 gNormal;
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
        if (logDepth) {
          return getWorldPosLog(vec3(coord, depth));
        }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }
    void main() {
        vec2 uv = vUv - vec2(0.5) / resolution;
        vec2 pixelSize = vec2(1.0) / resolution;
        vec2[] uvSamples = vec2[4](
            uv,
            uv + vec2(pixelSize.x, 0.0),
            uv + vec2(0.0, pixelSize.y),
            uv + pixelSize
        );
        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;
        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;
        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;
        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;
        float minDepth = min(min(depth00, depth10), min(depth01, depth11));
        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));
        float targetDepth = minDepth;
        // Checkerboard pattern to avoid artifacts
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { 
            targetDepth = maxDepth;
        }
        int chosenIndex = 0;
        float[] samples = float[4](depth00, depth10, depth01, depth11);
        for(int i = 0; i < 4; ++i) {
            if (samples[i] == targetDepth) {
                chosenIndex = i;
                break;
            }
        }
        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]
        ), 0.0);
       /* float[] samples = float[4](depth00, depth10, depth01, depth11);
        float c = 0.25 * (depth00 + depth10 + depth01 + depth11);
        float[] distances = float[4](depth00, depth10, depth01, depth11);
        float maxDistance = max(max(distances[0], distances[1]), max(distances[2], distances[3]));

        int remaining[3];
        int rejected[3];
        int i, j, k;

        for(i = 0, j = 0, k = 0; i < 4; ++i) {
            if (distances[i] < maxDistance) {
                remaining[j++] = i;
            } else {
                rejected[k++] = i;
            }
        }
        for(;j < 3;++j) {
            remaining[j] = rejected[--k];
        }
        vec3 s = vec3(
            samples[remaining[0]],
            samples[remaining[1]],
            samples[remaining[2]]
        );
        c = (s.x + s.y + s.z) / 3.0;

        distances[0] = abs(c - s.x);
        distances[1] = abs(c - s.y);
        distances[2] = abs(c - s.z);

        float minDistance = min(min(distances[0], distances[1]), distances[2]);

        for(i = 0; i < 3; ++i) {
            if (distances[i] == minDistance) {
                break;
            }
        }*/
      /*  gl_FragColor = vec4(samples[remaining[i]], 0.0, 0.0, 0.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[remaining[i]], uvSamples[remaining[i]]), uvSamples[remaining[i]]
        ), 0.0);*/
    }`};var CJ="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";const r8e=Uint8Array.from(atob(CJ),t=>t.charCodeAt(0));function bJ(t,e,n){if(e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)){const s=e.getQueryParameter(t,e.QUERY_RESULT)/1e6;n.lastTime=s}else setTimeout(()=>{bJ(t,e,n)},1)}class s8e extends Ji{constructor(e,n,i=512,r=512){super(),this.width=i,this.height=r,this.clear=!0,this.camera=n,this.scene=e,this.autosetGamma=!0,this.configuration=new Proxy({aoSamples:16,aoRadius:5,denoiseSamples:8,denoiseRadius:12,distanceFalloff:1,intensity:5,denoiseIterations:2,renderMode:0,color:new Je(0,0,0),gammaCorrection:!0,logarithmicDepthBuffer:!1,screenSpaceRadius:!1,halfRes:!1,depthAwareUpsampling:!0,colorMultiply:!0},{set:(s,o,a)=>{const l=s[o];return s[o]=a,o==="aoSamples"&&l!==a&&this.configureAOPass(this.configuration.logarithmicDepthBuffer),o==="denoiseSamples"&&l!==a&&this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),o==="halfRes"&&l!==a&&(this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureHalfResTargets(),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.setSize(this.width,this.height)),o==="depthAwareUpsampling"&&l!==a&&this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),o==="gammaCorrection"&&(this.autosetGamma=!1),!0}}),this.samples=[],this.samplesR=[],this.samplesDenoise=[],this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.configureSampleDependentPasses(),this.configureHalfResTargets(),this.copyQuad=new H0(new yt({uniforms:{tDiffuse:{value:null}},depthWrite:!1,vertexShader:`
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = vec4(position, 1);
            }
            `,fragmentShader:`
            uniform sampler2D tDiffuse;
            varying vec2 vUv;
            void main() {
                gl_FragColor = texture2D(tDiffuse, vUv);
            }
            `})),this.writeTargetInternal=new Rt(this.width,this.height,{minFilter:At,magFilter:At,depthBuffer:!1}),this.readTargetInternal=new Rt(this.width,this.height,{minFilter:At,magFilter:At,depthBuffer:!1}),this.outputTargetInternal=new Rt(this.width,this.height,{minFilter:At,magFilter:At,depthBuffer:!1}),this.bluenoise=new Bs(r8e,128,128),this.bluenoise.colorSpace=Xl,this.bluenoise.wrapS=Ki,this.bluenoise.wrapT=Ki,this.bluenoise.minFilter=vt,this.bluenoise.magFilter=vt,this.bluenoise.needsUpdate=!0,this.lastTime=0,this.needsDepthTexture=!0,this.needsSwap=!0,this._r=new he,this._c=new Je}configureHalfResTargets(){this.configuration.halfRes?(this.depthDownsampleTarget=new h9(this.width/2,this.height/2,2),this.depthDownsampleTarget.texture[0].format=Ka,this.depthDownsampleTarget.texture[0].type=Mn,this.depthDownsampleTarget.texture[0].minFilter=vt,this.depthDownsampleTarget.texture[0].magFilter=vt,this.depthDownsampleTarget.texture[0].depthBuffer=!1,this.depthDownsampleTarget.texture[1].format=Pn,this.depthDownsampleTarget.texture[1].type=hn,this.depthDownsampleTarget.texture[1].minFilter=vt,this.depthDownsampleTarget.texture[1].magFilter=vt,this.depthDownsampleTarget.texture[1].depthBuffer=!1,this.depthDownsampleQuad=new H0(new yt(i8e))):(this.depthDownsampleTarget&&(this.depthDownsampleTarget.dispose(),this.depthDownsampleTarget=null),this.depthDownsampleQuad&&(this.depthDownsampleQuad.dispose(),this.depthDownsampleQuad=null))}configureSampleDependentPasses(){this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)}configureAOPass(e=!1){this.samples=this.generateHemisphereSamples(this.configuration.aoSamples),this.samplesR=this.generateHemisphereSamplesR(this.configuration.aoSamples);const n={...e8e};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.aoSamples).replace("16.0",this.configuration.aoSamples+".0"),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectShaderQuad?(this.effectShaderQuad.material.dispose(),this.effectShaderQuad.material=new yt(n)):this.effectShaderQuad=new H0(new yt(n))}configureDenoisePass(e=!1){this.samplesDenoise=this.generateDenoiseSamples(this.configuration.denoiseSamples,11);const n={...n8e};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.denoiseSamples),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.poissonBlurQuad?(this.poissonBlurQuad.material.dispose(),this.poissonBlurQuad.material=new yt(n)):this.poissonBlurQuad=new H0(new yt(n))}configureEffectCompositer(e=!1){const n={...t8e};e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&this.configuration.depthAwareUpsampling&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectCompositerQuad?(this.effectCompositerQuad.material.dispose(),this.effectCompositerQuad.material=new yt(n)):this.effectCompositerQuad=new H0(new yt(n))}generateHemisphereSamples(e){const n=[];for(let i=0;i<e;i++){const r=2.399963*i,s=Math.sqrt(i+.5)/Math.sqrt(e),o=s*Math.cos(r),a=s*Math.sin(r),l=Math.sqrt(1-(o*o+a*a));n.push(new j(o,a,l))}return n}generateHemisphereSamplesR(e){let n=[];for(let i=0;i<e;i++)n.push((i+1)/e);return n}generateDenoiseSamples(e,n){const i=2*Math.PI*n/e,r=1/e,s=r,o=[];let a=r,l=0;for(let u=0;u<e;u++)o.push(new he(Math.cos(l),Math.sin(l)).multiplyScalar(Math.pow(a,.75))),a+=s,l+=i;return o}setSize(e,n){this.width=e,this.height=n;const i=this.configuration.halfRes?.5:1;this.writeTargetInternal.setSize(e*i,n*i),this.readTargetInternal.setSize(e*i,n*i),this.configuration.halfRes&&this.depthDownsampleTarget.setSize(e*i,n*i),this.outputTargetInternal.setSize(e,n)}setDepthTexture(e){this.depthTexture=e}render(e,n,i){const r=e.xr.enabled;e.xr.enabled=!1,e.capabilities.logarithmicDepthBuffer!==this.configuration.logarithmicDepthBuffer&&(this.configuration.logarithmicDepthBuffer=e.capabilities.logarithmicDepthBuffer,this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer)),n.texture.type!==this.outputTargetInternal.texture.type&&(this.outputTargetInternal.texture.type=n.texture.type,this.outputTargetInternal.texture.needsUpdate=!0);let s,o,a;this.debugMode&&(s=e.getContext(),o=s.getExtension("EXT_disjoint_timer_query_webgl2"),o===null&&(console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."),this.debugMode=!1)),this.debugMode&&(a=s.createQuery(),s.beginQuery(o.TIME_ELAPSED_EXT,a)),this.camera.updateMatrixWorld(),this._r.set(this.width,this.height);let l=this.configuration.aoRadius;this.configuration.halfRes&&this.configuration.screenSpaceRadius&&(l*=.5),this.configuration.halfRes&&(e.setRenderTarget(this.depthDownsampleTarget),this.depthDownsampleQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.depthDownsampleQuad.material.uniforms.resolution.value=this._r,this.depthDownsampleQuad.material.uniforms.near.value=this.camera.near,this.depthDownsampleQuad.material.uniforms.far.value=this.camera.far,this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.depthDownsampleQuad.material.uniforms.logDepth.value=this.configuration.logarithmicDepthBuffer,this.depthDownsampleQuad.render(e)),this.effectShaderQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectShaderQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectShaderQuad.material.uniforms.sceneNormal.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[1]:null,this.effectShaderQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.effectShaderQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.effectShaderQuad.material.uniforms.projViewMat.value=this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()),this.effectShaderQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectShaderQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectShaderQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new j),this.effectShaderQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.effectShaderQuad.material.uniforms.time.value=performance.now()/1e3,this.effectShaderQuad.material.uniforms.samples.value=this.samples,this.effectShaderQuad.material.uniforms.samplesR.value=this.samplesR,this.effectShaderQuad.material.uniforms.bluenoise.value=this.bluenoise,this.effectShaderQuad.material.uniforms.radius.value=l,this.effectShaderQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectShaderQuad.material.uniforms.near.value=this.camera.near,this.effectShaderQuad.material.uniforms.far.value=this.camera.far,this.effectShaderQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectShaderQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectShaderQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.effectShaderQuad.render(e);for(let u=0;u<this.configuration.denoiseIterations;u++)[this.writeTargetInternal,this.readTargetInternal]=[this.readTargetInternal,this.writeTargetInternal],this.poissonBlurQuad.material.uniforms.tDiffuse.value=this.readTargetInternal.texture,this.poissonBlurQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.poissonBlurQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.poissonBlurQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.poissonBlurQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.poissonBlurQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new j),this.poissonBlurQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.poissonBlurQuad.material.uniforms.time.value=performance.now()/1e3,this.poissonBlurQuad.material.uniforms.blueNoise.value=this.bluenoise,this.poissonBlurQuad.material.uniforms.radius.value=this.configuration.denoiseRadius*(this.configuration.halfRes?.5:1),this.poissonBlurQuad.material.uniforms.worldRadius.value=l,this.poissonBlurQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.poissonBlurQuad.material.uniforms.index.value=u,this.poissonBlurQuad.material.uniforms.poissonDisk.value=this.samplesDenoise,this.poissonBlurQuad.material.uniforms.near.value=this.camera.near,this.poissonBlurQuad.material.uniforms.far.value=this.camera.far,this.poissonBlurQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.poissonBlurQuad.render(e);this.effectCompositerQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectCompositerQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.effectCompositerQuad.material.uniforms.near.value=this.camera.near,this.effectCompositerQuad.material.uniforms.far.value=this.camera.far,this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectCompositerQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectCompositerQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectCompositerQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectCompositerQuad.material.uniforms.downsampledDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectCompositerQuad.material.uniforms.resolution.value=this._r,this.effectCompositerQuad.material.uniforms.blueNoise.value=this.bluenoise,this.effectCompositerQuad.material.uniforms.intensity.value=this.configuration.intensity,this.effectCompositerQuad.material.uniforms.renderMode.value=this.configuration.renderMode,this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,this.effectCompositerQuad.material.uniforms.radius.value=l,this.effectCompositerQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectCompositerQuad.material.uniforms.gammaCorrection.value=this.autosetGamma?this.renderToScreen:this.configuration.gammaCorrection,this.effectCompositerQuad.material.uniforms.tDiffuse.value=this.writeTargetInternal.texture,this.effectCompositerQuad.material.uniforms.color.value=this._c.copy(this.configuration.color).convertSRGBToLinear(),this.effectCompositerQuad.material.uniforms.colorMultiply.value=this.configuration.colorMultiply,this.effectCompositerQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new j),this.effectCompositerQuad.material.uniforms.fog.value=!!this.scene.fog,this.scene.fog&&(this.scene.fog.isFog?(this.effectCompositerQuad.material.uniforms.fogExp.value=!1,this.effectCompositerQuad.material.uniforms.fogNear.value=this.scene.fog.near,this.effectCompositerQuad.material.uniforms.fogFar.value=this.scene.fog.far):this.scene.fog.isFogExp2?(this.effectCompositerQuad.material.uniforms.fogExp.value=!0,this.effectCompositerQuad.material.uniforms.fogDensity.value=this.scene.fog.density):console.error(`Unsupported fog type ${this.scene.fog.constructor.name} in SSAOPass.`)),e.setRenderTarget(this.outputTargetInternal),this.effectCompositerQuad.render(e),e.setRenderTarget(this.renderToScreen?null:i),this.copyQuad.material.uniforms.tDiffuse.value=this.outputTargetInternal.texture,this.copyQuad.render(e),this.debugMode&&(s.endQuery(o.TIME_ELAPSED_EXT),bJ(a,s,this)),e.xr.enabled=r}enableDebugMode(){this.debugMode=!0}disableDebugMode(){this.debugMode=!1}setDisplayMode(e){this.configuration.renderMode=["Combined","AO","No AO","Split","Split AO"].indexOf(e)}setQualityMode(e){e==="Performance"?(this.configuration.aoSamples=8,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Low"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Medium"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=12):e==="High"?(this.configuration.aoSamples=64,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=6):e==="Ultra"&&(this.configuration.aoSamples=64,this.configuration.denoiseSamples=16,this.configuration.denoiseRadius=6)}}Uint8Array.from(atob(CJ),t=>t.charCodeAt(0));ee.forwardRef(({halfRes:t,screenSpaceRadius:e,quality:n,depthAwareUpsampling:i=!0,aoRadius:r=5,aoSamples:s=16,denoiseSamples:o=4,denoiseRadius:a=12,distanceFalloff:l=1,intensity:u=1,color:c,renderMode:f=0},h)=>{const{camera:d,scene:p}=cn(),y=ee.useMemo(()=>new s8e(p,d),[]);return ee.useLayoutEffect(()=>{Wu(y.configuration,{color:c,aoRadius:r,distanceFalloff:l,intensity:u,aoSamples:s,denoiseSamples:o,denoiseRadius:a,screenSpaceRadius:e,renderMode:f,halfRes:t,depthAwareUpsampling:i})},[e,c,r,l,u,s,o,a,f,t,i]),ee.useLayoutEffect(()=>{n&&y.setQualityMode(n.charAt(0).toUpperCase()+n.slice(1))},[n]),Ie.jsx("primitive",{ref:h,object:y})});const o8e=()=>{const t=ee.useMemo(()=>new kA(0,0,3,1.15,0,2*Math.PI,!1,0).getPoints(100),[]);return Ie.jsxs("group",{children:[Ie.jsx(I_,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3}),Ie.jsx(I_,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3,rotation:[0,0,1]}),Ie.jsx(I_,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3,rotation:[0,0,-1]}),Ie.jsx(qI,{args:[.55,64,64],children:Ie.jsx("meshBasicMaterial",{color:[6,.5,2],toneMapped:!1})})]})},a8e=()=>Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(o8e,{}),Ie.jsx(hCe,{children:Ie.jsx(ACe,{mipmapBlur:!0,luminanceThreshold:1,radius:.7})})]}),l8e=Nt.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  top: 200px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,u8e=()=>Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(QA,{camera:{position:[0,0,10]},children:Ie.jsxs(ee.Suspense,{fallback:null,children:[Ie.jsx(a8e,{}),Ie.jsx(d2,{enableZoom:!1,autoRotate:!0})]})}),Ie.jsx(l8e,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]});h2.preload("/shoe.gltf");Nt.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  bottom: 200px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`;function c8e({...t}){const e=ee.useRef(),{nodes:n,materials:i}=h2("/mac-draco.glb");return Ie.jsx("group",{ref:e,...t,dispose:null,children:Ie.jsxs("group",{position:[0,2.96,-.13],rotation:[Math.PI/2,0,0],children:[Ie.jsx("mesh",{material:i.aluminium,geometry:n.Cube008.geometry}),Ie.jsx("mesh",{material:i["matte.001"],geometry:n.Cube008_1.geometry}),Ie.jsx("mesh",{material:i["screen.001"],geometry:n.Cube008_2.geometry})]})})}const f8e=Nt.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  top: 100px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,h8e=()=>Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(QA,{children:Ie.jsxs(ee.Suspense,{fallback:null,children:[Ie.jsx(wwe,{environment:"city",intensity:.6,children:Ie.jsx(c8e,{})}),Ie.jsx(d2,{enableZoom:!1,autoRotate:!0})]})}),Ie.jsx(f8e,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]}),d8e=["Web Development","Backend Development","Full Stack Development","Software Development"],p8e=Nt.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  justify-content: center;
  position: relative;
  color: black;
  font-size: 14px;
  font-weight: 300;
`,m8e=Nt.div`
  width: 1400px;
  display: flex;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    width: 100%;
    flex-direction: column;
  }
`,g8e=Nt.div`
  flex: 1;
  display: flex;
  align-items: center;

  @media only screen and (max-width: 768px) {
    padding: 20px;
    justify-content: center;
  }
`,v8e=Nt.ul`
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 20px;
`,A8e=Nt.li`
  font-size: 50px;
  font-weight: bold;
  cursor: pointer;
  color: transparent;
  -webkit-text-stroke: 1px white;
  position: relative;

  @media only screen and (max-width: 768px) {
    font-size: 24px;
    color: white;
    -webkit-text-stroke: 0px;
  }

  ::after {
    content: '${t=>t.text}';
    position: absolute;
    top: 0;
    left: 0;
    color: pink;
    width: 0px;
    overflow: hidden;
    white-space: nowrap;
  }

  &:hover {
    ::after {
      animation: moveText 0.5s linear both;

      @keyframes moveText {
        to {
          width: 100%;
        }
      }
    }
  }
`,y8e=Nt.div`
  background-color: #da4ea2;
  color: white;
  font-weight: 500;
  width: 120px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  text-align: center;
`,x8e=Nt.div`
  flex: 1;
`,S8e=()=>{const[t,e]=ee.useState("Web Development");return Ie.jsx(p8e,{id:"work",children:Ie.jsxs(m8e,{children:[Ie.jsx(g8e,{children:Ie.jsxs(v8e,{children:[d8e.map(n=>Ie.jsx(A8e,{text:n,onClick:()=>e(n),children:n},n)),Ie.jsx(y8e,{children:Ie.jsx(Ju,{spy:!0,smooth:!0,offset:50,duration:500,to:"contact",children:"Contact"})})]})}),Ie.jsx(x8e,{children:t==="Web Development"||t==="Full Stack Development"?Ie.jsx(u8e,{}):Ie.jsx(h8e,{})})]})})},mA={_origin:"https://api.emailjs.com"},E8e=(t,e="https://api.emailjs.com")=>{mA._userID=t,mA._origin=e},TJ=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class IU{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const MJ=(t,e,n={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new IU(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new IU(o))}),s.open("POST",mA._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),w8e=(t,e,n,i)=>{const r=i||mA._userID;return TJ(r,t,e),MJ("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},_8e=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},C8e=(t,e,n,i)=>{const r=i||mA._userID,s=_8e(n);TJ(r,t,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",r),MJ("/api/v1.0/email/send-form",o)},b8e={init:E8e,send:w8e,sendForm:C8e},T8e=Nt.div`
  height: 100vh;
  scroll-snap-align: center;
`,M8e=Nt.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: space-between;
  gap: 50px;
`,I8e=Nt.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: flex-end;
`,R8e=Nt.h1`
  font-weight: 200;
`,P8e=Nt.form`
  width: 500px;
  display: flex;
  flex-direction: column;
  gap: 25px;
`,RU=Nt.input`
  padding: 20px;
  background-color: #e8e6e6;
  border: none;
  border-radius: 5px;
`,B8e=Nt.textarea`
  padding: 20px;
  background-color: #e8e6e6;
`,D8e=Nt.button`
  background-color: #da4ea2;
  color: white;
  border: none;
  font-weight: bold;
  cursor: pointer;
  border-radius: 5px;
  padding: 20px;
`,L8e=Nt.div`
  flex: 1;
  position: relative;
  @media only screen and (max-width: 768px) {
    flex: 1;
    width: 100%;
  }
`,O8e=Nt.img`
  width: 800px;
  height: 600px;
  object-fit: contain;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  animation: animate 2s infinite ease alternate;

  @media only screen and (max-width: 768px) {
    width: 300px;
    height: 300px;
  }

  @keyframes animate {
    to {
      transform: translateY(20px);
    }
  }
`,F8e=()=>{const t=ee.useRef(),[e,n]=ee.useState(null),i=r=>{r.preventDefault(),b8e.sendForm("service_1tl9ku5","template_l800ygw",t.current,"RNWNc97dAqH9LrU7p").then(s=>{console.log(s.text),n(!0)},s=>{console.log(s.text),n(!1)})};return Ie.jsx(T8e,{id:"contact",children:Ie.jsxs(M8e,{children:[Ie.jsx(I8e,{children:Ie.jsxs(P8e,{onSubmit:i,ref:t,children:[Ie.jsx(R8e,{children:"Think we can work together? Kindly get in touch."}),Ie.jsx(RU,{placeholder:"Name",name:"name",required:!0}),Ie.jsx(RU,{placeholder:"Email",name:"email",required:!0}),Ie.jsx(B8e,{placeholder:"Write your message",rows:10,name:"message",required:!0}),Ie.jsx(D8e,{type:"submit",children:"Send"}),e&&"Your message has been sent successfully. I'll get back to you soon. Thank you for contacting "]})}),Ie.jsxs(L8e,{children:[Ie.jsx(QA,{children:Ie.jsxs(ee.Suspense,{fallback:null,children:[Ie.jsx(d2,{enableZoom:!1}),Ie.jsx("ambientLight",{intensity:1}),Ie.jsx("directionalLight",{position:[3,2,1]}),Ie.jsx(qI,{args:[1,100,200],scale:2.4,children:Ie.jsx(lJ,{color:"#3d1c56",attach:"material",distort:.5,speed:2})})]})}),Ie.jsx(O8e,{src:"./img/moon.png"})]})]})})};var IJ={},N_={},V0={},Q0={},W0={},PU;function Ra(){if(PU)return W0;PU=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.Constants=void 0;let t=class{};return W0.Constants=t,t.generatedAttribute="generated",t.randomColorValue="random",t.midColorValue="mid",t.touchEndEvent="touchend",t.mouseDownEvent="mousedown",t.mouseUpEvent="mouseup",t.mouseMoveEvent="mousemove",t.touchStartEvent="touchstart",t.touchMoveEvent="touchmove",t.mouseLeaveEvent="mouseleave",t.mouseOutEvent="mouseout",t.touchCancelEvent="touchcancel",t.resizeEvent="resize",t.visibilityChangeEvent="visibilitychange",t.noPolygonDataLoaded="No polygon data loaded.",t.noPolygonFound="No polygon found, you need to specify SVG url in config.",W0}var j0={},pn={},ln={},q0={},BU;function Pa(){if(BU)return q0;BU=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.Vector=void 0;let t=class Va{constructor(n,i){if(typeof n!="number"&&n)this.x=n.x,this.y=n.y;else if(n!==void 0&&i!==void 0)this.x=n,this.y=i;else throw new Error("tsParticles - Vector not initialized correctly")}static clone(n){return Va.create(n.x,n.y)}static create(n,i){return new Va(n,i)}static get origin(){return Va.create(0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(n){this.updateFromAngle(n,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(n){this.updateFromAngle(this.angle,n)}add(n){return Va.create(this.x+n.x,this.y+n.y)}addTo(n){this.x+=n.x,this.y+=n.y}sub(n){return Va.create(this.x-n.x,this.y-n.y)}subFrom(n){this.x-=n.x,this.y-=n.y}mult(n){return Va.create(this.x*n,this.y*n)}multTo(n){this.x*=n,this.y*=n}div(n){return Va.create(this.x/n,this.y/n)}divTo(n){this.x/=n,this.y/=n}distanceTo(n){return this.sub(n).length}getLengthSq(){return this.x**2+this.y**2}distanceToSq(n){return this.sub(n).getLengthSq()}manhattanDistanceTo(n){return Math.abs(n.x-this.x)+Math.abs(n.y-this.y)}copy(){return Va.clone(this)}setTo(n){this.x=n.x,this.y=n.y}rotate(n){return Va.create(this.x*Math.cos(n)-this.y*Math.sin(n),this.x*Math.sin(n)+this.y*Math.cos(n))}updateFromAngle(n,i){this.x=Math.cos(n)*i,this.y=Math.sin(n)*i}};return q0.Vector=t,q0}var DU;function Dt(){if(DU)return ln;DU=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.calcExactPositionOrRandomFromSizeRanged=ln.calcExactPositionOrRandomFromSize=ln.calcPositionOrRandomFromSizeRanged=ln.calcPositionOrRandomFromSize=ln.calcPositionFromSize=ln.calcEasing=ln.collisionVelocity=ln.getParticleBaseVelocity=ln.getParticleDirectionAngle=ln.getDistance=ln.getDistances=ln.getValue=ln.setRangeValue=ln.getRangeMax=ln.getRangeMin=ln.getRangeValue=ln.randomInRange=ln.mix=ln.clamp=void 0;const t=Pa();function e(E,w,C){return Math.min(Math.max(E,w),C)}ln.clamp=e;function n(E,w,C,b){return Math.floor((E*C+w*b)/(C+b))}ln.mix=n;function i(E){const w=o(E);let C=s(E);return w===C&&(C=0),Math.random()*(w-C)+C}ln.randomInRange=i;function r(E){return typeof E=="number"?E:i(E)}ln.getRangeValue=r;function s(E){return typeof E=="number"?E:E.min}ln.getRangeMin=s;function o(E){return typeof E=="number"?E:E.max}ln.getRangeMax=o;function a(E,w){if(E===w||w===void 0&&typeof E=="number")return E;const C=s(E),b=o(E);return w!==void 0?{min:Math.min(C,w),max:Math.max(b,w)}:a(C,b)}ln.setRangeValue=a;function l(E){const w=E.random,{enable:C,minimumValue:b}=typeof w=="boolean"?{enable:w,minimumValue:0}:w;return r(C?a(E.value,b):E.value)}ln.getValue=l;function u(E,w){const C=E.x-w.x,b=E.y-w.y;return{dx:C,dy:b,distance:Math.sqrt(C*C+b*b)}}ln.getDistances=u;function c(E,w){return u(E,w).distance}ln.getDistance=c;function f(E){if(typeof E=="number")return E*Math.PI/180;switch(E){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"none":default:return Math.random()*Math.PI*2}}ln.getParticleDirectionAngle=f;function h(E){const w=t.Vector.origin;return w.length=1,w.angle=E,w}ln.getParticleBaseVelocity=h;function d(E,w,C,b){return t.Vector.create(E.x*(C-b)/(C+b)+w.x*2*b/(C+b),E.y)}ln.collisionVelocity=d;function p(E,w){switch(w){case"ease-out-quad":return 1-(1-E)**2;case"ease-out-cubic":return 1-(1-E)**3;case"ease-out-quart":return 1-(1-E)**4;case"ease-out-quint":return 1-(1-E)**5;case"ease-out-expo":return E===1?1:1-Math.pow(2,-10*E);case"ease-out-sine":return Math.sin(E*Math.PI/2);case"ease-out-back":return 1+2.70158*Math.pow(E-1,3)+1.70158*Math.pow(E-1,2);case"ease-out-circ":return Math.sqrt(1-Math.pow(E-1,2));default:return E}}ln.calcEasing=p;function y(E){var w,C;return((w=E.position)===null||w===void 0?void 0:w.x)!==void 0&&((C=E.position)===null||C===void 0?void 0:C.y)!==void 0?{x:E.position.x*E.size.width/100,y:E.position.y*E.size.height/100}:void 0}ln.calcPositionFromSize=y;function A(E){var w,C,b,I;return{x:((C=(w=E.position)===null||w===void 0?void 0:w.x)!==null&&C!==void 0?C:Math.random()*100)*E.size.width/100,y:((I=(b=E.position)===null||b===void 0?void 0:b.y)!==null&&I!==void 0?I:Math.random()*100)*E.size.height/100}}ln.calcPositionOrRandomFromSize=A;function g(E){var w,C;const b={x:((w=E.position)===null||w===void 0?void 0:w.x)!==void 0?r(E.position.x):void 0,y:((C=E.position)===null||C===void 0?void 0:C.y)!==void 0?r(E.position.y):void 0};return A({size:E.size,position:b})}ln.calcPositionOrRandomFromSizeRanged=g;function x(E){var w,C,b,I;return{x:(C=(w=E.position)===null||w===void 0?void 0:w.x)!==null&&C!==void 0?C:Math.random()*E.size.width,y:(I=(b=E.position)===null||b===void 0?void 0:b.y)!==null&&I!==void 0?I:Math.random()*E.size.height}}ln.calcExactPositionOrRandomFromSize=x;function S(E){var w,C;const b={x:((w=E.position)===null||w===void 0?void 0:w.x)!==void 0?r(E.position.x):void 0,y:((C=E.position)===null||C===void 0?void 0:C.y)!==void 0?r(E.position.y):void 0};return x({size:E.size,position:b})}return ln.calcExactPositionOrRandomFromSizeRanged=S,ln}var LU;function nn(){if(LU)return pn;LU=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.rectBounce=pn.circleBounce=pn.circleBounceDataFromParticle=pn.divMode=pn.singleDivModeExecute=pn.divModeExecute=pn.isDivModeEnabled=pn.deepExtend=pn.calculateBounds=pn.areBoundsInside=pn.isPointInside=pn.itemFromArray=pn.arrayRandomIndex=pn.loadFont=pn.isInArray=pn.cancelAnimation=pn.animate=pn.isSsr=void 0;const t=Dt(),e=Pa();function n(C,b,I,M,R,D){const F={bounced:!1};return b.min<M.min||b.min>M.max||b.max<M.min||b.max>M.max||(C.max>=I.min&&C.max<=(I.max+I.min)/2&&R>0||C.min<=I.max&&C.min>(I.max+I.min)/2&&R<0)&&(F.velocity=R*-D,F.bounced=!0),F}function i(C,b){if(!(b instanceof Array))return C.matches(b);for(const I of b)if(C.matches(I))return!0;return!1}function r(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}pn.isSsr=r;function s(){return r()?C=>setTimeout(C):C=>(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout)(C)}pn.animate=s;function o(){return r()?C=>clearTimeout(C):C=>(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout)(C)}pn.cancelAnimation=o;function a(C,b){return C===b||b instanceof Array&&b.indexOf(C)>-1}pn.isInArray=a;async function l(C){var b,I;try{await document.fonts.load(`${(b=C.weight)!==null&&b!==void 0?b:"400"} 36px '${(I=C.font)!==null&&I!==void 0?I:"Verdana"}'`)}catch{}}pn.loadFont=l;function u(C){return Math.floor(Math.random()*C.length)}pn.arrayRandomIndex=u;function c(C,b,I=!0){const M=b!==void 0&&I?b%C.length:u(C);return C[M]}pn.itemFromArray=c;function f(C,b,I,M){return h(d(C,I??0),b,M)}pn.isPointInside=f;function h(C,b,I){let M=!0;return(!I||I==="bottom")&&(M=C.top<b.height),M&&(!I||I==="left")&&(M=C.right>0),M&&(!I||I==="right")&&(M=C.left<b.width),M&&(!I||I==="top")&&(M=C.bottom>0),M}pn.areBoundsInside=h;function d(C,b){return{bottom:C.y+b,left:C.x-b,right:C.x+b,top:C.y-b}}pn.calculateBounds=d;function p(C,...b){for(const I of b){if(I==null)continue;if(typeof I!="object"){C=I;continue}const M=Array.isArray(I);M&&(typeof C!="object"||!C||!Array.isArray(C))?C=[]:!M&&(typeof C!="object"||!C||Array.isArray(C))&&(C={});for(const R in I){if(R==="__proto__")continue;const D=I,F=D[R],O=typeof F=="object",L=C;L[R]=O&&Array.isArray(F)?F.map(U=>p(L[R],U)):p(L[R],F)}}return C}pn.deepExtend=p;function y(C,b){return b instanceof Array?!!b.find(I=>I.enable&&a(C,I.mode)):a(C,b.mode)}pn.isDivModeEnabled=y;function A(C,b,I){if(b instanceof Array)for(const M of b){const R=M.mode;M.enable&&a(C,R)&&g(M,I)}else{const M=b.mode;b.enable&&a(C,M)&&g(b,I)}}pn.divModeExecute=A;function g(C,b){const I=C.selectors;if(I instanceof Array)for(const M of I)b(M,C);else b(I,C)}pn.singleDivModeExecute=g;function x(C,b){if(!(!b||!C)){if(C instanceof Array)return C.find(I=>i(b,I.selectors));if(i(b,C.selectors))return C}}pn.divMode=x;function S(C){return{position:C.getPosition(),radius:C.getRadius(),mass:C.getMass(),velocity:C.velocity,factor:e.Vector.create((0,t.getValue)(C.options.bounce.horizontal),(0,t.getValue)(C.options.bounce.vertical))}}pn.circleBounceDataFromParticle=S;function E(C,b){const{x:I,y:M}=C.velocity.sub(b.velocity),[R,D]=[C.position,b.position],{dx:F,dy:O}=(0,t.getDistances)(D,R);if(I*F+M*O<0)return;const L=-Math.atan2(O,F),U=C.mass,q=b.mass,K=C.velocity.rotate(L),k=b.velocity.rotate(L),W=(0,t.collisionVelocity)(K,k,U,q),V=(0,t.collisionVelocity)(k,K,U,q),G=W.rotate(-L),z=V.rotate(-L);C.velocity.x=G.x*C.factor.x,C.velocity.y=G.y*C.factor.y,b.velocity.x=z.x*b.factor.x,b.velocity.y=z.y*b.factor.y}pn.circleBounce=E;function w(C,b){const I=C.getPosition(),M=C.getRadius(),R=d(I,M),D=n({min:R.left,max:R.right},{min:R.top,max:R.bottom},{min:b.left,max:b.right},{min:b.top,max:b.bottom},C.velocity.x,(0,t.getValue)(C.options.bounce.horizontal));D.bounced&&(D.velocity!==void 0&&(C.velocity.x=D.velocity),D.position!==void 0&&(C.position.x=D.position));const F=n({min:R.top,max:R.bottom},{min:R.left,max:R.right},{min:b.top,max:b.bottom},{min:b.left,max:b.right},C.velocity.y,(0,t.getValue)(C.options.bounce.vertical));F.bounced&&(F.velocity!==void 0&&(C.velocity.y=F.velocity),F.position!==void 0&&(C.position.y=F.position))}return pn.rectBounce=w,pn}var X0={},Hn={},Gt={},OU;function Ur(){if(OU)return Gt;OU=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.getHslAnimationFromHsl=Gt.getHslFromAnimation=Gt.getLinkRandomColor=Gt.getLinkColor=Gt.colorMix=Gt.getStyleFromHsv=Gt.getStyleFromHsl=Gt.getStyleFromRgb=Gt.getRandomRgbColor=Gt.rgbaToHsva=Gt.rgbToHsv=Gt.hsvaToRgba=Gt.hsvToRgb=Gt.hsvaToHsla=Gt.hsvToHsl=Gt.hslaToHsva=Gt.hslToHsv=Gt.hslaToRgba=Gt.hslToRgb=Gt.stringToRgb=Gt.stringToAlpha=Gt.rgbToHsl=Gt.colorToHsl=Gt.colorToRgb=void 0;const t=Dt(),e=Ra(),n=nn();function i(L,U,q){let K=q;return K<0&&(K+=1),K>1&&(K-=1),K<1/6?L+(U-L)*6*K:K<1/2?U:K<2/3?L+(U-L)*(2/3-K)*6:L}function r(L){if(L.startsWith("rgb")){const q=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(L);return q?{a:q.length>4?parseFloat(q[5]):1,b:parseInt(q[3],10),g:parseInt(q[2],10),r:parseInt(q[1],10)}:void 0}else if(L.startsWith("hsl")){const q=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(L);return q?f({a:q.length>4?parseFloat(q[5]):1,h:parseInt(q[1],10),l:parseInt(q[3],10),s:parseInt(q[2],10)}):void 0}else if(L.startsWith("hsv")){const q=/hsva?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(L);return q?g({a:q.length>4?parseFloat(q[5]):1,h:parseInt(q[1],10),s:parseInt(q[2],10),v:parseInt(q[3],10)}):void 0}else{const U=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,q=L.replace(U,(W,V,G,z,ne)=>V+V+G+G+z+z+(ne!==void 0?ne+ne:"")),k=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(q);return k?{a:k[4]!==void 0?parseInt(k[4],16)/255:1,b:parseInt(k[3],16),g:parseInt(k[2],16),r:parseInt(k[1],16)}:void 0}}function s(L,U,q=!0){var K,k,W;if(L===void 0)return;const V=typeof L=="string"?{value:L}:L;let G;if(typeof V.value=="string")G=V.value===e.Constants.randomColorValue?E():u(V.value);else if(V.value instanceof Array){const z=(0,n.itemFromArray)(V.value,U,q);G=s({value:z})}else{const z=V.value,ne=(K=z.rgb)!==null&&K!==void 0?K:V.value;if(ne.r!==void 0)G=ne;else{const J=(k=z.hsl)!==null&&k!==void 0?k:V.value;if(J.h!==void 0&&J.l!==void 0)G=c(J);else{const $=(W=z.hsv)!==null&&W!==void 0?W:V.value;$.h!==void 0&&$.v!==void 0&&(G=A($))}}}return G}Gt.colorToRgb=s;function o(L,U,q=!0){const K=s(L,U,q);return K!==void 0?a(K):void 0}Gt.colorToHsl=o;function a(L){const U=L.r/255,q=L.g/255,K=L.b/255,k=Math.max(U,q,K),W=Math.min(U,q,K),V={h:0,l:(k+W)/2,s:0};return k!==W&&(V.s=V.l<.5?(k-W)/(k+W):(k-W)/(2-k-W),V.h=U===k?(q-K)/(k-W):V.h=q===k?2+(K-U)/(k-W):4+(U-q)/(k-W)),V.l*=100,V.s*=100,V.h*=60,V.h<0&&(V.h+=360),V}Gt.rgbToHsl=a;function l(L){var U;return(U=r(L))===null||U===void 0?void 0:U.a}Gt.stringToAlpha=l;function u(L){return r(L)}Gt.stringToRgb=u;function c(L){const U={b:0,g:0,r:0},q={h:L.h/360,l:L.l/100,s:L.s/100};if(q.s===0)U.b=q.l,U.g=q.l,U.r=q.l;else{const K=q.l<.5?q.l*(1+q.s):q.l+q.s-q.l*q.s,k=2*q.l-K;U.r=i(k,K,q.h+1/3),U.g=i(k,K,q.h),U.b=i(k,K,q.h-1/3)}return U.r=Math.floor(U.r*255),U.g=Math.floor(U.g*255),U.b=Math.floor(U.b*255),U}Gt.hslToRgb=c;function f(L){const U=c(L);return{a:L.a,b:U.b,g:U.g,r:U.r}}Gt.hslaToRgba=f;function h(L){const U=L.l/100,q=L.s/100,K=U+q*Math.min(U,1-U),k=K?2*(1-U/K):0;return{h:L.h,s:k*100,v:K*100}}Gt.hslToHsv=h;function d(L){const U=h(L);return{a:L.a,h:U.h,s:U.s,v:U.v}}Gt.hslaToHsva=d;function p(L){const U=L.v/100,q=L.s/100,K=U*(1-q/2),k=K===0||K===1?0:(U-K)/Math.min(K,1-K);return{h:L.h,l:K*100,s:k*100}}Gt.hsvToHsl=p;function y(L){const U=p(L);return{a:L.a,h:U.h,l:U.l,s:U.s}}Gt.hsvaToHsla=y;function A(L){const U={b:0,g:0,r:0},q={h:L.h/60,s:L.s/100,v:L.v/100},K=q.v*q.s,k=K*(1-Math.abs(q.h%2-1));let W;if(q.h>=0&&q.h<=1?W={r:K,g:k,b:0}:q.h>1&&q.h<=2?W={r:k,g:K,b:0}:q.h>2&&q.h<=3?W={r:0,g:K,b:k}:q.h>3&&q.h<=4?W={r:0,g:k,b:K}:q.h>4&&q.h<=5?W={r:k,g:0,b:K}:q.h>5&&q.h<=6&&(W={r:K,g:0,b:k}),W){const V=q.v-K;U.r=Math.floor((W.r+V)*255),U.g=Math.floor((W.g+V)*255),U.b=Math.floor((W.b+V)*255)}return U}Gt.hsvToRgb=A;function g(L){const U=A(L);return{a:L.a,b:U.b,g:U.g,r:U.r}}Gt.hsvaToRgba=g;function x(L){const U={r:L.r/255,g:L.g/255,b:L.b/255},q=Math.max(U.r,U.g,U.b),K=Math.min(U.r,U.g,U.b),k=q,W=q-K;let V=0;k===U.r?V=60*((U.g-U.b)/W):k===U.g?V=60*(2+(U.b-U.r)/W):k===U.b&&(V=60*(4+(U.r-U.g)/W));const G=k?W/k:0;return{h:V,s:G*100,v:k*100}}Gt.rgbToHsv=x;function S(L){const U=x(L);return{a:L.a,h:U.h,s:U.s,v:U.v}}Gt.rgbaToHsva=S;function E(L){const U=L??0;return{b:Math.floor((0,t.randomInRange)((0,t.setRangeValue)(U,256))),g:Math.floor((0,t.randomInRange)((0,t.setRangeValue)(U,256))),r:Math.floor((0,t.randomInRange)((0,t.setRangeValue)(U,256)))}}Gt.getRandomRgbColor=E;function w(L,U){return`rgba(${L.r}, ${L.g}, ${L.b}, ${U??1})`}Gt.getStyleFromRgb=w;function C(L,U){return`hsla(${L.h}, ${L.s}%, ${L.l}%, ${U??1})`}Gt.getStyleFromHsl=C;function b(L,U){return C(p(L),U)}Gt.getStyleFromHsv=b;function I(L,U,q,K){let k=L,W=U;return k.r===void 0&&(k=c(L)),W.r===void 0&&(W=c(U)),{b:(0,t.mix)(k.b,W.b,q,K),g:(0,t.mix)(k.g,W.g,q,K),r:(0,t.mix)(k.r,W.r,q,K)}}Gt.colorMix=I;function M(L,U,q){var K,k;if(q===e.Constants.randomColorValue)return E();if(q==="mid"){const W=(K=L.getFillColor())!==null&&K!==void 0?K:L.getStrokeColor(),V=(k=U==null?void 0:U.getFillColor())!==null&&k!==void 0?k:U==null?void 0:U.getStrokeColor();if(W&&V&&U)return I(W,V,L.getRadius(),U.getRadius());{const G=W??V;if(G)return c(G)}}else return q}Gt.getLinkColor=M;function R(L,U,q){const K=typeof L=="string"?L:L.value;return K===e.Constants.randomColorValue?q?s({value:K}):U?e.Constants.randomColorValue:e.Constants.midColorValue:s({value:K})}Gt.getLinkRandomColor=R;function D(L){return L!==void 0?{h:L.h.value,s:L.s.value,l:L.l.value}:void 0}Gt.getHslFromAnimation=D;function F(L,U,q){const K={h:{enable:!1,value:L.h},s:{enable:!1,value:L.s},l:{enable:!1,value:L.l}};return U&&(O(K.h,U.h,q),O(K.s,U.s,q),O(K.l,U.l,q)),K}Gt.getHslAnimationFromHsl=F;function O(L,U,q){if(L.enable=U.enable,L.enable){if(L.velocity=(0,t.getRangeValue)(U.speed)/100*q,U.sync)return;L.status=0,L.velocity*=Math.random(),L.value&&(L.value*=Math.random())}else L.velocity=0}return Gt}var FU;function IE(){if(FU)return Hn;FU=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.alterHsl=Hn.drawEllipse=Hn.drawParticlePlugin=Hn.drawPlugin=Hn.drawShapeAfterEffect=Hn.drawShape=Hn.drawParticle=Hn.drawGrabLine=Hn.gradient=Hn.drawConnectLine=Hn.drawLinkTriangle=Hn.drawLinkLine=Hn.clear=Hn.paintBase=void 0;const t=Ur(),e=Dt();function n(x,S,E){x.beginPath(),x.moveTo(S.x,S.y),x.lineTo(E.x,E.y),x.closePath()}function i(x,S,E,w){x.beginPath(),x.moveTo(S.x,S.y),x.lineTo(E.x,E.y),x.lineTo(w.x,w.y),x.closePath()}function r(x,S,E){x.save(),x.fillStyle=E??"rgba(0,0,0,0)",x.fillRect(0,0,S.width,S.height),x.restore()}Hn.paintBase=r;function s(x,S){x.clearRect(0,0,S.width,S.height)}Hn.clear=s;function o(x,S,E,w,C,b,I,M,R,D,F,O){let L=!1;if((0,e.getDistance)(E,w)<=C)n(x,E,w),L=!0;else if(I){let U,q;const K={x:w.x-b.width,y:w.y},k=(0,e.getDistances)(E,K);if(k.distance<=C){const W=E.y-k.dy/k.dx*E.x;U={x:0,y:W},q={x:b.width,y:W}}else{const W={x:w.x,y:w.y-b.height},V=(0,e.getDistances)(E,W);if(V.distance<=C){const G=E.y-V.dy/V.dx*E.x,z=-G/(V.dy/V.dx);U={x:z,y:0},q={x:z,y:b.height}}else{const G={x:w.x-b.width,y:w.y-b.height},z=(0,e.getDistances)(E,G);if(z.distance<=C){const ne=E.y-z.dy/z.dx*E.x;U={x:-ne/(z.dy/z.dx),y:ne},q={x:U.x+b.width,y:U.y+b.height}}}}U&&q&&(n(x,E,U),n(x,w,q),L=!0)}if(L){if(x.lineWidth=S,M&&(x.globalCompositeOperation=R),x.strokeStyle=(0,t.getStyleFromRgb)(D,F),O.enable){const U=(0,t.colorToRgb)(O.color);U&&(x.shadowBlur=O.blur,x.shadowColor=(0,t.getStyleFromRgb)(U))}x.stroke()}}Hn.drawLinkLine=o;function a(x,S,E,w,C,b,I,M){i(x,S,E,w),C&&(x.globalCompositeOperation=b),x.fillStyle=(0,t.getStyleFromRgb)(I,M),x.fill()}Hn.drawLinkTriangle=a;function l(x,S,E,w,C){x.save(),n(x,w,C),x.lineWidth=S,x.strokeStyle=E,x.stroke(),x.restore()}Hn.drawConnectLine=l;function u(x,S,E,w){const C=Math.floor(E.getRadius()/S.getRadius()),b=S.getFillColor(),I=E.getFillColor();if(!b||!I)return;const M=S.getPosition(),R=E.getPosition(),D=(0,t.colorMix)(b,I,S.getRadius(),E.getRadius()),F=x.createLinearGradient(M.x,M.y,R.x,R.y);return F.addColorStop(0,(0,t.getStyleFromHsl)(b,w)),F.addColorStop(C>1?1:C,(0,t.getStyleFromRgb)(D,w)),F.addColorStop(1,(0,t.getStyleFromHsl)(I,w)),F}Hn.gradient=u;function c(x,S,E,w,C,b){x.save(),n(x,E,w),x.strokeStyle=(0,t.getStyleFromRgb)(C,b),x.lineWidth=S,x.stroke(),x.restore()}Hn.drawGrabLine=c;function f(x,S,E,w,C,b,I,M,R,D){var F,O,L,U;const q=E.getPosition(),K=E.options.tilt,k=E.options.roll;if(S.save(),K.enable||k.enable){const z=k.enable&&E.roll,ne=K.enable&&E.tilt,J=z&&(k.mode==="horizontal"||k.mode==="both"),$=z&&(k.mode==="vertical"||k.mode==="both");S.setTransform(J?Math.cos(E.roll.angle):1,ne?Math.cos(E.tilt.value)*E.tilt.cosDirection:0,ne?Math.sin(E.tilt.value)*E.tilt.sinDirection:0,$?Math.sin(E.roll.angle):1,q.x,q.y)}else S.translate(q.x,q.y);S.beginPath();const W=((O=(F=E.rotate)===null||F===void 0?void 0:F.value)!==null&&O!==void 0?O:0)+(E.options.rotate.path?E.velocity.angle:0);W!==0&&S.rotate(W),b&&(S.globalCompositeOperation=I);const V=E.shadowColor;D.enable&&V&&(S.shadowBlur=D.blur,S.shadowColor=(0,t.getStyleFromRgb)(V),S.shadowOffsetX=D.offset.x,S.shadowOffsetY=D.offset.y),C.fill&&(S.fillStyle=C.fill);const G=E.stroke;S.lineWidth=(L=E.strokeWidth)!==null&&L!==void 0?L:0,C.stroke&&(S.strokeStyle=C.stroke),h(x,S,E,M,R,w),((U=G==null?void 0:G.width)!==null&&U!==void 0?U:0)>0&&S.stroke(),E.close&&S.closePath(),E.fill&&S.fill(),S.restore(),S.save(),K.enable&&E.tilt?S.setTransform(1,Math.cos(E.tilt.value)*E.tilt.cosDirection,Math.sin(E.tilt.value)*E.tilt.sinDirection,1,q.x,q.y):S.translate(q.x,q.y),W!==0&&S.rotate(W),b&&(S.globalCompositeOperation=I),d(x,S,E,M,R,w),S.restore()}Hn.drawParticle=f;function h(x,S,E,w,C,b){if(!E.shape)return;const I=x.drawers.get(E.shape);I&&I.draw(S,E,w,C,b,x.retina.pixelRatio)}Hn.drawShape=h;function d(x,S,E,w,C,b){if(!E.shape)return;const I=x.drawers.get(E.shape);I!=null&&I.afterEffect&&I.afterEffect(S,E,w,C,b,x.retina.pixelRatio)}Hn.drawShapeAfterEffect=d;function p(x,S,E){S.draw&&(x.save(),S.draw(x,E),x.restore())}Hn.drawPlugin=p;function y(x,S,E,w){S.drawParticle&&(x.save(),S.drawParticle(x,E,w),x.restore())}Hn.drawParticlePlugin=y;function A(x,S,E,w,C,b,I,M,R){if(b<=0)return;const D=S.getPosition();E&&(x.strokeStyle=(0,t.getStyleFromHsl)(E,C)),x.lineWidth=b;const F=I*Math.PI/180;x.beginPath(),x.ellipse(D.x,D.y,w/2,w*2,F,M,R),x.stroke()}Hn.drawEllipse=A;function g(x,S,E){return{h:x.h,s:x.s,l:x.l+(S==="darken"?-1:1)*E}}return Hn.alterHsl=g,Hn}var UU;function RJ(){if(UU)return X0;UU=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.Canvas=void 0;const t=IE(),e=Ur(),n=Ra(),i=nn();let r=class{constructor(o){this.container=o,this.size={height:0,width:0},this.context=null,this.generatedCanvas=!1}init(){this.resize(),this.initStyle(),this.initCover(),this.initTrail(),this.initBackground(),this.paint()}loadCanvas(o){var a;this.generatedCanvas&&((a=this.element)===null||a===void 0||a.remove()),this.generatedCanvas=o.dataset&&n.Constants.generatedAttribute in o.dataset?o.dataset[n.Constants.generatedAttribute]==="true":this.generatedCanvas,this.element=o,this.originalStyle=(0,i.deepExtend)({},this.element.style),this.size.height=o.offsetHeight,this.size.width=o.offsetWidth,this.context=this.element.getContext("2d"),this.container.retina.init(),this.initBackground()}destroy(){var o;this.generatedCanvas&&((o=this.element)===null||o===void 0||o.remove()),this.draw(a=>{(0,t.clear)(a,this.size)})}paint(){const o=this.container.actualOptions;this.draw(a=>{o.backgroundMask.enable&&o.backgroundMask.cover?((0,t.clear)(a,this.size),this.paintBase(this.coverColorStyle)):this.paintBase()})}clear(){const o=this.container.actualOptions,a=o.particles.move.trail;o.backgroundMask.enable?this.paint():a.enable&&a.length>0&&this.trailFillColor?this.paintBase((0,e.getStyleFromRgb)(this.trailFillColor,1/a.length)):this.draw(l=>{(0,t.clear)(l,this.size)})}async windowResize(){if(!this.element)return;this.resize();const o=this.container,a=o.updateActualOptions();o.particles.setDensity();for(const[,l]of o.plugins)l.resize!==void 0&&l.resize();a&&await o.refresh()}resize(){if(!this.element)return;const o=this.container,a=o.retina.pixelRatio,l=o.canvas.size,u={width:this.element.offsetWidth*a,height:this.element.offsetHeight*a};if(u.height===l.height&&u.width===l.width&&u.height===this.element.height&&u.width===this.element.width)return;const c=Object.assign({},l);this.element.width=l.width=this.element.offsetWidth*a,this.element.height=l.height=this.element.offsetHeight*a,this.container.started&&(this.resizeFactor={width:l.width/c.width,height:l.height/c.height})}drawConnectLine(o,a){this.draw(l=>{var u;const c=this.lineStyle(o,a);if(!c)return;const f=o.getPosition(),h=a.getPosition();(0,t.drawConnectLine)(l,(u=o.retina.linksWidth)!==null&&u!==void 0?u:this.container.retina.linksWidth,c,f,h)})}drawGrabLine(o,a,l,u){const c=this.container;this.draw(f=>{var h;const d=o.getPosition();(0,t.drawGrabLine)(f,(h=o.retina.linksWidth)!==null&&h!==void 0?h:c.retina.linksWidth,d,u,a,l)})}drawParticle(o,a){var l,u,c,f,h,d;if(o.spawning||o.destroyed)return;const p=o.getRadius();if(p<=0)return;const y=o.getFillColor(),A=(l=o.getStrokeColor())!==null&&l!==void 0?l:y;if(!y&&!A)return;let[g,x]=this.getPluginParticleColors(o);(!g||!x)&&(g||(g=y||void 0),x||(x=A||void 0));const S=this.container.actualOptions,E=o.options.zIndex,w=(1-o.zIndexFactor)**E.opacityRate,C=(f=(u=o.bubble.opacity)!==null&&u!==void 0?u:(c=o.opacity)===null||c===void 0?void 0:c.value)!==null&&f!==void 0?f:1,b=(d=(h=o.stroke)===null||h===void 0?void 0:h.opacity)!==null&&d!==void 0?d:C,I=C*w,M=b*w,R={fill:g?(0,e.getStyleFromHsl)(g,I):void 0};R.stroke=x?(0,e.getStyleFromHsl)(x,M):R.fill,this.draw(D=>{const F=(1-o.zIndexFactor)**E.sizeRate,O=this.container;for(const L of O.particles.updaters)if(L.beforeDraw&&L.beforeDraw(o),L.getColorStyles){const{fill:U,stroke:q}=L.getColorStyles(o,D,p,I);U&&(R.fill=U),q&&(R.stroke=q)}(0,t.drawParticle)(O,D,o,a,R,S.backgroundMask.enable,S.backgroundMask.composite,p*F,I,o.options.shadow);for(const L of O.particles.updaters)L.afterDraw&&L.afterDraw(o)})}drawPlugin(o,a){this.draw(l=>{(0,t.drawPlugin)(l,o,a)})}drawParticlePlugin(o,a,l){this.draw(u=>{(0,t.drawParticlePlugin)(u,o,a,l)})}initBackground(){const o=this.container.actualOptions,a=o.background,l=this.element,u=l==null?void 0:l.style;if(u){if(a.color){const c=(0,e.colorToRgb)(a.color);u.backgroundColor=c?(0,e.getStyleFromRgb)(c,a.opacity):""}else u.backgroundColor="";u.backgroundImage=a.image||"",u.backgroundPosition=a.position||"",u.backgroundRepeat=a.repeat||"",u.backgroundSize=a.size||""}}draw(o){if(this.context)return o(this.context)}initCover(){const o=this.container.actualOptions,a=o.backgroundMask.cover,l=a.color,u=(0,e.colorToRgb)(l);if(u){const c={r:u.r,g:u.g,b:u.b,a:a.opacity};this.coverColorStyle=(0,e.getStyleFromRgb)(c,c.a)}}initTrail(){const o=this.container.actualOptions,a=o.particles.move.trail,l=(0,e.colorToRgb)(a.fillColor);if(l){const u=o.particles.move.trail;this.trailFillColor={r:l.r,g:l.g,b:l.b,a:1/u.length}}}getPluginParticleColors(o){let a,l;for(const[,u]of this.container.plugins)if(!a&&u.particleFillColor&&(a=(0,e.colorToHsl)(u.particleFillColor(o))),!l&&u.particleStrokeColor&&(l=(0,e.colorToHsl)(u.particleStrokeColor(o))),a&&l)break;return[a,l]}initStyle(){const o=this.element,a=this.container.actualOptions;if(!o)return;const l=this.originalStyle;a.fullScreen.enable?(this.originalStyle=(0,i.deepExtend)({},o.style),o.style.setProperty("position","fixed","important"),o.style.setProperty("z-index",a.fullScreen.zIndex.toString(10),"important"),o.style.setProperty("top","0","important"),o.style.setProperty("left","0","important"),o.style.setProperty("width","100%","important"),o.style.setProperty("height","100%","important")):l&&(o.style.position=l.position,o.style.zIndex=l.zIndex,o.style.top=l.top,o.style.left=l.left,o.style.width=l.width,o.style.height=l.height);for(const u in a.style){if(!u||!a.style)continue;const c=a.style[u];c&&o.style.setProperty(u,c,"important")}}paintBase(o){this.draw(a=>{(0,t.paintBase)(a,this.size,o)})}lineStyle(o,a){return this.draw(l=>{const u=this.container.actualOptions,c=u.interactivity.modes.connect;return(0,t.gradient)(l,o,a,c.links.opacity)})}};return X0.Canvas=r,X0}var Y0={},kU;function PJ(){if(kU)return Y0;kU=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.EventListeners=void 0;const t=Ra(),e=nn();function n(r,s,o,a,l){if(a){let u={passive:!0};typeof l=="boolean"?u.capture=l:l!==void 0&&(u=l),r.addEventListener(s,o,u)}else{const u=l;r.removeEventListener(s,o,u)}}let i=class{constructor(s){this.container=s,this.canPush=!0,this.mouseMoveHandler=o=>this.mouseTouchMove(o),this.touchStartHandler=o=>this.mouseTouchMove(o),this.touchMoveHandler=o=>this.mouseTouchMove(o),this.touchEndHandler=()=>this.mouseTouchFinish(),this.mouseLeaveHandler=()=>this.mouseTouchFinish(),this.touchCancelHandler=()=>this.mouseTouchFinish(),this.touchEndClickHandler=o=>this.mouseTouchClick(o),this.mouseUpHandler=o=>this.mouseTouchClick(o),this.mouseDownHandler=()=>this.mouseDown(),this.visibilityChangeHandler=()=>this.handleVisibilityChange(),this.themeChangeHandler=o=>this.handleThemeChange(o),this.oldThemeChangeHandler=o=>this.handleThemeChange(o),this.resizeHandler=()=>this.handleWindowResize()}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}manageListeners(s){var o;const a=this.container,l=a.actualOptions,u=l.interactivity.detectsOn;let c=t.Constants.mouseLeaveEvent;if(u==="window")a.interactivity.element=window,c=t.Constants.mouseOutEvent;else if(u==="parent"&&a.canvas.element){const p=a.canvas.element;a.interactivity.element=(o=p.parentElement)!==null&&o!==void 0?o:p.parentNode}else a.interactivity.element=a.canvas.element;const f=!(0,e.isSsr)()&&typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)");f&&(f.addEventListener!==void 0?n(f,"change",this.themeChangeHandler,s):f.addListener!==void 0&&(s?f.addListener(this.oldThemeChangeHandler):f.removeListener(this.oldThemeChangeHandler)));const h=a.interactivity.element;if(!h)return;const d=h;(l.interactivity.events.onHover.enable||l.interactivity.events.onClick.enable)&&(n(h,t.Constants.mouseMoveEvent,this.mouseMoveHandler,s),n(h,t.Constants.touchStartEvent,this.touchStartHandler,s),n(h,t.Constants.touchMoveEvent,this.touchMoveHandler,s),l.interactivity.events.onClick.enable?(n(h,t.Constants.touchEndEvent,this.touchEndClickHandler,s),n(h,t.Constants.mouseUpEvent,this.mouseUpHandler,s),n(h,t.Constants.mouseDownEvent,this.mouseDownHandler,s)):n(h,t.Constants.touchEndEvent,this.touchEndHandler,s),n(h,c,this.mouseLeaveHandler,s),n(h,t.Constants.touchCancelEvent,this.touchCancelHandler,s)),a.canvas.element&&(a.canvas.element.style.pointerEvents=d===a.canvas.element?"initial":"none"),l.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!s?(a.canvas.element&&this.resizeObserver.unobserve(a.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&s&&a.canvas.element&&(this.resizeObserver=new ResizeObserver(p=>{p.find(A=>A.target===a.canvas.element)&&this.handleWindowResize()}),this.resizeObserver.observe(a.canvas.element)):n(window,t.Constants.resizeEvent,this.resizeHandler,s)),document&&n(document,t.Constants.visibilityChangeEvent,this.visibilityChangeHandler,s,!1)}handleWindowResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout(async()=>{var s;return await((s=this.container.canvas)===null||s===void 0?void 0:s.windowResize())},500)}handleVisibilityChange(){const s=this.container,o=s.actualOptions;this.mouseTouchFinish(),o.pauseOnBlur&&(document!=null&&document.hidden?(s.pageHidden=!0,s.pause()):(s.pageHidden=!1,s.getAnimationStatus()?s.play(!0):s.draw(!0)))}mouseDown(){const s=this.container.interactivity;if(s){const o=s.mouse;o.clicking=!0,o.downPosition=o.position}}mouseTouchMove(s){var o,a,l,u,c,f,h;const d=this.container,p=d.actualOptions;if(!(!((o=d.interactivity)===null||o===void 0)&&o.element))return;d.interactivity.mouse.inside=!0;let y;const A=d.canvas.element;if(s.type.startsWith("mouse")){this.canPush=!0;const x=s;if(d.interactivity.element===window){if(A){const S=A.getBoundingClientRect();y={x:x.clientX-S.left,y:x.clientY-S.top}}}else if(p.interactivity.detectsOn==="parent"){const S=x.target,E=x.currentTarget,w=d.canvas.element;if(S&&E&&w){const C=S.getBoundingClientRect(),b=E.getBoundingClientRect(),I=w.getBoundingClientRect();y={x:x.offsetX+2*C.left-(b.left+I.left),y:x.offsetY+2*C.top-(b.top+I.top)}}else y={x:(a=x.offsetX)!==null&&a!==void 0?a:x.clientX,y:(l=x.offsetY)!==null&&l!==void 0?l:x.clientY}}else x.target===d.canvas.element&&(y={x:(u=x.offsetX)!==null&&u!==void 0?u:x.clientX,y:(c=x.offsetY)!==null&&c!==void 0?c:x.clientY})}else{this.canPush=s.type!=="touchmove";const x=s,S=x.touches[x.touches.length-1],E=A==null?void 0:A.getBoundingClientRect();y={x:S.clientX-((f=E==null?void 0:E.left)!==null&&f!==void 0?f:0),y:S.clientY-((h=E==null?void 0:E.top)!==null&&h!==void 0?h:0)}}const g=d.retina.pixelRatio;y&&(y.x*=g,y.y*=g),d.interactivity.mouse.position=y,d.interactivity.status=t.Constants.mouseMoveEvent}mouseTouchFinish(){const s=this.container.interactivity;if(!s)return;const o=s.mouse;delete o.position,delete o.clickPosition,delete o.downPosition,s.status=t.Constants.mouseLeaveEvent,o.inside=!1,o.clicking=!1}mouseTouchClick(s){const o=this.container,a=o.actualOptions,l=o.interactivity.mouse;l.inside=!0;let u=!1;const c=l.position;if(!(!c||!a.interactivity.events.onClick.enable)){for(const[,f]of o.plugins)if(f.clickPositionValid&&(u=f.clickPositionValid(c),u))break;u||this.doMouseTouchClick(s),l.clicking=!1}}doMouseTouchClick(s){const o=this.container,a=o.actualOptions;if(this.canPush){const l=o.interactivity.mouse.position;if(!l)return;o.interactivity.mouse.clickPosition={x:l.x,y:l.y},o.interactivity.mouse.clickTime=new Date().getTime();const u=a.interactivity.events.onClick;if(u.mode instanceof Array)for(const c of u.mode)this.handleClickMode(c);else this.handleClickMode(u.mode)}s.type==="touchend"&&setTimeout(()=>this.mouseTouchFinish(),500)}handleThemeChange(s){const o=s,a=o.matches?this.container.options.defaultDarkTheme:this.container.options.defaultLightTheme,l=this.container.options.themes.find(u=>u.name===a);l&&l.default.auto&&this.container.loadTheme(a)}handleClickMode(s){this.container.handleClickMode(s)}};return Y0.EventListeners=i,Y0}var K0={},NU;function BJ(){if(NU)return K0;NU=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.FrameManager=void 0;let t=class{constructor(n){this.container=n}async nextFrame(n){var i;try{const r=this.container;if(r.lastFrameTime!==void 0&&n<r.lastFrameTime+1e3/r.fpsLimit){r.draw(!1);return}(i=r.lastFrameTime)!==null&&i!==void 0||(r.lastFrameTime=n);const s=n-r.lastFrameTime,o={value:s,factor:60*s/1e3};if(r.lifeTime+=o.value,r.lastFrameTime=n,s>1e3){r.draw(!1);return}if(await r.particles.draw(o),r.duration>0&&r.lifeTime>r.duration){r.destroy();return}r.getAnimationStatus()&&r.draw(!1)}catch(r){console.error("tsParticles error in animation loop",r)}}};return K0.FrameManager=t,K0}var J0={},Z0={},$0={},GU;function fr(){if(GU)return $0;GU=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.OptionsColor=void 0;let t=class DJ{constructor(){this.value="#fff"}static create(n,i){const r=new DJ;return r.load(n),i!==void 0&&(typeof i=="string"||i instanceof Array?r.load({value:i}):r.load(i)),r}load(n){(n==null?void 0:n.value)!==void 0&&(this.value=n.value)}};return $0.OptionsColor=t,$0}var zU;function U8e(){if(zU)return Z0;zU=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.Background=void 0;const t=fr();let e=class{constructor(){this.color=new t.OptionsColor,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(i){i!==void 0&&(i.color!==void 0&&(this.color=t.OptionsColor.create(this.color,i.color)),i.image!==void 0&&(this.image=i.image),i.position!==void 0&&(this.position=i.position),i.repeat!==void 0&&(this.repeat=i.repeat),i.size!==void 0&&(this.size=i.size),i.opacity!==void 0&&(this.opacity=i.opacity))}};return Z0.Background=e,Z0}var em={},tm={},HU;function k8e(){if(HU)return tm;HU=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.BackgroundMaskCover=void 0;const t=fr();let e=class{constructor(){this.color=new t.OptionsColor,this.opacity=1}load(i){i!==void 0&&(i.color!==void 0&&(this.color=t.OptionsColor.create(this.color,i.color)),i.opacity!==void 0&&(this.opacity=i.opacity))}};return tm.BackgroundMaskCover=e,tm}var VU;function N8e(){if(VU)return em;VU=1,Object.defineProperty(em,"__esModule",{value:!0}),em.BackgroundMask=void 0;const t=k8e();let e=class{constructor(){this.composite="destination-out",this.cover=new t.BackgroundMaskCover,this.enable=!1}load(i){if(i!==void 0){if(i.composite!==void 0&&(this.composite=i.composite),i.cover!==void 0){const r=i.cover,s=typeof i.cover=="string"?{color:i.cover}:i.cover;this.cover.load(r.color!==void 0?r:{color:s})}i.enable!==void 0&&(this.enable=i.enable)}}};return em.BackgroundMask=e,em}var nm={},QU;function G8e(){if(QU)return nm;QU=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.FullScreen=void 0;let t=class{constructor(){this.enable=!0,this.zIndex=0}load(n){n&&(n.enable!==void 0&&(this.enable=n.enable),n.zIndex!==void 0&&(this.zIndex=n.zIndex))}};return nm.FullScreen=t,nm}var im={},rm={},sm={},WU;function z8e(){if(WU)return sm;WU=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.ClickEvent=void 0;let t=class{constructor(){this.enable=!1,this.mode=[]}load(n){n!==void 0&&(n.enable!==void 0&&(this.enable=n.enable),n.mode!==void 0&&(this.mode=n.mode))}};return sm.ClickEvent=t,sm}var om={},jU;function H8e(){if(jU)return om;jU=1,Object.defineProperty(om,"__esModule",{value:!0}),om.DivEvent=void 0;let t=class{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get elementId(){return this.ids}set elementId(n){this.ids=n}get el(){return this.elementId}set el(n){this.elementId=n}get ids(){return this.selectors instanceof Array?this.selectors.map(n=>n.replace("#","")):this.selectors.replace("#","")}set ids(n){this.selectors=n instanceof Array?n.map(i=>`#${i}`):`#${n}`}load(n){var i,r;if(n===void 0)return;const s=(r=(i=n.ids)!==null&&i!==void 0?i:n.elementId)!==null&&r!==void 0?r:n.el;s!==void 0&&(this.ids=s),n.selectors!==void 0&&(this.selectors=n.selectors),n.enable!==void 0&&(this.enable=n.enable),n.mode!==void 0&&(this.mode=n.mode),n.type!==void 0&&(this.type=n.type)}};return om.DivEvent=t,om}var am={},lm={},qU;function V8e(){if(qU)return lm;qU=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.Parallax=void 0;class t{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(n){n!==void 0&&(n.enable!==void 0&&(this.enable=n.enable),n.force!==void 0&&(this.force=n.force),n.smooth!==void 0&&(this.smooth=n.smooth))}}return lm.Parallax=t,lm}var XU;function Q8e(){if(XU)return am;XU=1,Object.defineProperty(am,"__esModule",{value:!0}),am.HoverEvent=void 0;const t=V8e();let e=class{constructor(){this.enable=!1,this.mode=[],this.parallax=new t.Parallax}load(i){i!==void 0&&(i.enable!==void 0&&(this.enable=i.enable),i.mode!==void 0&&(this.mode=i.mode),this.parallax.load(i.parallax))}};return am.HoverEvent=e,am}var YU;function W8e(){if(YU)return rm;YU=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.Events=void 0;const t=z8e(),e=H8e(),n=Q8e();let i=class{constructor(){this.onClick=new t.ClickEvent,this.onDiv=new e.DivEvent,this.onHover=new n.HoverEvent,this.resize=!0}get onclick(){return this.onClick}set onclick(s){this.onClick=s}get ondiv(){return this.onDiv}set ondiv(s){this.onDiv=s}get onhover(){return this.onHover}set onhover(s){this.onHover=s}load(s){var o,a,l;if(s===void 0)return;this.onClick.load((o=s.onClick)!==null&&o!==void 0?o:s.onclick);const u=(a=s.onDiv)!==null&&a!==void 0?a:s.ondiv;u!==void 0&&(u instanceof Array?this.onDiv=u.map(c=>{const f=new e.DivEvent;return f.load(c),f}):(this.onDiv=new e.DivEvent,this.onDiv.load(u))),this.onHover.load((l=s.onHover)!==null&&l!==void 0?l:s.onhover),s.resize!==void 0&&(this.resize=s.resize)}};return rm.Events=i,rm}var um={},cm={},KU;function j8e(){if(KU)return cm;KU=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.Attract=void 0;class t{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(n){n&&(n.distance!==void 0&&(this.distance=n.distance),n.duration!==void 0&&(this.duration=n.duration),n.easing!==void 0&&(this.easing=n.easing),n.factor!==void 0&&(this.factor=n.factor),n.maxSpeed!==void 0&&(this.maxSpeed=n.maxSpeed),n.speed!==void 0&&(this.speed=n.speed))}}return cm.Attract=t,cm}var fm={},JU;function q8e(){if(JU)return fm;JU=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.Bounce=void 0;class t{constructor(){this.distance=200}load(n){n&&n.distance!==void 0&&(this.distance=n.distance)}}return fm.Bounce=t,fm}var hm={},dm={},ZU;function LJ(){if(ZU)return dm;ZU=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.BubbleBase=void 0;const t=fr();let e=class{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(i){i!==void 0&&(i.distance!==void 0&&(this.distance=i.distance),i.duration!==void 0&&(this.duration=i.duration),i.mix!==void 0&&(this.mix=i.mix),i.opacity!==void 0&&(this.opacity=i.opacity),i.color!==void 0&&(i.color instanceof Array?this.color=i.color.map(r=>t.OptionsColor.create(void 0,r)):(this.color instanceof Array&&(this.color=new t.OptionsColor),this.color=t.OptionsColor.create(this.color,i.color))),i.size!==void 0&&(this.size=i.size))}};return dm.BubbleBase=e,dm}var pm={},$U;function X8e(){if($U)return pm;$U=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.BubbleDiv=void 0;const t=LJ();let e=class extends t.BubbleBase{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(i=>i.replace("#","")):this.selectors.replace("#","")}set ids(i){this.selectors=i instanceof Array?i.map(r=>`#${r}`):`#${i}`}load(i){super.load(i),i!==void 0&&(i.ids!==void 0&&(this.ids=i.ids),i.selectors!==void 0&&(this.selectors=i.selectors))}};return pm.BubbleDiv=e,pm}var ek;function Y8e(){if(ek)return hm;ek=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.Bubble=void 0;const t=LJ(),e=X8e();class n extends t.BubbleBase{load(r){super.load(r),r!==void 0&&r.divs!==void 0&&(r.divs instanceof Array?this.divs=r.divs.map(s=>{const o=new e.BubbleDiv;return o.load(s),o}):((this.divs instanceof Array||!this.divs)&&(this.divs=new e.BubbleDiv),this.divs.load(r.divs)))}}return hm.Bubble=n,hm}var mm={},gm={},tk;function K8e(){if(tk)return gm;tk=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.ConnectLinks=void 0;let t=class{constructor(){this.opacity=.5}load(n){n!==void 0&&n.opacity!==void 0&&(this.opacity=n.opacity)}};return gm.ConnectLinks=t,gm}var nk;function J8e(){if(nk)return mm;nk=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.Connect=void 0;const t=K8e();class e{constructor(){this.distance=80,this.links=new t.ConnectLinks,this.radius=60}get line_linked(){return this.links}set line_linked(i){this.links=i}get lineLinked(){return this.links}set lineLinked(i){this.links=i}load(i){var r,s;i!==void 0&&(i.distance!==void 0&&(this.distance=i.distance),this.links.load((s=(r=i.links)!==null&&r!==void 0?r:i.lineLinked)!==null&&s!==void 0?s:i.line_linked),i.radius!==void 0&&(this.radius=i.radius))}}return mm.Connect=e,mm}var vm={},Am={},ik;function Z8e(){if(ik)return Am;ik=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.GrabLinks=void 0;const t=fr();let e=class{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(i){i!==void 0&&(i.blink!==void 0&&(this.blink=i.blink),i.color!==void 0&&(this.color=t.OptionsColor.create(this.color,i.color)),i.consent!==void 0&&(this.consent=i.consent),i.opacity!==void 0&&(this.opacity=i.opacity))}};return Am.GrabLinks=e,Am}var rk;function $8e(){if(rk)return vm;rk=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.Grab=void 0;const t=Z8e();class e{constructor(){this.distance=100,this.links=new t.GrabLinks}get line_linked(){return this.links}set line_linked(i){this.links=i}get lineLinked(){return this.links}set lineLinked(i){this.links=i}load(i){var r,s;i!==void 0&&(i.distance!==void 0&&(this.distance=i.distance),this.links.load((s=(r=i.links)!==null&&r!==void 0?r:i.lineLinked)!==null&&s!==void 0?s:i.line_linked))}}return vm.Grab=e,vm}var ym={},xm={},Sm={},sk;function ebe(){if(sk)return Sm;sk=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.LightGradient=void 0;const t=fr();let e=class{constructor(){this.start=new t.OptionsColor,this.stop=new t.OptionsColor,this.start.value="#ffffff",this.stop.value="#000000"}load(i){i!==void 0&&(this.start=t.OptionsColor.create(this.start,i.start),this.stop=t.OptionsColor.create(this.stop,i.stop))}};return Sm.LightGradient=e,Sm}var ok;function tbe(){if(ok)return xm;ok=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.LightArea=void 0;const t=ebe();let e=class{constructor(){this.gradient=new t.LightGradient,this.radius=1e3}load(i){i!==void 0&&(this.gradient.load(i.gradient),i.radius!==void 0&&(this.radius=i.radius))}};return xm.LightArea=e,xm}var Em={},ak;function nbe(){if(ak)return Em;ak=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.LightShadow=void 0;const t=fr();let e=class{constructor(){this.color=new t.OptionsColor,this.color.value="#000000",this.length=2e3}load(i){i!==void 0&&(this.color=t.OptionsColor.create(this.color,i.color),i.length!==void 0&&(this.length=i.length))}};return Em.LightShadow=e,Em}var lk;function ibe(){if(lk)return ym;lk=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.Light=void 0;const t=tbe(),e=nbe();let n=class{constructor(){this.area=new t.LightArea,this.shadow=new e.LightShadow}load(r){r!==void 0&&(this.area.load(r.area),this.shadow.load(r.shadow))}};return ym.Light=n,ym}var wm={},uk;function rbe(){if(uk)return wm;uk=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.Push=void 0;class t{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(n){this.quantity=n}load(n){var i;if(n===void 0)return;n.default!==void 0&&(this.default=n.default),n.groups!==void 0&&(this.groups=n.groups.map(s=>s)),this.groups.length||(this.default=!0);const r=(i=n.quantity)!==null&&i!==void 0?i:n.particles_nb;r!==void 0&&(this.quantity=r)}}return wm.Push=t,wm}var _m={},ck;function sbe(){if(ck)return _m;ck=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.Remove=void 0;class t{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(n){this.quantity=n}load(n){var i;if(n===void 0)return;const r=(i=n.quantity)!==null&&i!==void 0?i:n.particles_nb;r!==void 0&&(this.quantity=r)}}return _m.Remove=t,_m}var Cm={},bm={},fk;function OJ(){if(fk)return bm;fk=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.RepulseBase=void 0;let t=class{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(n){n&&(n.distance!==void 0&&(this.distance=n.distance),n.duration!==void 0&&(this.duration=n.duration),n.easing!==void 0&&(this.easing=n.easing),n.factor!==void 0&&(this.factor=n.factor),n.speed!==void 0&&(this.speed=n.speed),n.maxSpeed!==void 0&&(this.maxSpeed=n.maxSpeed))}};return bm.RepulseBase=t,bm}var Tm={},hk;function obe(){if(hk)return Tm;hk=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.RepulseDiv=void 0;const t=OJ();let e=class extends t.RepulseBase{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(i=>i.replace("#","")):this.selectors.replace("#","")}set ids(i){i instanceof Array?this.selectors=i.map(()=>`#${i}`):this.selectors=`#${i}`}load(i){super.load(i),i!==void 0&&(i.ids!==void 0&&(this.ids=i.ids),i.selectors!==void 0&&(this.selectors=i.selectors))}};return Tm.RepulseDiv=e,Tm}var dk;function abe(){if(dk)return Cm;dk=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.Repulse=void 0;const t=OJ(),e=obe();class n extends t.RepulseBase{load(r){super.load(r),(r==null?void 0:r.divs)!==void 0&&(r.divs instanceof Array?this.divs=r.divs.map(s=>{const o=new e.RepulseDiv;return o.load(s),o}):((this.divs instanceof Array||!this.divs)&&(this.divs=new e.RepulseDiv),this.divs.load(r.divs)))}}return Cm.Repulse=n,Cm}var Mm={},pk;function lbe(){if(pk)return Mm;pk=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.Slow=void 0;let t=class{constructor(){this.factor=3,this.radius=200}get active(){return!1}set active(n){}load(n){n!==void 0&&(n.factor!==void 0&&(this.factor=n.factor),n.radius!==void 0&&(this.radius=n.radius))}};return Mm.Slow=t,Mm}var Im={},mk;function ube(){if(mk)return Im;mk=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.Trail=void 0;const t=nn();class e{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(i){i!==void 0&&(i.delay!==void 0&&(this.delay=i.delay),i.quantity!==void 0&&(this.quantity=i.quantity),i.particles!==void 0&&(this.particles=(0,t.deepExtend)({},i.particles)),i.pauseOnStop!==void 0&&(this.pauseOnStop=i.pauseOnStop))}}return Im.Trail=e,Im}var gk;function cbe(){if(gk)return um;gk=1,Object.defineProperty(um,"__esModule",{value:!0}),um.Modes=void 0;const t=j8e(),e=q8e(),n=Y8e(),i=J8e(),r=$8e(),s=ibe(),o=rbe(),a=sbe(),l=abe(),u=lbe(),c=ube();let f=class{constructor(){this.attract=new t.Attract,this.bounce=new e.Bounce,this.bubble=new n.Bubble,this.connect=new i.Connect,this.grab=new r.Grab,this.light=new s.Light,this.push=new o.Push,this.remove=new a.Remove,this.repulse=new l.Repulse,this.slow=new u.Slow,this.trail=new c.Trail}load(d){d!==void 0&&(this.attract.load(d.attract),this.bubble.load(d.bubble),this.connect.load(d.connect),this.grab.load(d.grab),this.light.load(d.light),this.push.load(d.push),this.remove.load(d.remove),this.repulse.load(d.repulse),this.slow.load(d.slow),this.trail.load(d.trail))}};return um.Modes=f,um}var vk;function fbe(){if(vk)return im;vk=1,Object.defineProperty(im,"__esModule",{value:!0}),im.Interactivity=void 0;const t=W8e(),e=cbe();let n=class{constructor(){this.detectsOn="window",this.events=new t.Events,this.modes=new e.Modes}get detect_on(){return this.detectsOn}set detect_on(r){this.detectsOn=r}load(r){var s,o,a;if(r===void 0)return;const l=(s=r.detectsOn)!==null&&s!==void 0?s:r.detect_on;l!==void 0&&(this.detectsOn=l),this.events.load(r.events),this.modes.load(r.modes),((a=(o=r.modes)===null||o===void 0?void 0:o.slow)===null||a===void 0?void 0:a.active)===!0&&(this.events.onHover.mode instanceof Array?this.events.onHover.mode.indexOf("slow")<0&&this.events.onHover.mode.push("slow"):this.events.onHover.mode!=="slow"&&(this.events.onHover.mode=[this.events.onHover.mode,"slow"]))}};return im.Interactivity=n,im}var Rm={},Ak;function hbe(){if(Ak)return Rm;Ak=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.ManualParticle=void 0;const t=nn();let e=class{load(i){var r,s;i&&(i.position!==void 0&&(this.position={x:(r=i.position.x)!==null&&r!==void 0?r:50,y:(s=i.position.y)!==null&&s!==void 0?s:50}),i.options!==void 0&&(this.options=(0,t.deepExtend)({},i.options)))}};return Rm.ManualParticle=e,Rm}var Pm={},Bm={},yk;function dbe(){if(yk)return Bm;yk=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.MotionReduce=void 0;let t=class{constructor(){this.factor=4,this.value=!0}load(n){n&&(n.factor!==void 0&&(this.factor=n.factor),n.value!==void 0&&(this.value=n.value))}};return Bm.MotionReduce=t,Bm}var xk;function pbe(){if(xk)return Pm;xk=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.Motion=void 0;const t=dbe();let e=class{constructor(){this.disable=!1,this.reduce=new t.MotionReduce}load(i){i&&(i.disable!==void 0&&(this.disable=i.disable),this.reduce.load(i.reduce))}};return Pm.Motion=e,Pm}var Dm={},Lm={},Om={},Fm={},Sk;function mbe(){if(Sk)return Fm;Sk=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.ColorAnimation=void 0;const t=Dt();let e=class{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.sync=!0}load(i){i!==void 0&&(i.count!==void 0&&(this.count=(0,t.setRangeValue)(i.count)),i.enable!==void 0&&(this.enable=i.enable),i.offset!==void 0&&(this.offset=(0,t.setRangeValue)(i.offset)),i.speed!==void 0&&(this.speed=(0,t.setRangeValue)(i.speed)),i.sync!==void 0&&(this.sync=i.sync))}};return Fm.ColorAnimation=e,Fm}var Ek;function gbe(){if(Ek)return Om;Ek=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.HslAnimation=void 0;const t=mbe();let e=class{constructor(){this.h=new t.ColorAnimation,this.s=new t.ColorAnimation,this.l=new t.ColorAnimation}load(i){i&&(this.h.load(i.h),this.s.load(i.s),this.l.load(i.l))}};return Om.HslAnimation=e,Om}var wk;function RE(){if(wk)return Lm;wk=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.AnimatableColor=void 0;const t=gbe(),e=fr();let n=class FJ extends e.OptionsColor{constructor(){super(),this.animation=new t.HslAnimation}static create(r,s){const o=new FJ;return o.load(r),s!==void 0&&(typeof s=="string"||s instanceof Array?o.load({value:s}):o.load(s)),o}load(r){if(super.load(r),!r)return;const s=r.animation;s!==void 0&&(s.enable!==void 0?this.animation.h.load(s):this.animation.load(r.animation))}};return Lm.AnimatableColor=n,Lm}var os={},_k;function vbe(){if(_k)return os;_k=1,Object.defineProperty(os,"__esModule",{value:!0}),os.GradientColorOpacityAnimation=os.GradientAngleAnimation=os.AnimatableGradientColor=os.GradientColorOpacity=os.GradientAngle=os.AnimatableGradient=void 0;const t=RE(),e=Dt();let n=class{constructor(){this.angle=new i,this.colors=[],this.type="random"}load(u){u&&(this.angle.load(u.angle),u.colors!==void 0&&(this.colors=u.colors.map(c=>{const f=new s;return f.load(c),f})),u.type!==void 0&&(this.type=u.type))}};os.AnimatableGradient=n;class i{constructor(){this.value=0,this.animation=new o,this.direction="clockwise"}load(u){u&&(this.animation.load(u.animation),u.value!==void 0&&(this.value=u.value),u.direction!==void 0&&(this.direction=u.direction))}}os.GradientAngle=i;class r{constructor(){this.value=0,this.animation=new a}load(u){u&&(this.animation.load(u.animation),u.value!==void 0&&(this.value=(0,e.setRangeValue)(u.value)))}}os.GradientColorOpacity=r;class s{constructor(){this.stop=0,this.value=new t.AnimatableColor}load(u){u&&(u.stop!==void 0&&(this.stop=u.stop),this.value=t.AnimatableColor.create(this.value,u.value),u.opacity!==void 0&&(this.opacity=new r,typeof u.opacity=="number"?this.opacity.value=u.opacity:this.opacity.load(u.opacity)))}}os.AnimatableGradientColor=s;class o{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1}load(u){u&&(u.count!==void 0&&(this.count=(0,e.setRangeValue)(u.count)),u.enable!==void 0&&(this.enable=u.enable),u.speed!==void 0&&(this.speed=(0,e.setRangeValue)(u.speed)),u.sync!==void 0&&(this.sync=u.sync))}}os.GradientAngleAnimation=o;class a{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1,this.startValue="random"}load(u){u&&(u.count!==void 0&&(this.count=(0,e.setRangeValue)(u.count)),u.enable!==void 0&&(this.enable=u.enable),u.speed!==void 0&&(this.speed=(0,e.setRangeValue)(u.speed)),u.sync!==void 0&&(this.sync=u.sync),u.startValue!==void 0&&(this.startValue=u.startValue))}}return os.GradientColorOpacityAnimation=a,os}var Um={},km={},Nm={},Gm={},Ck;function Abe(){if(Ck)return Gm;Ck=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.Random=void 0;let t=class{constructor(){this.enable=!1,this.minimumValue=0}load(n){n&&(n.enable!==void 0&&(this.enable=n.enable),n.minimumValue!==void 0&&(this.minimumValue=n.minimumValue))}};return Gm.Random=t,Gm}var bk;function Fs(){if(bk)return Nm;bk=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.ValueWithRandom=void 0;const t=Abe(),e=Dt();let n=class{constructor(){this.random=new t.Random,this.value=0}load(r){r&&(typeof r.random=="boolean"?this.random.enable=r.random:this.random.load(r.random),r.value!==void 0&&(this.value=(0,e.setRangeValue)(r.value,this.random.enable?this.random.minimumValue:void 0)))}};return Nm.ValueWithRandom=n,Nm}var Tk;function ybe(){if(Tk)return km;Tk=1,Object.defineProperty(km,"__esModule",{value:!0}),km.BounceFactor=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super(),this.random.minimumValue=.1,this.value=1}};return km.BounceFactor=e,km}var Mk;function UJ(){if(Mk)return Um;Mk=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.Bounce=void 0;const t=ybe();class e{constructor(){this.horizontal=new t.BounceFactor,this.vertical=new t.BounceFactor}load(i){i&&(this.horizontal.load(i.horizontal),this.vertical.load(i.vertical))}}return Um.Bounce=e,Um}var zm={},Hm={},Ik;function xbe(){if(Ik)return Hm;Ik=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.CollisionsOverlap=void 0;let t=class{constructor(){this.enable=!0,this.retries=0}load(n){n&&(n.enable!==void 0&&(this.enable=n.enable),n.retries!==void 0&&(this.retries=n.retries))}};return Hm.CollisionsOverlap=t,Hm}var Rk;function Sbe(){if(Rk)return zm;Rk=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.Collisions=void 0;const t=UJ(),e=xbe();class n{constructor(){this.bounce=new t.Bounce,this.enable=!1,this.mode="bounce",this.overlap=new e.CollisionsOverlap}load(r){r!==void 0&&(this.bounce.load(r.bounce),r.enable!==void 0&&(this.enable=r.enable),r.mode!==void 0&&(this.mode=r.mode),this.overlap.load(r.overlap))}}return zm.Collisions=n,zm}var Vm={},Qm={},Wm={},Pk;function Ebe(){if(Pk)return Wm;Pk=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.SplitFactor=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super(),this.value=3}};return Wm.SplitFactor=e,Wm}var jm={},Bk;function wbe(){if(Bk)return jm;Bk=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.SplitRate=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super(),this.value={min:4,max:9}}};return jm.SplitRate=e,jm}var Dk;function _be(){if(Dk)return Qm;Dk=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.Split=void 0;const t=Ebe(),e=wbe(),n=nn();let i=class{constructor(){this.count=1,this.factor=new t.SplitFactor,this.rate=new e.SplitRate,this.sizeOffset=!0}load(s){s&&(s.count!==void 0&&(this.count=s.count),this.factor.load(s.factor),this.rate.load(s.rate),s.particles!==void 0&&(this.particles=(0,n.deepExtend)({},s.particles)),s.sizeOffset!==void 0&&(this.sizeOffset=s.sizeOffset))}};return Qm.Split=i,Qm}var Lk;function Cbe(){if(Lk)return Vm;Lk=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.Destroy=void 0;const t=_be();let e=class{constructor(){this.mode="none",this.split=new t.Split}load(i){i&&(i.mode!==void 0&&(this.mode=i.mode),this.split.load(i.split))}};return Vm.Destroy=e,Vm}var qm={},Xm={},Ok;function bbe(){if(Ok)return Xm;Ok=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.LifeDelay=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super(),this.sync=!1}load(i){i&&(super.load(i),i.sync!==void 0&&(this.sync=i.sync))}};return Xm.LifeDelay=e,Xm}var Ym={},Fk;function Tbe(){if(Fk)return Ym;Fk=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.LifeDuration=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(i){i!==void 0&&(super.load(i),i.sync!==void 0&&(this.sync=i.sync))}};return Ym.LifeDuration=e,Ym}var Uk;function Mbe(){if(Uk)return qm;Uk=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.Life=void 0;const t=bbe(),e=Tbe();class n{constructor(){this.count=0,this.delay=new t.LifeDelay,this.duration=new e.LifeDuration}load(r){r!==void 0&&(r.count!==void 0&&(this.count=r.count),this.delay.load(r.delay),this.duration.load(r.duration))}}return qm.Life=n,qm}var Km={},Jm={},kk;function Ibe(){if(kk)return Jm;kk=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.LinksShadow=void 0;const t=fr();let e=class{constructor(){this.blur=5,this.color=new t.OptionsColor,this.enable=!1,this.color.value="#00ff00"}load(i){i!==void 0&&(i.blur!==void 0&&(this.blur=i.blur),this.color=t.OptionsColor.create(this.color,i.color),i.enable!==void 0&&(this.enable=i.enable))}};return Jm.LinksShadow=e,Jm}var Zm={},Nk;function Rbe(){if(Nk)return Zm;Nk=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.LinksTriangle=void 0;const t=fr();let e=class{constructor(){this.enable=!1,this.frequency=1}load(i){i!==void 0&&(i.color!==void 0&&(this.color=t.OptionsColor.create(this.color,i.color)),i.enable!==void 0&&(this.enable=i.enable),i.frequency!==void 0&&(this.frequency=i.frequency),i.opacity!==void 0&&(this.opacity=i.opacity))}};return Zm.LinksTriangle=e,Zm}var Gk;function Pbe(){if(Gk)return Km;Gk=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.Links=void 0;const t=Ibe(),e=Rbe(),n=fr();class i{constructor(){this.blink=!1,this.color=new n.OptionsColor,this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new t.LinksShadow,this.triangles=new e.LinksTriangle,this.width=1,this.warp=!1}load(s){s!==void 0&&(s.id!==void 0&&(this.id=s.id),s.blink!==void 0&&(this.blink=s.blink),this.color=n.OptionsColor.create(this.color,s.color),s.consent!==void 0&&(this.consent=s.consent),s.distance!==void 0&&(this.distance=s.distance),s.enable!==void 0&&(this.enable=s.enable),s.frequency!==void 0&&(this.frequency=s.frequency),s.opacity!==void 0&&(this.opacity=s.opacity),this.shadow.load(s.shadow),this.triangles.load(s.triangles),s.width!==void 0&&(this.width=s.width),s.warp!==void 0&&(this.warp=s.warp))}}return Km.Links=i,Km}var $m={},eg={},zk;function Bbe(){if(zk)return eg;zk=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.Attract=void 0;const t=Dt();class e{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(i){this.rotate.x=i}get rotateY(){return this.rotate.y}set rotateY(i){this.rotate.y=i}load(i){var r,s,o,a;if(!i)return;i.distance!==void 0&&(this.distance=(0,t.setRangeValue)(i.distance)),i.enable!==void 0&&(this.enable=i.enable);const l=(s=(r=i.rotate)===null||r===void 0?void 0:r.x)!==null&&s!==void 0?s:i.rotateX;l!==void 0&&(this.rotate.x=l);const u=(a=(o=i.rotate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:i.rotateY;u!==void 0&&(this.rotate.y=u)}}return eg.Attract=e,eg}var tg={},Hk;function Dbe(){if(Hk)return tg;Hk=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.MoveAngle=void 0;const t=Dt();let e=class{constructor(){this.offset=0,this.value=90}load(i){i!==void 0&&(i.offset!==void 0&&(this.offset=(0,t.setRangeValue)(i.offset)),i.value!==void 0&&(this.value=(0,t.setRangeValue)(i.value)))}};return tg.MoveAngle=e,tg}var ng={},Vk;function Lbe(){if(Vk)return ng;Vk=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.MoveGravity=void 0;const t=Dt();let e=class{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(i){i&&(i.acceleration!==void 0&&(this.acceleration=(0,t.setRangeValue)(i.acceleration)),i.enable!==void 0&&(this.enable=i.enable),i.inverse!==void 0&&(this.inverse=i.inverse),i.maxSpeed!==void 0&&(this.maxSpeed=(0,t.setRangeValue)(i.maxSpeed)))}};return ng.MoveGravity=e,ng}var ig={},Qk;function Obe(){if(Qk)return ig;Qk=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.OutModes=void 0;class t{constructor(){this.default="out"}load(n){var i,r,s,o;n&&(n.default!==void 0&&(this.default=n.default),this.bottom=(i=n.bottom)!==null&&i!==void 0?i:n.default,this.left=(r=n.left)!==null&&r!==void 0?r:n.default,this.right=(s=n.right)!==null&&s!==void 0?s:n.default,this.top=(o=n.top)!==null&&o!==void 0?o:n.default)}}return ig.OutModes=t,ig}var rg={},sg={},Wk;function Fbe(){if(Wk)return sg;Wk=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.PathDelay=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super()}};return sg.PathDelay=e,sg}var jk;function Ube(){if(jk)return rg;jk=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.Path=void 0;const t=Fbe(),e=nn();let n=class{constructor(){this.clamp=!0,this.delay=new t.PathDelay,this.enable=!1,this.options={}}load(r){r!==void 0&&(r.clamp!==void 0&&(this.clamp=r.clamp),this.delay.load(r.delay),r.enable!==void 0&&(this.enable=r.enable),this.generator=r.generator,r.options&&(this.options=(0,e.deepExtend)(this.options,r.options)))}};return rg.Path=n,rg}var og={},qk;function kbe(){if(qk)return og;qk=1,Object.defineProperty(og,"__esModule",{value:!0}),og.Spin=void 0;const t=nn(),e=Dt();let n=class{constructor(){this.acceleration=0,this.enable=!1}load(r){r&&(r.acceleration!==void 0&&(this.acceleration=(0,e.setRangeValue)(r.acceleration)),r.enable!==void 0&&(this.enable=r.enable),this.position=r.position?(0,t.deepExtend)({},r.position):void 0)}};return og.Spin=n,og}var ag={},Xk;function Nbe(){if(Xk)return ag;Xk=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.Trail=void 0;const t=fr();class e{constructor(){this.enable=!1,this.length=10,this.fillColor=new t.OptionsColor,this.fillColor.value="#000000"}load(i){i!==void 0&&(i.enable!==void 0&&(this.enable=i.enable),this.fillColor=t.OptionsColor.create(this.fillColor,i.fillColor),i.length!==void 0&&(this.length=i.length))}}return ag.Trail=e,ag}var Yk;function Gbe(){if(Yk)return $m;Yk=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.Move=void 0;const t=Bbe(),e=Dbe(),n=Lbe(),i=Obe(),r=Ube(),s=kbe(),o=Nbe(),a=nn(),l=Dt();let u=class{constructor(){this.angle=new e.MoveAngle,this.attract=new t.Attract,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new n.MoveGravity,this.path=new r.Path,this.outModes=new i.OutModes,this.random=!1,this.size=!1,this.speed=2,this.spin=new s.Spin,this.straight=!1,this.trail=new o.Trail,this.vibrate=!1,this.warp=!1}get collisions(){return!1}set collisions(f){}get bounce(){return this.collisions}set bounce(f){this.collisions=f}get out_mode(){return this.outMode}set out_mode(f){this.outMode=f}get outMode(){return this.outModes.default}set outMode(f){this.outModes.default=f}get noise(){return this.path}set noise(f){this.path=f}load(f){var h,d,p;if(f===void 0)return;f.angle!==void 0&&(typeof f.angle=="number"?this.angle.value=f.angle:this.angle.load(f.angle)),this.attract.load(f.attract),f.decay!==void 0&&(this.decay=f.decay),f.direction!==void 0&&(this.direction=f.direction),f.distance!==void 0&&(this.distance=typeof f.distance=="number"?{horizontal:f.distance,vertical:f.distance}:(0,a.deepExtend)({},f.distance)),f.drift!==void 0&&(this.drift=(0,l.setRangeValue)(f.drift)),f.enable!==void 0&&(this.enable=f.enable),this.gravity.load(f.gravity);const y=(h=f.outMode)!==null&&h!==void 0?h:f.out_mode;(f.outModes!==void 0||y!==void 0)&&(typeof f.outModes=="string"||f.outModes===void 0&&y!==void 0?this.outModes.load({default:(d=f.outModes)!==null&&d!==void 0?d:y}):this.outModes.load(f.outModes)),this.path.load((p=f.path)!==null&&p!==void 0?p:f.noise),f.random!==void 0&&(this.random=f.random),f.size!==void 0&&(this.size=f.size),f.speed!==void 0&&(this.speed=(0,l.setRangeValue)(f.speed)),this.spin.load(f.spin),f.straight!==void 0&&(this.straight=f.straight),this.trail.load(f.trail),f.vibrate!==void 0&&(this.vibrate=f.vibrate),f.warp!==void 0&&(this.warp=f.warp)}};return $m.Move=u,$m}var lg={},ug={},cg={},Kk;function t7(){if(Kk)return cg;Kk=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.AnimationOptions=void 0;const t=Dt();let e=class{constructor(){this.count=0,this.enable=!1,this.speed=1,this.sync=!1}load(i){i&&(i.count!==void 0&&(this.count=(0,t.setRangeValue)(i.count)),i.enable!==void 0&&(this.enable=i.enable),i.speed!==void 0&&(this.speed=(0,t.setRangeValue)(i.speed)),i.sync!==void 0&&(this.sync=i.sync))}};return cg.AnimationOptions=e,cg}var Jk;function zbe(){if(Jk)return ug;Jk=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.OpacityAnimation=void 0;const t=t7();let e=class extends t.AnimationOptions{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(i){this.minimumValue=i}load(i){var r;i!==void 0&&(super.load(i),i.destroy!==void 0&&(this.destroy=i.destroy),i.enable!==void 0&&(this.enable=i.enable),this.minimumValue=(r=i.minimumValue)!==null&&r!==void 0?r:i.opacity_min,i.speed!==void 0&&(this.speed=i.speed),i.startValue!==void 0&&(this.startValue=i.startValue),i.sync!==void 0&&(this.sync=i.sync))}};return ug.OpacityAnimation=e,ug}var Zk;function Hbe(){if(Zk)return lg;Zk=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.Opacity=void 0;const t=zbe(),e=Fs(),n=Dt();class i extends e.ValueWithRandom{constructor(){super(),this.animation=new t.OpacityAnimation,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(s){this.animation=s}load(s){var o;if(!s)return;super.load(s);const a=(o=s.animation)!==null&&o!==void 0?o:s.anim;a!==void 0&&(this.animation.load(a),this.value=(0,n.setRangeValue)(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}return lg.Opacity=i,lg}var fg={},hg={},$k;function Vbe(){if($k)return hg;$k=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.OrbitRotation=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super(),this.value=45,this.random.enable=!1,this.random.minimumValue=0}load(i){i!==void 0&&super.load(i)}};return hg.OrbitRotation=e,hg}var eN;function Qbe(){if(eN)return fg;eN=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.Orbit=void 0;const t=t7(),e=fr(),n=Vbe(),i=Dt();let r=class{constructor(){this.animation=new t.AnimationOptions,this.enable=!1,this.opacity=1,this.rotation=new n.OrbitRotation,this.width=1}load(o){o!==void 0&&(this.animation.load(o.animation),this.rotation.load(o.rotation),o.enable!==void 0&&(this.enable=o.enable),o.opacity!==void 0&&(this.opacity=(0,i.setRangeValue)(o.opacity)),o.width!==void 0&&(this.width=(0,i.setRangeValue)(o.width)),o.radius!==void 0&&(this.radius=(0,i.setRangeValue)(o.radius)),o.color!==void 0&&(this.color=e.OptionsColor.create(this.color,o.color)))}};return fg.Orbit=r,fg}var dg={},pg={},tN;function Wbe(){if(tN)return pg;tN=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.Density=void 0;let t=class{constructor(){this.enable=!1,this.area=800,this.factor=1e3}get value_area(){return this.area}set value_area(n){this.area=n}load(n){var i;if(n===void 0)return;n.enable!==void 0&&(this.enable=n.enable);const r=(i=n.area)!==null&&i!==void 0?i:n.value_area;r!==void 0&&(this.area=r),n.factor!==void 0&&(this.factor=n.factor)}};return pg.Density=t,pg}var nN;function jbe(){if(nN)return dg;nN=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.ParticlesNumber=void 0;const t=Wbe();let e=class{constructor(){this.density=new t.Density,this.limit=0,this.value=100}get max(){return this.limit}set max(i){this.limit=i}load(i){var r;if(i===void 0)return;this.density.load(i.density);const s=(r=i.limit)!==null&&r!==void 0?r:i.max;s!==void 0&&(this.limit=s),i.value!==void 0&&(this.value=i.value)}};return dg.ParticlesNumber=e,dg}var mg={},iN;function qbe(){if(iN)return mg;iN=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.Repulse=void 0;const t=Fs(),e=Dt();class n extends t.ValueWithRandom{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(r){super.load(r),r&&(r.enabled!==void 0&&(this.enabled=r.enabled),r.distance!==void 0&&(this.distance=(0,e.setRangeValue)(r.distance)),r.duration!==void 0&&(this.duration=(0,e.setRangeValue)(r.duration)),r.factor!==void 0&&(this.factor=(0,e.setRangeValue)(r.factor)),r.speed!==void 0&&(this.speed=(0,e.setRangeValue)(r.speed)))}}return mg.Repulse=n,mg}var gg={},vg={},rN;function Xbe(){if(rN)return vg;rN=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.RollLight=void 0;const t=Dt();let e=class{constructor(){this.enable=!1,this.value=0}load(i){i&&(i.enable!==void 0&&(this.enable=i.enable),i.value!==void 0&&(this.value=(0,t.setRangeValue)(i.value)))}};return vg.RollLight=e,vg}var sN;function Ybe(){if(sN)return gg;sN=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.Roll=void 0;const t=fr(),e=Xbe(),n=Dt();class i{constructor(){this.darken=new e.RollLight,this.enable=!1,this.enlighten=new e.RollLight,this.mode="vertical",this.speed=25}load(s){s&&(s.backColor!==void 0&&(this.backColor=t.OptionsColor.create(this.backColor,s.backColor)),this.darken.load(s.darken),s.enable!==void 0&&(this.enable=s.enable),this.enlighten.load(s.enlighten),s.mode!==void 0&&(this.mode=s.mode),s.speed!==void 0&&(this.speed=(0,n.setRangeValue)(s.speed)))}}return gg.Roll=i,gg}var Ag={},yg={},oN;function Kbe(){if(oN)return yg;oN=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.RotateAnimation=void 0;const t=Dt();let e=class{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(i){i!==void 0&&(i.enable!==void 0&&(this.enable=i.enable),i.speed!==void 0&&(this.speed=(0,t.setRangeValue)(i.speed)),i.sync!==void 0&&(this.sync=i.sync))}};return yg.RotateAnimation=e,yg}var aN;function Jbe(){if(aN)return Ag;aN=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.Rotate=void 0;const t=Kbe(),e=Fs();let n=class extends e.ValueWithRandom{constructor(){super(),this.animation=new t.RotateAnimation,this.direction="clockwise",this.path=!1,this.value=0}load(r){r&&(super.load(r),r.direction!==void 0&&(this.direction=r.direction),this.animation.load(r.animation),r.path!==void 0&&(this.path=r.path))}};return Ag.Rotate=n,Ag}var xg={},lN;function Zbe(){if(lN)return xg;lN=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.Shadow=void 0;const t=fr();let e=class{constructor(){this.blur=0,this.color=new t.OptionsColor,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000000"}load(i){i!==void 0&&(i.blur!==void 0&&(this.blur=i.blur),this.color=t.OptionsColor.create(this.color,i.color),i.enable!==void 0&&(this.enable=i.enable),i.offset!==void 0&&(i.offset.x!==void 0&&(this.offset.x=i.offset.x),i.offset.y!==void 0&&(this.offset.y=i.offset.y)))}};return xg.Shadow=e,xg}var Sg={},uN;function kJ(){if(uN)return Sg;uN=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.Shape=void 0;const t=nn();let e=class{constructor(){this.options={},this.type="circle"}get image(){var i;return(i=this.options.image)!==null&&i!==void 0?i:this.options.images}set image(i){this.options.image=i,this.options.images=i}get custom(){return this.options}set custom(i){this.options=i}get images(){return this.image}set images(i){this.image=i}get stroke(){return[]}set stroke(i){}get character(){var i;return(i=this.options.character)!==null&&i!==void 0?i:this.options.char}set character(i){this.options.character=i,this.options.char=i}get polygon(){var i;return(i=this.options.polygon)!==null&&i!==void 0?i:this.options.star}set polygon(i){this.options.polygon=i,this.options.star=i}load(i){var r,s,o;if(i===void 0)return;const a=(r=i.options)!==null&&r!==void 0?r:i.custom;if(a!==void 0)for(const l in a){const u=a[l];u!==void 0&&(this.options[l]=(0,t.deepExtend)((s=this.options[l])!==null&&s!==void 0?s:{},u))}this.loadShape(i.character,"character","char",!0),this.loadShape(i.polygon,"polygon","star",!1),this.loadShape((o=i.image)!==null&&o!==void 0?o:i.images,"image","images",!0),i.type!==void 0&&(this.type=i.type)}loadShape(i,r,s,o){var a,l,u,c;i!==void 0&&(i instanceof Array?(this.options[r]instanceof Array||(this.options[r]=[],(!this.options[s]||o)&&(this.options[s]=[])),this.options[r]=(0,t.deepExtend)((a=this.options[r])!==null&&a!==void 0?a:[],i),(!this.options[s]||o)&&(this.options[s]=(0,t.deepExtend)((l=this.options[s])!==null&&l!==void 0?l:[],i))):(this.options[r]instanceof Array&&(this.options[r]={},(!this.options[s]||o)&&(this.options[s]={})),this.options[r]=(0,t.deepExtend)((u=this.options[r])!==null&&u!==void 0?u:{},i),(!this.options[s]||o)&&(this.options[s]=(0,t.deepExtend)((c=this.options[s])!==null&&c!==void 0?c:{},i))))}};return Sg.Shape=e,Sg}var Eg={},wg={},cN;function $be(){if(cN)return wg;cN=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.SizeAnimation=void 0;const t=t7();let e=class extends t.AnimationOptions{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(i){this.minimumValue=i}load(i){var r;i!==void 0&&(super.load(i),i.destroy!==void 0&&(this.destroy=i.destroy),i.enable!==void 0&&(this.enable=i.enable),this.minimumValue=(r=i.minimumValue)!==null&&r!==void 0?r:i.size_min,i.speed!==void 0&&(this.speed=i.speed),i.startValue!==void 0&&(this.startValue=i.startValue),i.sync!==void 0&&(this.sync=i.sync))}};return wg.SizeAnimation=e,wg}var fN;function eTe(){if(fN)return Eg;fN=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.Size=void 0;const t=$be(),e=Fs(),n=Dt();class i extends e.ValueWithRandom{constructor(){super(),this.animation=new t.SizeAnimation,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(s){this.animation=s}load(s){var o;if(!s)return;super.load(s);const a=(o=s.animation)!==null&&o!==void 0?o:s.anim;a!==void 0&&(this.animation.load(a),this.value=(0,n.setRangeValue)(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}return Eg.Size=i,Eg}var _g={},hN;function tTe(){if(hN)return _g;hN=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.Stroke=void 0;const t=RE();let e=class{constructor(){this.width=0}load(i){i!==void 0&&(i.color!==void 0&&(this.color=t.AnimatableColor.create(this.color,i.color)),i.width!==void 0&&(this.width=i.width),i.opacity!==void 0&&(this.opacity=i.opacity))}};return _g.Stroke=e,_g}var Cg={},bg={},dN;function nTe(){if(dN)return bg;dN=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.TiltAnimation=void 0;const t=Dt();let e=class{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(i){i!==void 0&&(i.enable!==void 0&&(this.enable=i.enable),i.speed!==void 0&&(this.speed=(0,t.setRangeValue)(i.speed)),i.sync!==void 0&&(this.sync=i.sync))}};return bg.TiltAnimation=e,bg}var pN;function iTe(){if(pN)return Cg;pN=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.Tilt=void 0;const t=nTe(),e=Fs();class n extends e.ValueWithRandom{constructor(){super(),this.animation=new t.TiltAnimation,this.direction="clockwise",this.enable=!1,this.value=0}load(r){r&&(super.load(r),this.animation.load(r.animation),r.direction!==void 0&&(this.direction=r.direction),r.enable!==void 0&&(this.enable=r.enable))}}return Cg.Tilt=n,Cg}var Tg={},Mg={},mN;function rTe(){if(mN)return Mg;mN=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.TwinkleValues=void 0;const t=fr(),e=Dt();let n=class{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(r){r!==void 0&&(r.color!==void 0&&(this.color=t.OptionsColor.create(this.color,r.color)),r.enable!==void 0&&(this.enable=r.enable),r.frequency!==void 0&&(this.frequency=r.frequency),r.opacity!==void 0&&(this.opacity=(0,e.setRangeValue)(r.opacity)))}};return Mg.TwinkleValues=n,Mg}var gN;function sTe(){if(gN)return Tg;gN=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.Twinkle=void 0;const t=rTe();class e{constructor(){this.lines=new t.TwinkleValues,this.particles=new t.TwinkleValues}load(i){i!==void 0&&(this.lines.load(i.lines),this.particles.load(i.particles))}}return Tg.Twinkle=e,Tg}var Ig={},vN;function oTe(){if(vN)return Ig;vN=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.Wobble=void 0;const t=Dt();class e{constructor(){this.distance=5,this.enable=!1,this.speed=50}load(i){i&&(i.distance!==void 0&&(this.distance=(0,t.setRangeValue)(i.distance)),i.enable!==void 0&&(this.enable=i.enable),i.speed!==void 0&&(this.speed=(0,t.setRangeValue)(i.speed)))}}return Ig.Wobble=e,Ig}var Rg={},AN;function aTe(){if(AN)return Rg;AN=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.ZIndex=void 0;const t=Fs();let e=class extends t.ValueWithRandom{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(i){super.load(i),i&&(i.opacityRate!==void 0&&(this.opacityRate=i.opacityRate),i.sizeRate!==void 0&&(this.sizeRate=i.sizeRate),i.velocityRate!==void 0&&(this.velocityRate=i.velocityRate))}};return Rg.ZIndex=e,Rg}var yN;function n7(){if(yN)return Dm;yN=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.ParticlesOptions=void 0;const t=RE(),e=vbe(),n=UJ(),i=Sbe(),r=Cbe(),s=Mbe(),o=Pbe(),a=Gbe(),l=Hbe(),u=Qbe(),c=jbe(),f=qbe(),h=Ybe(),d=Jbe(),p=Zbe(),y=kJ(),A=eTe(),g=tTe(),x=iTe(),S=sTe(),E=oTe(),w=aTe(),C=nn();let b=class{constructor(){this.bounce=new n.Bounce,this.collisions=new i.Collisions,this.color=new t.AnimatableColor,this.destroy=new r.Destroy,this.gradient=[],this.groups={},this.life=new s.Life,this.links=new o.Links,this.move=new a.Move,this.number=new c.ParticlesNumber,this.opacity=new l.Opacity,this.orbit=new u.Orbit,this.reduceDuplicates=!1,this.repulse=new f.Repulse,this.roll=new h.Roll,this.rotate=new d.Rotate,this.shadow=new p.Shadow,this.shape=new y.Shape,this.size=new A.Size,this.stroke=new g.Stroke,this.tilt=new x.Tilt,this.twinkle=new S.Twinkle,this.wobble=new E.Wobble,this.zIndex=new w.ZIndex}get line_linked(){return this.links}set line_linked(M){this.links=M}get lineLinked(){return this.links}set lineLinked(M){this.links=M}load(M){var R,D,F,O,L,U,q,K;if(M===void 0)return;this.bounce.load(M.bounce),this.color.load(t.AnimatableColor.create(this.color,M.color)),this.destroy.load(M.destroy),this.life.load(M.life);const k=(D=(R=M.links)!==null&&R!==void 0?R:M.lineLinked)!==null&&D!==void 0?D:M.line_linked;if(k!==void 0&&this.links.load(k),M.groups!==void 0)for(const z in M.groups){const ne=M.groups[z];ne!==void 0&&(this.groups[z]=(0,C.deepExtend)((F=this.groups[z])!==null&&F!==void 0?F:{},ne))}this.move.load(M.move),this.number.load(M.number),this.opacity.load(M.opacity),this.orbit.load(M.orbit),M.reduceDuplicates!==void 0&&(this.reduceDuplicates=M.reduceDuplicates),this.repulse.load(M.repulse),this.roll.load(M.roll),this.rotate.load(M.rotate),this.shape.load(M.shape),this.size.load(M.size),this.shadow.load(M.shadow),this.tilt.load(M.tilt),this.twinkle.load(M.twinkle),this.wobble.load(M.wobble),this.zIndex.load(M.zIndex);const W=(L=(O=M.move)===null||O===void 0?void 0:O.collisions)!==null&&L!==void 0?L:(U=M.move)===null||U===void 0?void 0:U.bounce;W!==void 0&&(this.collisions.enable=W),this.collisions.load(M.collisions);const V=(q=M.stroke)!==null&&q!==void 0?q:(K=M.shape)===null||K===void 0?void 0:K.stroke;V&&(V instanceof Array?this.stroke=V.map(z=>{const ne=new g.Stroke;return ne.load(z),ne}):(this.stroke instanceof Array&&(this.stroke=new g.Stroke),this.stroke.load(V)));const G=M.gradient;G&&(G instanceof Array?this.gradient=G.map(z=>{const ne=new e.AnimatableGradient;return ne.load(z),ne}):(this.gradient instanceof Array&&(this.gradient=new e.AnimatableGradient),this.gradient.load(G)))}};return Dm.ParticlesOptions=b,Dm}var Pg={},xN;function lTe(){if(xN)return Pg;xN=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.Responsive=void 0;const t=nn();let e=class{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(i){i&&(i.maxWidth!==void 0&&(this.maxWidth=i.maxWidth),i.mode!==void 0&&(i.mode==="screen"?this.mode="screen":this.mode="canvas"),i.options!==void 0&&(this.options=(0,t.deepExtend)({},i.options)))}};return Pg.Responsive=e,Pg}var Bg={},Dg={},SN;function uTe(){if(SN)return Dg;SN=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.ThemeDefault=void 0;let t=class{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(n){n&&(n.auto!==void 0&&(this.auto=n.auto),n.mode!==void 0&&(this.mode=n.mode),n.value!==void 0&&(this.value=n.value))}};return Dg.ThemeDefault=t,Dg}var EN;function cTe(){if(EN)return Bg;EN=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.Theme=void 0;const t=uTe(),e=nn();let n=class{constructor(){this.name="",this.default=new t.ThemeDefault}load(r){r!==void 0&&(r.name!==void 0&&(this.name=r.name),this.default.load(r.default),r.options!==void 0&&(this.options=(0,e.deepExtend)({},r.options)))}};return Bg.Theme=n,Bg}var wN;function NJ(){if(wN)return J0;wN=1;var t=gt&&gt.__classPrivateFieldSet||function(A,g,x,S,E){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?A!==g||!E:!g.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?E.call(A,x):E?E.value=x:g.set(A,x),x},e=gt&&gt.__classPrivateFieldGet||function(A,g,x,S){if(x==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?A!==g||!S:!g.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?S:x==="a"?S.call(A):S?S.value:g.get(A)},n,i,r;Object.defineProperty(J0,"__esModule",{value:!0}),J0.Options=void 0;const s=U8e(),o=N8e(),a=G8e(),l=fbe(),u=hbe(),c=pbe(),f=n7(),h=lTe(),d=cTe(),p=nn();let y=class{constructor(g){n.add(this),i.set(this,void 0),t(this,i,g,"f"),this.autoPlay=!0,this.background=new s.Background,this.backgroundMask=new o.BackgroundMask,this.fullScreen=new a.FullScreen,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new l.Interactivity,this.manualParticles=[],this.motion=new c.Motion,this.particles=new f.ParticlesOptions,this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.style={},this.themes=[],this.zLayers=100}get fps_limit(){return this.fpsLimit}set fps_limit(g){this.fpsLimit=g}get retina_detect(){return this.detectRetina}set retina_detect(g){this.detectRetina=g}get backgroundMode(){return this.fullScreen}set backgroundMode(g){this.fullScreen.load(g)}load(g){var x,S,E,w,C;if(g===void 0)return;if(g.preset!==void 0)if(g.preset instanceof Array)for(const R of g.preset)this.importPreset(R);else this.importPreset(g.preset);g.autoPlay!==void 0&&(this.autoPlay=g.autoPlay);const b=(x=g.detectRetina)!==null&&x!==void 0?x:g.retina_detect;b!==void 0&&(this.detectRetina=b),g.duration!==void 0&&(this.duration=g.duration);const I=(S=g.fpsLimit)!==null&&S!==void 0?S:g.fps_limit;I!==void 0&&(this.fpsLimit=I),g.pauseOnBlur!==void 0&&(this.pauseOnBlur=g.pauseOnBlur),g.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=g.pauseOnOutsideViewport),g.zLayers!==void 0&&(this.zLayers=g.zLayers),this.background.load(g.background);const M=(E=g.fullScreen)!==null&&E!==void 0?E:g.backgroundMode;if(typeof M=="boolean"?this.fullScreen.enable=M:this.fullScreen.load(M),this.backgroundMask.load(g.backgroundMask),this.interactivity.load(g.interactivity),g.manualParticles!==void 0&&(this.manualParticles=g.manualParticles.map(R=>{const D=new u.ManualParticle;return D.load(R),D})),this.motion.load(g.motion),this.particles.load(g.particles),this.style=(0,p.deepExtend)(this.style,g.style),e(this,i,"f").plugins.loadOptions(this,g),g.responsive!==void 0)for(const R of g.responsive){const D=new h.Responsive;D.load(R),this.responsive.push(D)}if(this.responsive.sort((R,D)=>R.maxWidth-D.maxWidth),g.themes!==void 0)for(const R of g.themes){const D=new d.Theme;D.load(R),this.themes.push(D)}this.defaultDarkTheme=(w=e(this,n,"m",r).call(this,"dark"))===null||w===void 0?void 0:w.name,this.defaultLightTheme=(C=e(this,n,"m",r).call(this,"light"))===null||C===void 0?void 0:C.name}setTheme(g){if(g){const x=this.themes.find(S=>S.name===g);x&&this.load(x.options)}else{const x=typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)"),S=x&&x.matches,E=e(this,n,"m",r).call(this,S?"dark":"light");E&&this.load(E.options)}}setResponsive(g,x,S){this.load(S);const E=this.responsive.find(w=>w.mode==="screen"&&screen?w.maxWidth*x>screen.availWidth:w.maxWidth*x>g);return this.load(E==null?void 0:E.options),E==null?void 0:E.maxWidth}importPreset(g){this.load(e(this,i,"f").plugins.getPreset(g))}};return J0.Options=y,i=new WeakMap,n=new WeakSet,r=function(g){var x;return(x=this.themes.find(S=>S.default.value&&S.default.mode===g))!==null&&x!==void 0?x:this.themes.find(S=>S.default.value&&S.default.mode==="any")},J0}var Lg={},Og={},_N;function GJ(){if(_N)return Og;_N=1;var t=gt&&gt.__classPrivateFieldSet||function(r,s,o,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?r!==s||!l:!s.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(r,o):l?l.value=o:s.set(r,o),o},e=gt&&gt.__classPrivateFieldGet||function(r,s,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?r!==s||!a:!s.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(r):a?a.value:s.get(r)},n;Object.defineProperty(Og,"__esModule",{value:!0}),Og.InteractionManager=void 0;let i=class{constructor(s,o){this.container=o,n.set(this,void 0),t(this,n,s,"f"),this.externalInteractors=[],this.particleInteractors=[],this.init()}init(){const s=e(this,n,"f").plugins.getInteractors(this.container,!0);this.externalInteractors=[],this.particleInteractors=[];for(const o of s)switch(o.type){case 0:this.externalInteractors.push(o);break;case 1:this.particleInteractors.push(o);break}}async externalInteract(s){for(const o of this.externalInteractors)o.isEnabled()&&await o.interact(s)}async particlesInteract(s,o){for(const a of this.externalInteractors)a.reset(s);for(const a of this.particleInteractors)a.isEnabled(s)&&await a.interact(s,o)}handleClickMode(s){for(const o of this.externalInteractors)o.handleClickMode&&o.handleClickMode(s)}};return Og.InteractionManager=i,n=new WeakMap,Og}var Fg={},Ug={},CN;function zJ(){if(CN)return Ug;CN=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.Vector3d=void 0;const t=Pa();let e=class Xs extends t.Vector{constructor(i,r,s){if(super(i,r),typeof i!="number"&&i)this.z=i.z;else if(s!==void 0)this.z=s;else throw new Error("tsParticles - Vector not initialized correctly")}static clone(i){return Xs.create(i.x,i.y,i.z)}static create(i,r,s){return new Xs(i,r,s)}static get origin(){return Xs.create(0,0,0)}add(i){return i instanceof Xs?Xs.create(this.x+i.x,this.y+i.y,this.z+i.z):super.add(i)}addTo(i){super.addTo(i),i instanceof Xs&&(this.z+=i.z)}sub(i){return i instanceof Xs?Xs.create(this.x-i.x,this.y-i.y,this.z-i.z):super.sub(i)}subFrom(i){super.subFrom(i),i instanceof Xs&&(this.z-=i.z)}mult(i){return Xs.create(this.x*i,this.y*i,this.z*i)}multTo(i){super.multTo(i),this.z*=i}div(i){return Xs.create(this.x/i,this.y/i,this.z/i)}divTo(i){super.divTo(i),this.z/=i}copy(){return Xs.clone(this)}setTo(i){super.setTo(i);const r=i;r.z!==void 0&&(this.z=r.z)}};return Ug.Vector3d=e,Ug}var bN;function HJ(){if(bN)return Fg;bN=1;var t=gt&&gt.__classPrivateFieldSet||function(d,p,y,A,g){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof p=="function"?d!==p||!g:!p.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?g.call(d,y):g?g.value=y:p.set(d,y),y},e=gt&&gt.__classPrivateFieldGet||function(d,p,y,A){if(y==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof p=="function"?d!==p||!A:!p.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?A:y==="a"?A.call(d):A?A.value:p.get(d)},n;Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.Particle=void 0;const i=Dt(),r=Ur(),s=nn(),o=n7(),a=kJ(),l=Pa(),u=zJ(),c=IE(),f=d=>{((0,s.isInArray)(d.outMode,d.checkModes)||(0,s.isInArray)(d.outMode,d.checkModes))&&(d.coord>d.maxCoord-d.radius*2?d.setCb(-d.radius):d.coord<d.radius*2&&d.setCb(d.radius))};class h{constructor(p,y,A,g,x,S){var E,w,C,b,I,M,R;this.id=y,this.container=A,this.group=S,n.set(this,void 0),t(this,n,p,"f"),this.fill=!0,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.splitCount=0,this.misplaced=!1,this.retina={maxDistance:{}},this.ignoresResizeRatio=!0;const D=A.retina.pixelRatio,F=A.actualOptions,O=new o.ParticlesOptions;O.load(F.particles);const L=O.shape.type,U=O.reduceDuplicates;if(this.shape=L instanceof Array?(0,s.itemFromArray)(L,this.id,U):L,x!=null&&x.shape){if(x.shape.type){const $=x.shape.type;this.shape=$ instanceof Array?(0,s.itemFromArray)($,this.id,U):$}const J=new a.Shape;J.load(x.shape),this.shape&&(this.shapeData=this.loadShapeData(J,U))}else this.shapeData=this.loadShapeData(O.shape,U);x!==void 0&&O.load(x),((E=this.shapeData)===null||E===void 0?void 0:E.particles)!==void 0&&O.load((w=this.shapeData)===null||w===void 0?void 0:w.particles),this.fill=(b=(C=this.shapeData)===null||C===void 0?void 0:C.fill)!==null&&b!==void 0?b:this.fill,this.close=(M=(I=this.shapeData)===null||I===void 0?void 0:I.close)!==null&&M!==void 0?M:this.close,this.options=O,this.pathDelay=(0,i.getValue)(this.options.move.path.delay)*1e3;const q=(0,i.getRangeValue)(this.options.zIndex.value);A.retina.initParticle(this);const K=this.options.size,k=K.value;this.size={enable:K.animation.enable,value:(0,i.getValue)(K)*A.retina.pixelRatio,max:(0,i.getRangeMax)(k)*D,min:(0,i.getRangeMin)(k)*D,loops:0,maxLoops:(0,i.getRangeValue)(K.animation.count)};const W=K.animation;if(W.enable){switch(this.size.status=0,W.startValue){case"min":this.size.value=this.size.min,this.size.status=0;break;case"random":this.size.value=(0,i.randomInRange)(this.size)*D,this.size.status=Math.random()>=.5?0:1;break;case"max":default:this.size.value=this.size.max,this.size.status=1;break}this.size.velocity=((R=this.retina.sizeAnimationSpeed)!==null&&R!==void 0?R:A.retina.sizeAnimationSpeed)/100*A.retina.reduceFactor,W.sync||(this.size.velocity*=Math.random())}this.direction=(0,i.getParticleDirectionAngle)(this.options.move.direction),this.bubble={inRange:!1},this.initialVelocity=this.calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-(0,i.getRangeValue)(this.options.move.decay);const V=this.options.move.gravity;this.gravity={enable:V.enable,acceleration:(0,i.getRangeValue)(V.acceleration),inverse:V.inverse},this.position=this.calcPosition(A,g,(0,i.clamp)(q,0,A.zLayers)),this.initialPosition=this.position.copy(),this.offset=l.Vector.origin;const G=A.particles;G.needsSort=G.needsSort||G.lastZIndex<this.position.z,G.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/A.zLayers,this.sides=24;let z=A.drawers.get(this.shape);z||(z=e(this,n,"f").plugins.getShapeDrawer(this.shape),z&&A.drawers.set(this.shape,z)),z!=null&&z.loadShape&&(z==null||z.loadShape(this));const ne=z==null?void 0:z.getSidesCount;ne&&(this.sides=ne(this)),this.life=this.loadLife(),this.spawning=this.life.delay>0,this.shadowColor=(0,r.colorToRgb)(this.options.shadow.color);for(const J of A.particles.updaters)J.init&&J.init(this);z&&z.particleInit&&z.particleInit(A,this);for(const[,J]of A.plugins)J.particleCreated&&J.particleCreated(this)}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}isInsideCanvas(){const p=this.getRadius(),y=this.container.canvas.size;return this.position.x>=-p&&this.position.y>=-p&&this.position.y<=y.height+p&&this.position.x<=y.width+p}draw(p){const y=this.container;for(const[,A]of y.plugins)y.canvas.drawParticlePlugin(A,this,p);y.canvas.drawParticle(this,p)}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var p;return(p=this.bubble.radius)!==null&&p!==void 0?p:this.size.value}getMass(){return this.getRadius()**2*Math.PI/2}getFillColor(){var p,y;const A=(p=this.bubble.color)!==null&&p!==void 0?p:(0,r.getHslFromAnimation)(this.color);if(A&&this.roll&&(this.backColor||this.roll.alter)){const g=this.options.roll.mode==="both"?2:1,x=this.options.roll.mode==="horizontal"?Math.PI/2:0;if(Math.floor((((y=this.roll.angle)!==null&&y!==void 0?y:0)+x)/(Math.PI/g))%2){if(this.backColor)return this.backColor;if(this.roll.alter)return(0,c.alterHsl)(A,this.roll.alter.type,this.roll.alter.value)}}return A}getStrokeColor(){var p,y;return(y=(p=this.bubble.color)!==null&&p!==void 0?p:(0,r.getHslFromAnimation)(this.strokeColor))!==null&&y!==void 0?y:this.getFillColor()}destroy(p){if(this.destroyed=!0,this.bubble.inRange=!1,this.unbreakable)return;this.destroyed=!0,this.bubble.inRange=!1;for(const[,A]of this.container.plugins)A.particleDestroyed&&A.particleDestroyed(this,p);if(p)return;this.options.destroy.mode==="split"&&this.split()}reset(){this.opacity&&(this.opacity.loops=0),this.size.loops=0}split(){const p=this.options.destroy.split;if(p.count>=0&&this.splitCount++>p.count)return;const y=(0,i.getRangeValue)(p.rate.value);for(let A=0;A<y;A++)this.container.particles.addSplitParticle(this)}calcPosition(p,y,A,g=0){var x,S,E,w;for(const[,O]of p.plugins){const L=O.particlePosition!==void 0?O.particlePosition(y,this):void 0;if(L!==void 0)return u.Vector3d.create(L.x,L.y,A)}const C=p.canvas.size,b=(0,i.calcExactPositionOrRandomFromSize)({size:C,position:y}),I=u.Vector3d.create(b.x,b.y,A),M=this.getRadius(),R=this.options.move.outModes,D=O=>{f({outMode:O,checkModes:["bounce","bounce-horizontal"],coord:I.x,maxCoord:p.canvas.size.width,setCb:L=>I.x+=L,radius:M})},F=O=>{f({outMode:O,checkModes:["bounce","bounce-vertical"],coord:I.y,maxCoord:p.canvas.size.height,setCb:L=>I.y+=L,radius:M})};return D((x=R.left)!==null&&x!==void 0?x:R.default),D((S=R.right)!==null&&S!==void 0?S:R.default),F((E=R.top)!==null&&E!==void 0?E:R.default),F((w=R.bottom)!==null&&w!==void 0?w:R.default),this.checkOverlap(I,g)?this.calcPosition(p,void 0,A,g+1):I}checkOverlap(p,y=0){const A=this.options.collisions,g=this.getRadius();if(!A.enable)return!1;const x=A.overlap;if(x.enable)return!1;const S=x.retries;if(S>=0&&y>S)throw new Error("Particle is overlapping and can't be placed");let E=!1;for(const w of this.container.particles.array)if((0,i.getDistance)(p,w.position)<g+w.getRadius()){E=!0;break}return E}calculateVelocity(){const p=(0,i.getParticleBaseVelocity)(this.direction),y=p.copy(),A=this.options.move,g=Math.PI/180*(0,i.getRangeValue)(A.angle.value),x=Math.PI/180*(0,i.getRangeValue)(A.angle.offset),S={left:x-g/2,right:x+g/2};return A.straight||(y.angle+=(0,i.randomInRange)((0,i.setRangeValue)(S.left,S.right))),A.random&&typeof A.speed=="number"&&(y.length*=Math.random()),y}loadShapeData(p,y){const A=p.options[this.shape];if(A)return(0,s.deepExtend)({},A instanceof Array?(0,s.itemFromArray)(A,this.id,y):A)}loadLife(){const p=this.container,y=this.options,A=y.life,g={delay:p.retina.reduceFactor?(0,i.getRangeValue)(A.delay.value)*(A.delay.sync?1:Math.random())/p.retina.reduceFactor*1e3:0,delayTime:0,duration:p.retina.reduceFactor?(0,i.getRangeValue)(A.duration.value)*(A.duration.sync?1:Math.random())/p.retina.reduceFactor*1e3:0,time:0,count:y.life.count};return g.duration<=0&&(g.duration=-1),g.count<=0&&(g.count=-1),g}}return Fg.Particle=h,n=new WeakMap,Fg}var kg={},TN;function VJ(){if(TN)return kg;TN=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.Point=void 0;let t=class{constructor(n,i){this.position=n,this.particle=i}};return kg.Point=t,kg}var Ng={},Gg={},zg={},MN;function i7(){if(MN)return zg;MN=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.Range=void 0;let t=class{constructor(n,i){this.position={x:n,y:i}}};return zg.Range=t,zg}var IN;function Lc(){if(IN)return Gg;IN=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.Circle=void 0;const t=i7(),e=Dt();class n extends t.Range{constructor(r,s,o){super(r,s),this.radius=o}contains(r){return(0,e.getDistance)(r,this.position)<=this.radius}intersects(r){const s=r,o=r,a=this.position,l=r.position,u=Math.abs(l.x-a.x),c=Math.abs(l.y-a.y),f=this.radius;if(o.radius!==void 0){const h=f+o.radius,d=Math.sqrt(u*u+c+c);return h>d}else if(s.size!==void 0){const h=s.size.width,d=s.size.height,p=Math.pow(u-h,2)+Math.pow(c-d,2);return u>f+h||c>f+d?!1:u<=h||c<=d?!0:p<=f*f}return!1}}return Gg.Circle=n,Gg}var Hg={},Vg={},RN;function mh(){if(RN)return Vg;RN=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.Rectangle=void 0;const t=i7();let e=class extends t.Range{constructor(i,r,s,o){super(i,r),this.size={height:o,width:s}}contains(i){const r=this.size.width,s=this.size.height,o=this.position;return i.x>=o.x&&i.x<=o.x+r&&i.y>=o.y&&i.y<=o.y+s}intersects(i){const r=i,s=i,o=this.size.width,a=this.size.height,l=this.position,u=i.position;if(s.radius!==void 0)return s.intersects(this);if(!r.size)return!1;const c=r.size,f=c.width,h=c.height;return u.x<l.x+o&&u.x+f>l.x&&u.y<l.y+a&&u.y+h>l.y}};return Vg.Rectangle=e,Vg}var PN;function r7(){if(PN)return Hg;PN=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.CircleWarp=void 0;const t=Lc(),e=mh();let n=class extends t.Circle{constructor(r,s,o,a){super(r,s,o),this.canvasSize=a,this.canvasSize=Object.assign({},a)}contains(r){if(super.contains(r))return!0;const s={x:r.x-this.canvasSize.width,y:r.y};if(super.contains(s))return!0;const o={x:r.x-this.canvasSize.width,y:r.y-this.canvasSize.height};if(super.contains(o))return!0;const a={x:r.x,y:r.y-this.canvasSize.height};return super.contains(a)}intersects(r){if(super.intersects(r))return!0;const s=r,o=r,a={x:r.position.x-this.canvasSize.width,y:r.position.y-this.canvasSize.height};if(o.radius!==void 0){const l=new t.Circle(a.x,a.y,o.radius*2);return super.intersects(l)}else if(s.size!==void 0){const l=new e.Rectangle(a.x,a.y,s.size.width*2,s.size.height*2);return super.intersects(l)}return!1}};return Hg.CircleWarp=n,Hg}var BN;function QJ(){if(BN)return Ng;BN=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.QuadTree=void 0;const t=Lc(),e=r7(),n=mh(),i=Dt();let r=class W1{constructor(o,a){this.rectangle=o,this.capacity=a,this.points=[],this.divided=!1}insert(o){var a,l,u,c,f;return this.rectangle.contains(o.position)?this.points.length<this.capacity?(this.points.push(o),!0):(this.divided||this.subdivide(),(f=((a=this.northEast)===null||a===void 0?void 0:a.insert(o))||((l=this.northWest)===null||l===void 0?void 0:l.insert(o))||((u=this.southEast)===null||u===void 0?void 0:u.insert(o))||((c=this.southWest)===null||c===void 0?void 0:c.insert(o)))!==null&&f!==void 0?f:!1):!1}queryCircle(o,a){return this.query(new t.Circle(o.x,o.y,a))}queryCircleWarp(o,a,l){const u=l,c=l;return this.query(new e.CircleWarp(o.x,o.y,a,u.canvas!==void 0?u.canvas.size:c))}queryRectangle(o,a){return this.query(new n.Rectangle(o.x,o.y,a.width,a.height))}query(o,a){var l,u,c,f;const h=a??[];if(!o.intersects(this.rectangle))return[];for(const d of this.points)!o.contains(d.position)&&(0,i.getDistance)(o.position,d.position)>d.particle.getRadius()||h.push(d.particle);return this.divided&&((l=this.northEast)===null||l===void 0||l.query(o,h),(u=this.northWest)===null||u===void 0||u.query(o,h),(c=this.southEast)===null||c===void 0||c.query(o,h),(f=this.southWest)===null||f===void 0||f.query(o,h)),h}subdivide(){const o=this.rectangle.position.x,a=this.rectangle.position.y,l=this.rectangle.size.width,u=this.rectangle.size.height,c=this.capacity;this.northEast=new W1(new n.Rectangle(o,a,l/2,u/2),c),this.northWest=new W1(new n.Rectangle(o+l/2,a,l/2,u/2),c),this.southEast=new W1(new n.Rectangle(o,a+u/2,l/2,u/2),c),this.southWest=new W1(new n.Rectangle(o+l/2,a+u/2,l/2,u/2),c),this.divided=!0}};return Ng.QuadTree=r,Ng}var DN;function WJ(){if(DN)return Lg;DN=1;var t=gt&&gt.__classPrivateFieldSet||function(f,h,d,p,y){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof h=="function"?f!==h||!y:!h.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?y.call(f,d):y?y.value=d:h.set(f,d),d},e=gt&&gt.__classPrivateFieldGet||function(f,h,d,p){if(d==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?f!==h||!p:!h.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?p:d==="a"?p.call(f):p?p.value:h.get(f)},n;Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.Particles=void 0;const i=Dt(),r=GJ(),s=HJ(),o=n7(),a=VJ(),l=QJ(),u=mh();class c{constructor(h,d){this.container=d,n.set(this,void 0),t(this,n,h,"f"),this.nextId=0,this.array=[],this.zArray=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.freqs={links:new Map,triangles:new Map},this.interactionManager=new r.InteractionManager(e(this,n,"f"),d);const p=this.container.canvas.size;this.linksColors=new Map,this.quadTree=new l.QuadTree(new u.Rectangle(-p.width/4,-p.height/4,p.width*3/2,p.height*3/2),4),this.movers=e(this,n,"f").plugins.getMovers(d,!0),this.updaters=e(this,n,"f").plugins.getUpdaters(d,!0)}get count(){return this.array.length}init(){var h;const d=this.container,p=d.actualOptions;this.lastZIndex=0,this.needsSort=!1,this.freqs.links=new Map,this.freqs.triangles=new Map;let y=!1;this.updaters=e(this,n,"f").plugins.getUpdaters(d,!0),this.interactionManager.init();for(const[,A]of d.plugins)if(A.particlesInitialization!==void 0&&(y=A.particlesInitialization()),y)break;if(this.addManualParticles(),!y){for(const A in p.particles.groups){const g=p.particles.groups[A];for(let x=this.count,S=0;S<((h=g.number)===null||h===void 0?void 0:h.value)&&x<p.particles.number.value;x++,S++)this.addParticle(void 0,g,A)}for(let A=this.count;A<p.particles.number.value;A++)this.addParticle()}d.pathGenerator.init(d)}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}removeAt(h,d=1,p,y){if(!(h>=0&&h<=this.count))return;let A=0;for(let g=h;A<d&&g<this.count;g++){const x=this.array[g];if(!x||x.group!==p)continue;x.destroy(y),this.array.splice(g--,1);const S=this.zArray.indexOf(x);this.zArray.splice(S,1),A++}}remove(h,d,p){this.removeAt(this.array.indexOf(h),void 0,d,p)}async update(h){const d=this.container,p=[];d.pathGenerator.update();for(const[,y]of d.plugins)y.update!==void 0&&y.update(h);for(const y of this.array){const A=d.canvas.resizeFactor;A&&!y.ignoresResizeRatio&&(y.position.x*=A.width,y.position.y*=A.height),y.ignoresResizeRatio=!1,y.bubble.inRange=!1;for(const[,g]of this.container.plugins){if(y.destroyed)break;g.particleUpdate&&g.particleUpdate(y,h)}for(const g of this.movers)g.isEnabled(y)&&g.move(y,h);if(y.destroyed){p.push(y);continue}this.quadTree.insert(new a.Point(y.getPosition(),y))}for(const y of p)this.remove(y);await this.interactionManager.externalInteract(h);for(const y of d.particles.array){for(const A of this.updaters)A.update(y,h);!y.destroyed&&!y.spawning&&await this.interactionManager.particlesInteract(y,h)}delete d.canvas.resizeFactor}async draw(h){const d=this.container,p=this.container.canvas.size;this.quadTree=new l.QuadTree(new u.Rectangle(-p.width/4,-p.height/4,p.width*3/2,p.height*3/2),4),d.canvas.clear(),await this.update(h),this.needsSort&&(this.zArray.sort((y,A)=>A.position.z-y.position.z||y.id-A.id),this.lastZIndex=this.zArray[this.zArray.length-1].position.z,this.needsSort=!1);for(const[,y]of d.plugins)d.canvas.drawPlugin(y,h);for(const y of this.zArray)y.draw(h)}clear(){this.array=[],this.zArray=[]}push(h,d,p,y){this.pushing=!0;for(let A=0;A<h;A++)this.addParticle(d==null?void 0:d.position,p,y);this.pushing=!1}addParticle(h,d,p){const y=this.container,A=y.actualOptions,g=A.particles.number.limit*y.density;if(g>0){const x=this.count+1-g;x>0&&this.removeQuantity(x)}return this.pushParticle(h,d,p)}addSplitParticle(h){const d=h.options.destroy.split,p=new o.ParticlesOptions;p.load(h.options);const y=(0,i.getRangeValue)(d.factor.value);p.color.load({value:{hsl:h.getFillColor()}}),typeof p.size.value=="number"?p.size.value/=y:(p.size.value.min/=y,p.size.value.max/=y),p.load(d.particles);const A=d.sizeOffset?(0,i.setRangeValue)(-h.size.value,h.size.value):0,g={x:h.position.x+(0,i.randomInRange)(A),y:h.position.y+(0,i.randomInRange)(A)};return this.pushParticle(g,p,h.group,x=>x.size.value<.5?!1:(x.velocity.length=(0,i.randomInRange)((0,i.setRangeValue)(h.velocity.length,x.velocity.length)),x.splitCount=h.splitCount+1,x.unbreakable=!0,setTimeout(()=>{x.unbreakable=!1},500),!0))}removeQuantity(h,d){this.removeAt(0,h,d)}getLinkFrequency(h,d){const p=(0,i.setRangeValue)(h.id,d.id),y=`${(0,i.getRangeMin)(p)}_${(0,i.getRangeMax)(p)}`;let A=this.freqs.links.get(y);return A===void 0&&(A=Math.random(),this.freqs.links.set(y,A)),A}getTriangleFrequency(h,d,p){let[y,A,g]=[h.id,d.id,p.id];y>A&&([A,y]=[y,A]),A>g&&([g,A]=[A,g]),y>g&&([g,y]=[y,g]);const x=`${y}_${A}_${g}`;let S=this.freqs.triangles.get(x);return S===void 0&&(S=Math.random(),this.freqs.triangles.set(x,S)),S}addManualParticles(){const h=this.container,d=h.actualOptions;for(const p of d.manualParticles)this.addParticle((0,i.calcPositionFromSize)({size:h.canvas.size,position:p.position}),p.options)}setDensity(){const h=this.container.actualOptions;for(const d in h.particles.groups)this.applyDensity(h.particles.groups[d],0,d);this.applyDensity(h.particles,h.manualParticles.length)}handleClickMode(h){this.interactionManager.handleClickMode(h)}applyDensity(h,d,p){var y;if(!(!((y=h.number.density)===null||y===void 0)&&y.enable))return;const A=h.number,g=this.initDensityFactor(A.density),x=A.value,S=A.limit>0?A.limit:x,E=Math.min(x,S)*g+d,w=Math.min(this.count,this.array.filter(C=>C.group===p).length);this.limit=A.limit*g,w<E?this.push(Math.abs(E-w),void 0,h,p):w>E&&this.removeQuantity(w-E,p)}initDensityFactor(h){const d=this.container;if(!d.canvas.element||!h.enable)return 1;const p=d.canvas.element,y=d.retina.pixelRatio;return p.width*p.height/(h.factor*y**2*h.area)}pushParticle(h,d,p,y){try{const A=new s.Particle(e(this,n,"f"),this.nextId,this.container,h,d,p);let g=!0;return y&&(g=y(A)),g?(this.array.push(A),this.zArray.push(A),this.nextId++,A):void 0}catch(A){console.warn(`error adding particle: ${A}`);return}}}return Lg.Particles=c,n=new WeakMap,Lg}var Qg={},LN;function jJ(){if(LN)return Qg;LN=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.Retina=void 0;const t=Dt(),e=nn();let n=class{constructor(r){this.container=r}init(){const r=this.container,s=r.actualOptions;this.pixelRatio=!s.detectRetina||(0,e.isSsr)()?1:window.devicePixelRatio;const o=this.container.actualOptions.motion;if(o&&(o.disable||o.reduce.value))if((0,e.isSsr)()||typeof matchMedia>"u"||!matchMedia)this.reduceFactor=1;else{const c=matchMedia("(prefers-reduced-motion: reduce)");if(c){this.handleMotionChange(c);const f=()=>{this.handleMotionChange(c),r.refresh().catch(()=>{})};c.addEventListener!==void 0?c.addEventListener("change",f):c.addListener!==void 0&&c.addListener(f)}}else this.reduceFactor=1;const a=this.pixelRatio;if(r.canvas.element){const c=r.canvas.element;r.canvas.size.width=c.offsetWidth*a,r.canvas.size.height=c.offsetHeight*a}const l=s.particles;this.attractDistance=(0,t.getRangeValue)(l.move.attract.distance)*a,this.linksDistance=l.links.distance*a,this.linksWidth=l.links.width*a,this.sizeAnimationSpeed=(0,t.getRangeValue)(l.size.animation.speed)*a,this.maxSpeed=(0,t.getRangeValue)(l.move.gravity.maxSpeed)*a;const u=s.interactivity.modes;this.connectModeDistance=u.connect.distance*a,this.connectModeRadius=u.connect.radius*a,this.grabModeDistance=u.grab.distance*a,this.repulseModeDistance=u.repulse.distance*a,this.bounceModeDistance=u.bounce.distance*a,this.attractModeDistance=u.attract.distance*a,this.slowModeRadius=u.slow.radius*a,this.bubbleModeDistance=u.bubble.distance*a,u.bubble.size&&(this.bubbleModeSize=u.bubble.size*a)}initParticle(r){const s=r.options,o=this.pixelRatio,a=s.move.distance,l=r.retina;l.attractDistance=(0,t.getRangeValue)(s.move.attract.distance)*o,l.linksDistance=s.links.distance*o,l.linksWidth=s.links.width*o,l.moveDrift=(0,t.getRangeValue)(s.move.drift)*o,l.moveSpeed=(0,t.getRangeValue)(s.move.speed)*o,l.sizeAnimationSpeed=(0,t.getRangeValue)(s.size.animation.speed)*o;const u=l.maxDistance;u.horizontal=a.horizontal!==void 0?a.horizontal*o:void 0,u.vertical=a.vertical!==void 0?a.vertical*o:void 0,l.maxSpeed=(0,t.getRangeValue)(s.move.gravity.maxSpeed)*o}handleMotionChange(r){const s=this.container.actualOptions;if(r.matches){const o=s.motion;this.reduceFactor=o.disable?0:o.reduce.value?1/o.reduce.factor:1}else this.reduceFactor=1}};return Qg.Retina=n,Qg}var ON;function qJ(){if(ON)return j0;ON=1;var t=gt&&gt.__classPrivateFieldSet||function(d,p,y,A,g){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof p=="function"?d!==p||!g:!p.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?g.call(d,y):g?g.value=y:p.set(d,y),y},e=gt&&gt.__classPrivateFieldGet||function(d,p,y,A){if(y==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof p=="function"?d!==p||!A:!p.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?A:y==="a"?A.call(d):A?A.value:p.get(d)},n;Object.defineProperty(j0,"__esModule",{value:!0}),j0.Container=void 0;const i=nn(),r=RJ(),s=PJ(),o=BJ(),a=NJ(),l=WJ(),u=jJ(),c=Pa(),f=Dt();class h{constructor(p,y,A,...g){this.id=y,n.set(this,void 0),t(this,n,p,"f"),this.fpsLimit=120,this.duration=0,this.lifeTime=0,this.firstStart=!0,this.started=!1,this.destroyed=!1,this.paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=A,this._initialSourceOptions=A,this.retina=new u.Retina(this),this.canvas=new r.Canvas(this),this.particles=new l.Particles(e(this,n,"f"),this),this.drawer=new o.FrameManager(this),this.presets=g,this.pathGenerator={generate:()=>{const x=c.Vector.create(0,0);return x.length=Math.random(),x.angle=Math.random()*Math.PI*2,x},init:()=>{},update:()=>{}},this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this.density=1,this._options=new a.Options(e(this,n,"f")),this.actualOptions=new a.Options(e(this,n,"f")),this.eventListeners=new s.EventListeners(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(x=>this.intersectionManager(x)))}get options(){return this._options}get sourceOptions(){return this._sourceOptions}play(p){const y=this.paused||p;if(this.firstStart&&!this.actualOptions.autoPlay){this.firstStart=!1;return}if(this.paused&&(this.paused=!1),y)for(const[,A]of this.plugins)A.play&&A.play();this.draw(y||!1)}pause(){if(this.drawAnimationFrame!==void 0&&((0,i.cancelAnimation)()(this.drawAnimationFrame),delete this.drawAnimationFrame),!this.paused){for(const[,p]of this.plugins)p.pause&&p.pause();this.pageHidden||(this.paused=!0)}}draw(p){let y=p;this.drawAnimationFrame=(0,i.animate)()(async A=>{y&&(this.lastFrameTime=void 0,y=!1),await this.drawer.nextFrame(A)})}getAnimationStatus(){return!this.paused&&!this.pageHidden}setNoise(p,y,A){this.setPath(p,y,A)}setPath(p,y,A){var g,x,S;if(p)if(typeof p=="function")this.pathGenerator.generate=p,y&&(this.pathGenerator.init=y),A&&(this.pathGenerator.update=A);else{const E=this.pathGenerator;this.pathGenerator=p,(g=this.pathGenerator).generate||(g.generate=E.generate),(x=this.pathGenerator).init||(x.init=E.init),(S=this.pathGenerator).update||(S.update=E.update)}}destroy(){this.stop(),this.canvas.destroy();for(const[,p]of this.drawers)p.destroy&&p.destroy(this);for(const p of this.drawers.keys())this.drawers.delete(p);this.destroyed=!0}exportImg(p){this.exportImage(p)}exportImage(p,y,A){var g;return(g=this.canvas.element)===null||g===void 0?void 0:g.toBlob(p,y??"image/png",A)}exportConfiguration(){return JSON.stringify(this.actualOptions,void 0,2)}refresh(){return this.stop(),this.start()}reset(){return this._options=new a.Options(e(this,n,"f")),this.refresh()}stop(){if(this.started){this.firstStart=!0,this.started=!1,this.eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.clear(),this.interactivity.element instanceof HTMLElement&&this.intersectionObserver&&this.intersectionObserver.unobserve(this.interactivity.element);for(const[,p]of this.plugins)p.stop&&p.stop();for(const p of this.plugins.keys())this.plugins.delete(p);this.particles.linksColors=new Map,delete this.particles.grabLineColor,delete this.particles.linksColor,this._sourceOptions=this._options}}async loadTheme(p){this.currentTheme=p,await this.refresh()}async start(){if(!this.started){await this.init(),this.started=!0,this.eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this.intersectionObserver&&this.intersectionObserver.observe(this.interactivity.element);for(const[,p]of this.plugins)p.startAsync!==void 0?await p.startAsync():p.start!==void 0&&p.start();this.play()}}addClickHandler(p){const y=this.interactivity.element;if(!y)return;const A=(I,M,R)=>{if(this.destroyed)return;const D=this.retina.pixelRatio,F={x:M.x*D,y:M.y*D},O=this.particles.quadTree.queryCircle(F,R*D);p(I,O)},g=I=>{if(this.destroyed)return;const M=I,R={x:M.offsetX||M.clientX,y:M.offsetY||M.clientY};A(I,R,1)},x=()=>{this.destroyed||(C=!0,b=!1)},S=()=>{this.destroyed||(b=!0)},E=I=>{var M,R,D;if(!this.destroyed){if(C&&!b){const F=I;let O=F.touches[F.touches.length-1];if(!O&&(O=F.changedTouches[F.changedTouches.length-1],!O))return;const L=(M=this.canvas.element)===null||M===void 0?void 0:M.getBoundingClientRect(),U={x:O.clientX-((R=L==null?void 0:L.left)!==null&&R!==void 0?R:0),y:O.clientY-((D=L==null?void 0:L.top)!==null&&D!==void 0?D:0)};A(I,U,Math.max(O.radiusX,O.radiusY))}C=!1,b=!1}},w=()=>{this.destroyed||(C=!1,b=!1)};let C=!1,b=!1;y.addEventListener("click",g),y.addEventListener("touchstart",x),y.addEventListener("touchmove",S),y.addEventListener("touchend",E),y.addEventListener("touchcancel",w)}handleClickMode(p){this.particles.handleClickMode(p);for(const[,y]of this.plugins)y.handleClickMode&&y.handleClickMode(p)}updateActualOptions(){this.actualOptions.responsive=[];const p=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this.currentTheme),this.responsiveMaxWidth!=p?(this.responsiveMaxWidth=p,!0):!1}async init(){this._options=new a.Options(e(this,n,"f"));for(const g of this.presets)this._options.load(e(this,n,"f").plugins.getPreset(g));const p=e(this,n,"f").plugins.getSupportedShapes();for(const g of p){const x=e(this,n,"f").plugins.getShapeDrawer(g);x&&this.drawers.set(g,x)}this._options.load(this._initialSourceOptions),this._options.load(this._sourceOptions),this.actualOptions=new a.Options(e(this,n,"f")),this.actualOptions.load(this._options),this.retina.init(),this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this.duration=(0,f.getRangeValue)(this.actualOptions.duration),this.lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120;const y=e(this,n,"f").plugins.getAvailablePlugins(this);for(const[g,x]of y)this.plugins.set(g,x);for(const[,g]of this.drawers)g.init&&await g.init(this);for(const[,g]of this.plugins)g.init?g.init(this.actualOptions):g.initAsync!==void 0&&await g.initAsync(this.actualOptions);const A=this.actualOptions.particles.move.path;A.generator&&this.setPath(e(this,n,"f").plugins.getPathGenerator(A.generator)),this.particles.init(),this.particles.setDensity();for(const[,g]of this.plugins)g.particlesSetup!==void 0&&g.particlesSetup()}intersectionManager(p){if(this.actualOptions.pauseOnOutsideViewport)for(const y of p)y.target===this.interactivity.element&&(y.isIntersecting?this.play():this.pause())}}return j0.Container=h,n=new WeakMap,j0}var FN;function XJ(){if(FN)return Q0;FN=1;var t=gt&&gt.__classPrivateFieldSet||function(l,u,c,f,h){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?l!==u||!h:!u.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?h.call(l,c):h?h.value=c:u.set(l,c),c},e=gt&&gt.__classPrivateFieldGet||function(l,u,c,f){if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?l!==u||!f:!u.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?f:c==="a"?f.call(l):f?f.value:u.get(l)},n;Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.Loader=void 0;const i=Ra(),r=qJ(),s=nn();function o(l){console.error(`Error tsParticles - fetch status: ${l}`),console.error("Error tsParticles - File config not found")}let a=class{constructor(u){n.set(this,void 0),t(this,n,u,"f")}dom(){return e(this,n,"f").domArray}domItem(u){const c=this.dom(),f=c[u];if(f&&!f.destroyed)return f;c.splice(u,1)}async loadOptions(u){var c,f,h;const d=(c=u.tagId)!==null&&c!==void 0?c:`tsparticles${Math.floor(Math.random()*1e4)}`,{options:p,index:y}=u;let A=(f=u.element)!==null&&f!==void 0?f:document.getElementById(d);A||(A=document.createElement("div"),A.id=d,(h=document.querySelector("body"))===null||h===void 0||h.append(A));const g=p instanceof Array?(0,s.itemFromArray)(p,y):p,x=this.dom(),S=x.findIndex(C=>C.id===d);if(S>=0){const C=this.domItem(S);C&&!C.destroyed&&(C.destroy(),x.splice(S,1))}let E;if(A.tagName.toLowerCase()==="canvas")E=A,E.dataset[i.Constants.generatedAttribute]="false";else{const C=A.getElementsByTagName("canvas");C.length?(E=C[0],E.dataset[i.Constants.generatedAttribute]="false"):(E=document.createElement("canvas"),E.dataset[i.Constants.generatedAttribute]="true",E.style.width="100%",E.style.height="100%",A.appendChild(E))}const w=new r.Container(e(this,n,"f"),d,g);return S>=0?x.splice(S,0,w):x.push(w),w.canvas.loadCanvas(E),await w.start(),w}async loadRemoteOptions(u){const{url:c,index:f}=u,h=c instanceof Array?(0,s.itemFromArray)(c,f):c;if(!h)return;const d=await fetch(h);if(!d.ok){o(d.status);return}const p=await d.json();return this.loadOptions({tagId:u.tagId,element:u.element,index:f,options:p})}load(u,c,f){const h={index:f};return typeof u=="string"?h.tagId=u:h.options=u,typeof c=="number"?h.index=c??h.index:h.options=c??h.options,this.loadOptions(h)}async set(u,c,f,h){const d={index:h};return typeof u=="string"?d.tagId=u:d.element=u,c instanceof HTMLElement?d.element=c:d.options=c,typeof f=="number"?d.index=f:d.options=f??d.options,this.loadOptions(d)}async loadJSON(u,c,f){let h,d;return typeof c=="number"||c===void 0?h=u:(d=u,h=c),this.loadRemoteOptions({tagId:d,url:h,index:f})}async setJSON(u,c,f,h){let d,p,y,A;return u instanceof HTMLElement?(A=u,d=c,y=f):(p=u,A=c,d=f,y=h),this.loadRemoteOptions({tagId:p,url:d,index:y,element:A})}setOnClickHandler(u){const c=this.dom();if(!c.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const f of c)f.addClickHandler(u)}};return Q0.Loader=a,n=new WeakMap,Q0}var Wg={},UN;function YJ(){if(UN)return Wg;UN=1;var t=gt&&gt.__classPrivateFieldSet||function(i,r,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!a:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(i,s):a?a.value=s:r.set(i,s),s},e;Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.Plugins=void 0;let n=class{constructor(r){e.set(this,void 0),t(this,e,r,"f"),this.plugins=[],this.interactorsInitializers=new Map,this.moversInitializers=new Map,this.updatersInitializers=new Map,this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}getPlugin(r){return this.plugins.find(s=>s.id===r)}addPlugin(r){this.getPlugin(r.id)||this.plugins.push(r)}getAvailablePlugins(r){const s=new Map;for(const o of this.plugins)o.needsPlugin(r.actualOptions)&&s.set(o.id,o.getPlugin(r));return s}loadOptions(r,s){for(const o of this.plugins)o.loadOptions(r,s)}getPreset(r){return this.presets.get(r)}addPreset(r,s,o=!1){(o||!this.getPreset(r))&&this.presets.set(r,s)}getShapeDrawer(r){return this.drawers.get(r)}addShapeDrawer(r,s){this.getShapeDrawer(r)||this.drawers.set(r,s)}getSupportedShapes(){return this.drawers.keys()}getPathGenerator(r){return this.pathGenerators.get(r)}addPathGenerator(r,s){this.getPathGenerator(r)||this.pathGenerators.set(r,s)}getInteractors(r,s=!1){let o=this.interactors.get(r);return(!o||s)&&(o=[...this.interactorsInitializers.values()].map(a=>a(r)),this.interactors.set(r,o)),o}addInteractor(r,s){this.interactorsInitializers.set(r,s)}getUpdaters(r,s=!1){let o=this.updaters.get(r);return(!o||s)&&(o=[...this.updatersInitializers.values()].map(a=>a(r)),this.updaters.set(r,o)),o}addParticleUpdater(r,s){this.updatersInitializers.set(r,s)}getMovers(r,s=!1){let o=this.movers.get(r);return(!o||s)&&(o=[...this.moversInitializers.values()].map(a=>a(r)),this.movers.set(r,o)),o}addParticleMover(r,s){this.moversInitializers.set(r,s)}};return Wg.Plugins=n,e=new WeakMap,Wg}var kN;function fTe(){if(kN)return V0;kN=1;var t=gt&&gt.__classPrivateFieldSet||function(a,l,u,c,f){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?a!==l||!f:!l.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?f.call(a,u):f?f.value=u:l.set(a,u),u},e=gt&&gt.__classPrivateFieldGet||function(a,l,u,c){if(u==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?a!==l||!c:!l.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?c:u==="a"?c.call(a):c?c.value:l.get(a)},n,i;Object.defineProperty(V0,"__esModule",{value:!0}),V0.Engine=void 0;const r=XJ(),s=YJ();class o{constructor(){n.set(this,void 0),i.set(this,void 0),t(this,n,!1,"f"),this.domArray=[],t(this,i,new r.Loader(this),"f"),this.plugins=new s.Plugins(this)}init(){e(this,n,"f")||t(this,n,!0,"f")}async loadFromArray(l,u,c){return e(this,i,"f").load(l,u,c)}async load(l,u){return e(this,i,"f").load(l,u)}async set(l,u,c){return e(this,i,"f").set(l,u,c)}async loadJSON(l,u,c){return e(this,i,"f").loadJSON(l,u,c)}async setJSON(l,u,c,f){return e(this,i,"f").setJSON(l,u,c,f)}setOnClickHandler(l){e(this,i,"f").setOnClickHandler(l)}dom(){return e(this,i,"f").dom()}domItem(l){return e(this,i,"f").domItem(l)}async refresh(){for(const l of this.dom())await l.refresh()}async addShape(l,u,c,f,h){let d;typeof u=="function"?d={afterEffect:f,destroy:h,draw:u,init:c}:d=u,this.plugins.addShapeDrawer(l,d),await this.refresh()}async addPreset(l,u,c=!1){this.plugins.addPreset(l,u,c),await this.refresh()}async addPlugin(l){this.plugins.addPlugin(l),await this.refresh()}async addPathGenerator(l,u){this.plugins.addPathGenerator(l,u),await this.refresh()}async addInteractor(l,u){this.plugins.addInteractor(l,u),await this.refresh()}async addMover(l,u){this.plugins.addParticleMover(l,u),await this.refresh()}async addParticleUpdater(l,u){this.plugins.addParticleUpdater(l,u),await this.refresh()}}return V0.Engine=o,n=new WeakMap,i=new WeakMap,V0}var jg={},NN;function hTe(){if(NN)return jg;NN=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.initPjs=void 0;const t=e=>{const n=(r,s)=>e.load(r,s);n.load=(r,s,o)=>{e.loadJSON(r,s).then(a=>{a&&o(a)}).catch(()=>{o(void 0)})},n.setOnClickHandler=r=>{e.setOnClickHandler(r)};const i=e.dom();return{particlesJS:n,pJSDom:i}};return jg.initPjs=t,jg}var qg={},G_={},Xg={},Yg={},Kg={},GN;function dTe(){if(GN)return Kg;GN=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.AbsorberSizeLimit=void 0;let t=class{constructor(){this.radius=0,this.mass=0}load(n){n&&(n.mass!==void 0&&(this.mass=n.mass),n.radius!==void 0&&(this.radius=n.radius))}};return Kg.AbsorberSizeLimit=t,Kg}var zN;function pTe(){if(zN)return Yg;zN=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.AbsorberSize=void 0;const t=dTe(),e=Fs();let n=class extends e.ValueWithRandom{constructor(){super(),this.density=5,this.random.minimumValue=1,this.value=50,this.limit=new t.AbsorberSizeLimit}load(r){r&&(super.load(r),r.density!==void 0&&(this.density=r.density),typeof r.limit=="number"?this.limit.radius=r.limit:this.limit.load(r.limit))}};return Yg.AbsorberSize=n,Yg}var HN;function s7(){if(HN)return Xg;HN=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.Absorber=void 0;const t=pTe(),e=fr(),n=Dt();let i=class{constructor(){this.color=new e.OptionsColor,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new t.AbsorberSize}load(s){s!==void 0&&(s.color!==void 0&&(this.color=e.OptionsColor.create(this.color,s.color)),s.draggable!==void 0&&(this.draggable=s.draggable),this.name=s.name,s.opacity!==void 0&&(this.opacity=s.opacity),s.position!==void 0&&(this.position={},s.position.x!==void 0&&(this.position.x=(0,n.setRangeValue)(s.position.x)),s.position.y!==void 0&&(this.position.y=(0,n.setRangeValue)(s.position.y))),s.size!==void 0&&this.size.load(s.size),s.destroy!==void 0&&(this.destroy=s.destroy),s.orbits!==void 0&&(this.orbits=s.orbits))}};return Xg.Absorber=i,Xg}var Jg={},Zg={},VN;function mTe(){if(VN)return Zg;VN=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.AbsorberInstance=void 0;const t=Dt(),e=Ur(),n=s7(),i=Pa(),r=nn();let s=class{constructor(a,l,u,c){var f,h,d;this.absorbers=a,this.container=l,this.initialPosition=c?i.Vector.create(c.x,c.y):void 0,u instanceof n.Absorber?this.options=u:(this.options=new n.Absorber,this.options.load(u)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=(0,t.getRangeValue)(this.options.size.value)*l.retina.pixelRatio,this.mass=this.size*this.options.size.density*l.retina.reduceFactor;const p=this.options.size.limit;this.limit={radius:p.radius*l.retina.pixelRatio*l.retina.reduceFactor,mass:p.mass},this.color=(f=(0,e.colorToRgb)(this.options.color))!==null&&f!==void 0?f:{b:0,g:0,r:0},this.position=(d=(h=this.initialPosition)===null||h===void 0?void 0:h.copy())!==null&&d!==void 0?d:this.calcPosition()}attract(a){const l=this.container,u=this.options;if(u.draggable){const y=l.interactivity.mouse;y.clicking&&y.downPosition?(0,t.getDistance)(this.position,y.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&y.position&&(this.position.x=y.position.x,this.position.y=y.position.y)}const c=a.getPosition(),{dx:f,dy:h,distance:d}=(0,t.getDistances)(this.position,c),p=i.Vector.create(f,h);if(p.length=this.mass/Math.pow(d,2)*l.retina.reduceFactor,d<this.size+a.getRadius()){const y=a.getRadius()*.033*l.retina.pixelRatio;this.size>a.getRadius()&&d<this.size-a.getRadius()||a.absorberOrbit!==void 0&&a.absorberOrbit.length<0?u.destroy?a.destroy():(a.needsNewPosition=!0,this.updateParticlePosition(a,p)):(u.destroy&&(a.size.value-=y),this.updateParticlePosition(a,p)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=y),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=y*this.options.size.density*l.retina.reduceFactor)}else this.updateParticlePosition(a,p)}resize(){const a=this.initialPosition;this.position=a&&(0,r.isPointInside)(a,this.container.canvas.size)?a:this.calcPosition()}draw(a){a.translate(this.position.x,this.position.y),a.beginPath(),a.arc(0,0,this.size,0,Math.PI*2,!1),a.closePath(),a.fillStyle=(0,e.getStyleFromRgb)(this.color,this.opacity),a.fill()}calcPosition(){const a=(0,t.calcPositionOrRandomFromSizeRanged)({size:this.container.canvas.size,position:this.options.position});return i.Vector.create(a.x,a.y)}updateParticlePosition(a,l){var u;if(a.destroyed)return;const c=this.container,f=c.canvas.size;if(a.needsNewPosition){const h=(0,t.calcPositionOrRandomFromSize)({size:f});a.position.setTo(h),a.velocity.setTo(a.initialVelocity),a.absorberOrbit=void 0,a.needsNewPosition=!1}if(this.options.orbits){if(a.absorberOrbit===void 0&&(a.absorberOrbit=i.Vector.create(0,0),a.absorberOrbit.length=(0,t.getDistance)(a.getPosition(),this.position),a.absorberOrbit.angle=Math.random()*Math.PI*2),a.absorberOrbit.length<=this.size&&!this.options.destroy){const A=Math.min(f.width,f.height);a.absorberOrbit.length=A*(1+(Math.random()*.2-.1))}a.absorberOrbitDirection===void 0&&(a.absorberOrbitDirection=a.velocity.x>=0?"clockwise":"counter-clockwise");const h=a.absorberOrbit.length,d=a.absorberOrbit.angle,p=a.absorberOrbitDirection;a.velocity.setTo(i.Vector.origin);const y={x:p==="clockwise"?Math.cos:Math.sin,y:p==="clockwise"?Math.sin:Math.cos};a.position.x=this.position.x+h*y.x(d),a.position.y=this.position.y+h*y.y(d),a.absorberOrbit.length-=l.length,a.absorberOrbit.angle+=((u=a.retina.moveSpeed)!==null&&u!==void 0?u:0)*c.retina.pixelRatio/100*c.retina.reduceFactor}else{const h=i.Vector.origin;h.length=l.length,h.angle=l.angle,a.velocity.addTo(h)}}};return Zg.AbsorberInstance=s,Zg}var QN;function gTe(){if(QN)return Jg;QN=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.Absorbers=void 0;const t=s7(),e=mTe(),n=nn();let i=class{constructor(s){this.container=s,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[];const o=s;o.getAbsorber=a=>a===void 0||typeof a=="number"?this.array[a||0]:this.array.find(l=>l.name===a),o.addAbsorber=(a,l)=>this.addAbsorber(a,l)}init(s){var o,a;if(!s)return;s.absorbers&&(s.absorbers instanceof Array?this.absorbers=s.absorbers.map(u=>{const c=new t.Absorber;return c.load(u),c}):(this.absorbers instanceof Array&&(this.absorbers=new t.Absorber),this.absorbers.load(s.absorbers)));const l=(a=(o=s.interactivity)===null||o===void 0?void 0:o.modes)===null||a===void 0?void 0:a.absorbers;if(l&&(l instanceof Array?this.interactivityAbsorbers=l.map(u=>{const c=new t.Absorber;return c.load(u),c}):(this.interactivityAbsorbers instanceof Array&&(this.interactivityAbsorbers=new t.Absorber),this.interactivityAbsorbers.load(l))),this.absorbers instanceof Array)for(const u of this.absorbers)this.addAbsorber(u);else this.addAbsorber(this.absorbers)}particleUpdate(s){for(const o of this.array)if(o.attract(s),s.destroyed)break}draw(s){for(const o of this.array)s.save(),o.draw(s),s.restore()}stop(){this.array=[]}resize(){for(const s of this.array)s.resize()}handleClickMode(s){const o=this.absorbers,a=this.interactivityAbsorbers;if(s==="absorber"){let l;a instanceof Array?a.length>0&&(l=(0,n.itemFromArray)(a)):l=a;const u=l??(o instanceof Array?(0,n.itemFromArray)(o):o),c=this.container.interactivity.mouse.clickPosition;this.addAbsorber(u,c)}}addAbsorber(s,o){const a=new e.AbsorberInstance(this,this.container,s,o);return this.array.push(a),a}removeAbsorber(s){const o=this.array.indexOf(s);o>=0&&this.array.splice(o,1)}};return Jg.Absorbers=i,Jg}var z_={},WN;function KJ(){return WN||(WN=1,Object.defineProperty(z_,"__esModule",{value:!0})),z_}var H_={},jN;function vTe(){return jN||(jN=1,Object.defineProperty(H_,"__esModule",{value:!0})),H_}var qN;function JJ(){return qN||(qN=1,function(t){var e=gt&&gt.__createBinding||(Object.create?function(l,u,c,f){f===void 0&&(f=c);var h=Object.getOwnPropertyDescriptor(u,c);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,f,h)}:function(l,u,c,f){f===void 0&&(f=c),l[f]=u[c]}),n=gt&&gt.__exportStar||function(l,u){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&e(u,l,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.loadAbsorbersPlugin=void 0;const i=s7(),r=gTe(),s=nn();class o{constructor(){this.id="absorbers"}getPlugin(u){return new r.Absorbers(u)}needsPlugin(u){var c,f,h;if(u===void 0)return!1;const d=u.absorbers;return d instanceof Array?!!d.length:d?!0:!!(!((h=(f=(c=u.interactivity)===null||c===void 0?void 0:c.events)===null||f===void 0?void 0:f.onClick)===null||h===void 0)&&h.mode&&(0,s.isInArray)("absorber",u.interactivity.events.onClick.mode))}loadOptions(u,c){var f,h;if(!this.needsPlugin(u)&&!this.needsPlugin(c))return;const d=u;if(c!=null&&c.absorbers)if((c==null?void 0:c.absorbers)instanceof Array)d.absorbers=c==null?void 0:c.absorbers.map(y=>{const A=new i.Absorber;return A.load(y),A});else{let y=d.absorbers;(y==null?void 0:y.load)===void 0&&(d.absorbers=y=new i.Absorber),y.load(c==null?void 0:c.absorbers)}const p=(h=(f=c==null?void 0:c.interactivity)===null||f===void 0?void 0:f.modes)===null||h===void 0?void 0:h.absorbers;if(p)if(p instanceof Array)d.interactivity.modes.absorbers=p.map(y=>{const A=new i.Absorber;return A.load(y),A});else{let y=d.interactivity.modes.absorbers;(y==null?void 0:y.load)===void 0&&(d.interactivity.modes.absorbers=y=new i.Absorber),y.load(p)}}}async function a(l){const u=new o;await l.addPlugin(u)}t.loadAbsorbersPlugin=a,n(KJ(),t),n(vTe(),t)}(G_)),G_}var V_={},$g={},XN;function ATe(){if(XN)return $g;XN=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.CircleShape=void 0;let t=class{randomPosition(n,i,r){const s=(h,d)=>{const p=Math.random()/4,y=Math.atan(d/h*Math.tan(2*Math.PI*p)),A=Math.random();return A<.25?y:A<.5?Math.PI-y:A<.75?Math.PI+y:-y},o=(h,d,p)=>h*d/Math.sqrt((d*Math.cos(p))**2+(h*Math.sin(p))**2),[a,l]=[i.width/2,i.height/2],u=s(a,l),c=o(a,l,u),f=r?c*Math.sqrt(Math.random()):c;return{x:n.x+f*Math.cos(u),y:n.y+f*Math.sin(u)}}};return $g.CircleShape=t,$g}var ev={},tv={},YN;function yTe(){if(YN)return tv;YN=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.EmitterLife=void 0;let t=class{constructor(){this.wait=!1}load(n){n!==void 0&&(n.count!==void 0&&(this.count=n.count),n.delay!==void 0&&(this.delay=n.delay),n.duration!==void 0&&(this.duration=n.duration),n.wait!==void 0&&(this.wait=n.wait))}};return tv.EmitterLife=t,tv}var nv={},KN;function xTe(){if(KN)return nv;KN=1,Object.defineProperty(nv,"__esModule",{value:!0}),nv.EmitterRate=void 0;const t=Dt();let e=class{constructor(){this.quantity=1,this.delay=.1}load(i){i!==void 0&&(i.quantity!==void 0&&(this.quantity=(0,t.setRangeValue)(i.quantity)),i.delay!==void 0&&(this.delay=(0,t.setRangeValue)(i.delay)))}};return nv.EmitterRate=e,nv}var iv={},JN;function ZJ(){if(JN)return iv;JN=1,Object.defineProperty(iv,"__esModule",{value:!0}),iv.EmitterSize=void 0;let t=class{constructor(){this.mode="percent",this.height=0,this.width=0}load(n){n!==void 0&&(n.mode!==void 0&&(this.mode=n.mode),n.height!==void 0&&(this.height=n.height),n.width!==void 0&&(this.width=n.width))}};return iv.EmitterSize=t,iv}var ZN;function o7(){if(ZN)return ev;ZN=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.Emitter=void 0;const t=RE(),e=yTe(),n=xTe(),i=ZJ(),r=nn(),s=Dt();let o=class{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new e.EmitterLife,this.rate=new n.EmitterRate,this.shape="square",this.startCount=0}load(l){l!==void 0&&(l.autoPlay!==void 0&&(this.autoPlay=l.autoPlay),l.size!==void 0&&(this.size===void 0&&(this.size=new i.EmitterSize),this.size.load(l.size)),l.direction!==void 0&&(this.direction=l.direction),this.domId=l.domId,l.fill!==void 0&&(this.fill=l.fill),this.life.load(l.life),this.name=l.name,l.particles!==void 0&&(this.particles=(0,r.deepExtend)({},l.particles)),this.rate.load(l.rate),l.shape!==void 0&&(this.shape=l.shape),l.position!==void 0&&(this.position={},l.position.x!==void 0&&(this.position.x=(0,s.setRangeValue)(l.position.x)),l.position.y!==void 0&&(this.position.y=(0,s.setRangeValue)(l.position.y))),l.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new t.AnimatableColor),this.spawnColor.load(l.spawnColor)),l.startCount!==void 0&&(this.startCount=l.startCount))}};return ev.Emitter=o,ev}var rv={},sv={},$N;function STe(){if($N)return sv;$N=1;var t=gt&&gt.__classPrivateFieldSet||function(f,h,d,p,y){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof h=="function"?f!==h||!y:!h.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?y.call(f,d):y?y.value=d:h.set(f,d),d},e=gt&&gt.__classPrivateFieldGet||function(f,h,d,p){if(d==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?f!==h||!p:!h.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?p:d==="a"?p.call(f):p?p.value:h.get(f)},n,i,r;Object.defineProperty(sv,"__esModule",{value:!0}),sv.EmitterInstance=void 0;const s=Dt(),o=nn(),a=o7(),l=ZJ(),u=Ur();let c=class{constructor(h,d,p,y,A){var g,x,S,E,w,C,b,I;this.emitters=d,this.container=p,n.set(this,void 0),i.set(this,void 0),r.set(this,void 0),t(this,r,h,"f"),this.currentDuration=0,this.currentEmitDelay=0,this.currentSpawnDelay=0,this.initialPosition=A,y instanceof a.Emitter?this.options=y:(this.options=new a.Emitter,this.options.load(y)),this.spawnDelay=((g=this.options.life.delay)!==null&&g!==void 0?g:0)*1e3/this.container.retina.reduceFactor,this.position=(x=this.initialPosition)!==null&&x!==void 0?x:this.calcPosition(),this.name=this.options.name,this.shape=(S=e(this,r,"f").emitterShapeManager)===null||S===void 0?void 0:S.getShape(this.options.shape),this.fill=this.options.fill,t(this,n,!this.options.life.wait,"f"),t(this,i,!1,"f");let M=(0,o.deepExtend)({},this.options.particles);M??(M={}),(E=M.move)!==null&&E!==void 0||(M.move={}),(w=(I=M.move).direction)!==null&&w!==void 0||(I.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=(0,u.colorToHsl)(this.options.spawnColor)),this.paused=!this.options.autoPlay,this.particlesOptions=M,this.size=(C=this.options.size)!==null&&C!==void 0?C:(()=>{const R=new l.EmitterSize;return R.load({height:0,mode:"percent",width:0}),R})(),this.lifeCount=(b=this.options.life.count)!==null&&b!==void 0?b:-1,this.immortal=this.lifeCount<=0,this.play()}externalPlay(){this.paused=!1,this.play()}externalPause(){this.paused=!0,this.pause()}play(){var h;if(!this.paused&&this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal||!this.options.life.count)&&(e(this,n,"f")||this.currentSpawnDelay>=((h=this.spawnDelay)!==null&&h!==void 0?h:0))){if(this.emitDelay===void 0){const d=(0,s.getRangeValue)(this.options.rate.delay);this.emitDelay=1e3*d/this.container.retina.reduceFactor}(this.lifeCount>0||this.immortal)&&this.prepareToDie()}}pause(){this.paused||delete this.emitDelay}resize(){const h=this.initialPosition;this.position=h&&(0,o.isPointInside)(h,this.container.canvas.size)?h:this.calcPosition()}update(h){var d,p,y;this.paused||(e(this,n,"f")&&(t(this,n,!1,"f"),this.currentSpawnDelay=(d=this.spawnDelay)!==null&&d!==void 0?d:0,this.currentEmitDelay=(p=this.emitDelay)!==null&&p!==void 0?p:0),e(this,i,"f")||(t(this,i,!0,"f"),this.emitParticles(this.options.startCount)),this.duration!==void 0&&(this.currentDuration+=h.value,this.currentDuration>=this.duration&&(this.pause(),this.spawnDelay!==void 0&&delete this.spawnDelay,this.immortal||this.lifeCount--,this.lifeCount>0||this.immortal?(this.position=this.calcPosition(),this.spawnDelay=((y=this.options.life.delay)!==null&&y!==void 0?y:0)*1e3/this.container.retina.reduceFactor):this.destroy(),this.currentDuration-=this.duration,delete this.duration)),this.spawnDelay!==void 0&&(this.currentSpawnDelay+=h.value,this.currentSpawnDelay>=this.spawnDelay&&(this.play(),this.currentSpawnDelay-=this.currentSpawnDelay,delete this.spawnDelay)),this.emitDelay!==void 0&&(this.currentEmitDelay+=h.value,this.currentEmitDelay>=this.emitDelay&&(this.emit(),this.currentEmitDelay-=this.emitDelay)))}getPosition(){if(this.options.domId){const h=this.container,d=document.getElementById(this.options.domId);if(d){const p=d.getBoundingClientRect();return{x:(p.x+p.width/2)*h.retina.pixelRatio,y:(p.y+p.height/2)*h.retina.pixelRatio}}}return this.position}getSize(){const h=this.container;if(this.options.domId){const d=document.getElementById(this.options.domId);if(d){const p=d.getBoundingClientRect();return{width:p.width*h.retina.pixelRatio,height:p.height*h.retina.pixelRatio}}}return{width:this.size.mode==="percent"?h.canvas.size.width*this.size.width/100:this.size.width,height:this.size.mode==="percent"?h.canvas.size.height*this.size.height/100:this.size.height}}prepareToDie(){var h;if(this.paused)return;const d=(h=this.options.life)===null||h===void 0?void 0:h.duration;this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal)&&d!==void 0&&d>0&&(this.duration=d*1e3)}destroy(){this.emitters.removeEmitter(this)}calcPosition(){return(0,s.calcPositionOrRandomFromSizeRanged)({size:this.container.canvas.size,position:this.options.position})}emit(){if(this.paused)return;const h=(0,s.getRangeValue)(this.options.rate.quantity);this.emitParticles(h)}emitParticles(h){var d,p,y;const A=this.getPosition(),g=this.getSize();for(let x=0;x<h;x++){const S=(0,o.deepExtend)({},this.particlesOptions);if(this.spawnColor){const w=(d=this.options.spawnColor)===null||d===void 0?void 0:d.animation;w&&(this.spawnColor.h=this.setColorAnimation(w.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(w.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(w.l,this.spawnColor.l,100)),S.color?S.color.value=this.spawnColor:S.color={value:this.spawnColor}}if(!A)return;const E=(y=(p=this.shape)===null||p===void 0?void 0:p.randomPosition(A,g,this.fill))!==null&&y!==void 0?y:A;this.container.particles.addParticle(E,S)}}setColorAnimation(h,d,p){var y;const A=this.container;if(!h.enable)return d;const g=(0,s.randomInRange)(h.offset),x=(0,s.getRangeValue)(this.options.rate.delay),S=1e3*x/A.retina.reduceFactor,E=(0,s.getRangeValue)((y=h.speed)!==null&&y!==void 0?y:0);return(d+E*A.fpsLimit/S+g*3.6)%p}};return sv.EmitterInstance=c,n=new WeakMap,i=new WeakMap,r=new WeakMap,sv}var eG;function ETe(){if(eG)return rv;eG=1;var t=gt&&gt.__classPrivateFieldSet||function(a,l,u,c,f){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?a!==l||!f:!l.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?f.call(a,u):f?f.value=u:l.set(a,u),u},e=gt&&gt.__classPrivateFieldGet||function(a,l,u,c){if(u==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?a!==l||!c:!l.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?c:u==="a"?c.call(a):c?c.value:l.get(a)},n;Object.defineProperty(rv,"__esModule",{value:!0}),rv.Emitters=void 0;const i=nn(),r=o7(),s=STe();let o=class{constructor(l,u){this.container=u,n.set(this,void 0),t(this,n,l,"f"),this.array=[],this.emitters=[],this.interactivityEmitters=[];const c=u;c.getEmitter=f=>f===void 0||typeof f=="number"?this.array[f||0]:this.array.find(h=>h.name===f),c.addEmitter=(f,h)=>this.addEmitter(f,h),c.removeEmitter=f=>{const h=c.getEmitter(f);h&&this.removeEmitter(h)},c.playEmitter=f=>{const h=c.getEmitter(f);h&&h.externalPlay()},c.pauseEmitter=f=>{const h=c.getEmitter(f);h&&h.externalPause()}}init(l){var u,c;if(!l)return;l.emitters&&(l.emitters instanceof Array?this.emitters=l.emitters.map(h=>{const d=new r.Emitter;return d.load(h),d}):(this.emitters instanceof Array&&(this.emitters=new r.Emitter),this.emitters.load(l.emitters)));const f=(c=(u=l.interactivity)===null||u===void 0?void 0:u.modes)===null||c===void 0?void 0:c.emitters;if(f&&(f instanceof Array?this.interactivityEmitters=f.map(h=>{const d=new r.Emitter;return d.load(h),d}):(this.interactivityEmitters instanceof Array&&(this.interactivityEmitters=new r.Emitter),this.interactivityEmitters.load(f))),this.emitters instanceof Array)for(const h of this.emitters)this.addEmitter(h);else this.addEmitter(this.emitters)}play(){for(const l of this.array)l.play()}pause(){for(const l of this.array)l.pause()}stop(){this.array=[]}update(l){for(const u of this.array)u.update(l)}handleClickMode(l){const u=this.emitters,c=this.interactivityEmitters;if(l==="emitter"){let f;c instanceof Array?c.length>0&&(f=(0,i.itemFromArray)(c)):f=c;const h=f??(u instanceof Array?(0,i.itemFromArray)(u):u),d=this.container.interactivity.mouse.clickPosition;this.addEmitter((0,i.deepExtend)({},h),d)}}resize(){for(const l of this.array)l.resize()}addEmitter(l,u){const c=new r.Emitter;c.load(l);const f=new s.EmitterInstance(e(this,n,"f"),this,this.container,c,u);return this.array.push(f),f}removeEmitter(l){const u=this.array.indexOf(l);u>=0&&this.array.splice(u,1)}};return rv.Emitters=o,n=new WeakMap,rv}var ov={},tG;function wTe(){if(tG)return ov;tG=1;var t=gt&&gt.__classPrivateFieldSet||function(r,s,o,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?r!==s||!l:!s.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(r,o):l?l.value=o:s.set(r,o),o},e;Object.defineProperty(ov,"__esModule",{value:!0}),ov.ShapeManager=void 0;const n=new Map;let i=class{constructor(s){e.set(this,void 0),t(this,e,s,"f")}addShape(s,o){this.getShape(s)||n.set(s,o)}getShape(s){return n.get(s)}getSupportedShapes(){return n.keys()}};return ov.ShapeManager=i,e=new WeakMap,ov}var av={},nG;function _Te(){if(nG)return av;nG=1,Object.defineProperty(av,"__esModule",{value:!0}),av.SquareShape=void 0;function t(n,i){return n+i*(Math.random()-.5)}let e=class{randomPosition(i,r,s){if(s)return{x:t(i.x,r.width),y:t(i.y,r.height)};{const o=r.width/2,a=r.height/2,l=Math.floor(Math.random()*4),u=(Math.random()-.5)*2;switch(l){case 0:return{x:i.x+u*o,y:i.y-a};case 1:return{x:i.x-o,y:i.y+u*a};case 2:return{x:i.x+u*o,y:i.y+a};case 3:default:return{x:i.x+o,y:i.y+u*a}}}}};return av.SquareShape=e,av}var Q_={},iG;function CTe(){return iG||(iG=1,Object.defineProperty(Q_,"__esModule",{value:!0})),Q_}var W_={},rG;function $J(){return rG||(rG=1,Object.defineProperty(W_,"__esModule",{value:!0})),W_}var j_={},sG;function eZ(){return sG||(sG=1,Object.defineProperty(j_,"__esModule",{value:!0})),j_}var q_={},oG;function bTe(){return oG||(oG=1,Object.defineProperty(q_,"__esModule",{value:!0})),q_}var aG;function tZ(){return aG||(aG=1,function(t){var e=gt&&gt.__createBinding||(Object.create?function(p,y,A,g){g===void 0&&(g=A);var x=Object.getOwnPropertyDescriptor(y,A);(!x||("get"in x?!y.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return y[A]}}),Object.defineProperty(p,g,x)}:function(p,y,A,g){g===void 0&&(g=A),p[g]=y[A]}),n=gt&&gt.__exportStar||function(p,y){for(var A in p)A!=="default"&&!Object.prototype.hasOwnProperty.call(y,A)&&e(y,p,A)},i=gt&&gt.__classPrivateFieldSet||function(p,y,A,g,x){if(g==="m")throw new TypeError("Private method is not writable");if(g==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof y=="function"?p!==y||!x:!y.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g==="a"?x.call(p,A):x?x.value=A:y.set(p,A),A},r=gt&&gt.__classPrivateFieldGet||function(p,y,A,g){if(A==="a"&&!g)throw new TypeError("Private accessor was defined without a getter");if(typeof y=="function"?p!==y||!g:!y.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?g:A==="a"?g.call(p):g?g.value:y.get(p)},s;Object.defineProperty(t,"__esModule",{value:!0}),t.loadEmittersPlugin=void 0;const o=ATe(),a=o7(),l=ETe(),u=wTe(),c=_Te(),f=nn();class h{constructor(y){s.set(this,void 0),i(this,s,y,"f"),this.id="emitters"}getPlugin(y){return new l.Emitters(r(this,s,"f"),y)}needsPlugin(y){var A,g,x;if(y===void 0)return!1;const S=y.emitters;return S instanceof Array&&!!S.length||S!==void 0||!!(!((x=(g=(A=y.interactivity)===null||A===void 0?void 0:A.events)===null||g===void 0?void 0:g.onClick)===null||x===void 0)&&x.mode)&&(0,f.isInArray)("emitter",y.interactivity.events.onClick.mode)}loadOptions(y,A){var g,x;if(!this.needsPlugin(y)&&!this.needsPlugin(A))return;const S=y;if(A!=null&&A.emitters)if((A==null?void 0:A.emitters)instanceof Array)S.emitters=A==null?void 0:A.emitters.map(w=>{const C=new a.Emitter;return C.load(w),C});else{let w=S.emitters;(w==null?void 0:w.load)===void 0&&(S.emitters=w=new a.Emitter),w.load(A==null?void 0:A.emitters)}const E=(x=(g=A==null?void 0:A.interactivity)===null||g===void 0?void 0:g.modes)===null||x===void 0?void 0:x.emitters;if(E)if(E instanceof Array)S.interactivity.modes.emitters=E.map(w=>{const C=new a.Emitter;return C.load(w),C});else{let w=S.interactivity.modes.emitters;(w==null?void 0:w.load)===void 0&&(S.interactivity.modes.emitters=w=new a.Emitter),w.load(E)}}}s=new WeakMap;async function d(p){p.emitterShapeManager||(p.emitterShapeManager=new u.ShapeManager(p)),p.addEmitterShape||(p.addEmitterShape=(A,g)=>{var x;(x=p.emitterShapeManager)===null||x===void 0||x.addShape(A,g)});const y=new h(p);await p.addPlugin(y),p.addEmitterShape("circle",new o.CircleShape),p.addEmitterShape("square",new c.SquareShape)}t.loadEmittersPlugin=d,n(CTe(),t),n($J(),t),n(eZ(),t),n(bTe(),t)}(V_)),V_}var lv={},uv={},cv={},lG;function Ba(){if(lG)return cv;lG=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.ExternalInteractorBase=void 0;let t=class{constructor(n){this.container=n,this.type=0}};return cv.ExternalInteractorBase=t,cv}var uG;function TTe(){if(uG)return uv;uG=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.TrailMaker=void 0;const t=Ba(),e=nn();let n=class extends t.ExternalInteractorBase{constructor(r){super(r),this.delay=0}async interact(r){var s,o,a,l;if(!this.container.retina.reduceFactor)return;const u=this.container,c=u.actualOptions,f=c.interactivity.modes.trail,h=f.delay*1e3/this.container.retina.reduceFactor;if(this.delay<h&&(this.delay+=r.value),this.delay<h)return;let d=!0;f.pauseOnStop&&(u.interactivity.mouse.position===this.lastPosition||((s=u.interactivity.mouse.position)===null||s===void 0?void 0:s.x)===((o=this.lastPosition)===null||o===void 0?void 0:o.x)&&((a=u.interactivity.mouse.position)===null||a===void 0?void 0:a.y)===((l=this.lastPosition)===null||l===void 0?void 0:l.y))&&(d=!1),u.interactivity.mouse.position?this.lastPosition={x:u.interactivity.mouse.position.x,y:u.interactivity.mouse.position.y}:delete this.lastPosition,d&&u.particles.push(f.quantity,u.interactivity.mouse,f.particles),this.delay-=h}isEnabled(){const r=this.container,s=r.actualOptions,o=r.interactivity.mouse,a=s.interactivity.events;return o.clicking&&o.inside&&!!o.position&&(0,e.isInArray)("trail",a.onClick.mode)||o.inside&&!!o.position&&(0,e.isInArray)("trail",a.onHover.mode)}reset(){}};return uv.TrailMaker=n,uv}var cG;function MTe(){if(cG)return lv;cG=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.loadExternalTrailInteraction=void 0;const t=TTe();async function e(n){await n.addInteractor("externalTrail",i=>new t.TrailMaker(i))}return lv.loadExternalTrailInteraction=e,lv}var X_={},fv={},hv={},dv={},fG;function ITe(){if(fG)return dv;fG=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.PolygonMaskDrawStroke=void 0;const t=fr(),e=Ur();let n=class{constructor(){this.color=new t.OptionsColor,this.width=.5,this.opacity=1}load(r){var s;r&&(this.color=t.OptionsColor.create(this.color,r.color),typeof this.color.value=="string"&&(this.opacity=(s=(0,e.stringToAlpha)(this.color.value))!==null&&s!==void 0?s:this.opacity),r.opacity!==void 0&&(this.opacity=r.opacity),r.width!==void 0&&(this.width=r.width))}};return dv.PolygonMaskDrawStroke=n,dv}var hG;function RTe(){if(hG)return hv;hG=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.PolygonMaskDraw=void 0;const t=fr(),e=ITe();let n=class{constructor(){this.enable=!1,this.stroke=new e.PolygonMaskDrawStroke}get lineWidth(){return this.stroke.width}set lineWidth(r){this.stroke.width=r}get lineColor(){return this.stroke.color}set lineColor(r){this.stroke.color=t.OptionsColor.create(this.stroke.color,r)}load(r){var s;if(!r)return;r.enable!==void 0&&(this.enable=r.enable);const o=(s=r.stroke)!==null&&s!==void 0?s:{color:r.lineColor,width:r.lineWidth};this.stroke.load(o)}};return hv.PolygonMaskDraw=n,hv}var pv={},dG;function PTe(){if(dG)return pv;dG=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.PolygonMaskInline=void 0;let t=class{constructor(){this.arrangement="one-per-point"}load(n){n&&n.arrangement!==void 0&&(this.arrangement=n.arrangement)}};return pv.PolygonMaskInline=t,pv}var mv={},pG;function BTe(){if(pG)return mv;pG=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.PolygonMaskLocalSvg=void 0;let t=class{constructor(){this.path=[],this.size={height:0,width:0}}load(n){n&&(n.path!==void 0&&(this.path=n.path),n.size!==void 0&&(n.size.width!==void 0&&(this.size.width=n.size.width),n.size.height!==void 0&&(this.size.height=n.size.height)))}};return mv.PolygonMaskLocalSvg=t,mv}var gv={},mG;function DTe(){if(mG)return gv;mG=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.PolygonMaskMove=void 0;let t=class{constructor(){this.radius=10,this.type="path"}load(n){n&&(n.radius!==void 0&&(this.radius=n.radius),n.type!==void 0&&(this.type=n.type))}};return gv.PolygonMaskMove=t,gv}var gG;function nZ(){if(gG)return fv;gG=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.PolygonMask=void 0;const t=RTe(),e=PTe(),n=BTe(),i=DTe(),r=nn();let s=class{constructor(){this.draw=new t.PolygonMaskDraw,this.enable=!1,this.inline=new e.PolygonMaskInline,this.move=new i.PolygonMaskMove,this.scale=1,this.type="none"}get inlineArrangement(){return this.inline.arrangement}set inlineArrangement(a){this.inline.arrangement=a}load(a){var l;if(!a)return;this.draw.load(a.draw);const u=(l=a.inline)!==null&&l!==void 0?l:{arrangement:a.inlineArrangement};u!==void 0&&this.inline.load(u),this.move.load(a.move),a.scale!==void 0&&(this.scale=a.scale),a.type!==void 0&&(this.type=a.type),a.enable!==void 0?this.enable=a.enable:this.enable=this.type!=="none",a.url!==void 0&&(this.url=a.url),a.data!==void 0&&(typeof a.data=="string"?this.data=a.data:(this.data=new n.PolygonMaskLocalSvg,this.data.load(a.data))),a.position!==void 0&&(this.position=(0,r.deepExtend)({},a.position))}};return fv.PolygonMask=s,fv}var vv={},qs={},vG;function LTe(){if(vG)return qs;vG=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.segmentBounce=qs.calcClosestPtOnSegment=qs.parsePaths=qs.drawPolygonMaskPath=qs.drawPolygonMask=void 0;const t=Ur(),e=Pa(),n=Dt();function i(l,u,c){const f=(0,t.colorToRgb)(c.color);if(f){l.beginPath(),l.moveTo(u[0].x,u[0].y);for(const h of u)l.lineTo(h.x,h.y);l.closePath(),l.strokeStyle=(0,t.getStyleFromRgb)(f),l.lineWidth=c.width,l.stroke()}}qs.drawPolygonMask=i;function r(l,u,c,f){l.translate(f.x,f.y);const h=(0,t.colorToRgb)(c.color);h&&(l.strokeStyle=(0,t.getStyleFromRgb)(h,c.opacity),l.lineWidth=c.width,l.stroke(u))}qs.drawPolygonMaskPath=r;function s(l,u,c){var f;const h=[];for(const d of l){const p=d.element.pathSegList,y=(f=p==null?void 0:p.numberOfItems)!==null&&f!==void 0?f:0,A={x:0,y:0};for(let g=0;g<y;g++){const x=p==null?void 0:p.getItem(g),S=window.SVGPathSeg;switch(x==null?void 0:x.pathSegType){case S.PATHSEG_MOVETO_ABS:case S.PATHSEG_LINETO_ABS:case S.PATHSEG_CURVETO_CUBIC_ABS:case S.PATHSEG_CURVETO_QUADRATIC_ABS:case S.PATHSEG_ARC_ABS:case S.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case S.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const E=x;A.x=E.x,A.y=E.y;break}case S.PATHSEG_LINETO_HORIZONTAL_ABS:A.x=x.x;break;case S.PATHSEG_LINETO_VERTICAL_ABS:A.y=x.y;break;case S.PATHSEG_LINETO_REL:case S.PATHSEG_MOVETO_REL:case S.PATHSEG_CURVETO_CUBIC_REL:case S.PATHSEG_CURVETO_QUADRATIC_REL:case S.PATHSEG_ARC_REL:case S.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case S.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const E=x;A.x+=E.x,A.y+=E.y;break}case S.PATHSEG_LINETO_HORIZONTAL_REL:A.x+=x.x;break;case S.PATHSEG_LINETO_VERTICAL_REL:A.y+=x.y;break;case S.PATHSEG_UNKNOWN:case S.PATHSEG_CLOSEPATH:continue}h.push({x:A.x*u+c.x,y:A.y*u+c.y})}}return h}qs.parsePaths=s;function o(l,u,c){const{dx:f,dy:h}=(0,n.getDistances)(c,l),{dx:d,dy:p}=(0,n.getDistances)(u,l),y=(f*d+h*p)/(d**2+p**2),A={x:l.x+d*y,y:l.x+p*y,isOnSegment:y>=0&&y<=1};return y<0?(A.x=l.x,A.y=l.y):y>1&&(A.x=u.x,A.y=u.y),A}qs.calcClosestPtOnSegment=o;function a(l,u,c){const{dx:f,dy:h}=(0,n.getDistances)(l,u),d=Math.atan2(h,f),p=e.Vector.create(Math.sin(d),-Math.cos(d)),y=2*(c.x*p.x+c.y*p.y);p.multTo(y),c.subFrom(p)}return qs.segmentBounce=a,qs}var AG;function OTe(){if(AG)return vv;AG=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.PolygonMaskInstance=void 0;const t=LTe(),e=nn(),n=Dt(),i=Ra(),r=nZ();let s=class{constructor(a){this.container=a,this.dimension={height:0,width:0},this.path2DSupported=!!window.Path2D,this.options=new r.PolygonMask,this.polygonMaskMoveRadius=this.options.move.radius*a.retina.pixelRatio}async initAsync(a){this.options.load(a==null?void 0:a.polygon);const l=this.options;this.polygonMaskMoveRadius=l.move.radius*this.container.retina.pixelRatio,l.enable&&await this.initRawData()}resize(){const a=this.container,l=this.options;l.enable&&l.type!=="none"&&(this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=window.setTimeout(async()=>{await this.initRawData(!0),await a.particles.redraw()},250))}stop(){delete this.raw,delete this.paths}particlesInitialization(){const a=this.options;return a.enable&&a.type==="inline"&&(a.inline.arrangement==="one-per-point"||a.inline.arrangement==="per-point")?(this.drawPoints(),!0):!1}particlePosition(a){var l,u;if(this.options.enable&&((u=(l=this.raw)===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0)>0)return(0,e.deepExtend)({},a||this.randomPoint())}particleBounce(a,l,u){return this.polygonBounce(a,l,u)}clickPositionValid(a){const l=this.options;return l.enable&&l.type!=="none"&&l.type!=="inline"&&this.checkInsidePolygon(a)}draw(a){var l;if(!(!((l=this.paths)===null||l===void 0)&&l.length))return;const u=this.options,c=u.draw;if(!u.enable||!c.enable)return;const f=this.raw;for(const h of this.paths){const d=h.path2d,p=this.path2DSupported;a&&(p&&d&&this.offset?(0,t.drawPolygonMaskPath)(a,d,c.stroke,this.offset):f&&(0,t.drawPolygonMask)(a,f,c.stroke))}}polygonBounce(a,l,u){const c=this.options;if(!this.raw||!c.enable||u!=="top")return!1;if(c.type==="inside"||c.type==="outside"){let f,h,d;const p=a.getPosition(),y=a.getRadius();for(let A=0,g=this.raw.length-1;A<this.raw.length;g=A++){const x=this.raw[A],S=this.raw[g];f=(0,t.calcClosestPtOnSegment)(x,S,p);const E=(0,n.getDistances)(p,f);if([h,d]=[E.dx,E.dy],E.distance<y)return(0,t.segmentBounce)(x,S,a.velocity),!0}if(f&&h!==void 0&&d!==void 0&&!this.checkInsidePolygon(p)){const A={x:1,y:1};return a.position.x>=f.x&&(A.x=-1),a.position.y>=f.y&&(A.y=-1),a.position.x=f.x+y*2*A.x,a.position.y=f.y+y*2*A.y,a.velocity.mult(-1),!0}}else if(c.type==="inline"&&a.initialPosition&&(0,n.getDistance)(a.initialPosition,a.getPosition())>this.polygonMaskMoveRadius)return a.velocity.x=a.velocity.y/2-a.velocity.x,a.velocity.y=a.velocity.x/2-a.velocity.y,!0;return!1}checkInsidePolygon(a){var l,u;const c=this.container,f=this.options;if(!f.enable||f.type==="none"||f.type==="inline")return!0;if(!this.raw)throw new Error(i.Constants.noPolygonFound);const h=c.canvas.size,d=(l=a==null?void 0:a.x)!==null&&l!==void 0?l:Math.random()*h.width,p=(u=a==null?void 0:a.y)!==null&&u!==void 0?u:Math.random()*h.height;let y=!1;for(let A=0,g=this.raw.length-1;A<this.raw.length;g=A++){const x=this.raw[A],S=this.raw[g];x.y>p!=S.y>p&&d<(S.x-x.x)*(p-x.y)/(S.y-x.y)+x.x&&(y=!y)}return f.type==="inside"?y:f.type==="outside"?!y:!1}parseSvgPath(a,l){var u,c,f;const h=l??!1;if(this.paths!==void 0&&!h)return this.raw;const d=this.container,p=this.options,y=new DOMParser,A=y.parseFromString(a,"image/svg+xml"),g=A.getElementsByTagName("svg")[0];let x=g.getElementsByTagName("path");x.length||(x=A.getElementsByTagName("path")),this.paths=[];for(let C=0;C<x.length;C++){const b=x.item(C);b&&this.paths.push({element:b,length:b.getTotalLength()})}const S=d.retina.pixelRatio,E=p.scale/S;this.dimension.width=parseFloat((u=g.getAttribute("width"))!==null&&u!==void 0?u:"0")*E,this.dimension.height=parseFloat((c=g.getAttribute("height"))!==null&&c!==void 0?c:"0")*E;const w=(f=p.position)!==null&&f!==void 0?f:{x:50,y:50};return this.offset={x:d.canvas.size.width*w.x/(100*S)-this.dimension.width/2,y:d.canvas.size.height*w.y/(100*S)-this.dimension.height/2},(0,t.parsePaths)(this.paths,E,this.offset)}async downloadSvgPath(a,l){const u=this.options,c=a||u.url,f=l??!1;if(!c||this.paths!==void 0&&!f)return this.raw;const h=await fetch(c);if(!h.ok)throw new Error("tsParticles Error - Error occurred during polygon mask download");return this.parseSvgPath(await h.text(),l)}drawPoints(){if(this.raw)for(const a of this.raw)this.container.particles.addParticle({x:a.x,y:a.y})}randomPoint(){const a=this.container,l=this.options;let u;if(l.type==="inline")switch(l.inline.arrangement){case"random-point":u=this.getRandomPoint();break;case"random-length":u=this.getRandomPointByLength();break;case"equidistant":u=this.getEquidistantPointByIndex(a.particles.count);break;case"one-per-point":case"per-point":default:u=this.getPointByIndex(a.particles.count)}else u={x:Math.random()*a.canvas.size.width,y:Math.random()*a.canvas.size.height};return this.checkInsidePolygon(u)?u:this.randomPoint()}getRandomPoint(){if(!this.raw||!this.raw.length)throw new Error(i.Constants.noPolygonDataLoaded);const a=(0,e.itemFromArray)(this.raw);return{x:a.x,y:a.y}}getRandomPointByLength(){var a,l,u;const c=this.options;if(!this.raw||!this.raw.length||!(!((a=this.paths)===null||a===void 0)&&a.length))throw new Error(i.Constants.noPolygonDataLoaded);const f=(0,e.itemFromArray)(this.paths),h=Math.floor(Math.random()*f.length)+1,d=f.element.getPointAtLength(h);return{x:d.x*c.scale+(((l=this.offset)===null||l===void 0?void 0:l.x)||0),y:d.y*c.scale+(((u=this.offset)===null||u===void 0?void 0:u.y)||0)}}getEquidistantPointByIndex(a){var l,u,c,f,h,d,p;const y=this.container.actualOptions,A=this.options;if(!this.raw||!this.raw.length||!(!((l=this.paths)===null||l===void 0)&&l.length))throw new Error(i.Constants.noPolygonDataLoaded);let g=0,x;const S=this.paths.reduce((w,C)=>w+C.length,0),E=S/y.particles.number.value;for(const w of this.paths){const C=E*a-g;if(C<=w.length){x=w.element.getPointAtLength(C);break}else g+=w.length}return{x:((u=x==null?void 0:x.x)!==null&&u!==void 0?u:0)*A.scale+((f=(c=this.offset)===null||c===void 0?void 0:c.x)!==null&&f!==void 0?f:0),y:((h=x==null?void 0:x.y)!==null&&h!==void 0?h:0)*A.scale+((p=(d=this.offset)===null||d===void 0?void 0:d.y)!==null&&p!==void 0?p:0)}}getPointByIndex(a){if(!this.raw||!this.raw.length)throw new Error(i.Constants.noPolygonDataLoaded);const l=this.raw[a%this.raw.length];return{x:l.x,y:l.y}}createPath2D(){var a,l;const u=this.options;if(!(!this.path2DSupported||!(!((a=this.paths)===null||a===void 0)&&a.length)))for(const c of this.paths){const f=(l=c.element)===null||l===void 0?void 0:l.getAttribute("d");if(f){const h=new Path2D(f),d=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),p=new Path2D,y=d.scale(u.scale);p.addPath?(p.addPath(h,y),c.path2d=p):delete c.path2d}else delete c.path2d;c.path2d||!this.raw||(c.path2d=new Path2D,c.path2d.moveTo(this.raw[0].x,this.raw[0].y),this.raw.forEach((h,d)=>{var p;d>0&&((p=c.path2d)===null||p===void 0||p.lineTo(h.x,h.y))}),c.path2d.closePath())}}async initRawData(a){const l=this.options;if(l.url)this.raw=await this.downloadSvgPath(l.url,a);else if(l.data){const u=l.data;let c;if(typeof u!="string"){const f=u.path instanceof Array?u.path.map(d=>`<path d="${d}" />`).join(""):`<path d="${u.path}" />`;c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${u.size.width}" height="${u.size.height}">${f}</svg>`}else c=u;this.raw=this.parseSvgPath(c,a)}this.createPath2D()}};return vv.PolygonMaskInstance=s,vv}var yG={},xG;function FTe(){return xG||(xG=1,function(){try{if(typeof window>"u")return;"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,s){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,s){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,s,o){return new window.SVGPathSegArcAbs(void 0,t,e,n,i,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,s,o){return new window.SVGPathSegArcRel(void 0,t,e,n,i,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(t===void 0||!isFinite(t))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));let n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(!this._pathElement)return;let e=!1;t.forEach(function(n){n.attributeName=="d"&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);const e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){let e="",n=!0;return t.forEach(function(i){n?(n=!1,e+=i._asPathString()):e+=" "+i._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||t.length==0)return[];const e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(o){this.pathSegList.push(o)};const i=function(o){this._string=o,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){const o=this._string[this._currentIndex];return o<=" "&&(o==" "||o==`
`||o=="	"||o=="\r"||o=="\f")},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){const o=this._string[this._currentIndex];return this._pathSegTypeFromChar(o)},i.prototype._pathSegTypeFromChar=function(o){switch(o){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(o,a){return(o=="+"||o=="-"||o=="."||o>="0"&&o<="9")&&a!=window.SVGPathSeg.PATHSEG_CLOSEPATH?a==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:a==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:a:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;const o=this.peekSegmentType();return o==window.SVGPathSeg.PATHSEG_MOVETO_ABS||o==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){let o=0,a=0,l=1,u=0,c=1,f=1;const h=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,c=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return;const d=this._currentIndex;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=d){let y=this._currentIndex-1,A=1;for(;y>=d;)a+=A*(this._string.charAt(y--)-"0"),A*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)l*=10,u+=(this._string.charAt(this._currentIndex)-"0")/l,this._currentIndex+=1}if(this._currentIndex!=h&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,f=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)o*=10,o+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}let p=a+u;if(p*=c,o&&(p*=Math.pow(10,f*o)),h!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),p},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return;let o=!1;const a=this._string.charAt(this._currentIndex++);if(a=="0")o=!1;else if(a=="1")o=!0;else return;return this._skipOptionalSpacesOrDelimiter(),o},i.prototype.parseSegment=function(){const o=this._string[this._currentIndex];let a=this._pathSegTypeFromChar(o);if(a==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(a=this._nextCommandHelper(o,this._previousCommand),a==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;this._previousCommand=a;let l;switch(a){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicRel(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);default:throw"Unknown path seg type."}};const r=new n,s=new i(t);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){const o=s.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList})}catch(t){console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/matteobruni/tsparticles",t)}}()),yG}var Y_={},SG;function iZ(){return SG||(SG=1,Object.defineProperty(Y_,"__esModule",{value:!0})),Y_}var K_={},EG;function rZ(){return EG||(EG=1,Object.defineProperty(K_,"__esModule",{value:!0})),K_}var J_={},wG;function sZ(){return wG||(wG=1,Object.defineProperty(J_,"__esModule",{value:!0})),J_}var Z_={},_G;function UTe(){return _G||(_G=1,Object.defineProperty(Z_,"__esModule",{value:!0})),Z_}var CG;function oZ(){return CG||(CG=1,function(t){var e=gt&&gt.__createBinding||(Object.create?function(c,f,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(f,h);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,d,p)}:function(c,f,h,d){d===void 0&&(d=h),c[d]=f[h]}),n=gt&&gt.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),i=gt&&gt.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&e(f,c,h);return n(f,c),f},r=gt&&gt.__exportStar||function(c,f){for(var h in c)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&e(f,c,h)};Object.defineProperty(t,"__esModule",{value:!0}),t.loadPolygonMaskPlugin=void 0;const s=nZ(),o=OTe(),a=nn();class l{constructor(){this.id="polygonMask"}getPlugin(f){return new o.PolygonMaskInstance(f)}needsPlugin(f){var h,d,p;return(d=(h=f==null?void 0:f.polygon)===null||h===void 0?void 0:h.enable)!==null&&d!==void 0?d:((p=f==null?void 0:f.polygon)===null||p===void 0?void 0:p.type)!==void 0&&f.polygon.type!=="none"}loadOptions(f,h){if(!this.needsPlugin(h))return;const d=f;let p=d.polygon;(p==null?void 0:p.load)===void 0&&(d.polygon=p=new s.PolygonMask),p.load(h==null?void 0:h.polygon)}}async function u(c){!(0,a.isSsr)()&&!("SVGPathSeg"in window)&&await Promise.resolve().then(()=>i(FTe()));const f=new l;await c.addPlugin(f)}t.loadPolygonMaskPlugin=u,r(iZ(),t),r(rZ(),t),r(sZ(),t),r(UTe(),t)}(X_)),X_}var Av={},yv={},bG;function kTe(){if(bG)return yv;bG=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.RollUpdater=void 0;const t=Ur(),e=Dt();function n(r,s){const o=r.options.roll;if(!r.roll||!o.enable)return;const a=r.roll.speed*s.factor,l=2*Math.PI;r.roll.angle+=a,r.roll.angle>l&&(r.roll.angle-=l)}let i=class{init(s){const o=s.options.roll;if(o.enable)if(s.roll={angle:Math.random()*Math.PI*2,speed:(0,e.getRangeValue)(o.speed)/360},o.backColor)s.backColor=(0,t.colorToHsl)(o.backColor);else if(o.darken.enable&&o.enlighten.enable){const a=Math.random()>=.5?"darken":"enlighten";s.roll.alter={type:a,value:(0,e.getRangeValue)(a==="darken"?o.darken.value:o.enlighten.value)}}else o.darken.enable?s.roll.alter={type:"darken",value:(0,e.getRangeValue)(o.darken.value)}:o.enlighten.enable&&(s.roll.alter={type:"enlighten",value:(0,e.getRangeValue)(o.enlighten.value)});else s.roll={angle:0,speed:0}}isEnabled(s){const o=s.options.roll;return!s.destroyed&&!s.spawning&&o.enable}update(s,o){this.isEnabled(s)&&n(s,o)}};return yv.RollUpdater=i,yv}var TG;function NTe(){if(TG)return Av;TG=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.loadRollUpdater=void 0;const t=kTe();async function e(n){await n.addParticleUpdater("roll",()=>new t.RollUpdater)}return Av.loadRollUpdater=e,Av}var xv={},Sv={},Ev={},MG;function GTe(){if(MG)return Ev;MG=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.AngleUpdater=void 0;const t=Dt();function e(i,r){var s;const o=i.rotate;if(!o)return;const l=i.options.rotate.animation,u=((s=o.velocity)!==null&&s!==void 0?s:0)*r.factor,c=2*Math.PI;if(l.enable)switch(o.status){case 0:o.value+=u,o.value>c&&(o.value-=c);break;case 1:default:o.value-=u,o.value<0&&(o.value+=c);break}}let n=class{constructor(r){this.container=r}init(r){const s=r.options.rotate;r.rotate={enable:s.animation.enable,value:(0,t.getRangeValue)(s.value)*Math.PI/180};let o=s.direction;switch(o==="random"&&(o=Math.floor(Math.random()*2)>0?"counter-clockwise":"clockwise"),o){case"counter-clockwise":case"counterClockwise":r.rotate.status=1;break;case"clockwise":r.rotate.status=0;break}const a=r.options.rotate.animation;a.enable&&(r.rotate.velocity=(0,t.getRangeValue)(a.speed)/360*this.container.retina.reduceFactor,a.sync||(r.rotate.velocity*=Math.random()))}isEnabled(r){const s=r.options.rotate,o=s.animation;return!r.destroyed&&!r.spawning&&!s.path&&o.enable}update(r,s){this.isEnabled(r)&&e(r,s)}};return Ev.AngleUpdater=n,Ev}var IG;function zTe(){if(IG)return Sv;IG=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.loadAngleUpdater=void 0;const t=GTe();async function e(n){await n.addParticleUpdater("angle",i=>new t.AngleUpdater(i))}return Sv.loadAngleUpdater=e,Sv}var wv={},_v={},ta={},RG;function HTe(){if(RG)return ta;RG=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.getProximitySpeedFactor=ta.applyPath=ta.spin=ta.applyDistance=void 0;const t=Dt(),e=nn();function n(o){const a=o.initialPosition,{dx:l,dy:u}=(0,t.getDistances)(a,o.position),c=Math.abs(l),f=Math.abs(u),h=o.retina.maxDistance.horizontal,d=o.retina.maxDistance.vertical;if(!(!h&&!d)){if((h&&c>=h||d&&f>=d)&&!o.misplaced)o.misplaced=!!h&&c>h||!!d&&f>d,h&&(o.velocity.x=o.velocity.y/2-o.velocity.x),d&&(o.velocity.y=o.velocity.x/2-o.velocity.y);else if((!h||c<h)&&(!d||f<d)&&o.misplaced)o.misplaced=!1;else if(o.misplaced){const p=o.position,y=o.velocity;h&&(p.x<a.x&&y.x<0||p.x>a.x&&y.x>0)&&(y.x*=-Math.random()),d&&(p.y<a.y&&y.y<0||p.y>a.y&&y.y>0)&&(y.y*=-Math.random())}}}ta.applyDistance=n;function i(o,a){const l=o.container;if(!o.spin)return;const u={x:o.spin.direction==="clockwise"?Math.cos:Math.sin,y:o.spin.direction==="clockwise"?Math.sin:Math.cos};o.position.x=o.spin.center.x+o.spin.radius*u.x(o.spin.angle),o.position.y=o.spin.center.y+o.spin.radius*u.y(o.spin.angle),o.spin.radius+=o.spin.acceleration;const c=Math.max(l.canvas.size.width,l.canvas.size.height);o.spin.radius>c/2?(o.spin.radius=c/2,o.spin.acceleration*=-1):o.spin.radius<0&&(o.spin.radius=0,o.spin.acceleration*=-1),o.spin.angle+=a/100*(1-o.spin.radius/c)}ta.spin=i;function r(o,a){const u=o.options.move.path;if(!u.enable)return;const f=o.container;if(o.lastPathTime<=o.pathDelay){o.lastPathTime+=a.value;return}const h=f.pathGenerator.generate(o);o.velocity.addTo(h),u.clamp&&(o.velocity.x=(0,t.clamp)(o.velocity.x,-1,1),o.velocity.y=(0,t.clamp)(o.velocity.y,-1,1)),o.lastPathTime-=o.pathDelay}ta.applyPath=r;function s(o){const a=o.container,l=a.actualOptions;if(!(0,e.isInArray)("slow",l.interactivity.events.onHover.mode))return 1;const c=o.container.interactivity.mouse.position;if(!c)return 1;const f=o.getPosition(),h=(0,t.getDistance)(c,f),d=a.retina.slowModeRadius;if(h>d)return 1;const p=h/d||0,y=l.interactivity.modes.slow.factor;return p/y}return ta.getProximitySpeedFactor=s,ta}var PG;function VTe(){if(PG)return _v;PG=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.BaseMover=void 0;const t=HTe(),e=Dt();let n=class{init(r){var s;const o=r.container,a=r.options,l=a.move.spin;if(l.enable){const u=(s=l.position)!==null&&s!==void 0?s:{x:50,y:50},c={x:u.x/100*o.canvas.size.width,y:u.y/100*o.canvas.size.height},f=r.getPosition(),h=(0,e.getDistance)(f,c),d=(0,e.getRangeValue)(l.acceleration);r.retina.spinAcceleration=d*o.retina.pixelRatio,r.spin={center:c,direction:r.velocity.x>=0?"clockwise":"counter-clockwise",angle:r.velocity.angle,radius:h,acceleration:r.retina.spinAcceleration}}}isEnabled(r){return!r.destroyed&&r.options.move.enable}move(r,s){var o,a,l,u,c;const f=r.options,h=f.move;if(!h.enable)return;const d=r.container,p=(0,t.getProximitySpeedFactor)(r),y=((o=(u=r.retina).moveSpeed)!==null&&o!==void 0?o:u.moveSpeed=(0,e.getRangeValue)(h.speed)*d.retina.pixelRatio)*d.retina.reduceFactor,A=(a=(c=r.retina).moveDrift)!==null&&a!==void 0?a:c.moveDrift=(0,e.getRangeValue)(r.options.move.drift)*d.retina.pixelRatio,g=(0,e.getRangeMax)(f.size.value)*d.retina.pixelRatio,x=h.size?r.getRadius()/g:1,S=x*p*(s.factor||1),E=2,w=y*S/E;(0,t.applyPath)(r,s);const C=r.gravity,b=C.enable&&C.inverse?-1:1;C.enable&&w&&(r.velocity.y+=b*(C.acceleration*s.factor)/(60*w)),A&&w&&(r.velocity.x+=A*s.factor/(60*w));const I=r.moveDecay;I!=1&&r.velocity.multTo(I);const M=r.velocity.mult(w),R=(l=r.retina.maxSpeed)!==null&&l!==void 0?l:d.retina.maxSpeed;C.enable&&R>0&&(!C.inverse&&M.y>=0&&M.y>=R||C.inverse&&M.y<=0&&M.y<=-R)&&(M.y=b*R,w&&(r.velocity.y=M.y/w));const D=r.options.zIndex,F=(1-r.zIndexFactor)**D.velocityRate;h.spin.enable?(0,t.spin)(r,w):(F!=1&&M.multTo(F),r.position.addTo(M),h.vibrate&&(r.position.x+=Math.sin(r.position.x*Math.cos(r.position.y)),r.position.y+=Math.cos(r.position.y*Math.sin(r.position.x)))),(0,t.applyDistance)(r)}};return _v.BaseMover=n,_v}var BG;function QTe(){if(BG)return wv;BG=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.loadBaseMover=void 0;const t=VTe();async function e(n){n.addMover("base",()=>new t.BaseMover)}return wv.loadBaseMover=e,wv}var Cv={},bv={},DG;function WTe(){if(DG)return bv;DG=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.CircleDrawer=void 0;let t=class{getSidesCount(){return 12}draw(n,i,r){n.arc(0,0,r,0,Math.PI*2,!1)}};return bv.CircleDrawer=t,bv}var LG;function jTe(){if(LG)return Cv;LG=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.loadCircleShape=void 0;const t=WTe();async function e(n){await n.addShape("circle",new t.CircleDrawer)}return Cv.loadCircleShape=e,Cv}var Tv={},Mv={},OG;function qTe(){if(OG)return Mv;OG=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.ColorUpdater=void 0;const t=Ur(),e=Dt();function n(s,o,a,l,u){var c;const f=o;if(!f||!a.enable)return;const h=(0,e.randomInRange)(a.offset),d=((c=o.velocity)!==null&&c!==void 0?c:0)*s.factor+h*3.6;!u||f.status===0?(f.value+=d,u&&f.value>l&&(f.status=1,f.value-=f.value%l)):(f.value-=d,f.value<0&&(f.status=0,f.value+=f.value)),f.value>l&&(f.value%=l)}function i(s,o){var a,l,u;const c=s.options.color.animation;((a=s.color)===null||a===void 0?void 0:a.h)!==void 0&&n(o,s.color.h,c.h,360,!1),((l=s.color)===null||l===void 0?void 0:l.s)!==void 0&&n(o,s.color.s,c.s,100,!0),((u=s.color)===null||u===void 0?void 0:u.l)!==void 0&&n(o,s.color.l,c.l,100,!0)}let r=class{constructor(o){this.container=o}init(o){const a=(0,t.colorToHsl)(o.options.color,o.id,o.options.reduceDuplicates);a&&(o.color=(0,t.getHslAnimationFromHsl)(a,o.options.color.animation,this.container.retina.reduceFactor))}isEnabled(o){var a,l,u;const c=o.options.color.animation;return!o.destroyed&&!o.spawning&&(((a=o.color)===null||a===void 0?void 0:a.h.value)!==void 0&&c.h.enable||((l=o.color)===null||l===void 0?void 0:l.s.value)!==void 0&&c.s.enable||((u=o.color)===null||u===void 0?void 0:u.l.value)!==void 0&&c.l.enable)}update(o,a){i(o,a)}};return Mv.ColorUpdater=r,Mv}var FG;function XTe(){if(FG)return Tv;FG=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.loadColorUpdater=void 0;const t=qTe();async function e(n){await n.addParticleUpdater("color",i=>new t.ColorUpdater(i))}return Tv.loadColorUpdater=e,Tv}var Iv={},Rv={},UG;function YTe(){if(UG)return Rv;UG=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.Attractor=void 0;const t=Dt(),e=Lc(),n=Ra(),i=Ba(),r=Pa(),s=nn();class o extends i.ExternalInteractorBase{constructor(l){super(l),l.attract||(l.attract={particles:[]}),this.handleClickMode=u=>{const c=this.container.actualOptions;if(u==="attract"){l.attract||(l.attract={particles:[]}),l.attract.clicking=!0,l.attract.count=0;for(const f of l.attract.particles)f.velocity.setTo(f.initialVelocity);l.attract.particles=[],l.attract.finish=!1,setTimeout(()=>{l.destroyed||(l.attract||(l.attract={particles:[]}),l.attract.clicking=!1)},c.interactivity.modes.attract.duration*1e3)}}}isEnabled(){const l=this.container,u=l.actualOptions,c=l.interactivity.mouse,f=u.interactivity.events;if((!c.position||!f.onHover.enable)&&(!c.clickPosition||!f.onClick.enable))return!1;const h=f.onHover.mode,d=f.onClick.mode;return(0,s.isInArray)("attract",h)||(0,s.isInArray)("attract",d)}reset(){}async interact(){const l=this.container,u=l.actualOptions,c=l.interactivity.status===n.Constants.mouseMoveEvent,f=u.interactivity.events,h=f.onHover.enable,d=f.onHover.mode,p=f.onClick.enable,y=f.onClick.mode;c&&h&&(0,s.isInArray)("attract",d)?this.hoverAttract():p&&(0,s.isInArray)("attract",y)&&this.clickAttract()}hoverAttract(){const l=this.container,u=l.interactivity.mouse.position;if(!u)return;const c=l.retina.attractModeDistance;this.processAttract(u,c,new e.Circle(u.x,u.y,c))}processAttract(l,u,c){const f=this.container,h=f.actualOptions.interactivity.modes.attract,d=f.particles.quadTree.query(c);for(const p of d){const{dx:y,dy:A,distance:g}=(0,t.getDistances)(p.position,l),x=h.speed*h.factor,S=(0,t.clamp)((0,t.calcEasing)(1-g/u,h.easing)*x,0,h.maxSpeed),E=r.Vector.create(g===0?x:y/g*S,g===0?x:A/g*S);p.position.subFrom(E)}}clickAttract(){const l=this.container;if(l.attract||(l.attract={particles:[]}),l.attract.finish||(l.attract.count||(l.attract.count=0),l.attract.count++,l.attract.count===l.particles.count&&(l.attract.finish=!0)),l.attract.clicking){const u=l.interactivity.mouse.clickPosition;if(!u)return;const c=l.retina.attractModeDistance;this.processAttract(u,c,new e.Circle(u.x,u.y,c))}else l.attract.clicking===!1&&(l.attract.particles=[])}}return Rv.Attractor=o,Rv}var kG;function KTe(){if(kG)return Iv;kG=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.loadExternalAttractInteraction=void 0;const t=YTe();async function e(n){await n.addInteractor("externalAttract",i=>new t.Attractor(i))}return Iv.loadExternalAttractInteraction=e,Iv}var Pv={},Bv={},NG;function JTe(){if(NG)return Bv;NG=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.Bouncer=void 0;const t=nn(),e=Lc(),n=Ra(),i=Ba(),r=mh(),s=Pa();let o=class extends i.ExternalInteractorBase{constructor(l){super(l)}isEnabled(){const l=this.container,u=l.actualOptions,c=l.interactivity.mouse,f=u.interactivity.events,h=f.onDiv;return c.position&&f.onHover.enable&&(0,t.isInArray)("bounce",f.onHover.mode)||(0,t.isDivModeEnabled)("bounce",h)}async interact(){const l=this.container,u=l.actualOptions,c=u.interactivity.events,f=l.interactivity.status===n.Constants.mouseMoveEvent,h=c.onHover.enable,d=c.onHover.mode,p=c.onDiv;f&&h&&(0,t.isInArray)("bounce",d)?this.processMouseBounce():(0,t.divModeExecute)("bounce",p,(y,A)=>this.singleSelectorBounce(y,A))}reset(){}processMouseBounce(){const l=this.container,u=l.retina.pixelRatio,c=10*u,f=l.interactivity.mouse.position,h=l.retina.bounceModeDistance;f&&this.processBounce(f,h,new e.Circle(f.x,f.y,h+c))}singleSelectorBounce(l,u){const c=this.container,f=document.querySelectorAll(l);f.length&&f.forEach(h=>{const d=h,p=c.retina.pixelRatio,y={x:(d.offsetLeft+d.offsetWidth/2)*p,y:(d.offsetTop+d.offsetHeight/2)*p},A=d.offsetWidth/2*p,g=10*p,x=u.type==="circle"?new e.Circle(y.x,y.y,A+g):new r.Rectangle(d.offsetLeft*p-g,d.offsetTop*p-g,d.offsetWidth*p+g*2,d.offsetHeight*p+g*2);this.processBounce(y,A,x)})}processBounce(l,u,c){const f=this.container.particles.quadTree.query(c);for(const h of f)c instanceof e.Circle?(0,t.circleBounce)((0,t.circleBounceDataFromParticle)(h),{position:l,radius:u,mass:u**2*Math.PI/2,velocity:s.Vector.origin,factor:s.Vector.origin}):c instanceof r.Rectangle&&(0,t.rectBounce)(h,(0,t.calculateBounds)(l,u))}};return Bv.Bouncer=o,Bv}var GG;function ZTe(){if(GG)return Pv;GG=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.loadExternalBounceInteraction=void 0;const t=JTe();async function e(n){await n.addInteractor("externalBounce",i=>new t.Bouncer(i))}return Pv.loadExternalBounceInteraction=e,Pv}var Dv={},Lv={},zG;function $Te(){if(zG)return Lv;zG=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.Bubbler=void 0;const t=Dt(),e=Ur(),n=nn(),i=Lc(),r=Ra(),s=Ba(),o=mh();function a(u,c,f,h){if(c>=f){const d=u+(c-f)*h;return(0,t.clamp)(d,u,c)}else if(c<f){const d=u-(f-c)*h;return(0,t.clamp)(d,c,u)}}let l=class extends s.ExternalInteractorBase{constructor(c){super(c),c.bubble||(c.bubble={}),this.handleClickMode=f=>{f==="bubble"&&(c.bubble||(c.bubble={}),c.bubble.clicking=!0)}}isEnabled(){const c=this.container,f=c.actualOptions,h=c.interactivity.mouse,d=f.interactivity.events,p=d.onDiv,y=(0,n.isDivModeEnabled)("bubble",p);if(!(y||d.onHover.enable&&h.position||d.onClick.enable&&h.clickPosition))return!1;const A=d.onHover.mode,g=d.onClick.mode;return(0,n.isInArray)("bubble",A)||(0,n.isInArray)("bubble",g)||y}reset(c,f){(!c.bubble.inRange||f)&&(delete c.bubble.div,delete c.bubble.opacity,delete c.bubble.radius,delete c.bubble.color)}async interact(){const c=this.container.actualOptions,f=c.interactivity.events,h=f.onHover,d=f.onClick,p=h.enable,y=h.mode,A=d.enable,g=d.mode,x=f.onDiv;p&&(0,n.isInArray)("bubble",y)?this.hoverBubble():A&&(0,n.isInArray)("bubble",g)?this.clickBubble():(0,n.divModeExecute)("bubble",x,(S,E)=>this.singleSelectorHover(S,E))}singleSelectorHover(c,f){const h=this.container,d=document.querySelectorAll(c);d.length&&d.forEach(p=>{const y=p,A=h.retina.pixelRatio,g={x:(y.offsetLeft+y.offsetWidth/2)*A,y:(y.offsetTop+y.offsetHeight/2)*A},x=y.offsetWidth/2*A,S=f.type==="circle"?new i.Circle(g.x,g.y,x):new o.Rectangle(y.offsetLeft*A,y.offsetTop*A,y.offsetWidth*A,y.offsetHeight*A),E=h.particles.quadTree.query(S);for(const w of E){if(!S.contains(w.getPosition()))continue;w.bubble.inRange=!0;const C=h.actualOptions.interactivity.modes.bubble.divs,b=(0,n.divMode)(C,y);(!w.bubble.div||w.bubble.div!==y)&&(this.reset(w,!0),w.bubble.div=y),this.hoverBubbleSize(w,1,b),this.hoverBubbleOpacity(w,1,b),this.hoverBubbleColor(w,1,b)}})}process(c,f,h,d){const p=this.container,y=d.bubbleObj.optValue;if(y===void 0)return;const A=p.actualOptions,g=A.interactivity.modes.bubble.duration,x=p.retina.bubbleModeDistance,S=d.particlesObj.optValue,E=d.bubbleObj.value,w=d.particlesObj.value||0,C=d.type;if(y!==S)if(p.bubble||(p.bubble={}),p.bubble.durationEnd)E&&(C==="size"&&delete c.bubble.radius,C==="opacity"&&delete c.bubble.opacity);else if(f<=x){if((E??w)!==y){const I=w-h*(w-y)/g;C==="size"&&(c.bubble.radius=I),C==="opacity"&&(c.bubble.opacity=I)}}else C==="size"&&delete c.bubble.radius,C==="opacity"&&delete c.bubble.opacity}clickBubble(){var c,f;const h=this.container,d=h.actualOptions,p=h.interactivity.mouse.clickPosition;if(!p)return;h.bubble||(h.bubble={});const y=h.retina.bubbleModeDistance,A=h.particles.quadTree.queryCircle(p,y);for(const g of A){if(!h.bubble.clicking)continue;g.bubble.inRange=!h.bubble.durationEnd;const x=g.getPosition(),S=(0,t.getDistance)(x,p),E=(new Date().getTime()-(h.interactivity.mouse.clickTime||0))/1e3;E>d.interactivity.modes.bubble.duration&&(h.bubble.durationEnd=!0),E>d.interactivity.modes.bubble.duration*2&&(h.bubble.clicking=!1,h.bubble.durationEnd=!1);const w={bubbleObj:{optValue:h.retina.bubbleModeSize,value:g.bubble.radius},particlesObj:{optValue:(0,t.getRangeMax)(g.options.size.value)*h.retina.pixelRatio,value:g.size.value},type:"size"};this.process(g,S,E,w);const C={bubbleObj:{optValue:d.interactivity.modes.bubble.opacity,value:g.bubble.opacity},particlesObj:{optValue:(0,t.getRangeMax)(g.options.opacity.value),value:(f=(c=g.opacity)===null||c===void 0?void 0:c.value)!==null&&f!==void 0?f:1},type:"opacity"};this.process(g,S,E,C),h.bubble.durationEnd?delete g.bubble.color:S<=h.retina.bubbleModeDistance?this.hoverBubbleColor(g,S):delete g.bubble.color}}hoverBubble(){const c=this.container,f=c.interactivity.mouse.position;if(f===void 0)return;const h=c.retina.bubbleModeDistance,d=c.particles.quadTree.queryCircle(f,h);for(const p of d){p.bubble.inRange=!0;const y=p.getPosition(),A=(0,t.getDistance)(y,f),g=1-A/h;A<=h?g>=0&&c.interactivity.status===r.Constants.mouseMoveEvent&&(this.hoverBubbleSize(p,g),this.hoverBubbleOpacity(p,g),this.hoverBubbleColor(p,g)):this.reset(p),c.interactivity.status===r.Constants.mouseLeaveEvent&&this.reset(p)}}hoverBubbleSize(c,f,h){const d=this.container,p=h!=null&&h.size?h.size*d.retina.pixelRatio:d.retina.bubbleModeSize;if(p===void 0)return;const y=(0,t.getRangeMax)(c.options.size.value)*d.retina.pixelRatio,A=c.size.value,g=a(A,p,y,f);g!==void 0&&(c.bubble.radius=g)}hoverBubbleOpacity(c,f,h){var d,p,y;const A=this.container,g=A.actualOptions,x=(d=h==null?void 0:h.opacity)!==null&&d!==void 0?d:g.interactivity.modes.bubble.opacity;if(!x)return;const S=c.options.opacity.value,E=(y=(p=c.opacity)===null||p===void 0?void 0:p.value)!==null&&y!==void 0?y:1,w=a(E,x,(0,t.getRangeMax)(S),f);w!==void 0&&(c.bubble.opacity=w)}hoverBubbleColor(c,f,h){const d=this.container.actualOptions,p=h??d.interactivity.modes.bubble;if(!c.bubble.finalColor){const y=p.color;if(!y)return;const A=y instanceof Array?(0,n.itemFromArray)(y):y;c.bubble.finalColor=(0,e.colorToHsl)(A)}if(c.bubble.finalColor)if(p.mix){c.bubble.color=void 0;const y=c.getFillColor();c.bubble.color=y?(0,e.rgbToHsl)((0,e.colorMix)(y,c.bubble.finalColor,1-f,f)):c.bubble.finalColor}else c.bubble.color=c.bubble.finalColor}};return Lv.Bubbler=l,Lv}var HG;function eMe(){if(HG)return Dv;HG=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.loadExternalBubbleInteraction=void 0;const t=$Te();async function e(n){await n.addInteractor("externalBubble",i=>new t.Bubbler(i))}return Dv.loadExternalBubbleInteraction=e,Dv}var Ov={},Fv={},VG;function tMe(){if(VG)return Fv;VG=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.Connector=void 0;const t=Ba(),e=nn();let n=class extends t.ExternalInteractorBase{constructor(r){super(r)}isEnabled(){const r=this.container,s=r.interactivity.mouse,o=r.actualOptions.interactivity.events;return o.onHover.enable&&s.position?(0,e.isInArray)("connect",o.onHover.mode):!1}reset(){}async interact(){const r=this.container;if(r.actualOptions.interactivity.events.onHover.enable&&r.interactivity.status==="mousemove"){const o=r.interactivity.mouse.position;if(!o)return;const a=Math.abs(r.retina.connectModeRadius),l=r.particles.quadTree.queryCircle(o,a);let u=0;for(const c of l){const f=c.getPosition();for(const h of l.slice(u+1)){const d=h.getPosition(),p=Math.abs(r.retina.connectModeDistance),y=Math.abs(f.x-d.x),A=Math.abs(f.y-d.y);y<p&&A<p&&r.canvas.drawConnectLine(c,h)}++u}}}};return Fv.Connector=n,Fv}var QG;function nMe(){if(QG)return Ov;QG=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.loadExternalConnectInteraction=void 0;const t=tMe();async function e(n){await n.addInteractor("externalConnect",i=>new t.Connector(i))}return Ov.loadExternalConnectInteraction=e,Ov}var Uv={},kv={},WG;function iMe(){if(WG)return kv;WG=1,Object.defineProperty(kv,"__esModule",{value:!0}),kv.Grabber=void 0;const t=Ur(),e=Ra(),n=Ba(),i=Dt(),r=nn();let s=class extends n.ExternalInteractorBase{constructor(a){super(a)}isEnabled(){const a=this.container,l=a.interactivity.mouse,u=a.actualOptions.interactivity.events;return u.onHover.enable&&!!l.position&&(0,r.isInArray)("grab",u.onHover.mode)}reset(){}async interact(){var a;const l=this.container,u=l.actualOptions,c=u.interactivity;if(!c.events.onHover.enable||l.interactivity.status!==e.Constants.mouseMoveEvent)return;const f=l.interactivity.mouse.position;if(!f)return;const h=l.retina.grabModeDistance,d=l.particles.quadTree.queryCircle(f,h);for(const p of d){const y=p.getPosition(),A=(0,i.getDistance)(y,f);if(A>h)continue;const g=c.modes.grab.links,x=g.opacity,S=x-A*x/h;if(S<=0)continue;const E=(a=g.color)!==null&&a!==void 0?a:p.options.links.color;if(!l.particles.grabLineColor){const C=u.interactivity.modes.grab.links;l.particles.grabLineColor=(0,t.getLinkRandomColor)(E,C.blink,C.consent)}const w=(0,t.getLinkColor)(p,void 0,l.particles.grabLineColor);if(!w)return;l.canvas.drawGrabLine(p,w,S,f)}}};return kv.Grabber=s,kv}var jG;function rMe(){if(jG)return Uv;jG=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.loadExternalGrabInteraction=void 0;const t=iMe();async function e(n){await n.addInteractor("externalGrab",i=>new t.Grabber(i))}return Uv.loadExternalGrabInteraction=e,Uv}var Nv={},Gv={},qG;function sMe(){if(qG)return Gv;qG=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.Pauser=void 0;const t=Ba();let e=class extends t.ExternalInteractorBase{constructor(i){super(i),this.handleClickMode=r=>{if(r!=="pause")return;const s=this.container;s.getAnimationStatus()?s.pause():s.play()}}isEnabled(){return!0}reset(){}async interact(){}};return Gv.Pauser=e,Gv}var XG;function oMe(){if(XG)return Nv;XG=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.loadExternalPauseInteraction=void 0;const t=sMe();async function e(n){await n.addInteractor("externalPause",i=>new t.Pauser(i))}return Nv.loadExternalPauseInteraction=e,Nv}var zv={},Hv={},YG;function aMe(){if(YG)return Hv;YG=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.Pusher=void 0;const t=Ba(),e=nn();let n=class extends t.ExternalInteractorBase{constructor(r){super(r),this.handleClickMode=s=>{if(s!=="push")return;const o=this.container,a=o.actualOptions,l=a.interactivity.modes.push.quantity;if(l<=0)return;const u=a.interactivity.modes.push,c=(0,e.itemFromArray)([void 0,...u.groups]),f=c!==void 0?o.actualOptions.particles.groups[c]:void 0;o.particles.push(l,o.interactivity.mouse,f,c)}}isEnabled(){return!0}reset(){}async interact(){}};return Hv.Pusher=n,Hv}var KG;function lMe(){if(KG)return zv;KG=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.loadExternalPushInteraction=void 0;const t=aMe();async function e(n){await n.addInteractor("externalPush",i=>new t.Pusher(i))}return zv.loadExternalPushInteraction=e,zv}var Vv={},Qv={},JG;function uMe(){if(JG)return Qv;JG=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.Remover=void 0;const t=Ba();let e=class extends t.ExternalInteractorBase{constructor(i){super(i),this.handleClickMode=r=>{if(r!=="remove")return;const s=this.container,a=s.actualOptions.interactivity.modes.remove.quantity;s.particles.removeQuantity(a)}}isEnabled(){return!0}reset(){}async interact(){}};return Qv.Remover=e,Qv}var ZG;function cMe(){if(ZG)return Vv;ZG=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.loadExternalRemoveInteraction=void 0;const t=uMe();async function e(n){await n.addInteractor("externalRemove",i=>new t.Remover(i))}return Vv.loadExternalRemoveInteraction=e,Vv}var Wv={},jv={},$G;function fMe(){if($G)return jv;$G=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.Repulser=void 0;const t=Dt(),e=nn(),n=Lc(),i=Ra(),r=Ba(),s=mh(),o=Pa();let a=class extends r.ExternalInteractorBase{constructor(u){super(u),u.repulse||(u.repulse={particles:[]}),this.handleClickMode=c=>{const f=this.container.actualOptions;if(c==="repulse"){u.repulse||(u.repulse={particles:[]}),u.repulse.clicking=!0,u.repulse.count=0;for(const h of u.repulse.particles)h.velocity.setTo(h.initialVelocity);u.repulse.particles=[],u.repulse.finish=!1,setTimeout(()=>{u.destroyed||(u.repulse||(u.repulse={particles:[]}),u.repulse.clicking=!1)},f.interactivity.modes.repulse.duration*1e3)}}}isEnabled(){const u=this.container,c=u.actualOptions,f=u.interactivity.mouse,h=c.interactivity.events,d=h.onDiv,p=(0,e.isDivModeEnabled)("repulse",d);if(!(p||h.onHover.enable&&f.position||h.onClick.enable&&f.clickPosition))return!1;const y=h.onHover.mode,A=h.onClick.mode;return(0,e.isInArray)("repulse",y)||(0,e.isInArray)("repulse",A)||p}reset(){}async interact(){const u=this.container,c=u.actualOptions,f=u.interactivity.status===i.Constants.mouseMoveEvent,h=c.interactivity.events,d=h.onHover.enable,p=h.onHover.mode,y=h.onClick.enable,A=h.onClick.mode,g=h.onDiv;f&&d&&(0,e.isInArray)("repulse",p)?this.hoverRepulse():y&&(0,e.isInArray)("repulse",A)?this.clickRepulse():(0,e.divModeExecute)("repulse",g,(x,S)=>this.singleSelectorRepulse(x,S))}singleSelectorRepulse(u,c){const f=this.container,h=document.querySelectorAll(u);h.length&&h.forEach(d=>{const p=d,y=f.retina.pixelRatio,A={x:(p.offsetLeft+p.offsetWidth/2)*y,y:(p.offsetTop+p.offsetHeight/2)*y},g=p.offsetWidth/2*y,x=c.type==="circle"?new n.Circle(A.x,A.y,g):new s.Rectangle(p.offsetLeft*y,p.offsetTop*y,p.offsetWidth*y,p.offsetHeight*y),S=f.actualOptions.interactivity.modes.repulse.divs,E=(0,e.divMode)(S,p);this.processRepulse(A,g,x,E)})}hoverRepulse(){const u=this.container,c=u.interactivity.mouse.position;if(!c)return;const f=u.retina.repulseModeDistance;this.processRepulse(c,f,new n.Circle(c.x,c.y,f))}processRepulse(u,c,f,h){var d;const p=this.container,y=p.particles.quadTree.query(f),A=p.actualOptions.interactivity.modes.repulse;for(const g of y){const{dx:x,dy:S,distance:E}=(0,t.getDistances)(g.position,u),w=((d=h==null?void 0:h.speed)!==null&&d!==void 0?d:A.speed)*A.factor,C=(0,t.clamp)((0,t.calcEasing)(1-E/c,A.easing)*w,0,A.maxSpeed),b=o.Vector.create(E===0?w:x/E*C,E===0?w:S/E*C);g.position.addTo(b)}}clickRepulse(){const u=this.container;if(u.repulse||(u.repulse={particles:[]}),u.repulse.finish||(u.repulse.count||(u.repulse.count=0),u.repulse.count++,u.repulse.count===u.particles.count&&(u.repulse.finish=!0)),u.repulse.clicking){const c=u.retina.repulseModeDistance,f=Math.pow(c/6,3),h=u.interactivity.mouse.clickPosition;if(h===void 0)return;const d=new n.Circle(h.x,h.y,f),p=u.particles.quadTree.query(d);for(const y of p){const{dx:A,dy:g,distance:x}=(0,t.getDistances)(h,y.position),S=x**2,E=u.actualOptions.interactivity.modes.repulse.speed,w=-f*E/S;if(S<=f){u.repulse.particles.push(y);const C=o.Vector.create(A,g);C.length=w,y.velocity.setTo(C)}}}else if(u.repulse.clicking===!1){for(const c of u.repulse.particles)c.velocity.setTo(c.initialVelocity);u.repulse.particles=[]}}};return jv.Repulser=a,jv}var ez;function hMe(){if(ez)return Wv;ez=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.loadExternalRepulseInteraction=void 0;const t=fMe();async function e(n){await n.addInteractor("externalRepulse",i=>new t.Repulser(i))}return Wv.loadExternalRepulseInteraction=e,Wv}var qv={},Xv={},Fl={},tz;function dMe(){if(tz)return Fl;tz=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.replaceImageColor=Fl.downloadSvgImage=Fl.loadImage=void 0;const t=Ur(),e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function n(o,a,l){const{svgData:u}=o;if(!u)return"";const c=(0,t.getStyleFromHsl)(a,l);if(u.includes("fill"))return u.replace(e,()=>c);const f=u.indexOf(">");return`${u.substring(0,f)} fill="${c}"${u.substring(f)}`}async function i(o){return new Promise(a=>{o.loading=!0;const l=new Image;l.addEventListener("load",()=>{o.element=l,o.loading=!1,a()}),l.addEventListener("error",()=>{o.error=!0,o.loading=!1,console.error(`Error tsParticles - loading image: ${o.source}`),a()}),l.src=o.source})}Fl.loadImage=i;async function r(o){if(o.type!=="svg"){await i(o);return}o.loading=!0;const a=await fetch(o.source);o.loading=!1,a.ok||(console.error("Error tsParticles - Image not found"),o.error=!0),o.error||(o.svgData=await a.text())}Fl.downloadSvgImage=r;function s(o,a,l,u){var c,f,h;const d=n(o,l,(f=(c=u.opacity)===null||c===void 0?void 0:c.value)!==null&&f!==void 0?f:1),p=new Blob([d],{type:"image/svg+xml"}),y=URL||window.URL||window.webkitURL||window,A=y.createObjectURL(p),g=new Image,x={data:Object.assign(Object.assign({},o),{svgData:d}),ratio:a.width/a.height,replaceColor:(h=a.replaceColor)!==null&&h!==void 0?h:a.replace_color,source:a.src};return g.addEventListener("load",()=>{const S=u.image;S&&(S.loaded=!0,o.element=g),y.revokeObjectURL(A)}),g.addEventListener("error",()=>{y.revokeObjectURL(A);const S=Object.assign(Object.assign({},o),{error:!1,loading:!0});i(S).then(()=>{const E=u.image;E&&(o.element=S.element,E.loaded=!0)})}),g.src=A,x}return Fl.replaceImageColor=s,Fl}var nz;function pMe(){if(nz)return Xv;nz=1;var t=gt&&gt.__classPrivateFieldSet||function(s,o,a,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?s!==o||!u:!o.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(s,a):u?u.value=a:o.set(s,a),a},e=gt&&gt.__classPrivateFieldGet||function(s,o,a,l){if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?s!==o||!l:!o.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?l:a==="a"?l.call(s):l?l.value:o.get(s)},n;Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.ImageDrawer=void 0;const i=dMe();let r=class{constructor(){n.set(this,void 0),t(this,n,[],"f")}getSidesCount(){return 12}getImages(o){const a=e(this,n,"f").find(l=>l.id===o.id);return a||(e(this,n,"f").push({id:o.id,images:[]}),this.getImages(o))}addImage(o,a){const l=this.getImages(o);l==null||l.images.push(a)}destroy(){t(this,n,[],"f")}draw(o,a,l,u){var c,f;const h=a.image,d=(c=h==null?void 0:h.data)===null||c===void 0?void 0:c.element;if(!d)return;const p=(f=h==null?void 0:h.ratio)!==null&&f!==void 0?f:1,y={x:-l,y:-l};(!(h!=null&&h.data.svgData)||!(h!=null&&h.replaceColor))&&(o.globalAlpha=u),o.drawImage(d,y.x,y.y,l*2,l*2/p),(!(h!=null&&h.data.svgData)||!(h!=null&&h.replaceColor))&&(o.globalAlpha=1)}loadShape(o){var a,l,u;if(o.shape!=="image"&&o.shape!=="images")return;const c=this.getImages(o.container).images,f=o.shapeData,h=c.find(x=>x.source===f.src);let d;if(!h){this.loadImageShape(o.container,f).then(()=>{this.loadShape(o)});return}if(h.error)return;const p=o.getFillColor();h.svgData&&f.replaceColor&&p?d=(0,i.replaceImageColor)(h,f,p,o):d={data:h,loaded:!0,ratio:f.width/f.height,replaceColor:(a=f.replaceColor)!==null&&a!==void 0?a:f.replace_color,source:f.src},d.ratio||(d.ratio=1);const y=(l=f.fill)!==null&&l!==void 0?l:o.fill,A=(u=f.close)!==null&&u!==void 0?u:o.close,g={image:d,fill:y,close:A};o.image=g.image,o.fill=g.fill,o.close=g.close}async loadImageShape(o,a){const l=a.src;if(!l)throw new Error("Error tsParticles - No image.src");try{const u={source:l,type:l.substr(l.length-3),error:!1,loading:!0};this.addImage(o,u),await(a.replaceColor?i.downloadSvgImage:i.loadImage)(u)}catch{throw new Error(`tsParticles error - ${a.src} not found`)}}};return Xv.ImageDrawer=r,n=new WeakMap,Xv}var iz;function mMe(){if(iz)return qv;iz=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.loadImageShape=void 0;const t=pMe();async function e(n){const i=new t.ImageDrawer;await n.addShape("image",i),await n.addShape("images",i)}return qv.loadImageShape=e,qv}var Yv={},Kv={},rz;function gMe(){if(rz)return Kv;rz=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.LifeUpdater=void 0;const t=Dt();let e=class{constructor(i){this.container=i}init(){}isEnabled(i){return!i.destroyed}update(i,r){if(!this.isEnabled(i))return;const s=i.life;let o=!1;if(i.spawning)if(s.delayTime+=r.value,s.delayTime>=i.life.delay)o=!0,i.spawning=!1,s.delayTime=0,s.time=0;else return;if(s.duration===-1||i.spawning||(o?s.time=0:s.time+=r.value,s.time<s.duration))return;if(s.time=0,i.life.count>0&&i.life.count--,i.life.count===0){i.destroy();return}const a=this.container.canvas.size,l=(0,t.setRangeValue)(0,a.width),u=(0,t.setRangeValue)(0,a.width);i.position.x=(0,t.randomInRange)(l),i.position.y=(0,t.randomInRange)(u),i.spawning=!0,s.delayTime=0,s.time=0,i.reset();const c=i.options.life;s.delay=(0,t.getRangeValue)(c.delay.value)*1e3,s.duration=(0,t.getRangeValue)(c.duration.value)*1e3}};return Kv.LifeUpdater=e,Kv}var sz;function vMe(){if(sz)return Yv;sz=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.loadLifeUpdater=void 0;const t=gMe();async function e(n){await n.addParticleUpdater("life",i=>new t.LifeUpdater(i))}return Yv.loadLifeUpdater=e,Yv}var Jv={},Zv={},oz;function AMe(){if(oz)return Zv;oz=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.LineDrawer=void 0;let t=class{getSidesCount(){return 1}draw(n,i,r){n.moveTo(-r/2,0),n.lineTo(r/2,0)}};return Zv.LineDrawer=t,Zv}var az;function yMe(){if(az)return Jv;az=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.loadLineShape=void 0;const t=AMe();async function e(n){await n.addShape("line",new t.LineDrawer)}return Jv.loadLineShape=e,Jv}var $v={},e1={},lz;function xMe(){if(lz)return e1;lz=1,Object.defineProperty(e1,"__esModule",{value:!0}),e1.OpacityUpdater=void 0;const t=Dt();function e(r,s,o,a){switch(r.options.opacity.animation.destroy){case"max":s>=a&&r.destroy();break;case"min":s<=o&&r.destroy();break}}function n(r,s){var o,a,l,u,c;if(!r.opacity)return;const f=r.opacity.min,h=r.opacity.max;if(!(r.destroyed||!r.opacity.enable||((o=r.opacity.maxLoops)!==null&&o!==void 0?o:0)>0&&((a=r.opacity.loops)!==null&&a!==void 0?a:0)>((l=r.opacity.maxLoops)!==null&&l!==void 0?l:0))){switch(r.opacity.status){case 0:r.opacity.value>=h?(r.opacity.status=1,r.opacity.loops||(r.opacity.loops=0),r.opacity.loops++):r.opacity.value+=((u=r.opacity.velocity)!==null&&u!==void 0?u:0)*s.factor;break;case 1:r.opacity.value<=f?(r.opacity.status=0,r.opacity.loops||(r.opacity.loops=0),r.opacity.loops++):r.opacity.value-=((c=r.opacity.velocity)!==null&&c!==void 0?c:0)*s.factor;break}e(r,r.opacity.value,f,h),r.destroyed||(r.opacity.value=(0,t.clamp)(r.opacity.value,f,h))}}let i=class{constructor(s){this.container=s}init(s){const o=s.options.opacity;s.opacity={enable:o.animation.enable,max:(0,t.getRangeMax)(o.value),min:(0,t.getRangeMin)(o.value),value:(0,t.getRangeValue)(o.value),loops:0,maxLoops:(0,t.getRangeValue)(o.animation.count)};const a=o.animation;if(a.enable){s.opacity.status=0;const l=o.value;switch(s.opacity.min=(0,t.getRangeMin)(l),s.opacity.max=(0,t.getRangeMax)(l),a.startValue){case"min":s.opacity.value=s.opacity.min,s.opacity.status=0;break;case"random":s.opacity.value=(0,t.randomInRange)(s.opacity),s.opacity.status=Math.random()>=.5?0:1;break;case"max":default:s.opacity.value=s.opacity.max,s.opacity.status=1;break}s.opacity.velocity=(0,t.getRangeValue)(a.speed)/100*this.container.retina.reduceFactor,a.sync||(s.opacity.velocity*=Math.random())}}isEnabled(s){var o,a,l,u;return!s.destroyed&&!s.spawning&&!!s.opacity&&s.opacity.enable&&(((o=s.opacity.maxLoops)!==null&&o!==void 0?o:0)<=0||((a=s.opacity.maxLoops)!==null&&a!==void 0?a:0)>0&&((l=s.opacity.loops)!==null&&l!==void 0?l:0)<((u=s.opacity.maxLoops)!==null&&u!==void 0?u:0))}update(s,o){this.isEnabled(s)&&n(s,o)}};return e1.OpacityUpdater=i,e1}var uz;function SMe(){if(uz)return $v;uz=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.loadOpacityUpdater=void 0;const t=xMe();async function e(n){await n.addParticleUpdater("opacity",i=>new t.OpacityUpdater(i))}return $v.loadOpacityUpdater=e,$v}var t1={},n1={},ff={},cz;function EMe(){if(cz)return ff;cz=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.bounceVertical=ff.bounceHorizontal=void 0;const t=Dt();function e(i){if(!(i.outMode==="bounce"||i.outMode==="bounce-horizontal"||i.outMode==="bounceHorizontal"||i.outMode==="split"))return;const r=i.particle.velocity.x;let s=!1;if(i.direction==="right"&&i.bounds.right>=i.canvasSize.width&&r>0||i.direction==="left"&&i.bounds.left<=0&&r<0){const a=(0,t.getRangeValue)(i.particle.options.bounce.horizontal.value);i.particle.velocity.x*=-a,s=!0}if(!s)return;const o=i.offset.x+i.size;i.bounds.right>=i.canvasSize.width?i.particle.position.x=i.canvasSize.width-o:i.bounds.left<=0&&(i.particle.position.x=o),i.outMode==="split"&&i.particle.destroy()}ff.bounceHorizontal=e;function n(i){if(i.outMode==="bounce"||i.outMode==="bounce-vertical"||i.outMode==="bounceVertical"||i.outMode==="split"){const r=i.particle.velocity.y;let s=!1;if(i.direction==="bottom"&&i.bounds.bottom>=i.canvasSize.height&&r>0||i.direction==="top"&&i.bounds.top<=0&&r<0){const a=(0,t.getRangeValue)(i.particle.options.bounce.vertical.value);i.particle.velocity.y*=-a,s=!0}if(!s)return;const o=i.offset.y+i.size;i.bounds.bottom>=i.canvasSize.height?i.particle.position.y=i.canvasSize.height-o:i.bounds.top<=0&&(i.particle.position.y=o),i.outMode==="split"&&i.particle.destroy()}}return ff.bounceVertical=n,ff}var fz;function wMe(){if(fz)return n1;fz=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.OutOfCanvasUpdater=void 0;const t=EMe(),e=nn();let n=class{constructor(r){this.container=r}init(){}isEnabled(r){return!r.destroyed&&!r.spawning}update(r,s){var o,a,l,u;const c=r.options.move.outModes;this.updateOutMode(r,s,(o=c.bottom)!==null&&o!==void 0?o:c.default,"bottom"),this.updateOutMode(r,s,(a=c.left)!==null&&a!==void 0?a:c.default,"left"),this.updateOutMode(r,s,(l=c.right)!==null&&l!==void 0?l:c.default,"right"),this.updateOutMode(r,s,(u=c.top)!==null&&u!==void 0?u:c.default,"top")}updateOutMode(r,s,o,a){switch(o){case"bounce":case"bounce-vertical":case"bounce-horizontal":case"bounceVertical":case"bounceHorizontal":case"split":this.bounce(r,s,a,o);break;case"destroy":this.destroy(r,a);break;case"out":this.out(r,a);break;case"none":default:this.none(r,a);break}}destroy(r,s){const o=this.container;(0,e.isPointInside)(r.position,o.canvas.size,r.getRadius(),s)||o.particles.remove(r,void 0,!0)}out(r,s){const o=this.container;if((0,e.isPointInside)(r.position,o.canvas.size,r.getRadius(),s))return;const a=r.options.move.warp,l=o.canvas.size,u={bottom:l.height+r.getRadius()+r.offset.y,left:-r.getRadius()-r.offset.x,right:l.width+r.getRadius()+r.offset.x,top:-r.getRadius()-r.offset.y},c=r.getRadius(),f=(0,e.calculateBounds)(r.position,c);s==="right"&&f.left>l.width+r.offset.x?(r.position.x=u.left,r.initialPosition.x=r.position.x,a||(r.position.y=Math.random()*l.height,r.initialPosition.y=r.position.y)):s==="left"&&f.right<-r.offset.x&&(r.position.x=u.right,r.initialPosition.x=r.position.x,a||(r.position.y=Math.random()*l.height,r.initialPosition.y=r.position.y)),s==="bottom"&&f.top>l.height+r.offset.y?(a||(r.position.x=Math.random()*l.width,r.initialPosition.x=r.position.x),r.position.y=u.top,r.initialPosition.y=r.position.y):s==="top"&&f.bottom<-r.offset.y&&(a||(r.position.x=Math.random()*l.width,r.initialPosition.x=r.position.x),r.position.y=u.bottom,r.initialPosition.y=r.position.y)}bounce(r,s,o,a){const l=this.container;let u=!1;for(const[,y]of l.plugins)if(y.particleBounce!==void 0&&(u=y.particleBounce(r,s,o)),u)break;if(u)return;const c=r.getPosition(),f=r.offset,h=r.getRadius(),d=(0,e.calculateBounds)(c,h),p=l.canvas.size;(0,t.bounceHorizontal)({particle:r,outMode:a,direction:o,bounds:d,canvasSize:p,offset:f,size:h}),(0,t.bounceVertical)({particle:r,outMode:a,direction:o,bounds:d,canvasSize:p,offset:f,size:h})}none(r,s){if(r.options.move.distance.horizontal&&(s==="left"||s==="right")||r.options.move.distance.vertical&&(s==="top"||s==="bottom"))return;const o=r.options.move.gravity,a=this.container,l=a.canvas.size,u=r.getRadius();if(o.enable){const c=r.position;(!o.inverse&&c.y>l.height+u&&s==="bottom"||o.inverse&&c.y<-u&&s==="top")&&a.particles.remove(r)}else{if(r.velocity.y>0&&r.position.y<=l.height+u||r.velocity.y<0&&r.position.y>=-u||r.velocity.x>0&&r.position.x<=l.width+u||r.velocity.x<0&&r.position.x>=-u)return;(0,e.isPointInside)(r.position,a.canvas.size,u,s)||a.particles.remove(r)}}};return n1.OutOfCanvasUpdater=n,n1}var hz;function _Me(){if(hz)return t1;hz=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.loadOutModesUpdater=void 0;const t=wMe();async function e(n){await n.addParticleUpdater("outModes",i=>new t.OutOfCanvasUpdater(i))}return t1.loadOutModesUpdater=e,t1}var i1={},r1={},dz;function CMe(){if(dz)return r1;dz=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.ParallaxMover=void 0;const t=nn();let e=class{init(){}isEnabled(i){return!(0,t.isSsr)()&&!i.destroyed&&i.container.actualOptions.interactivity.events.onHover.parallax.enable}move(i){const r=i.container,s=r.actualOptions;if((0,t.isSsr)()||!s.interactivity.events.onHover.parallax.enable)return;const o=s.interactivity.events.onHover.parallax.force,a=r.interactivity.mouse.position;if(!a)return;const l={x:r.canvas.size.width/2,y:r.canvas.size.height/2},u=s.interactivity.events.onHover.parallax.smooth,c=i.getRadius()/o,f={x:(a.x-l.x)*c,y:(a.y-l.y)*c};i.offset.x+=(f.x-i.offset.x)/u,i.offset.y+=(f.y-i.offset.y)/u}};return r1.ParallaxMover=e,r1}var pz;function bMe(){if(pz)return i1;pz=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.loadParallaxMover=void 0;const t=CMe();async function e(n){n.addMover("parallax",()=>new t.ParallaxMover)}return i1.loadParallaxMover=e,i1}var s1={},o1={},a1={},mz;function PE(){if(mz)return a1;mz=1,Object.defineProperty(a1,"__esModule",{value:!0}),a1.ParticlesInteractorBase=void 0;let t=class{constructor(n){this.container=n,this.type=1}};return a1.ParticlesInteractorBase=t,a1}var gz;function TMe(){if(gz)return o1;gz=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.Attractor=void 0;const t=PE(),e=Dt();let n=class extends t.ParticlesInteractorBase{constructor(r){super(r)}async interact(r){var s;const o=this.container,a=(s=r.retina.attractDistance)!==null&&s!==void 0?s:o.retina.attractDistance,l=r.getPosition(),u=o.particles.quadTree.queryCircle(l,a);for(const c of u){if(r===c||!c.options.move.attract.enable||c.destroyed||c.spawning)continue;const f=c.getPosition(),{dx:h,dy:d}=(0,e.getDistances)(l,f),p=r.options.move.attract.rotate,y=h/(p.x*1e3),A=d/(p.y*1e3),g=c.size.value/r.size.value,x=1/g;r.velocity.x-=y*g,r.velocity.y-=A*g,c.velocity.x+=y*x,c.velocity.y+=A*x}}isEnabled(r){return r.options.move.attract.enable}reset(){}};return o1.Attractor=n,o1}var vz;function MMe(){if(vz)return s1;vz=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.loadParticlesAttractInteraction=void 0;const t=TMe();async function e(n){await n.addInteractor("particlesAttract",i=>new t.Attractor(i))}return s1.loadParticlesAttractInteraction=e,s1}var l1={},u1={},Az;function IMe(){if(Az)return u1;Az=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.Collider=void 0;const t=nn(),e=Dt(),n=PE();function i(o,a){(0,t.circleBounce)((0,t.circleBounceDataFromParticle)(o),(0,t.circleBounceDataFromParticle)(a))}function r(o,a){!o.unbreakable&&!a.unbreakable&&i(o,a),o.getRadius()===void 0&&a.getRadius()!==void 0?o.destroy():o.getRadius()!==void 0&&a.getRadius()===void 0?a.destroy():o.getRadius()!==void 0&&a.getRadius()!==void 0&&(o.getRadius()>=a.getRadius()?a.destroy():o.destroy())}let s=class extends n.ParticlesInteractorBase{constructor(a){super(a)}isEnabled(a){return a.options.collisions.enable}reset(){}async interact(a){const l=this.container,u=a.getPosition(),c=a.getRadius(),f=l.particles.quadTree.queryCircle(u,c*2);for(const h of f){if(a===h||!h.options.collisions.enable||a.options.collisions.mode!==h.options.collisions.mode||h.destroyed||h.spawning)continue;const d=h.getPosition();if(Math.round(u.z)!==Math.round(d.z))continue;const p=(0,e.getDistance)(u,d),y=h.getRadius(),A=c+y;p<=A&&this.resolveCollision(a,h)}}resolveCollision(a,l){switch(a.options.collisions.mode){case"absorb":this.absorb(a,l);break;case"bounce":i(a,l);break;case"destroy":r(a,l);break}}absorb(a,l){const u=this.container,c=u.fpsLimit/1e3;if(a.getRadius()===void 0&&l.getRadius()!==void 0)a.destroy();else if(a.getRadius()!==void 0&&l.getRadius()===void 0)l.destroy();else if(a.getRadius()!==void 0&&l.getRadius()!==void 0)if(a.getRadius()>=l.getRadius()){const f=(0,e.clamp)(a.getRadius()/l.getRadius(),0,l.getRadius())*c;a.size.value+=f,l.size.value-=f,l.getRadius()<=u.retina.pixelRatio&&(l.size.value=0,l.destroy())}else{const f=(0,e.clamp)(l.getRadius()/a.getRadius(),0,a.getRadius())*c;a.size.value-=f,l.size.value+=f,a.getRadius()<=u.retina.pixelRatio&&(a.size.value=0,a.destroy())}}};return u1.Collider=s,u1}var yz;function RMe(){if(yz)return l1;yz=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.loadParticlesCollisionsInteraction=void 0;const t=IMe();async function e(n){await n.addInteractor("particlesCollisions",i=>new t.Collider(i))}return l1.loadParticlesCollisionsInteraction=e,l1}var c1={},f1={},h1={},xz;function PMe(){if(xz)return h1;xz=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.Linker=void 0;const t=Lc(),e=r7(),n=PE(),i=Dt(),r=Ur();function s(a,l,u,c,f){let h=(0,i.getDistance)(a,l);if(!f||h<=u)return h;const d={x:l.x-c.width,y:l.y};if(h=(0,i.getDistance)(a,d),h<=u)return h;const p={x:l.x-c.width,y:l.y-c.height};if(h=(0,i.getDistance)(a,p),h<=u)return h;const y={x:l.x,y:l.y-c.height};return h=(0,i.getDistance)(a,y),h}let o=class extends n.ParticlesInteractorBase{constructor(l){super(l)}isEnabled(l){return l.options.links.enable}reset(){}async interact(l){var u;l.links=[];const c=l.getPosition(),f=this.container,h=f.canvas.size;if(c.x<0||c.y<0||c.x>h.width||c.y>h.height)return;const d=l.options.links,p=d.opacity,y=(u=l.retina.linksDistance)!==null&&u!==void 0?u:f.retina.linksDistance,A=d.warp,g=A?new e.CircleWarp(c.x,c.y,y,h):new t.Circle(c.x,c.y,y),x=f.particles.quadTree.query(g);for(const S of x){const E=S.options.links;if(l===S||!E.enable||d.id!==E.id||S.spawning||S.destroyed||l.links.map(I=>I.destination).indexOf(S)!==-1||S.links.map(I=>I.destination).indexOf(l)!==-1)continue;const w=S.getPosition();if(w.x<0||w.y<0||w.x>h.width||w.y>h.height)continue;const C=s(c,w,y,h,A&&E.warp);if(C>y)return;const b=(1-C/y)*p;this.setColor(l),l.links.push({destination:S,opacity:b})}}setColor(l){const u=this.container,c=l.options.links;let f=c.id===void 0?u.particles.linksColor:u.particles.linksColors.get(c.id);if(!f){const h=c.color;f=(0,r.getLinkRandomColor)(h,c.blink,c.consent),c.id===void 0?u.particles.linksColor=f:u.particles.linksColors.set(c.id,f)}}};return h1.Linker=o,h1}var Sz;function BMe(){if(Sz)return f1;Sz=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.loadInteraction=void 0;const t=PMe();async function e(n){await n.addInteractor("particlesLinks",i=>new t.Linker(i))}return f1.loadInteraction=e,f1}var d1={},p1={},Ez;function DMe(){if(Ez)return p1;Ez=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.LinkInstance=void 0;const t=Ur(),e=IE(),n=Dt();let i=class{constructor(s){this.container=s}particleCreated(s){const o=s;o.links=[]}particleDestroyed(s){const o=s;o.links=[]}drawParticle(s,o){const a=o,l=this.container,u=l.particles,c=o.options;if(a.links.length<=0)return;s.save();const f=a.links.filter(h=>l.particles.getLinkFrequency(a,h.destination)<=c.links.frequency);for(const h of f){const d=h.destination;if(c.links.triangles.enable){const p=f.map(A=>A.destination),y=d.links.filter(A=>l.particles.getLinkFrequency(d,A.destination)<=d.options.links.frequency&&p.indexOf(A.destination)>=0);if(y.length)for(const A of y){const g=A.destination;u.getTriangleFrequency(a,d,g)>c.links.triangles.frequency||this.drawLinkTriangle(a,h,A)}}h.opacity>0&&l.retina.linksWidth>0&&this.drawLinkLine(a,h)}s.restore()}drawLinkTriangle(s,o,a){var l;const u=this.container,c=u.actualOptions,f=o.destination,h=a.destination,d=s.options.links.triangles,p=(l=d.opacity)!==null&&l!==void 0?l:(o.opacity+a.opacity)/2;if(p<=0)return;const y=s.getPosition(),A=f.getPosition(),g=h.getPosition();u.canvas.draw(x=>{if((0,n.getDistance)(y,A)>u.retina.linksDistance||(0,n.getDistance)(g,A)>u.retina.linksDistance||(0,n.getDistance)(g,y)>u.retina.linksDistance)return;let S=(0,t.colorToRgb)(d.color);if(!S){const E=s.options.links,w=E.id!==void 0?u.particles.linksColors.get(E.id):u.particles.linksColor;S=(0,t.getLinkColor)(s,f,w)}S&&(0,e.drawLinkTriangle)(x,y,A,g,c.backgroundMask.enable,c.backgroundMask.composite,S,p)})}drawLinkLine(s,o){const a=this.container,l=a.actualOptions,u=o.destination,c=s.getPosition(),f=u.getPosition();let h=o.opacity;a.canvas.draw(d=>{var p,y;let A;const g=s.options.twinkle.lines;if(g.enable){const E=g.frequency,w=(0,t.colorToRgb)(g.color);Math.random()<E&&w&&(A=w,h=(0,n.getRangeValue)(g.opacity))}if(!A){const E=s.options.links,w=E.id!==void 0?a.particles.linksColors.get(E.id):a.particles.linksColor;A=(0,t.getLinkColor)(s,u,w)}if(!A)return;const x=(p=s.retina.linksWidth)!==null&&p!==void 0?p:a.retina.linksWidth,S=(y=s.retina.linksDistance)!==null&&y!==void 0?y:a.retina.linksDistance;(0,e.drawLinkLine)(d,x,c,f,S,a.canvas.size,s.options.links.warp,l.backgroundMask.enable,l.backgroundMask.composite,A,h,s.options.links.shadow)})}};return p1.LinkInstance=i,p1}var wz;function LMe(){if(wz)return d1;wz=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.loadPlugin=void 0;const t=DMe();class e{constructor(){this.id="links"}getPlugin(r){return new t.LinkInstance(r)}needsPlugin(){return!0}loadOptions(){}}async function n(i){const r=new e;await i.addPlugin(r)}return d1.loadPlugin=n,d1}var _z;function OMe(){if(_z)return c1;_z=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.loadParticlesLinksInteraction=void 0;const t=BMe(),e=LMe();async function n(i){await(0,t.loadInteraction)(i),await(0,e.loadPlugin)(i)}return c1.loadParticlesLinksInteraction=n,c1}var Ul={},m1={},g1={},Cz;function aZ(){if(Cz)return g1;Cz=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.PolygonDrawerBase=void 0;let t=class{getSidesCount(n){var i,r;const s=n.shapeData;return(r=(i=s==null?void 0:s.sides)!==null&&i!==void 0?i:s==null?void 0:s.nb_sides)!==null&&r!==void 0?r:5}draw(n,i,r){const s=this.getCenter(i,r),o=this.getSidesData(i,r),a=o.count.numerator*o.count.denominator,l=o.count.numerator/o.count.denominator,u=180*(l-2)/l,c=Math.PI-Math.PI*u/180;if(n){n.beginPath(),n.translate(s.x,s.y),n.moveTo(0,0);for(let f=0;f<a;f++)n.lineTo(o.length,0),n.translate(o.length,0),n.rotate(c)}}};return g1.PolygonDrawerBase=t,g1}var bz;function FMe(){if(bz)return m1;bz=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.PolygonDrawer=void 0;const t=aZ();let e=class extends t.PolygonDrawerBase{getSidesData(i,r){var s,o;const a=i.shapeData,l=(o=(s=a==null?void 0:a.sides)!==null&&s!==void 0?s:a==null?void 0:a.nb_sides)!==null&&o!==void 0?o:5;return{count:{denominator:1,numerator:l},length:r*2.66/(l/3)}}getCenter(i,r){const s=this.getSidesCount(i);return{x:-r/(s/3.5),y:-r/(2.66/3.5)}}};return m1.PolygonDrawer=e,m1}var v1={},Tz;function UMe(){if(Tz)return v1;Tz=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.TriangleDrawer=void 0;const t=aZ();let e=class extends t.PolygonDrawerBase{getSidesCount(){return 3}getSidesData(i,r){return{count:{denominator:2,numerator:3},length:r*2}}getCenter(i,r){return{x:-r,y:r/1.66}}};return v1.TriangleDrawer=e,v1}var Mz;function kMe(){if(Mz)return Ul;Mz=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.loadPolygonShape=Ul.loadTriangleShape=Ul.loadGenericPolygonShape=void 0;const t=FMe(),e=UMe();async function n(s){await s.addShape("polygon",new t.PolygonDrawer)}Ul.loadGenericPolygonShape=n;async function i(s){await s.addShape("triangle",new e.TriangleDrawer)}Ul.loadTriangleShape=i;async function r(s){await n(s),await i(s)}return Ul.loadPolygonShape=r,Ul}var A1={},y1={},Iz;function NMe(){if(Iz)return y1;Iz=1,Object.defineProperty(y1,"__esModule",{value:!0}),y1.SizeUpdater=void 0;const t=Dt();function e(r,s,o,a){switch(r.options.size.animation.destroy){case"max":s>=a&&r.destroy();break;case"min":s<=o&&r.destroy();break}}function n(r,s){var o,a,l,u;const c=((o=r.size.velocity)!==null&&o!==void 0?o:0)*s.factor,f=r.size.min,h=r.size.max;if(!(r.destroyed||!r.size.enable||((a=r.size.maxLoops)!==null&&a!==void 0?a:0)>0&&((l=r.size.loops)!==null&&l!==void 0?l:0)>((u=r.size.maxLoops)!==null&&u!==void 0?u:0))){switch(r.size.status){case 0:r.size.value>=h?(r.size.status=1,r.size.loops||(r.size.loops=0),r.size.loops++):r.size.value+=c;break;case 1:r.size.value<=f?(r.size.status=0,r.size.loops||(r.size.loops=0),r.size.loops++):r.size.value-=c}e(r,r.size.value,f,h),r.destroyed||(r.size.value=(0,t.clamp)(r.size.value,f,h))}}let i=class{init(){}isEnabled(s){var o,a,l,u;return!s.destroyed&&!s.spawning&&s.size.enable&&(((o=s.size.maxLoops)!==null&&o!==void 0?o:0)<=0||((a=s.size.maxLoops)!==null&&a!==void 0?a:0)>0&&((l=s.size.loops)!==null&&l!==void 0?l:0)<((u=s.size.maxLoops)!==null&&u!==void 0?u:0))}update(s,o){this.isEnabled(s)&&n(s,o)}};return y1.SizeUpdater=i,y1}var Rz;function GMe(){if(Rz)return A1;Rz=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.loadSizeUpdater=void 0;const t=NMe();async function e(n){await n.addParticleUpdater("size",()=>new t.SizeUpdater)}return A1.loadSizeUpdater=e,A1}var x1={},S1={},Pz;function zMe(){if(Pz)return S1;Pz=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.SquareDrawer=void 0;const t=Math.sqrt(2);let e=class{getSidesCount(){return 4}draw(i,r,s){i.rect(-s/t,-s/t,s*2/t,s*2/t)}};return S1.SquareDrawer=e,S1}var Bz;function HMe(){if(Bz)return x1;Bz=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.loadSquareShape=void 0;const t=zMe();async function e(n){const i=new t.SquareDrawer;await n.addShape("edge",i),await n.addShape("square",i)}return x1.loadSquareShape=e,x1}var E1={},w1={},Dz;function VMe(){if(Dz)return w1;Dz=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.StarDrawer=void 0;let t=class{getSidesCount(n){var i,r;const s=n.shapeData;return(r=(i=s==null?void 0:s.sides)!==null&&i!==void 0?i:s==null?void 0:s.nb_sides)!==null&&r!==void 0?r:5}draw(n,i,r){var s;const o=i.shapeData,a=this.getSidesCount(i),l=(s=o==null?void 0:o.inset)!==null&&s!==void 0?s:2;n.moveTo(0,0-r);for(let u=0;u<a;u++)n.rotate(Math.PI/a),n.lineTo(0,0-r*l),n.rotate(Math.PI/a),n.lineTo(0,0-r)}};return w1.StarDrawer=t,w1}var Lz;function QMe(){if(Lz)return E1;Lz=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.loadStarShape=void 0;const t=VMe();async function e(n){await n.addShape("star",new t.StarDrawer)}return E1.loadStarShape=e,E1}var _1={},C1={},Oz;function WMe(){if(Oz)return C1;Oz=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.StrokeColorUpdater=void 0;const t=Ur(),e=nn(),n=Dt();function i(o,a,l,u,c){var f;const h=a;if(!h||!h.enable)return;const d=(0,n.randomInRange)(l.offset),p=((f=a.velocity)!==null&&f!==void 0?f:0)*o.factor+d*3.6;!c||h.status===0?(h.value+=p,c&&h.value>u&&(h.status=1,h.value-=h.value%u)):(h.value-=p,h.value<0&&(h.status=0,h.value+=h.value)),h.value>u&&(h.value%=u)}function r(o,a){var l,u,c,f,h,d,p,y,A,g;if(!(!((l=o.stroke)===null||l===void 0)&&l.color))return;const x=o.stroke.color.animation,S=(c=(u=o.strokeColor)===null||u===void 0?void 0:u.h)!==null&&c!==void 0?c:(f=o.color)===null||f===void 0?void 0:f.h;S&&i(a,S,x.h,360,!1);const E=(d=(h=o.strokeColor)===null||h===void 0?void 0:h.s)!==null&&d!==void 0?d:(p=o.color)===null||p===void 0?void 0:p.s;E&&i(a,E,x.s,100,!0);const w=(A=(y=o.strokeColor)===null||y===void 0?void 0:y.l)!==null&&A!==void 0?A:(g=o.color)===null||g===void 0?void 0:g.l;w&&i(a,w,x.l,100,!0)}let s=class{constructor(a){this.container=a}init(a){var l,u;const c=this.container;a.stroke=a.options.stroke instanceof Array?(0,e.itemFromArray)(a.options.stroke,a.id,a.options.reduceDuplicates):a.options.stroke,a.strokeWidth=a.stroke.width*c.retina.pixelRatio;const f=(l=(0,t.colorToHsl)(a.stroke.color))!==null&&l!==void 0?l:a.getFillColor();f&&(a.strokeColor=(0,t.getHslAnimationFromHsl)(f,(u=a.stroke.color)===null||u===void 0?void 0:u.animation,c.retina.reduceFactor))}isEnabled(a){var l,u,c,f;const h=(l=a.stroke)===null||l===void 0?void 0:l.color;return!a.destroyed&&!a.spawning&&!!h&&(((u=a.strokeColor)===null||u===void 0?void 0:u.h.value)!==void 0&&h.animation.h.enable||((c=a.strokeColor)===null||c===void 0?void 0:c.s.value)!==void 0&&h.animation.s.enable||((f=a.strokeColor)===null||f===void 0?void 0:f.l.value)!==void 0&&h.animation.l.enable)}update(a,l){this.isEnabled(a)&&r(a,l)}};return C1.StrokeColorUpdater=s,C1}var Fz;function jMe(){if(Fz)return _1;Fz=1,Object.defineProperty(_1,"__esModule",{value:!0}),_1.loadStrokeColorUpdater=void 0;const t=WMe();async function e(n){await n.addParticleUpdater("strokeColor",i=>new t.StrokeColorUpdater(i))}return _1.loadStrokeColorUpdater=e,_1}var b1={},$_={},Uz;function qMe(){return Uz||(Uz=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TextDrawer=t.validTypes=void 0;const e=nn();t.validTypes=["text","character","char"];class n{getSidesCount(){return 12}async init(r){const s=r.actualOptions;if(t.validTypes.find(o=>(0,e.isInArray)(o,s.particles.shape.type))){const o=t.validTypes.map(a=>s.particles.shape.options[a]).find(a=>!!a);if(o instanceof Array){const a=[];for(const l of o)a.push((0,e.loadFont)(l));await Promise.allSettled(a)}else o!==void 0&&await(0,e.loadFont)(o)}}draw(r,s,o,a){var l,u,c;const f=s.shapeData;if(f===void 0)return;const h=f.value;if(h===void 0)return;const d=s;d.text===void 0&&(d.text=h instanceof Array?(0,e.itemFromArray)(h,s.randomIndexData):h);const p=d.text,y=(l=f.style)!==null&&l!==void 0?l:"",A=(u=f.weight)!==null&&u!==void 0?u:"400",g=Math.round(o)*2,x=(c=f.font)!==null&&c!==void 0?c:"Verdana",S=s.fill,E=p.length*o/2;r.font=`${y} ${A} ${g}px "${x}"`;const w={x:-E,y:o/2};r.globalAlpha=a,S?r.fillText(p,w.x,w.y):r.strokeText(p,w.x,w.y),r.globalAlpha=1}}t.TextDrawer=n}($_)),$_}var kz;function XMe(){if(kz)return b1;kz=1,Object.defineProperty(b1,"__esModule",{value:!0}),b1.loadTextShape=void 0;const t=qMe();async function e(n){const i=new t.TextDrawer;for(const r of t.validTypes)await n.addShape(r,i)}return b1.loadTextShape=e,b1}var Nz;function YMe(){if(Nz)return xv;Nz=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.loadSlim=void 0;const t=zTe(),e=QTe(),n=jTe(),i=XTe(),r=KTe(),s=ZTe(),o=eMe(),a=nMe(),l=rMe(),u=oMe(),c=lMe(),f=cMe(),h=hMe(),d=mMe(),p=vMe(),y=yMe(),A=SMe(),g=_Me(),x=bMe(),S=MMe(),E=RMe(),w=OMe(),C=kMe(),b=GMe(),I=HMe(),M=QMe(),R=jMe(),D=XMe();async function F(O){await(0,e.loadBaseMover)(O),await(0,x.loadParallaxMover)(O),await(0,r.loadExternalAttractInteraction)(O),await(0,s.loadExternalBounceInteraction)(O),await(0,o.loadExternalBubbleInteraction)(O),await(0,a.loadExternalConnectInteraction)(O),await(0,l.loadExternalGrabInteraction)(O),await(0,u.loadExternalPauseInteraction)(O),await(0,c.loadExternalPushInteraction)(O),await(0,f.loadExternalRemoveInteraction)(O),await(0,h.loadExternalRepulseInteraction)(O),await(0,S.loadParticlesAttractInteraction)(O),await(0,E.loadParticlesCollisionsInteraction)(O),await(0,w.loadParticlesLinksInteraction)(O),await(0,n.loadCircleShape)(O),await(0,d.loadImageShape)(O),await(0,y.loadLineShape)(O),await(0,C.loadPolygonShape)(O),await(0,I.loadSquareShape)(O),await(0,M.loadStarShape)(O),await(0,D.loadTextShape)(O),await(0,p.loadLifeUpdater)(O),await(0,A.loadOpacityUpdater)(O),await(0,b.loadSizeUpdater)(O),await(0,t.loadAngleUpdater)(O),await(0,i.loadColorUpdater)(O),await(0,R.loadStrokeColorUpdater)(O),await(0,g.loadOutModesUpdater)(O)}return xv.loadSlim=F,xv}var T1={},M1={},Gz;function KMe(){if(Gz)return M1;Gz=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.TiltUpdater=void 0;const t=Dt();function e(i,r){var s;if(!i.tilt)return;const a=i.options.tilt.animation,l=((s=i.tilt.velocity)!==null&&s!==void 0?s:0)*r.factor,u=2*Math.PI;if(a.enable)switch(i.tilt.status){case 0:i.tilt.value+=l,i.tilt.value>u&&(i.tilt.value-=u);break;case 1:default:i.tilt.value-=l,i.tilt.value<0&&(i.tilt.value+=u);break}}let n=class{constructor(r){this.container=r}init(r){const s=r.options.tilt;r.tilt={enable:s.enable,value:(0,t.getRangeValue)(s.value)*Math.PI/180,sinDirection:Math.random()>=.5?1:-1,cosDirection:Math.random()>=.5?1:-1};let o=s.direction;switch(o==="random"&&(o=Math.floor(Math.random()*2)>0?"counter-clockwise":"clockwise"),o){case"counter-clockwise":case"counterClockwise":r.tilt.status=1;break;case"clockwise":r.tilt.status=0;break}const a=r.options.tilt.animation;a.enable&&(r.tilt.velocity=(0,t.getRangeValue)(a.speed)/360*this.container.retina.reduceFactor,a.sync||(r.tilt.velocity*=Math.random()))}isEnabled(r){const o=r.options.tilt.animation;return!r.destroyed&&!r.spawning&&o.enable}update(r,s){this.isEnabled(r)&&e(r,s)}};return M1.TiltUpdater=n,M1}var zz;function JMe(){if(zz)return T1;zz=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.loadTiltUpdater=void 0;const t=KMe();async function e(n){await n.addParticleUpdater("tilt",i=>new t.TiltUpdater(i))}return T1.loadTiltUpdater=e,T1}var I1={},R1={},Hz;function ZMe(){if(Hz)return R1;Hz=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.TwinkleUpdater=void 0;const t=Ur(),e=Dt();let n=class{getColorStyles(r,s,o,a){const l=r.options,u=l.twinkle.particles,c=u.enable&&Math.random()<u.frequency,f=r.options.zIndex,h=(1-r.zIndexFactor)**f.opacityRate,d=c?(0,e.getRangeValue)(u.opacity)*h:a,p=(0,t.colorToHsl)(u.color),y=p?(0,t.getStyleFromHsl)(p,d):void 0,A={},g=c&&y;return A.fill=g?y:void 0,A.stroke=g?y:void 0,A}init(){}isEnabled(r){return r.options.twinkle.particles.enable}update(){}};return R1.TwinkleUpdater=n,R1}var Vz;function $Me(){if(Vz)return I1;Vz=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.loadTwinkleUpdater=void 0;const t=ZMe();async function e(n){await n.addParticleUpdater("twinkle",()=>new t.TwinkleUpdater)}return I1.loadTwinkleUpdater=e,I1}var P1={},B1={},Qz;function e9e(){if(Qz)return B1;Qz=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.WobbleUpdater=void 0;const t=Dt();function e(i,r){var s;if(!i.options.wobble.enable||!i.wobble)return;const a=i.wobble.speed*r.factor,l=((s=i.retina.wobbleDistance)!==null&&s!==void 0?s:0)*r.factor/(1e3/60),u=2*Math.PI;i.wobble.angle+=a,i.wobble.angle>u&&(i.wobble.angle-=u),i.position.x+=l*Math.cos(i.wobble.angle),i.position.y+=l*Math.abs(Math.sin(i.wobble.angle))}let n=class{constructor(r){this.container=r}init(r){const s=r.options.wobble;s.enable?r.wobble={angle:Math.random()*Math.PI*2,speed:(0,t.getRangeValue)(s.speed)/360}:r.wobble={angle:0,speed:0},r.retina.wobbleDistance=(0,t.getRangeValue)(s.distance)*this.container.retina.pixelRatio}isEnabled(r){return!r.destroyed&&!r.spawning&&r.options.wobble.enable}update(r,s){this.isEnabled(r)&&e(r,s)}};return B1.WobbleUpdater=n,B1}var Wz;function t9e(){if(Wz)return P1;Wz=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.loadWobbleUpdater=void 0;const t=e9e();async function e(n){await n.addParticleUpdater("wobble",i=>new t.WobbleUpdater(i))}return P1.loadWobbleUpdater=e,P1}var jz;function n9e(){if(jz)return qg;jz=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.loadFull=void 0;const t=JJ(),e=tZ(),n=MTe(),i=oZ(),r=NTe(),s=YMe(),o=JMe(),a=$Me(),l=t9e();async function u(c){await(0,s.loadSlim)(c),await(0,r.loadRollUpdater)(c),await(0,o.loadTiltUpdater)(c),await(0,a.loadTwinkleUpdater)(c),await(0,l.loadWobbleUpdater)(c),await(0,n.loadExternalTrailInteraction)(c),await(0,t.loadAbsorbersPlugin)(c),await(0,e.loadEmittersPlugin)(c),await(0,i.loadPolygonMaskPlugin)(c)}return qg.loadFull=u,qg}var eC={},qz;function i9e(){return qz||(qz=1,Object.defineProperty(eC,"__esModule",{value:!0})),eC}var tC={},Xz;function r9e(){return Xz||(Xz=1,Object.defineProperty(tC,"__esModule",{value:!0})),tC}var nC={},Yz;function s9e(){return Yz||(Yz=1,Object.defineProperty(nC,"__esModule",{value:!0})),nC}var iC={},Kz;function o9e(){return Kz||(Kz=1,Object.defineProperty(iC,"__esModule",{value:!0})),iC}var rC={},Jz;function a9e(){return Jz||(Jz=1,Object.defineProperty(rC,"__esModule",{value:!0})),rC}var sC={},Zz;function l9e(){return Zz||(Zz=1,Object.defineProperty(sC,"__esModule",{value:!0})),sC}var oC={},$z;function u9e(){return $z||($z=1,Object.defineProperty(oC,"__esModule",{value:!0})),oC}var aC={},eH;function c9e(){return eH||(eH=1,Object.defineProperty(aC,"__esModule",{value:!0})),aC}var lC={},tH;function f9e(){return tH||(tH=1,Object.defineProperty(lC,"__esModule",{value:!0})),lC}var uC={},nH;function h9e(){return nH||(nH=1,Object.defineProperty(uC,"__esModule",{value:!0})),uC}var cC={},iH;function d9e(){return iH||(iH=1,Object.defineProperty(cC,"__esModule",{value:!0})),cC}var fC={},rH;function p9e(){return rH||(rH=1,Object.defineProperty(fC,"__esModule",{value:!0})),fC}var hC={},sH;function m9e(){return sH||(sH=1,Object.defineProperty(hC,"__esModule",{value:!0})),hC}var dC={},oH;function g9e(){return oH||(oH=1,Object.defineProperty(dC,"__esModule",{value:!0})),dC}var pC={},aH;function v9e(){return aH||(aH=1,Object.defineProperty(pC,"__esModule",{value:!0})),pC}var mC={},lH;function A9e(){return lH||(lH=1,Object.defineProperty(mC,"__esModule",{value:!0})),mC}var gC={},uH;function y9e(){return uH||(uH=1,Object.defineProperty(gC,"__esModule",{value:!0})),gC}var vC={},cH;function x9e(){return cH||(cH=1,Object.defineProperty(vC,"__esModule",{value:!0})),vC}var AC={},fH;function S9e(){return fH||(fH=1,Object.defineProperty(AC,"__esModule",{value:!0})),AC}var yC={},hH;function E9e(){return hH||(hH=1,Object.defineProperty(yC,"__esModule",{value:!0})),yC}var xC={},dH;function w9e(){return dH||(dH=1,Object.defineProperty(xC,"__esModule",{value:!0})),xC}var SC={},pH;function _9e(){return pH||(pH=1,Object.defineProperty(SC,"__esModule",{value:!0})),SC}var EC={},mH;function C9e(){return mH||(mH=1,Object.defineProperty(EC,"__esModule",{value:!0})),EC}var wC={},gH;function b9e(){return gH||(gH=1,Object.defineProperty(wC,"__esModule",{value:!0})),wC}var _C={},vH;function T9e(){return vH||(vH=1,Object.defineProperty(_C,"__esModule",{value:!0})),_C}var CC={},AH;function M9e(){return AH||(AH=1,Object.defineProperty(CC,"__esModule",{value:!0})),CC}var bC={},yH;function I9e(){return yH||(yH=1,Object.defineProperty(bC,"__esModule",{value:!0})),bC}var TC={},xH;function R9e(){return xH||(xH=1,Object.defineProperty(TC,"__esModule",{value:!0})),TC}var MC={},SH;function P9e(){return SH||(SH=1,Object.defineProperty(MC,"__esModule",{value:!0})),MC}var IC={},EH;function B9e(){return EH||(EH=1,Object.defineProperty(IC,"__esModule",{value:!0})),IC}var RC={},wH;function D9e(){return wH||(wH=1,Object.defineProperty(RC,"__esModule",{value:!0})),RC}var PC={},_H;function L9e(){return _H||(_H=1,Object.defineProperty(PC,"__esModule",{value:!0})),PC}var BC={},CH;function O9e(){return CH||(CH=1,Object.defineProperty(BC,"__esModule",{value:!0})),BC}var DC={},bH;function F9e(){return bH||(bH=1,Object.defineProperty(DC,"__esModule",{value:!0})),DC}var LC={},TH;function U9e(){return TH||(TH=1,Object.defineProperty(LC,"__esModule",{value:!0})),LC}var OC={},MH;function k9e(){return MH||(MH=1,Object.defineProperty(OC,"__esModule",{value:!0})),OC}var FC={},IH;function N9e(){return IH||(IH=1,Object.defineProperty(FC,"__esModule",{value:!0})),FC}var UC={},RH;function G9e(){return RH||(RH=1,Object.defineProperty(UC,"__esModule",{value:!0})),UC}var kC={},PH;function z9e(){return PH||(PH=1,Object.defineProperty(kC,"__esModule",{value:!0})),kC}var NC={},BH;function H9e(){return BH||(BH=1,Object.defineProperty(NC,"__esModule",{value:!0})),NC}var GC={},DH;function V9e(){return DH||(DH=1,Object.defineProperty(GC,"__esModule",{value:!0})),GC}var zC={},LH;function Q9e(){return LH||(LH=1,Object.defineProperty(zC,"__esModule",{value:!0})),zC}var HC={},OH;function W9e(){return OH||(OH=1,Object.defineProperty(HC,"__esModule",{value:!0})),HC}var VC={},FH;function j9e(){return FH||(FH=1,Object.defineProperty(VC,"__esModule",{value:!0})),VC}var QC={},UH;function q9e(){return UH||(UH=1,Object.defineProperty(QC,"__esModule",{value:!0})),QC}var WC={},kH;function X9e(){return kH||(kH=1,Object.defineProperty(WC,"__esModule",{value:!0})),WC}var jC={},NH;function Y9e(){return NH||(NH=1,Object.defineProperty(jC,"__esModule",{value:!0})),jC}var qC={},GH;function K9e(){return GH||(GH=1,Object.defineProperty(qC,"__esModule",{value:!0})),qC}var XC={},zH;function J9e(){return zH||(zH=1,Object.defineProperty(XC,"__esModule",{value:!0})),XC}var YC={},HH;function Z9e(){return HH||(HH=1,Object.defineProperty(YC,"__esModule",{value:!0})),YC}var KC={},VH;function $9e(){return VH||(VH=1,Object.defineProperty(KC,"__esModule",{value:!0})),KC}var JC={},QH;function eIe(){return QH||(QH=1,Object.defineProperty(JC,"__esModule",{value:!0})),JC}var ZC={},WH;function tIe(){return WH||(WH=1,Object.defineProperty(ZC,"__esModule",{value:!0})),ZC}var $C={},jH;function nIe(){return jH||(jH=1,Object.defineProperty($C,"__esModule",{value:!0})),$C}var e8={},qH;function iIe(){return qH||(qH=1,Object.defineProperty(e8,"__esModule",{value:!0})),e8}var t8={},XH;function rIe(){return XH||(XH=1,Object.defineProperty(t8,"__esModule",{value:!0})),t8}var n8={},YH;function sIe(){return YH||(YH=1,Object.defineProperty(n8,"__esModule",{value:!0})),n8}var i8={},KH;function oIe(){return KH||(KH=1,Object.defineProperty(i8,"__esModule",{value:!0})),i8}var r8={},JH;function aIe(){return JH||(JH=1,Object.defineProperty(r8,"__esModule",{value:!0})),r8}var s8={},ZH;function lIe(){return ZH||(ZH=1,Object.defineProperty(s8,"__esModule",{value:!0})),s8}var o8={},$H;function uIe(){return $H||($H=1,Object.defineProperty(o8,"__esModule",{value:!0})),o8}var a8={},eV;function cIe(){return eV||(eV=1,Object.defineProperty(a8,"__esModule",{value:!0})),a8}var l8={},tV;function fIe(){return tV||(tV=1,Object.defineProperty(l8,"__esModule",{value:!0})),l8}var u8={},nV;function hIe(){return nV||(nV=1,Object.defineProperty(u8,"__esModule",{value:!0})),u8}var c8={},iV;function dIe(){return iV||(iV=1,Object.defineProperty(c8,"__esModule",{value:!0})),c8}var rV;function pIe(){return rV||(rV=1,function(t){var e=gt&&gt.__createBinding||(Object.create?function(h,d,p,y){y===void 0&&(y=p);var A=Object.getOwnPropertyDescriptor(d,p);(!A||("get"in A?!d.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(h,y,A)}:function(h,d,p,y){y===void 0&&(y=p),h[y]=d[p]}),n=gt&&gt.__exportStar||function(h,d){for(var p in h)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&e(d,h,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.tsParticles=t.pJSDom=t.particlesJS=t.loadPolygonMaskPlugin=t.loadEmittersPlugin=t.loadAbsorbersPlugin=t.Main=t.Engine=void 0;const i=fTe();Object.defineProperty(t,"Engine",{enumerable:!0,get:function(){return i.Engine}}),Object.defineProperty(t,"Main",{enumerable:!0,get:function(){return i.Engine}});const r=hTe(),s=n9e(),o=new i.Engine;t.tsParticles=o,o.init();const{particlesJS:a,pJSDom:l}=(0,r.initPjs)(o);t.particlesJS=a,t.pJSDom=l,(0,s.loadFull)(o),n(i9e(),t),n(r9e(),t),n(s9e(),t),n(o9e(),t),n(a9e(),t),n(l9e(),t),n(u9e(),t),n(c9e(),t),n(f9e(),t),n(h9e(),t),n(d9e(),t),n(p9e(),t),n(m9e(),t),n(g9e(),t),n(v9e(),t),n(A9e(),t),n(y9e(),t),n(x9e(),t),n(S9e(),t),n(E9e(),t),n(w9e(),t),n(_9e(),t),n(C9e(),t),n(b9e(),t),n(T9e(),t),n(M9e(),t),n(I9e(),t),n(R9e(),t),n(P9e(),t),n(B9e(),t),n(D9e(),t),n(L9e(),t),n(O9e(),t),n(F9e(),t),n(Lc(),t),n(r7(),t),n(Ra(),t),n(PJ(),t),n(Ba(),t),n(BJ(),t),n(GJ(),t),n(PE(),t),n(YJ(),t),n(VJ(),t),n(QJ(),t),n(i7(),t),n(mh(),t),n(Pa(),t),n(zJ(),t),n(RJ(),t),n(qJ(),t),n(XJ(),t),n(HJ(),t),n(WJ(),t),n(jJ(),t),n(U9e(),t),n(k9e(),t),n(N9e(),t),n(G9e(),t),n(z9e(),t),n(H9e(),t),n(V9e(),t),n(Q9e(),t),n(W9e(),t),n(j9e(),t),n(q9e(),t),n(X9e(),t),n(Y9e(),t),n(K9e(),t),n(J9e(),t),n(Z9e(),t),n($9e(),t),n(eIe(),t),n(tIe(),t),n(nIe(),t),n(iIe(),t),n(rIe(),t),n(sIe(),t),n(oIe(),t),n(NJ(),t),n(fr(),t),n(aIe(),t),n(lIe(),t),n(uIe(),t),n(cIe(),t),n(fIe(),t),n(hIe(),t),n(dIe(),t),n(IE(),t),n(Ur(),t),n(Dt(),t),n(nn(),t);var u=JJ();Object.defineProperty(t,"loadAbsorbersPlugin",{enumerable:!0,get:function(){return u.loadAbsorbersPlugin}}),n(KJ(),t);var c=tZ();Object.defineProperty(t,"loadEmittersPlugin",{enumerable:!0,get:function(){return c.loadEmittersPlugin}}),n($J(),t),n(eZ(),t);var f=oZ();Object.defineProperty(t,"loadPolygonMaskPlugin",{enumerable:!0,get:function(){return f.loadPolygonMaskPlugin}}),n(iZ(),t),n(rZ(),t),n(sZ(),t)}(N_)),N_}var f8,sV;function mIe(){return sV||(sV=1,f8=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),f8}(function(t){(()=>{var e={757:(a,l,u)=>{a.exports=u(666)},312:(a,l,u)=>{function c(R,D){for(var F=0;F<D.length;F++){var O=D[F];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}function f(R){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(R)}function h(R,D){for(;!Object.prototype.hasOwnProperty.call(R,D)&&(R=f(R))!==null;);return R}function d(){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(R,D,F){var O=h(R,D);if(O){var L=Object.getOwnPropertyDescriptor(O,D);return L.get?L.get.call(arguments.length<3?R:F):L.value}}).apply(this,arguments)}function p(R,D){return(p=Object.setPrototypeOf||function(F,O){return F.__proto__=O,F})(R,D)}function y(R){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function A(R,D){if(D&&(y(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(R)}u.d(l,{Z:()=>M});var g=u(757),x=u.n(g);const S=ee;var E=u.n(S);const w=pIe(),C=mIe();var b=u.n(C),I=function(R,D,F,O){return new(F||(F=Promise))(function(L,U){function q(W){try{k(O.next(W))}catch(V){U(V)}}function K(W){try{k(O.throw(W))}catch(V){U(V)}}function k(W){var V;W.done?L(W.value):(V=W.value,V instanceof F?V:new F(function(G){G(V)})).then(q,K)}k((O=O.apply(R,D||[])).next())})},M=function(R){(function(K,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(K,"prototype",{value:Object.create(k&&k.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),writable:!1}),k&&p(K,k)})(q,R);var D,F,O,L,U=(O=q,L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var K,k=f(O);if(L){var W=f(this).constructor;K=Reflect.construct(k,arguments,W)}else K=k.apply(this,arguments);return A(this,K)});function q(K){var k;return function(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}(this,q),(k=U.call(this,K)).state={library:void 0},k}return D=q,(F=[{key:"destroy",value:function(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}},{key:"shouldComponentUpdate",value:function(K){return!b()(K,this.props)}},{key:"componentDidUpdate",value:function(){this.refresh()}},{key:"forceUpdate",value:function(){var K=this;this.refresh().then(function(){d(f(q.prototype),"forceUpdate",K).call(K)})}},{key:"componentDidMount",value:function(){I(this,void 0,void 0,x().mark(function K(){return x().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!this.props.init){k.next=3;break}return k.next=3,this.props.init(w.tsParticles);case 3:return k.next=5,this.loadParticles();case 5:case"end":return k.stop()}},K,this)}))}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){var K=this.props,k=K.width,W=K.height,V=K.className,G=K.canvasClassName,z=K.id;return E().createElement("div",{className:V,id:z},E().createElement("canvas",{className:G,style:Object.assign(Object.assign({},this.props.style),{width:k,height:W})}))}},{key:"refresh",value:function(){return I(this,void 0,void 0,x().mark(function K(){return x().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.destroy(),k.next=3,this.loadParticles();case 3:case"end":return k.stop()}},K,this)}))}},{key:"loadParticles",value:function(){var K;return I(this,void 0,void 0,x().mark(function k(){var W,V,G=this;return x().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(W=function(ne){return I(G,void 0,void 0,x().mark(function J(){return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(this.props.container&&(this.props.container.current=ne),this.setState({library:ne}),!this.props.loaded){$.next=5;break}return $.next=5,this.props.loaded(ne);case 5:case"end":return $.stop()}},J,this)}))},!this.props.url){z.next=7;break}return z.next=4,w.tsParticles.loadJSON(this.props.id,this.props.url);case 4:z.t0=z.sent,z.next=10;break;case 7:return z.next=9,w.tsParticles.load(this.props.id,(K=this.props.params)!==null&&K!==void 0?K:this.props.options);case 9:z.t0=z.sent;case 10:return V=z.t0,z.next=13,W(V);case 13:case"end":return z.stop()}},k,this)}))}}])&&c(D.prototype,F),Object.defineProperty(D,"prototype",{writable:!1}),q}(S.Component);M.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:"tsparticles"}},666:a=>{var l=function(u){var c,f=Object.prototype,h=f.hasOwnProperty,d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",y=d.asyncIterator||"@@asyncIterator",A=d.toStringTag||"@@toStringTag";function g(J,$,X){return Object.defineProperty(J,$,{value:X,enumerable:!0,configurable:!0,writable:!0}),J[$]}try{g({},"")}catch{g=function($,X,oe){return $[X]=oe}}function x(J,$,X,oe){var ie=$&&$.prototype instanceof M?$:M,_e=Object.create(ie.prototype),Re=new G(oe||[]);return _e._invoke=function(pe,Y,me){var ge=E;return function(de,Se){if(ge===C)throw new Error("Generator is already running");if(ge===b){if(de==="throw")throw Se;return ne()}for(me.method=de,me.arg=Se;;){var Qe=me.delegate;if(Qe){var xe=k(Qe,me);if(xe){if(xe===I)continue;return xe}}if(me.method==="next")me.sent=me._sent=me.arg;else if(me.method==="throw"){if(ge===E)throw ge=b,me.arg;me.dispatchException(me.arg)}else me.method==="return"&&me.abrupt("return",me.arg);ge=C;var ke=S(pe,Y,me);if(ke.type==="normal"){if(ge=me.done?b:w,ke.arg===I)continue;return{value:ke.arg,done:me.done}}ke.type==="throw"&&(ge=b,me.method="throw",me.arg=ke.arg)}}}(J,X,Re),_e}function S(J,$,X){try{return{type:"normal",arg:J.call($,X)}}catch(oe){return{type:"throw",arg:oe}}}u.wrap=x;var E="suspendedStart",w="suspendedYield",C="executing",b="completed",I={};function M(){}function R(){}function D(){}var F={};F[p]=function(){return this};var O=Object.getPrototypeOf,L=O&&O(O(z([])));L&&L!==f&&h.call(L,p)&&(F=L);var U=D.prototype=M.prototype=Object.create(F);function q(J){["next","throw","return"].forEach(function($){g(J,$,function(X){return this._invoke($,X)})})}function K(J,$){function X(ie,_e,Re,pe){var Y=S(J[ie],J,_e);if(Y.type!=="throw"){var me=Y.arg,ge=me.value;return ge&&typeof ge=="object"&&h.call(ge,"__await")?$.resolve(ge.__await).then(function(de){X("next",de,Re,pe)},function(de){X("throw",de,Re,pe)}):$.resolve(ge).then(function(de){me.value=de,Re(me)},function(de){return X("throw",de,Re,pe)})}pe(Y.arg)}var oe;this._invoke=function(ie,_e){function Re(){return new $(function(pe,Y){X(ie,_e,pe,Y)})}return oe=oe?oe.then(Re,Re):Re()}}function k(J,$){var X=J.iterator[$.method];if(X===c){if($.delegate=null,$.method==="throw"){if(J.iterator.return&&($.method="return",$.arg=c,k(J,$),$.method==="throw"))return I;$.method="throw",$.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var oe=S(X,J.iterator,$.arg);if(oe.type==="throw")return $.method="throw",$.arg=oe.arg,$.delegate=null,I;var ie=oe.arg;return ie?ie.done?($[J.resultName]=ie.value,$.next=J.nextLoc,$.method!=="return"&&($.method="next",$.arg=c),$.delegate=null,I):ie:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,I)}function W(J){var $={tryLoc:J[0]};1 in J&&($.catchLoc=J[1]),2 in J&&($.finallyLoc=J[2],$.afterLoc=J[3]),this.tryEntries.push($)}function V(J){var $=J.completion||{};$.type="normal",delete $.arg,J.completion=$}function G(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(W,this),this.reset(!0)}function z(J){if(J){var $=J[p];if($)return $.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length)){var X=-1,oe=function ie(){for(;++X<J.length;)if(h.call(J,X))return ie.value=J[X],ie.done=!1,ie;return ie.value=c,ie.done=!0,ie};return oe.next=oe}}return{next:ne}}function ne(){return{value:c,done:!0}}return R.prototype=U.constructor=D,D.constructor=R,R.displayName=g(D,A,"GeneratorFunction"),u.isGeneratorFunction=function(J){var $=typeof J=="function"&&J.constructor;return!!$&&($===R||($.displayName||$.name)==="GeneratorFunction")},u.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,D):(J.__proto__=D,g(J,A,"GeneratorFunction")),J.prototype=Object.create(U),J},u.awrap=function(J){return{__await:J}},q(K.prototype),K.prototype[y]=function(){return this},u.AsyncIterator=K,u.async=function(J,$,X,oe,ie){ie===void 0&&(ie=Promise);var _e=new K(x(J,$,X,oe),ie);return u.isGeneratorFunction($)?_e:_e.next().then(function(Re){return Re.done?Re.value:_e.next()})},q(U),g(U,A,"Generator"),U[p]=function(){return this},U.toString=function(){return"[object Generator]"},u.keys=function(J){var $=[];for(var X in J)$.push(X);return $.reverse(),function oe(){for(;$.length;){var ie=$.pop();if(ie in J)return oe.value=ie,oe.done=!1,oe}return oe.done=!0,oe}},u.values=z,G.prototype={constructor:G,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(V),!J)for(var $ in this)$.charAt(0)==="t"&&h.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=c)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var $=this;function X(Y,me){return _e.type="throw",_e.arg=J,$.next=Y,me&&($.method="next",$.arg=c),!!me}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ie=this.tryEntries[oe],_e=ie.completion;if(ie.tryLoc==="root")return X("end");if(ie.tryLoc<=this.prev){var Re=h.call(ie,"catchLoc"),pe=h.call(ie,"finallyLoc");if(Re&&pe){if(this.prev<ie.catchLoc)return X(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return X(ie.finallyLoc)}else if(Re){if(this.prev<ie.catchLoc)return X(ie.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return X(ie.finallyLoc)}}}},abrupt:function(J,$){for(var X=this.tryEntries.length-1;X>=0;--X){var oe=this.tryEntries[X];if(oe.tryLoc<=this.prev&&h.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var ie=oe;break}}ie&&(J==="break"||J==="continue")&&ie.tryLoc<=$&&$<=ie.finallyLoc&&(ie=null);var _e=ie?ie.completion:{};return _e.type=J,_e.arg=$,ie?(this.method="next",this.next=ie.finallyLoc,I):this.complete(_e)},complete:function(J,$){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&$&&(this.next=$),I},finish:function(J){for(var $=this.tryEntries.length-1;$>=0;--$){var X=this.tryEntries[$];if(X.finallyLoc===J)return this.complete(X.completion,X.afterLoc),V(X),I}},catch:function(J){for(var $=this.tryEntries.length-1;$>=0;--$){var X=this.tryEntries[$];if(X.tryLoc===J){var oe=X.completion;if(oe.type==="throw"){var ie=oe.arg;V(X)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(J,$,X){return this.delegate={iterator:z(J),resultName:$,nextLoc:X},this.method==="next"&&(this.arg=c),I}},u}(a.exports);try{regeneratorRuntime=l}catch{Function("r","regeneratorRuntime = r")(l)}},868:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},300:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},264:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},329:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},469:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},961:function(a,l,u){var c=this&&this.__createBinding||(Object.create?function(h,d,p,y){y===void 0&&(y=p),Object.defineProperty(h,y,{enumerable:!0,get:function(){return d[p]}})}:function(h,d,p,y){y===void 0&&(y=p),h[y]=d[p]}),f=this&&this.__exportStar||function(h,d){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(d,p)||c(d,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(u(300),l),f(u(329),l),f(u(264),l),f(u(469),l)},974:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},252:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},130:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},330:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},208:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},349:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},581:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},164:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},667:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},855:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},702:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},515:function(a,l,u){var c=this&&this.__createBinding||(Object.create?function(h,d,p,y){y===void 0&&(y=p),Object.defineProperty(h,y,{enumerable:!0,get:function(){return d[p]}})}:function(h,d,p,y){y===void 0&&(y=p),h[y]=d[p]}),f=this&&this.__exportStar||function(h,d){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(d,p)||c(d,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(u(252),l),f(u(330),l),f(u(208),l),f(u(349),l),f(u(130),l),f(u(581),l),f(u(667),l),f(u(855),l),f(u(702),l),f(u(164),l)},47:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},64:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},712:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},77:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},589:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},457:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},796:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},247:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},676:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0})},799:function(a,l,u){var c=this&&this.__createBinding||(Object.create?function(h,d,p,y){y===void 0&&(y=p),Object.defineProperty(h,y,{enumerable:!0,get:function(){return d[p]}})}:function(h,d,p,y){y===void 0&&(y=p),h[y]=d[p]}),f=this&&this.__exportStar||function(h,d){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(d,p)||c(d,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(u(47),l),f(u(64),l),f(u(589),l),f(u(457),l),f(u(247),l),f(u(676),l),f(u(712),l),f(u(77),l),f(u(796),l)},717:function(a,l,u){var c=this&&this.__createBinding||(Object.create?function(h,d,p,y){y===void 0&&(y=p),Object.defineProperty(h,y,{enumerable:!0,get:function(){return d[p]}})}:function(h,d,p,y){y===void 0&&(y=p),h[y]=d[p]}),f=this&&this.__exportStar||function(h,d){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(d,p)||c(d,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(u(961),l),f(u(515),l),f(u(868),l),f(u(799),l),f(u(974),l)}},n={};function i(a){var l=n[a];if(l!==void 0)return l.exports;var u=n[a]={exports:{}};return e[a].call(u.exports,u,u.exports,i),u.exports}i.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return i.d(l,{a:l}),l},i.d=(a,l)=>{for(var u in l)i.o(l,u)&&!i.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},i.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var r={};(()=>{i.r(r),i.d(r,{default:()=>c,Particles:()=>a.Z});var a=i(312),l=i(717),u={};for(const f in l)["default","Particles"].indexOf(f)<0&&(u[f]=()=>l[f]);i.d(r,u);const c=a.Z})();var s=t;for(var o in r)s[o]=r[o];r.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})()})(IJ);const Rx=IJ;for(let t in Rx)Rx.default[t]=Rx[t];var gIe=Rx.default;const vIe=gA(gIe);function AIe(){return Ie.jsx(vIe,{options:{fullScreen:{enable:!0,zIndex:-1},particles:{number:{value:10,limit:300,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"images/github.svg",width:100,height:100}},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1,opacity_min:.5,sync:!1}},size:{value:30,random:!0,anim:{enable:!0,speed:10,size_min:10,sync:!1}},line_linked:{enable:!0,distance:100,color:"#ffffff",opacity:1,width:1},move:{enable:!0,speed:3,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onHover:{enable:!0,mode:"bubble",parallax:{enable:!1,force:60,smooth:10}},onClick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,lineLinked:{opacity:1}},bubble:{distance:400,size:100,duration:2,opacity:1,speed:2},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}}},backgroundMask:{enable:!0,cover:{color:{value:{r:0,g:0,b:0}}}},retina_detect:!0,fps_limit:60,background:{image:"url('https://particles.js.org/images/background3.jpg')"}}})}const yIe=Nt.div`
  height: 100vh;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  /* overflow-y: auto; */
  scrollbar-width: none;
  color: white;
  /* background-color: #171717; */
  /* background: url('./public/img/bg.jpeg'); */
  &::-webkit-scrollbar {
    display: none;
  }
`;function xIe(){return Ie.jsxs(yIe,{children:[Ie.jsx(AIe,{}),Ie.jsx(Qwe,{}),Ie.jsx(e4e,{}),Ie.jsx(S8e,{}),Ie.jsx(F8e,{})]})}h8.createRoot(document.getElementById("root")).render(Ie.jsx(Jl.StrictMode,{children:Ie.jsx(xIe,{})}))});export default SIe();
